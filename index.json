[{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ffmpegä»‹ç»åŠä½¿ç”¨","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ å®‰è£… æµ‹è¯• åº”ç”¨ ffmpeg ä½¿ç”¨ ffmpeg å¸¸ç”¨è„šæœ¬ H264 è½¬ PNG/jpg PNG/jpg è½¬ MP4 æŒ‰å¸§æ•°å‰ªåˆ‡è§†é¢‘ æŒ‰èµ›æ—¶é—´å‰ªåˆ‡è§†é¢‘ è§†é¢‘è½¬æ¢ æå–è§†é¢‘ è§†é¢‘å’Œåˆæˆ ä¿®æ”¹å¸§ç‡ æå–éŸ³é¢‘ ç ç‡æ§åˆ¶ å®‰è£… å®‰è£… 1 2 3 4 5 sudo add-apt-repository ppa:mc3man/trusty-media sudo apt-get update sudo apt-get dist-upgrade sudo apt-get install ffmpeg æŸ¥çœ‹ç‰ˆæœ¬ 1 ffmpeg -version è¾“å‡º 1 2 3 4 5 6 7 8 9 10 11 12 ffmpeg version 3.4.8-0ubuntu0.2 Copyright (c) 2000-2020 the FFmpeg developers built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04) configuration: --prefix=/usr --extra-version=0ubuntu0.2 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared libavutil 55. 78.100 / 55. 78.100 libavcodec 57.107.100 / 57.107.100 libavformat 57. 83.100 / 57. 83.100 libavdevice 57. 10.100 / 57. 10.100 libavfilter 6.107.100 / 6.107.100 libavresample 3. 7. 0 / 3. 7. 0 libswscale 4. 8.100 / 4. 8.100 libswresample 2. 9.100 / 2. 9.100 libpostproc 54. 7.100 / 54. 7.100 æµ‹è¯• 1 ffmpeg -i GstTest.mp4 output.avi è¾“å‡ºï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 ffmpeg version 4.2.4-1ubuntu0.1 Copyright (c) 2000-2020 the FFmpeg developers built with gcc 9 (Ubuntu 9.3.0-10ubuntu2) configuration: --prefix=/usr --extra-version=1ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared libavutil 56. 31.100 / 56. 31.100 libavcodec 58. 54.100 / 58. 54.100 libavformat 58. 29.100 / 58. 29.100 libavdevice 58. 8.100 / 58. 8.100 libavfilter 7. 57.100 / 7. 57.100 libavresample 4. 0. 0 / 4. 0. 0 libswscale 5. 5.100 / 5. 5.100 libswresample 3. 5.100 / 3. 5.100 libpostproc 55. 5.100 / 55. 5.100 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'GstTest.mp4': Metadata: major_brand : mp42 minor_version : 0 compatible_brands: mp42isom creation_time : 2020-07-26T12:09:43.000000Z Duration: 00:00:09.17, start: 0.000000, bitrate: 900 kb/s Stream #0:0(und): Audio: aac (LC) ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:0:0","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ffmpeg ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 ffmpeg {1} {2} -i {3} {4} {5} ffmpeg [global_options] {[input_file_options] -i input_url} ... {[output_file_options] output_url} ... $ ffmpeg \\ [å…¨å±€å‚æ•°] \\ [è¾“å…¥æ–‡ä»¶å‚æ•°] \\ -i [è¾“å…¥æ–‡ä»¶] \\ [è¾“å‡ºæ–‡ä»¶å‚æ•°] \\ [è¾“å‡ºæ–‡ä»¶] ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:1:0","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ffmpeg å¸¸ç”¨è„šæœ¬ ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:0","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"H264 è½¬ PNG/jpg 1 2 3 4 5 ffmpeg -i ../20200910162907037_dir.h264 -r 10 -f image2 h264_%03d.png ffmpeg -i ../20200910162907037_dir.h264 -r 10 -f image2 h264_%03d.jpg ffmpeg -i ../20200909145247237_dir.h264 -r 25 -f image2 h264_%03d.jpg ffmpeg -i ../*.h264 -r 25 -f image2 h264_%03d.png ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:1","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"PNG/jpg è½¬ MP4 1 2 3 4 5 6 7 8 9 10 11 12 #!/bin/bash # Convert a series of png images to into an mp4 movie. # # On OSX you can use \"brew install ffmpeg\" to install ffmpeg # -r 10 means 10 fps # -crf 20 determines the quality 0 = lossless, 23 = default # -vf \"scale=trunc(iw/2)*2:trunc(ih/2)*2\" is to deal with widths and heights not divisible by 2 # -pix_fmt yuv420p is for compatibility with QuickTime and other old players. Drop it if you only use VLC or something modern. # -i \"movie%04d.png\" is a placeholder for movie0000.png, movie0001.png, ... ffmpeg -r 10 -i \"movie%04d.png\" -c:v libx264 -crf 20 -vf \"scale=trunc(iw/2)*2:trunc(ih/2)*2\" -pix_fmt yuv420p imovie2.mp4 ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:2","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æŒ‰å¸§æ•°å‰ªåˆ‡è§†é¢‘ 1 2 3 ffmpeg -i ./20200909080831116_dir.h264 -vf \"select=between(n\\,1150\\,1450)\" -y -acodec copy ./output.h264 # \"select=between(n\\,1150\\,1450)\" 1150 èµ·å§‹å¸§ 1450 ç»“æŸå¸§ ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:3","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æŒ‰èµ›æ—¶é—´å‰ªåˆ‡è§†é¢‘ 1 2 3 # ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥ä»æ—¶é—´ä¸º00:00:15å¼€å§‹ï¼Œæˆªå–5ç§’é’Ÿçš„è§†é¢‘ã€‚ ffmpeg -ss 00:00:15 -t 00:00:05 -i input.mp4 -vcodec copy -acodec copy output.mp4 # -ssè¡¨ç¤ºå¼€å§‹åˆ‡å‰²çš„æ—¶é—´ï¼Œ-tè¡¨ç¤ºè¦åˆ‡å¤šå°‘ã€‚ä¸Šé¢å°±æ˜¯ä»15ç§’å¼€å§‹ï¼Œåˆ‡5ç§’é’Ÿå‡ºæ¥ã€‚ ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:4","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"è§†é¢‘è½¬æ¢ 1 2 3 ffmpeg -i output.h264 -vcodec copy -f mp4 test.mp4 ffmpeg -i input.avi output.mp4 ffmpeg -i input.mp4 output.ts ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:5","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æå–è§†é¢‘ 1 ffmpeg -i input.mp4 -vcodec copy -an output.mp4 ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:6","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"è§†é¢‘å’Œåˆæˆ 1 ffmpeg -i output.h264 -i T1-OUT.oni.h264 -filter_complex \"[0:v]pad=iw*2:ih*1[a];[a][1:v]overlay=w\" out.mp4 ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:7","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ä¿®æ”¹å¸§ç‡ 1 ffmpeg -i input.mp4 -vcodec copy -an output.mp4 ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:8","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æå–éŸ³é¢‘ 1 2 3 ffmpeg -i test.mp4 -acodec copy -vn output.aac # ä¸Šé¢çš„å‘½ä»¤ï¼Œé»˜è®¤mp4çš„audio codecæ˜¯aac,å¦‚æœä¸æ˜¯ï¼Œå¯ä»¥éƒ½è½¬ä¸ºæœ€å¸¸è§çš„aacã€‚ ffmpeg -i test.mp4 -acodec aac -vn output.aac ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:9","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ç ç‡æ§åˆ¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ç ç‡æ§åˆ¶å¯¹äºåœ¨çº¿è§†é¢‘æ¯”è¾ƒé‡è¦ã€‚å› ä¸ºåœ¨çº¿è§†é¢‘éœ€è¦è€ƒè™‘å…¶èƒ½æä¾›çš„å¸¦å®½ã€‚ é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ç ç‡ï¼Ÿå¾ˆç®€å•ï¼š bitrate = file size / duration æ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶20.8Mï¼Œæ—¶é•¿1åˆ†é’Ÿï¼Œé‚£ä¹ˆï¼Œç ç‡å°±æ˜¯ï¼š biterate = 20.8M bit/60s = 20.8*1024*1024*8 bit/60s= 2831Kbps ä¸€èˆ¬éŸ³é¢‘çš„ç ç‡åªæœ‰å›ºå®šå‡ ç§ï¼Œæ¯”å¦‚æ˜¯128Kbpsï¼Œ é‚£ä¹ˆï¼Œvideoçš„å°±æ˜¯ video biterate = 2831Kbps -128Kbps = 2703Kbpsã€‚ é‚£ä¹ˆffmpegå¦‚ä½•æ§åˆ¶ç ç‡ã€‚ ffmpgæ§åˆ¶ç ç‡æœ‰3ç§é€‰æ‹©ï¼Œ-minrate -b:v -maxrate -b:vä¸»è¦æ˜¯æ§åˆ¶å¹³å‡ç ç‡ã€‚ æ¯”å¦‚ä¸€ä¸ªè§†é¢‘æºçš„ç ç‡å¤ªé«˜äº†ï¼Œæœ‰10Mbpsï¼Œæ–‡ä»¶å¤ªå¤§ï¼Œæƒ³æŠŠæ–‡ä»¶å¼„å°ä¸€ç‚¹ï¼Œä½†æ˜¯åˆä¸ç ´ååˆ†è¾¨ç‡ã€‚ ffmpeg -i input.mp4 -b:v 2000k output.mp4 ä¸Šé¢æŠŠç ç‡ä»åŸç ç‡è½¬æˆ2Mbpsç ç‡ï¼Œè¿™æ ·å…¶å®ä¹Ÿé—´æ¥è®©æ–‡ä»¶å˜å°äº†ã€‚ç›®æµ‹æ¥è¿‘ä¸€åŠã€‚ ä¸è¿‡ï¼Œffmpegå®˜æ–¹wikiæ¯”è¾ƒå»ºè®®ï¼Œè®¾ç½®b:væ—¶ï¼ŒåŒæ—¶åŠ ä¸Š -bufsize -bufsize ç”¨äºè®¾ç½®ç ç‡æ§åˆ¶ç¼“å†²å™¨çš„å¤§å°ï¼Œè®¾ç½®çš„å¥½å¤„æ˜¯ï¼Œè®©æ•´ä½“çš„ç ç‡æ›´è¶‹è¿‘äºå¸Œæœ›çš„å€¼ï¼Œå‡å°‘æ³¢åŠ¨ã€‚ï¼ˆç®€å•æ¥è¯´ï¼Œæ¯”å¦‚1 2çš„å¹³å‡å€¼æ˜¯1.5ï¼Œ 1.49 1.51 ä¹Ÿæ˜¯1.5, å½“ç„¶æ˜¯ç¬¬äºŒç§æ¯”è¾ƒå¥½ï¼‰ ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k output.mp4 -minrate -maxrateå°±ç®€å•äº†ï¼Œåœ¨çº¿è§†é¢‘æœ‰æ—¶å€™ï¼Œå¸Œæœ›ç ç‡æ³¢åŠ¨ï¼Œä¸è¦è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼ï¼Œå¯ä»¥è®¾ç½®maxrateã€‚ ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k -maxrate 2500k output.mp4 ","date":"2023-02-01","objectID":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/:2:10","tags":["multimedia"],"title":"multimedia:ffmpegä»‹ç»åŠä½¿ç”¨","uri":"/posts/computer_vision/multimedia/ffmpeg/ffmpeg/"},{"categories":["cpp"],"content":"C++ å¹¶è¡Œå¼€å‘ä»‹ç»","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ èµ„æ–™ å‚è€ƒèµ„æ–™ code å¹¶å‘ä¸å¹¶è¡Œ å¤šè¿›ç¨‹å¹¶å‘ å¤šçº¿ç¨‹å¹¶å‘ C++ä¸­çš„å¹¶å‘ä¸å¤šçº¿ç¨‹ thread std::thread std:ğŸ§µ:join std:ğŸ§µ:joinable std:ğŸ§µ:detach ~thread()åˆ†æ Mutex Mutex ç³»åˆ—ç±»(å››ç§) Lock ç±»ï¼ˆä¸¤ç§ï¼‰ å…¶ä»–ç±»å‹ mutexå‡½æ•° std::recursive_mutex std::time_mutex std::recursive_timed_mutex lock_guard / unique_lock std::lock_guard std::unique_lock æ³¨æ„ å¤šçº¿ç¨‹ä¸‹ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ å•ç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ å•ç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ å¤šç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ å¤šç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ future std::future èµ„æ–™ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:0:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å‚è€ƒèµ„æ–™ C++11å¹¶å‘ä¹‹std::thread åŸºäºC++11å¹¶å‘åº“çš„çº¿ç¨‹æ± ä¸æ¶ˆæ¯é˜Ÿåˆ—å¤šçº¿ç¨‹æ¡†æ¶â€”â€”std::threadç±» C++11 å¹¶å‘æŒ‡å—ä¸€(C++11 å¤šçº¿ç¨‹åˆæ¢) [c++11]å¤šçº¿ç¨‹ç¼–ç¨‹(äº”)â€”â€”unique_lock ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:1:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"code CplusParallel å¹¶å‘ä¸å¹¶è¡Œ å¹¶å‘ï¼šåŒä¸€æ—¶é—´æ®µå†…å¯ä»¥äº¤æ›¿å¤„ç†å¤šä¸ªæ“ä½œ å¹¶è¡Œï¼šåŒä¸€æ—¶é—´æ®µå†…åŒæ—¶å¤„ç†å¤šä¸ªæ“ä½œ å¦‚æœç¨‹åºçš„ç»“æ„è®¾è®¡ä¸ºå¯ä»¥å¹¶å‘æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆåœ¨æ”¯æŒå¹¶è¡Œçš„æœºå™¨ä¸Šï¼Œç¨‹åºå¯ä»¥å¹¶è¡Œåœ°æ‰§è¡Œã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:2:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å¤šè¿›ç¨‹å¹¶å‘ å¤šä¸ªè¿›ç¨‹ç‹¬ç«‹åœ°è¿è¡Œï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡è¿›ç¨‹é—´å¸¸è§„çš„é€šä¿¡æ¸ é“ä¼ é€’è®¯æ¯ï¼ˆä¿¡å·ï¼Œå¥—æ¥å­—ï¼Œæ–‡ä»¶ï¼Œç®¡é“ç­‰ï¼‰ï¼Œè¿™ç§è¿›ç¨‹é—´é€šä¿¡ä¸æ˜¯è®¾ç½®å¤æ‚å°±æ˜¯é€Ÿåº¦æ…¢ï¼Œè¿™æ˜¯å› ä¸ºä¸ºäº†é¿å…ä¸€ä¸ªè¿›ç¨‹å»ä¿®æ”¹å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿåœ¨è¿›ç¨‹é—´æä¾›äº†ä¸€å®šçš„ä¿æŠ¤æªæ–½ï¼Œå½“ç„¶ï¼Œè¿™ä¹Ÿä½¿å¾—ç¼–å†™å®‰å…¨çš„å¹¶å‘ä»£ç æ›´å®¹æ˜“ã€‚è¿è¡Œå¤šä¸ªè¿›ç¨‹ä¹Ÿéœ€è¦å›ºå®šçš„å¼€é”€ï¼šè¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ï¼Œè¿›ç¨‹ç®¡ç†çš„èµ„æºæ¶ˆè€—ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:3:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å¤šçº¿ç¨‹å¹¶å‘ åœ¨å½“ä¸ªè¿›ç¨‹ä¸­è¿è¡Œå¤šä¸ªçº¿ç¨‹ä¹Ÿå¯ä»¥å¹¶å‘ã€‚çº¿ç¨‹å°±åƒè½»é‡çº§çš„è¿›ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ç›¸äº’ç‹¬ç«‹è¿è¡Œï¼Œä½†å®ƒä»¬å…±äº«åœ°å€ç©ºé—´ï¼Œæ‰€æœ‰çº¿ç¨‹è®¿é—®åˆ°çš„å¤§éƒ¨åˆ†æ•°æ®å¦‚æŒ‡é’ˆã€å¯¹è±¡å¼•ç”¨æˆ–å…¶ä»–æ•°æ®å¯ä»¥åœ¨çº¿ç¨‹ä¹‹é—´è¿›è¡Œä¼ é€’ï¼Œå®ƒä»¬éƒ½å¯ä»¥è®¿é—®å…¨å±€å˜é‡ã€‚è¿›ç¨‹ä¹‹é—´é€šå¸¸å…±äº«å†…å­˜ï¼Œä½†è¿™ç§å…±äº«é€šå¸¸éš¾ä»¥å»ºç«‹ä¸”éš¾ä»¥ç®¡ç†ï¼Œç¼ºå°‘çº¿ç¨‹é—´æ•°æ®çš„ä¿æŠ¤ã€‚å› æ­¤ï¼Œåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿æ¯ä¸ªçº¿ç¨‹é”è®¿é—®åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚ C++ä¸­çš„å¹¶å‘ä¸å¤šçº¿ç¨‹ C++11æ ‡å‡†æä¾›äº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹åº“ï¼Œå†…å®¹åŒ…æ‹¬äº†ç®¡ç†çº¿ç¨‹ã€ä¿æŠ¤å…±äº«æ•°æ®ã€çº¿ç¨‹é—´çš„åŒæ­¥æ“ä½œã€ä½çº§åŸå­æ“ä½œç­‰å„ç§ç±»ã€‚ 1 2 3 4 5 \u003cthread\u003e : åŒ…å«std::threadç±»ä»¥åŠstd::this_threadå‘½åç©ºé—´ã€‚ç®¡ç†çº¿ç¨‹çš„å‡½æ•°å’Œç±»åœ¨è¯¥å¤´æ–‡ä»¶ä¸­æœ‰å£°æ˜ï¼› \u003catomic\u003e :åŒ…å«std::atomicå’Œstd::atomic_flagç±»ï¼Œä»¥åŠä¸€å¥—Cé£æ ¼çš„åŸå­ç±»å‹å’Œä¸Cå…¼å®¹çš„åŸå­æ“ä½œçš„å‡½æ•°ï¼› \u003cmutex\u003e ï¼šåŒ…å«äº†ä¸äº’æ–¥é‡ç›¸å…³çš„ç±»ä»¥åŠå…¶ä»–ç±»å‹çš„å‡½æ•°ï¼› \u003cfuture\u003e: åŒ…å«ä¸¤ä¸ªProviderç±»ï¼ˆstd::promiseå’Œstd::package_taskï¼‰å’Œä¸¤ä¸ªFutureç±»ï¼ˆstd::futureå’Œstd::shared_futureï¼‰ä»¥åŠç›¸å…³çš„ç±»å‹å’Œå‡½æ•°ï¼› \u003ccondition_variable\u003e : åŒ…å«ä¸æ¡ä»¶å˜é‡ç›¸å…³çš„ç±»ï¼ŒåŒ…æ‹¬std::condition_variableå’Œstd::condition_variable_any thread ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:4:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::thread 1 2 3 4 5 int n = 0; std::thread t1; // t1 is not a thread std::thread t2(f1, n + 1); // pass by value std::thread t3(f2, std::ref(n)); // pass by reference std::thread t4(std::move(t3)); // t4 is now running f2(). t3 is no longer a thread ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:5:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std:ğŸ§µ:join join æ˜¯è®©å½“å‰ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹æ‰§è¡Œå®Œï¼Œæ‰èƒ½é€€å‡ºã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:6:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std:ğŸ§µ:joinable ç”¨äºæ£€æµ‹çº¿ç¨‹æ˜¯å¦æœ‰æ•ˆ,true : ä»£è¡¨è¯¥çº¿ç¨‹æ˜¯å¯æ‰§è¡Œçº¿ç¨‹ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:7:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std:ğŸ§µ:detach çº¿ç¨‹ detach è„±ç¦»ä¸»çº¿ç¨‹çš„ç»‘å®šï¼Œä¸»çº¿ç¨‹æŒ‚äº†ï¼Œå­çº¿ç¨‹ä¸æŠ¥é”™ï¼Œå­çº¿ç¨‹æ‰§è¡Œå®Œè‡ªåŠ¨é€€å‡ºã€‚ çº¿ç¨‹ detachä»¥åï¼Œå­çº¿ç¨‹ä¼šæˆä¸ºå­¤å„¿çº¿ç¨‹ï¼Œçº¿ç¨‹ä¹‹é—´å°†æ— æ³•é€šä¿¡ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:8:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"~thread()åˆ†æ 1 2 3 4 ~thread() _NOEXCEPT { // ææ„å‡½æ•° if (joinable()) // çº¿ç¨‹æ˜¯å¯ç»“åˆçš„(å¯æ‰§è¡Œçº¿ç¨‹)ï¼Œææ„å¼‚å¸¸ï¼ˆä¹Ÿå°±æ˜¯è¯´åªèƒ½ææ„ä¸å¯ç»“åˆçš„çº¿ç¨‹ï¼‰ _XSTD terminate(); // terminateä¼šè°ƒç”¨abort()æ¥ç»ˆæ­¢ç¨‹åº } joinable() = false : ç©ºçº¿ç¨‹ moveåçš„çº¿ç¨‹ï¼Œå³move(t),åˆ™tæ˜¯ä¸å¯ç»“åˆçš„ joinåçš„çº¿ç¨‹ detachåçš„çº¿ç¨‹ Mutex std::mutex æ˜¯C++11 ä¸­æœ€åŸºæœ¬çš„äº’æ–¥é‡ï¼Œstd::mutex å¯¹è±¡æä¾›äº†ç‹¬å æ‰€æœ‰æƒçš„ç‰¹æ€§â€”â€”å³ä¸æ”¯æŒé€’å½’åœ°å¯¹std::mutex å¯¹è±¡ä¸Šé”ï¼Œè€Œ std::recursive_lock åˆ™å¯ä»¥é€’å½’åœ°å¯¹äº’æ–¥é‡å¯¹è±¡ä¸Šé” ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:9:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"Mutex ç³»åˆ—ç±»(å››ç§) 1 2 3 4 std::mutexï¼Œæœ€åŸºæœ¬çš„ Mutex ç±»ã€‚ std::recursive_mutexï¼Œé€’å½’ Mutex ç±»ã€‚ std::time_mutexï¼Œå®šæ—¶ Mutex ç±»ã€‚ std::recursive_timed_mutexï¼Œå®šæ—¶é€’å½’ Mutex ç±»ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:10:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"Lock ç±»ï¼ˆä¸¤ç§ï¼‰ 1 2 std::lock_guardï¼Œä¸ Mutex RAII ç›¸å…³ï¼Œæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ã€‚ std::unique_lockï¼Œä¸ Mutex RAII ç›¸å…³ï¼Œæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ï¼Œä½†æä¾›äº†æ›´å¥½çš„ä¸Šé”å’Œè§£é”æ§åˆ¶ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:11:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å…¶ä»–ç±»å‹ 1 2 3 4 std::once_flag std::adopt_lock_t std::defer_lock_t std::try_to_lock_t ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:12:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"mutexå‡½æ•° æ„é€ å‡½æ•° std::mutexä¸å…è®¸æ‹·è´æ„é€ ï¼Œä¹Ÿä¸å…è®¸ move æ‹·è´ï¼Œæœ€åˆäº§ç”Ÿçš„ mutex å¯¹è±¡æ˜¯å¤„äº unlocked çŠ¶æ€çš„ã€‚ std::try_lock å°è¯•é”ä½äº’æ–¥é‡ï¼Œå¦‚æœäº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹å æœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¹Ÿä¸ä¼šè¢«é˜»å¡ã€‚çº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°ä¹Ÿä¼šå‡ºç°ä¸‹é¢ 3 ç§æƒ…å†µï¼Œ(1). å¦‚æœå½“å‰äº’æ–¥é‡æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹å æœ‰ï¼Œåˆ™è¯¥çº¿ç¨‹é”ä½äº’æ–¥é‡ï¼Œç›´åˆ°è¯¥çº¿ç¨‹è°ƒç”¨ unlock é‡Šæ”¾äº’æ–¥é‡ã€‚(2). å¦‚æœå½“å‰äº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œåˆ™å½“å‰è°ƒç”¨çº¿ç¨‹è¿”å› falseï¼Œè€Œå¹¶ä¸ä¼šè¢«é˜»å¡æ‰ã€‚(3). å¦‚æœå½“å‰äº’æ–¥é‡è¢«å½“å‰è°ƒç”¨çº¿ç¨‹é”ä½ï¼Œåˆ™ä¼šäº§ç”Ÿæ­»é”(deadlock)ã€‚ std::lock å¯ä»¥åŒæ—¶å¯¹å¤šä¸ªäº’æ–¥é‡ä¸Šé”ã€‚çº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°ä¼šå‘ç”Ÿä¸‹é¢ 3 ç§æƒ…å†µï¼š(1). å¦‚æœè¯¥äº’æ–¥é‡å½“å‰æ²¡æœ‰è¢«é”ä½ï¼Œåˆ™è°ƒç”¨çº¿ç¨‹å°†è¯¥äº’æ–¥é‡é”ä½ï¼Œç›´åˆ°è°ƒç”¨ unlockä¹‹å‰ï¼Œè¯¥çº¿ç¨‹ä¸€ç›´æ‹¥æœ‰è¯¥é”ã€‚(2). å¦‚æœå½“å‰äº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œåˆ™å½“å‰çš„è°ƒç”¨çº¿ç¨‹è¢«é˜»å¡ä½ã€‚(3). å¦‚æœå½“å‰äº’æ–¥é‡è¢«å½“å‰è°ƒç”¨çº¿ç¨‹é”ä½ï¼Œåˆ™ä¼šäº§ç”Ÿæ­»é”(deadlock)ã€‚ std::unlock è§£é”ï¼Œé‡Šæ”¾å¯¹äº’æ–¥é‡çš„æ‰€æœ‰æƒã€‚ std::call_once å¦‚æœå¤šä¸ªçº¿ç¨‹éœ€è¦åŒæ—¶è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œcall_once å¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹å¯¹è¯¥å‡½æ•°åªè°ƒç”¨ä¸€æ¬¡ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:13:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::recursive_mutex std::recursive_mutex ä¸ std::mutex ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯ä»¥è¢«ä¸Šé”çš„å¯¹è±¡ï¼Œä½†æ˜¯å’Œ std::mutex ä¸åŒçš„æ˜¯ï¼Œstd::recursive_mutex å…è®¸åŒä¸€ä¸ªçº¿ç¨‹å¯¹äº’æ–¥é‡å¤šæ¬¡ä¸Šé”ï¼ˆå³é€’å½’ä¸Šé”ï¼‰ï¼Œæ¥è·å¾—å¯¹äº’æ–¥é‡å¯¹è±¡çš„å¤šå±‚æ‰€æœ‰æƒï¼Œstd::recursive_mutex é‡Šæ”¾äº’æ–¥é‡æ—¶éœ€è¦è°ƒç”¨ä¸è¯¥é”å±‚æ¬¡æ·±åº¦ç›¸åŒæ¬¡æ•°çš„ unlock()ï¼Œå¯ç†è§£ä¸º lock() æ¬¡æ•°å’Œ unlock() æ¬¡æ•°ç›¸åŒï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œstd::recursive_mutex çš„ç‰¹æ€§å’Œ std::mutex å¤§è‡´ç›¸åŒã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:14:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::time_mutex std::time_mutex æ¯” std::mutex å¤šäº†ä¸¤ä¸ªæˆå‘˜å‡½æ•°ï¼Œtry_lock_for()ï¼Œtry_lock_until()ã€‚ try_lock_for å‡½æ•° æ¥å—ä¸€ä¸ªæ—¶é—´èŒƒå›´ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸€æ®µæ—¶é—´èŒƒå›´ä¹‹å†…çº¿ç¨‹å¦‚æœæ²¡æœ‰è·å¾—é”åˆ™è¢«é˜»å¡ä½ï¼ˆä¸ std::mutex çš„ try_lock() ä¸åŒï¼Œtry_lock å¦‚æœè¢«è°ƒç”¨æ—¶æ²¡æœ‰è·å¾—é”åˆ™ç›´æ¥è¿”å› falseï¼‰ï¼Œå¦‚æœåœ¨æ­¤æœŸé—´å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†é”ï¼Œåˆ™è¯¥çº¿ç¨‹å¯ä»¥è·å¾—å¯¹äº’æ–¥é‡çš„é”ï¼Œå¦‚æœè¶…æ—¶ï¼ˆå³åœ¨æŒ‡å®šæ—¶é—´å†…è¿˜æ˜¯æ²¡æœ‰è·å¾—é”ï¼‰ï¼Œåˆ™è¿”å› falseã€‚ try_lock_until å‡½æ•° æ¥å—ä¸€ä¸ªæ—¶é—´ç‚¹ä½œä¸ºå‚æ•°ï¼Œåœ¨æŒ‡å®šæ—¶é—´ç‚¹æœªåˆ°æ¥ä¹‹å‰çº¿ç¨‹å¦‚æœæ²¡æœ‰è·å¾—é”åˆ™è¢«é˜»å¡ä½ï¼Œå¦‚æœåœ¨æ­¤æœŸé—´å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†é”ï¼Œåˆ™è¯¥çº¿ç¨‹å¯ä»¥è·å¾—å¯¹äº’æ–¥é‡çš„é”ï¼Œå¦‚æœè¶…æ—¶ï¼ˆå³åœ¨æŒ‡å®šæ—¶é—´å†…è¿˜æ˜¯æ²¡æœ‰è·å¾—é”ï¼‰ï¼Œåˆ™è¿”å› falseã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:15:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::recursive_timed_mutex å’Œ std:recursive_mutex ä¸ std::mutex çš„å…³ç³»ä¸€æ ·ï¼Œstd::recursive_timed_mutex çš„ç‰¹æ€§ä¹Ÿå¯ä»¥ä» std::timed_mutex æ¨å¯¼å‡ºæ¥ã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:16:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"lock_guard / unique_lock ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:17:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::lock_guard ä¸ Mutex RAII ç›¸å…³ï¼Œæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ã€‚ å…¶åŸç†æ˜¯ï¼šå£°æ˜ä¸€ä¸ªå±€éƒ¨çš„lock_guardå¯¹è±¡ï¼Œåœ¨å…¶æ„é€ å‡½æ•°ä¸­è¿›è¡ŒåŠ é”ï¼Œåœ¨å…¶ææ„å‡½æ•°ä¸­è¿›è¡Œè§£é”ã€‚æœ€ç»ˆçš„ç»“æœå°±æ˜¯ï¼šåœ¨å®šä¹‰è¯¥å±€éƒ¨å¯¹è±¡çš„æ—¶å€™åŠ é”ï¼ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼‰ï¼Œå‡ºäº†è¯¥å¯¹è±¡ä½œç”¨åŸŸçš„æ—¶å€™è§£é”ï¼ˆè°ƒç”¨ææ„å‡½æ•°ï¼‰ã€‚ ä½¿ç”¨æ–¹æ³•: é¦–å…ˆéœ€è¦åŒ…å«mutexå¤´æ–‡ä»¶ ç„¶ååˆ›å»ºä¸€ä¸ªé” std::mutex mutex åœ¨éœ€è¦è¢«åŠ é”çš„ä½œç”¨åŸŸå†… å°†mutexä¼ å…¥åˆ°åˆ›å»ºçš„std::lock_guardå±€éƒ¨å¯¹è±¡ä¸­ 1 2 3 4 5 6 7 8 9 10 11 12 #include \u003cmutex\u003e /*std::mutexã€ std::lock_guard*/ std::mutex mutex; void func() { //lock_guard äº’æ–¥é” ä½œç”¨åŸŸå†…ä¸å¯æ‹·è´æ„é€  { std::lock_guard\u003cstd::mutex\u003e lg(m_mutex); //å‡½æ•°å†…å®¹ } } ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:17:1","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::unique_lock ä¸ Mutex RAII ç›¸å…³ï¼Œæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ï¼Œä½†æä¾›äº†æ›´å¥½çš„ä¸Šé”å’Œè§£é”æ§åˆ¶ã€‚ äº’æ–¥é”ä¿è¯äº†çº¿ç¨‹é—´çš„åŒæ­¥ï¼Œä½†æ˜¯å´å°†å¹¶è¡Œæ“ä½œå˜æˆäº†ä¸²è¡Œæ“ä½œï¼Œè¿™å¯¹æ€§èƒ½æœ‰å¾ˆå¤§çš„å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°½å¯èƒ½çš„å‡å°é”å®šçš„åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ç»†ç²’åº¦ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 class LogFile { std::mutex _mu; ofstream f; public: LogFile() { f.open(\"log.txt\"); } ~LogFile() { f.close(); } void shared_print(string msg, int id) { { std::lock_guard\u003cstd::mutex\u003e guard(_mu); //do something 1 } //do something 2 { std::lock_guard\u003cstd::mutex\u003e guard(_mu); // do something 3 f \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; cout \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; } } }; ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸€ä¸ªå‡½æ•°å†…éƒ¨æœ‰ä¸¤æ®µä»£ç éœ€è¦è¿›è¡Œä¿æŠ¤ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨lock_guardå°±éœ€è¦åˆ›å»ºä¸¤ä¸ªå±€éƒ¨å¯¹è±¡æ¥ç®¡ç†åŒä¸€ä¸ªäº’æ–¥é”ï¼ˆå…¶å®ä¹Ÿå¯ä»¥åªåˆ›å»ºä¸€ä¸ªï¼Œä½†æ˜¯é”çš„åŠ›åº¦å¤ªå¤§ï¼Œæ•ˆç‡ä¸è¡Œï¼‰ï¼Œä¿®æ”¹æ–¹æ³•æ˜¯ä½¿ç”¨unique_lockã€‚å®ƒæä¾›äº†lock()å’Œunlock()æ¥å£ï¼Œèƒ½è®°å½•ç°åœ¨å¤„äºä¸Šé”è¿˜æ˜¯æ²¡ä¸Šé”çŠ¶æ€ï¼Œåœ¨ææ„çš„æ—¶å€™ï¼Œä¼šæ ¹æ®å½“å‰çŠ¶æ€æ¥å†³å®šæ˜¯å¦è¦è¿›è¡Œè§£é”ï¼ˆlock_guardå°±ä¸€å®šä¼šè§£é”ï¼‰ã€‚ä¸Šé¢çš„ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class LogFile { std::mutex _mu; ofstream f; public: LogFile() { f.open(\"log.txt\"); } ~LogFile() { f.close(); } void shared_print(string msg, int id) { std::unique_lock\u003cstd::mutex\u003e guard(_mu); //do something 1 guard.unlock(); //ä¸´æ—¶è§£é” //do something 2 guard.lock(); //ç»§ç»­ä¸Šé” // do something 3 f \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; cout \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; // ç»“æŸæ—¶ææ„guardä¼šä¸´æ—¶è§£é” // è¿™å¥è¯å¯è¦å¯ä¸è¦ï¼Œä¸å†™ï¼Œææ„çš„æ—¶å€™ä¹Ÿä¼šè‡ªåŠ¨æ‰§è¡Œ // guard.ulock(); } }; ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ— éœ€åŠ é”çš„æ“ä½œæ—¶ï¼Œå¯ä»¥å…ˆä¸´æ—¶é‡Šæ”¾é”ï¼Œç„¶åéœ€è¦ç»§ç»­ä¿æŠ¤çš„æ—¶å€™ï¼Œå¯ä»¥ç»§ç»­ä¸Šé”ï¼Œè¿™æ ·å°±æ— éœ€é‡å¤çš„å®ä¾‹åŒ–lock_guardå¯¹è±¡ï¼Œè¿˜èƒ½å‡å°‘é”çš„åŒºåŸŸã€‚åŒæ ·ï¼Œå¯ä»¥ä½¿ç”¨std::defer_lockè®¾ç½®åˆå§‹åŒ–çš„æ—¶å€™ä¸è¿›è¡Œé»˜è®¤çš„ä¸Šé”æ“ä½œï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 void shared_print(string msg, int id) { std::unique_lock\u003cstd::mutex\u003e guard(_mu, std::defer_lock); //do something 1 guard.lock(); // do something protected guard.unlock(); //ä¸´æ—¶è§£é” //do something 2 guard.lock(); //ç»§ç»­ä¸Šé” // do something 3 f \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; cout \u003c\u003c msg \u003c\u003c id \u003c\u003c endl; // ç»“æŸæ—¶ææ„guardä¼šä¸´æ—¶è§£é” } è¿™æ ·ä½¿ç”¨èµ·æ¥å°±æ¯”lock_guardæ›´åŠ çµæ´»ï¼ç„¶åè¿™ä¹Ÿæ˜¯æœ‰ä»£ä»·çš„ï¼Œå› ä¸ºå®ƒå†…éƒ¨éœ€è¦ç»´æŠ¤é”çš„çŠ¶æ€ï¼Œæ‰€ä»¥æ•ˆç‡è¦æ¯”lock_guardä½ä¸€ç‚¹ï¼Œåœ¨lock_guardèƒ½è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œå°±æ˜¯ç”¨lock_guardï¼Œåä¹‹ï¼Œä½¿ç”¨unique_lockã€‚ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:17:2","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"æ³¨æ„ unique_lockå’Œlock_guardéƒ½ä¸èƒ½å¤åˆ¶ï¼Œlock_guardä¸èƒ½ç§»åŠ¨ï¼Œä½†æ˜¯unique_lockå¯ä»¥ã€‚ 1 2 3 4 5 6 7 8 9 // unique_lock å¯ä»¥ç§»åŠ¨ï¼Œä¸èƒ½å¤åˆ¶ std::unique_lock\u003cstd::mutex\u003e guard1(_mu); std::unique_lock\u003cstd::mutex\u003e guard2 = guard1; // error std::unique_lock\u003cstd::mutex\u003e guard2 = std::move(guard1); // ok // lock_guard ä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½å¤åˆ¶ std::lock_guard\u003cstd::mutex\u003e guard1(_mu); std::lock_guard\u003cstd::mutex\u003e guard2 = guard1; // error std::lock_guard\u003cstd::mutex\u003e guard2 = std::move(guard1); // error å¤šçº¿ç¨‹ä¸‹ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:17:3","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å•ç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ å•ç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ä¸­åªæœ‰ä¸€ä¸ªç”Ÿäº§è€…å’Œä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œç”Ÿäº§è€…ä¸åœåœ°å¾€äº§å“åº“ä¸­æ”¾å…¥äº§å“ï¼Œæ¶ˆè´¹è€…åˆ™ä»äº§å“åº“ä¸­å–èµ°äº§å“ï¼Œäº§å“åº“å®¹ç§¯æœ‰é™åˆ¶ï¼Œåªèƒ½å®¹çº³ä¸€å®šæ•°ç›®çš„äº§å“ï¼Œå¦‚æœç”Ÿäº§è€…ç”Ÿäº§äº§å“çš„é€Ÿåº¦è¿‡å¿«ï¼Œåˆ™éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…å–èµ°äº§å“ä¹‹åï¼Œäº§å“åº“ä¸ä¸ºç©ºæ‰èƒ½ç»§ç»­å¾€äº§å“åº“ä¸­æ”¾ç½®æ–°çš„äº§å“ï¼Œç›¸åï¼Œå¦‚æœæ¶ˆè´¹è€…å–èµ°äº§å“çš„é€Ÿåº¦è¿‡å¿«ï¼Œåˆ™å¯èƒ½é¢ä¸´äº§å“åº“ä¸­æ²¡æœ‰äº§å“å¯ä½¿ç”¨çš„æƒ…å†µï¼Œæ­¤æ—¶éœ€è¦ç­‰å¾…ç”Ÿäº§è€…æ”¾å…¥ä¸€ä¸ªäº§å“åï¼Œæ¶ˆè´¹è€…æ‰èƒ½ç»§ç»­å·¥ä½œã€‚ code:SingleProducer-SingleConsumer ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:18:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å•ç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ ä¸å•ç”Ÿäº§è€…å’Œå•æ¶ˆè´¹è€…æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œå•ç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ä¸­å¯ä»¥å…è®¸å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶ä»äº§å“åº“ä¸­å–èµ°äº§å“ã€‚æ‰€ä»¥é™¤äº†ä¿æŠ¤äº§å“åº“åœ¨å¤šä¸ªè¯»å†™çº¿ç¨‹ä¸‹äº’æ–¥ä¹‹å¤–ï¼Œè¿˜éœ€è¦ç»´æŠ¤æ¶ˆè´¹è€…å–èµ°äº§å“çš„è®¡æ•°å™¨ã€‚ code:SingleProducer-MultipleConsumer ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:19:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å¤šç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ ä¸å•ç”Ÿäº§è€…å’Œå•æ¶ˆè´¹è€…æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œå¤šç”Ÿäº§è€…-å•æ¶ˆè´¹è€…æ¨¡å‹ä¸­å¯ä»¥å…è®¸å¤šä¸ªç”Ÿäº§è€…åŒæ—¶å‘äº§å“åº“ä¸­æ”¾å…¥äº§å“ã€‚æ‰€ä»¥é™¤äº†ä¿æŠ¤äº§å“åº“åœ¨å¤šä¸ªè¯»å†™çº¿ç¨‹ä¸‹äº’æ–¥ä¹‹å¤–ï¼Œè¿˜éœ€è¦ç»´æŠ¤ç”Ÿäº§è€…æ”¾å…¥äº§å“çš„è®¡æ•°å™¨ã€‚ code:MultipleProducer-SingleConsumer ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:20:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"å¤šç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ è¯¥æ¨¡å‹å¯ä»¥è¯´æ˜¯å‰é¢ä¸¤ç§æ¨¡å‹çš„ç»¼åˆï¼Œç¨‹åºéœ€è¦ç»´æŠ¤ä¸¤ä¸ªè®¡æ•°å™¨ï¼Œåˆ†åˆ«æ˜¯ç”Ÿäº§è€…å·²ç”Ÿäº§äº§å“çš„æ•°ç›®å’Œæ¶ˆè´¹è€…å·²å–èµ°äº§å“çš„æ•°ç›®ã€‚å¦å¤–ä¹Ÿéœ€è¦ä¿æŠ¤äº§å“åº“åœ¨å¤šä¸ªç”Ÿäº§è€…å’Œå¤šä¸ªæ¶ˆè´¹è€…äº’æ–¥åœ°è®¿é—®ã€‚ code:MultipleProducer-MultipleConsumer future threadå¯¹è±¡ï¼Œå®ƒæ˜¯C++11ä¸­æä¾›å¼‚æ­¥åˆ›å»ºå¤šçº¿ç¨‹çš„å·¥å…·ã€‚ä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä»çº¿ç¨‹ä¸­è¿”å›å¼‚æ­¥ä»»åŠ¡ç»“æœï¼Œä¸€èˆ¬éœ€è¦ä¾é å…¨å±€å˜é‡ï¼›ä»å®‰å…¨è§’åº¦çœ‹ï¼Œæœ‰äº›ä¸å¦¥ï¼›ä¸ºæ­¤C++11æä¾›äº†std::futureç±»æ¨¡æ¿ï¼Œfutureå¯¹è±¡æä¾›è®¿é—®å¼‚æ­¥æ“ä½œç»“æœçš„æœºåˆ¶ï¼Œå¾ˆè½»æ¾è§£å†³ä»å¼‚æ­¥ä»»åŠ¡ä¸­è¿”å›ç»“æœã€‚ åœ¨C++æ ‡å‡†åº“ä¸­ï¼Œæœ‰ä¸¤ç§â€œæœŸæœ›â€ï¼Œä½¿ç”¨ä¸¤ç§ç±»å‹æ¨¡æ¿å®ç°: å”¯ä¸€æœŸæœ›(unique futuresï¼Œstd::future\u003c\u003e) std::futureçš„å®ä¾‹åªèƒ½ä¸ä¸€ä¸ªæŒ‡å®šäº‹ä»¶ç›¸å…³è”ã€‚ å…±äº«æœŸæœ›(shared futures)(std::shared_future\u003c\u003e) std::shared_futureçš„å®ä¾‹å°±èƒ½å…³è”å¤šä¸ªäº‹ä»¶ã€‚ future å¤´æ–‡ä»¶ä¸­åŒ…å«äº†ä»¥ä¸‹å‡ ä¸ªç±»å’Œå‡½æ•°ï¼š Providers ç±»ï¼šstd::promise, std::package_task Futures ç±»ï¼šstd::future, shared_future. Providers å‡½æ•°ï¼šstd::async() å…¶ä»–ç±»å‹ï¼šstd::future_error, std::future_errc, std::future_status, std::launch. ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:21:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"std::future 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 //é€šè¿‡asyncæ¥è·å–å¼‚æ­¥æ“ä½œç»“æœ std::future\u003cint\u003e result = std::async([](){ std::this_thread::sleep_for(std::chrono::milliseconds(500)); return 8; }); std::cout \u003c\u003c \"the future result : \" \u003c\u003c result.get() \u003c\u003c std::endl; std::cout \u003c\u003c \"the future status : \" \u003c\u003c result.valid() \u003c\u003c std::endl; try { result.wait(); //æˆ–è€… result.get() ,ä¼šå¼‚å¸¸ //å› æ­¤std::futureåªèƒ½ç”¨äºå•çº¿ç¨‹ä¸­è°ƒç”¨ ï¼Œå¤šçº¿ç¨‹è°ƒç”¨ä½¿ç”¨std::share_future(); } catch (...) { std::cout \u003c\u003c \"get error....\\n \"; } ","date":"2023-01-31","objectID":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/:22:0","tags":["cpp thread"],"title":"C++:å¹¶è¡Œå¼€å‘","uri":"/posts/program/cpp/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B/c++%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91/"},{"categories":["cpp"],"content":"C++éƒ¨åˆ†ç¼–è¯‘å‡ è¿è¡ŒæœŸçš„é”™è¯¯æ”¶é›†","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E9%94%99%E8%AF%AF%E6%94%B6%E9%9B%86/","tags":["cpp"],"title":"C++:é”™è¯¯æ”¶é›†","uri":"/posts/program/cpp/c++%E9%94%99%E8%AF%AF%E6%94%B6%E9%9B%86/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ basic_string::_M_construct 1 2 3 terminate called after throwing an instance of 'std::logic_error' what(): basic_string::_M_construct null not valid Aborted (core dumped) stringæ„é€ ä¸èƒ½ä¼ å…¥ç©ºæŒ‡é’ˆxxxï¼Œå³åœ¨xxxä¸ºç©ºæ—¶ä¼šæŠ¥ä¸Šé¢é”™è¯¯ï¼Œä¿è¯funcè¿”å›ä¸ä¸ºç©ºå³å¯ã€‚ å¤šæ€å¤±æ•ˆé—®é¢˜çš„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 class vehicle{ public: void run(){ std::cout\u003c\u003c\"from vehicle:run\"\u003c\u003cstd::endl; } }; class car:public vehicle{ public: void run(){ std::cout\u003c\u003c\"from car:public vehicle:run\"\u003c\u003cstd::endl; } }; void call_fun(vehicle *pvehicle){ pvehicle-\u003erun(); } int main(){ vehicle *_pvehicle = new vehicle(); car *_pcar = new car(); call_fun(_pvehicle); call_fun(_pcar); delete _pvehicle; delete _pcar; return 0; } è¾“å‡º 1 2 from vehicle:run from vehicle:run åœ¨C++ä¸­ï¼Œå¦‚æœåœ¨åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­å¯¹åŒä¸€ä¸ªå‡½æ•°éƒ½è¿›è¡Œäº†å®šä¹‰æ—¶ï¼Œé€šè¿‡åŸºç±»å’Œæ´¾ç”Ÿç±»æŒ‡é’ˆå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶å…·ä½“æ˜¯æ‰§è¡Œå“ªä¸€ä¸ªç±»å®ä¾‹çš„æˆå‘˜å‡½æ•°æ˜¯æ ¹æ®æ¥å£å‡½æ•°çš„å‚æ•°ç±»å‹è€Œå®šï¼Œè€Œä¸æ˜¯å®é™…çš„ç±»å®ä¾‹æŒ‡é’ˆå¯¹è±¡ã€‚ C++ constå‡½æ•°è¿”å›å€¼å¿…é¡»ä¸ºconstå¼•ç”¨ å‚è€ƒï¼š C++ constå‡½æ•°è¿”å›å€¼å¿…é¡»ä¸ºconstå¼•ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #include\u003ciostream\u003e class MyString { public: MyString(std::string T):text(T){} const char\u0026 operator[](std::size_t position) const // operator[] for const å¯¹è±¡ { return text[position]; } char\u0026 operator[](std::size_t position) // operator[] for non-const å¯¹è±¡ { return text[position]; } private: std::string text; }; int main(){ MyString ms(\"coding\"); // non-const å¯¹è±¡ MyString test(\"testing\"); std::cout \u003c\u003c ms[0]\u003c\u003c std::endl; // è°ƒç”¨ non-const MyString::operator[] ms[0] = 'x'; // æ²¡é—®é¢˜ï¼Œå†™ä¸€ä¸ª non-const MyString const MyString cms(\"coding\"); // const å¯¹è±¡ std::cout \u003c\u003c cms[0]\u003c\u003cstd::endl; // è°ƒç”¨ const MyString::operator[] //cms[0] = 'x'; // é”™è¯¯ï¼ å†™ä¸€ä¸ª const MyString } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E9%94%99%E8%AF%AF%E6%94%B6%E9%9B%86/:0:0","tags":["cpp"],"title":"C++:é”™è¯¯æ”¶é›†","uri":"/posts/program/cpp/c++%E9%94%99%E8%AF%AF%E6%94%B6%E9%9B%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"CGraph åè¯è§£é‡Š","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph åè¯è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ æ‰‡å…¥æ‰‡å‡º DAG è°ƒåº¦ Aspect(åˆ‡é¢) AOP æ£€ç´¢ç®—æ³• HNSWç®—æ³• ANNSç®—æ³• æ‰‡å…¥æ‰‡å‡º åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œæ‰‡å…¥å’Œæ‰‡å‡ºçš„æ¦‚å¿µæ˜¯æŒ‡åº”ç”¨ç¨‹åºæ¨¡å—ä¹‹é—´çš„å±‚æ¬¡è°ƒç”¨æƒ…å†µã€‚ æŒ‰ç…§ç»“æ„åŒ–è®¾è®¡æ–¹æ³•ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºæ˜¯ç”±å¤šä¸ªåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—æ‰€ç»„æˆã€‚ æ‰‡å…¥ï¼š æ˜¯æŒ‡ç›´æ¥è°ƒç”¨è¯¥æ¨¡å—çš„ä¸Šçº§æ¨¡å—çš„ä¸ªæ•°ï¼›æ‰‡å…¥å¤§è¡¨ç¤ºæ¨¡å—çš„å¤ç”¨ç¨‹åºé«˜ã€‚ æ‰‡å‡ºï¼š æ˜¯æŒ‡è¯¥æ¨¡å—ç›´æ¥è°ƒç”¨çš„ä¸‹çº§æ¨¡å—çš„ä¸ªæ•°ï¼›æ‰‡å‡ºå¤§è¡¨ç¤ºæ¨¡å—çš„å¤æ‚åº¦é«˜ï¼Œéœ€è¦æ§åˆ¶å’Œåè°ƒè¿‡å¤šçš„ä¸‹çº§æ¨¡å—ï¼›ä½†æ‰‡å‡ºè¿‡å°ï¼ˆä¾‹å¦‚æ€»æ˜¯1ï¼‰ä¹Ÿä¸å¥½ï¼› æ‰‡å‡ºè¿‡å¤§ä¸€èˆ¬æ˜¯å› ä¸ºç¼ºä¹ä¸­é—´å±‚æ¬¡ï¼Œåº”è¯¥é€‚å½“å¢åŠ ä¸­é—´å±‚æ¬¡çš„æ¨¡å—ï¼› æ‰‡å‡ºå¤ªå°æ—¶å¯ä»¥æŠŠä¸‹çº§æ¨¡å—è¿›ä¸€æ­¥åˆ†è§£æˆè‹¥å¹²ä¸ªå­åŠŸèƒ½æ¨¡å—ï¼Œ æˆ–è€…åˆå¹¶åˆ°å®ƒçš„ä¸Šçº§æ¨¡å—ä¸­å»ã€‚ DAG è°ƒåº¦ DAG : Directed acyclic graph (æœ‰å‘æ— ç¯å›¾)ã€‚ å›¾ä¸­TaskB ç®—å­è¾“å…¥å‚æ•°ä¾èµ–TaskAç®—å­è¾“å‡ºå‚æ•°ï¼ŒTask Cä¸ TaskA/TaskBç®—å­ç›¸äº’ç‹¬ç«‹å¯å¹¶è¡Œæ‰§è¡Œï¼Œæœ€ç»ˆæ‰€æœ‰è®¡ç®—ç»“æœåœ¨Endå¤„æ‰§è¡Œã€‚ Aspect(åˆ‡é¢) Aspectè¡¨ç¤ºåˆ‡é¢ï¼Œç»™ä¸šåŠ¡æ–¹æ³•å¢åŠ çš„åŠŸèƒ½ï¼Œå«åšåˆ‡é¢ã€‚åˆ‡é¢ä¸€èˆ¬éƒ½æ˜¯éä¸šåŠ¡åŠŸèƒ½ï¼Œè€Œä¸”åˆ‡é¢åŠŸèƒ½ä¸€èˆ¬éƒ½æ˜¯å¯ä»¥å¤ç”¨çš„ã€‚ä¾‹å¦‚æ—¥å¿—åŠŸèƒ½ï¼Œäº‹åŠ¡åŠŸèƒ½ï¼Œæƒé™æ£€æŸ¥ï¼Œå‚æ•°æ£€æŸ¥ï¼Œç»Ÿè®¡ä¿¡æ¯ç­‰ç­‰ ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/:0:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph åè¯è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"AOP AOPï¼šAspect Oriented Programmingï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ Aspectï¼šåˆ‡é¢ï¼ŒæŒ‡ç»™ä¸šåŠ¡æ–¹æ³•å¢åŠ çš„åŠŸèƒ½ JoinPointï¼šè¿æ¥ç‚¹ï¼Œè¿æ¥åˆ‡é¢çš„ä¸šåŠ¡æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªä¸šåŠ¡æ–¹æ³•æ‰§è¡Œæ—¶ä¼šåŒæ—¶æ‰§è¡Œåˆ‡é¢çš„åŠŸèƒ½ Poingcutï¼šåˆ‡å…¥ç‚¹ï¼Œæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¿æ¥ç‚¹çš„é›†åˆï¼Œè¡¨ç¤ºè¿™äº›æ–¹æ³•æ‰§è¡Œæ—¶éƒ½èƒ½å¢åŠ åˆ‡é¢çš„åŠŸèƒ½ã€‚ã€‚è¡¨ç¤ºåˆ‡é¢æ‰§è¡Œçš„ä½ç½®(è¿™é‡Œçš„ä½ç½®ä¸æ˜¯æŒ‡å…·ä½“ä¸šåŠ¡é€»è¾‘é‡Œæ‰§è¡Œåˆ‡é¢çš„ä½ç½®ï¼Œæ˜¯æŒ‡å“ªäº›æ–¹æ³•éœ€è¦æ‰§è¡Œåˆ‡é¢çš„ä½ç½®) targetï¼šç›®æ ‡å¯¹è±¡ï¼Œç»™å“ªä¸ªå¯¹è±¡å¢åŠ åˆ‡é¢çš„åŠŸèƒ½ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯ç›®æ ‡å¯¹è±¡ Adviceï¼šé€šçŸ¥(å¢å¼º)ï¼Œè¡¨ç¤ºåˆ‡é¢çš„æ‰§è¡Œæ—¶é—´ã€‚åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰æ‰§è¡Œåˆ‡é¢ï¼Œè¿˜æ˜¯ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œåˆ‡é¢ æ£€ç´¢ç®—æ³• ç¨‹åºå‘˜ç‹åŒå­¦ CSDN ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/:1:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph åè¯è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"HNSWç®—æ³• ä¸€æ–‡çœ‹æ‡‚HNSWç®—æ³•ç†è®ºçš„æ¥é¾™å»è„‰ HNSWç®—æ³•â€”-Hierarchcal Navigable Small World graphs ã€‚ ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/:2:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph åè¯è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"ANNSç®—æ³• å‘é‡æ£€ç´¢ç®—æ³•ï¼ˆANNSï¼‰ä¼˜åŒ–æ€è·¯ä¹‹æˆ‘è§ ANNSï¼ˆApproximate Nearest Neighbor Searchï¼‰ç®—æ³•ï¼Œå‘é‡æ£€ç´¢ç®—æ³•çš„ã€‚ ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/:3:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph åè¯è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"CGraph è¯­æ³•è§£é‡Š","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph è¯­æ³•è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ C++ ()å’Œ{} CGraph ä¸­ä½¿ç”¨ [[nodiscard]] friend class C++ ()å’Œ cppreference.com : Punctuation ï¼ˆï¼‰ç”¨æ¥è¡¨ç¤ºå‡½æ•°è°ƒç”¨ï¼ŒåŒ…æ‹¬æ™®é€šå‡½æ•°å’Œæ„å»ºå‡½æ•°ï¼Œä»¥åŠå¯ä»¥ç»™å†…å»ºç±»å‹åˆå§‹åŒ– 1 int *p = new int[1000](); // å†…å»ºç±»å‹åœ†æ‹¬å·åˆå§‹åŒ–æ˜¯è¯­æ³•ï¼Œæ˜¯æ ‡å‡† {} æä¾›åˆ—è¡¨åˆå§‹åŒ–çš„åŠŸèƒ½ï¼Œæœ€ç»ˆè°ƒç”¨çš„æ˜¯æ„é€ å‡½æ•° 1 2 Point{} // è°ƒç”¨çš„æ˜¯Point::Point()æ„é€ å‡½æ•° Point{x, y} // å—²ç”¨çš„æ˜¯Point::Point(x, y)æ„é€ å‡½æ•° æ„é€ ä¸€ä¸ªåŒ¿åçš„ç±»ç›´æ¥ä½¿ç”¨Point{}å³å¯ï¼Œå®ƒè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä½†æ˜¯æ˜¯ä¸´æ—¶çš„ï¼Œå¹¶æ²¡æœ‰åå­—æŒ‡å‘å®ƒï¼Œè°ƒç”¨å®Œä¹‹åå†æ— æ³•æ‰¾åˆ°è¿™ä¸ªåŒ¿åç±»ã€‚ ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/:0:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph è¯­æ³•è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"CGraph ä¸­ä½¿ç”¨ 1 2 3 /* å®šä¹‰GElementPtrç±»å‹çš„å˜é‡ */ GElementPtr a, b, c, d = nullptr; status += pipeline-\u003eregisterGElement\u003cMyNode2\u003e(\u0026d, {b, c}, \"nodeD\"); // å°†åä¸ºnodeDï¼Œä¾èµ–{b,c}æ‰§è¡Œçš„nodeä¿¡æ¯ï¼Œæ³¨å†Œå…¥pipelineä¸­ å‡½æ•°åŸå‹ï¼š 1 2 3 4 5 template\u003ctypename T, CLevel level, c_enable_if_t\u003cstd::is_base_of\u003cGElement, T\u003e::value, int\u003e\u003e CStatus GPipeline::registerGElement(GElementPtr *elementRef, const GElementPtrSet \u0026dependElements, const std::string \u0026name, CSize loop) GElementPtrSet å®šä¹‰ï¼š 1 using GElementPtrSet = std::set\u003cGElementPtr\u003e; æ‰€ä»¥è¿™é‡Œ pipeline-\u003eregisterGElement\u003cMyNode2\u003e(\u0026d, {b, c}, \"nodeD\"); æ˜¯ä½¿ç”¨ b, c ç›´æ¥æ„é€ äº† GElementPtrSet ä½œä¸ºå‡½æ•°å‚æ•°ã€‚ [[nodiscard]] friend class ","date":"2023-01-30","objectID":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/:1:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶"],"title":"å¼€æºè½¯ä»¶:CGraph è¯­æ³•è§£é‡Š","uri":"/posts/open_source_software/parallel_computing/cgraph/cgraph-cgraph-%E8%AF%AD%E6%B3%95%E8%A7%A3%E9%87%8A/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ è®¤è¯† lambda Lambda è¯­æ³•åˆ†æ [å‡½æ•°å¯¹è±¡å‚æ•°] (æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) mutable æˆ– exception å£°æ˜ -\u003e è¿”å›å€¼ç±»å‹ {å‡½æ•°ä½“} ç¤ºä¾‹ ç¤ºä¾‹ 1 ç¤ºä¾‹ 2 ç¤ºä¾‹ 3 æ€»ç»“ èµ„æ–™ ä»£ç åŠç¼–è¯‘ è®¤è¯† lambda C++ 11 ä¸­çš„ Lambda è¡¨è¾¾å¼ç”¨äºå®šä¹‰å¹¶åˆ›å»ºåŒ¿åçš„å‡½æ•°å¯¹è±¡ï¼Œä»¥ç®€åŒ–ç¼–ç¨‹å·¥ä½œã€‚ Lambda çš„è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š 1 [å‡½æ•°å¯¹è±¡å‚æ•°] (æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) mutable æˆ– exception å£°æ˜ -\u003e è¿”å›å€¼ç±»å‹ {å‡½æ•°ä½“} å¯ä»¥çœ‹åˆ°ï¼ŒLambda ä¸»è¦åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼š[å‡½æ•°å¯¹è±¡å‚æ•°]ã€(æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°)ã€mutable æˆ– exception å£°æ˜ã€-\u003e è¿”å›å€¼ç±»å‹ã€{å‡½æ•°ä½“}. Lambda è¯­æ³•åˆ†æ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:0:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"[å‡½æ•°å¯¹è±¡å‚æ•°] æ ‡è¯†ä¸€ä¸ª Lambda è¡¨è¾¾å¼çš„å¼€å§‹ï¼Œè¿™éƒ¨åˆ†å¿…é¡»å­˜åœ¨ï¼Œä¸èƒ½çœç•¥ã€‚å‡½æ•°å¯¹è±¡å‚æ•°æ˜¯ä¼ é€’ç»™ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°å¯¹è±¡ç±»çš„æ„é€  å‡½æ•°çš„ã€‚å‡½æ•°å¯¹è±¡å‚æ•°åªèƒ½ä½¿ç”¨é‚£äº›åˆ°å®šä¹‰ Lambda ä¸ºæ­¢æ—¶ Lambda æ‰€åœ¨ä½œç”¨èŒƒå›´å†…å¯è§çš„å±€éƒ¨å˜é‡(åŒ…æ‹¬ Lambda æ‰€åœ¨ç±»çš„ this)ã€‚å‡½æ•°å¯¹è±¡å‚æ•°æœ‰ä»¥ä¸‹å½¢å¼ï¼š ç©ºã€‚æ²¡æœ‰ä»»ä½•å‡½æ•°å¯¹è±¡å‚æ•°ã€‚ =ã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨ Lambda æ‰€åœ¨èŒƒå›´å†…æ‰€æœ‰å¯è§çš„å±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬ Lambda æ‰€åœ¨ç±»çš„ thisï¼‰ï¼Œå¹¶ä¸”æ˜¯å€¼ä¼ é€’æ–¹å¼ï¼ˆç›¸å½“äºç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬æŒ‰å€¼ä¼ é€’äº†æ‰€æœ‰å±€éƒ¨å˜é‡ï¼‰ã€‚ \u0026ã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨ Lambda æ‰€åœ¨èŒƒå›´å†…æ‰€æœ‰å¯è§çš„å±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬ Lambda æ‰€åœ¨ç±»çš„ thisï¼‰ï¼Œå¹¶ä¸”æ˜¯å¼•ç”¨ä¼ é€’æ–¹å¼ï¼ˆç›¸å½“äºæ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬æŒ‰å¼•ç”¨ä¼ é€’äº†æ‰€æœ‰å±€éƒ¨å˜é‡ï¼‰ã€‚ thisã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨ Lambda æ‰€åœ¨ç±»ä¸­çš„æˆå‘˜å˜é‡ã€‚ aã€‚å°† a æŒ‰å€¼è¿›è¡Œä¼ é€’ã€‚æŒ‰å€¼è¿›è¡Œä¼ é€’æ—¶ï¼Œå‡½æ•°ä½“å†…ä¸èƒ½ä¿®æ”¹ä¼ é€’è¿›æ¥çš„ a çš„æ‹·è´ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹å‡½æ•°æ˜¯ const çš„ï¼Œè¦ ä¿®æ”¹ä¼ é€’è¿›æ¥çš„æ‹·è´ï¼Œå¯ä»¥æ·»åŠ  mutable ä¿®é¥°ç¬¦ã€‚ \u0026aã€‚å°† a æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ã€‚ aï¼Œ\u0026bã€‚å°† a æŒ‰å€¼ä¼ é€’ï¼Œb æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ã€‚ =ï¼Œ\u0026aï¼Œ\u0026bã€‚é™¤ a å’Œ b æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æŒ‰å€¼è¿›è¡Œä¼ é€’ã€‚ \u0026ï¼Œaï¼Œbã€‚é™¤ a å’Œ b æŒ‰å€¼è¿›è¡Œä¼ é€’å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:1:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"(æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) æ ‡è¯†é‡è½½çš„ () æ“ä½œç¬¦çš„å‚æ•°ï¼Œæ²¡æœ‰å‚æ•°æ—¶ï¼Œè¿™éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚å‚æ•°å¯ä»¥é€šè¿‡æŒ‰å€¼ï¼ˆå¦‚: (a, b)ï¼‰å’ŒæŒ‰å¼•ç”¨ (å¦‚: (\u0026a, \u0026b)) ä¸¤ç§æ–¹å¼è¿›è¡Œä¼ é€’ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:2:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"mutable æˆ– exception å£°æ˜ è¿™éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚æŒ‰å€¼ä¼ é€’å‡½æ•°å¯¹è±¡å‚æ•°æ—¶ï¼ŒåŠ ä¸Š mutable ä¿®é¥°ç¬¦åï¼Œå¯ä»¥ä¿®æ”¹ä¼ é€’è¿›æ¥çš„æ‹·è´ï¼ˆæ³¨æ„æ˜¯èƒ½ä¿®æ”¹æ‹·è´ï¼Œè€Œä¸æ˜¯å€¼æœ¬èº«ï¼‰ã€‚exception å£°æ˜ç”¨äºæŒ‡å®šå‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æŠ›å‡ºæ•´æ•°ç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ throw(int)ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:3:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"-\u003e è¿”å›å€¼ç±»å‹ æ ‡è¯†å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼Œå½“è¿”å›å€¼ä¸º voidï¼Œæˆ–è€…å‡½æ•°ä½“ä¸­åªæœ‰ä¸€å¤„ return çš„åœ°æ–¹ï¼ˆæ­¤æ—¶ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›å€¼ç±»å‹ï¼‰æ—¶ï¼Œè¿™éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:4:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"{å‡½æ•°ä½“} æ ‡è¯†å‡½æ•°çš„å®ç°ï¼Œè¿™éƒ¨åˆ†ä¸èƒ½çœç•¥ï¼Œä½†å‡½æ•°ä½“å¯ä»¥ä¸ºç©ºã€‚ ç¤ºä¾‹ 1 2 3 4 [] (int x, int y) { return x + y; } // éšå¼è¿”å›ç±»å‹ [] (int\u0026 x) { ++x; } // æ²¡æœ‰ return è¯­å¥ -\u003e Lambda å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ 'void' [] () { ++global_x; } // æ²¡æœ‰å‚æ•°ï¼Œä»…è®¿é—®æŸä¸ªå…¨å±€å˜é‡ [] { ++global_x; } // ä¸ä¸Šä¸€ä¸ªç›¸åŒï¼Œçœç•¥äº† (æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) å¯ä»¥åƒä¸‹é¢è¿™æ ·æ˜¾ç¤ºæŒ‡å®šè¿”å›ç±»å‹ï¼š 1 [] (int x, int y) -\u003e int { int z = x + y; return z; } åœ¨è¿™ä¸ªä¾‹å­ä¸­åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶å˜é‡ z æ¥å­˜å‚¨ä¸­é—´å€¼ã€‚å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œè¿™ä¸ªä¸­é—´å€¼ä¸ä¼šä¿å­˜åˆ°ä¸‹æ¬¡è°ƒç”¨ã€‚ä»€ä¹ˆä¹Ÿä¸è¿”å›çš„Lambda å‡½æ•°å¯ä»¥çœç•¥è¿”å›ç±»å‹ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ -\u003e void å½¢å¼ã€‚ Lambda å‡½æ•°å¯ä»¥å¼•ç”¨åœ¨å®ƒä¹‹å¤–å£°æ˜çš„å˜é‡. è¿™äº›å˜é‡çš„é›†åˆå«åšä¸€ä¸ªé—­åŒ…. é—­åŒ…è¢«å®šä¹‰åœ¨ Lambda è¡¨è¾¾å¼å£°æ˜ä¸­çš„æ–¹æ‹¬å· [] å†…ã€‚è¿™ä¸ªæœºåˆ¶å…è®¸è¿™äº›å˜é‡è¢«æŒ‰å€¼æˆ–æŒ‰å¼•ç”¨æ•è·ã€‚å¦‚ä¸‹ä¾‹å­ï¼š 1 2 3 4 5 6 [] //æœªå®šä¹‰å˜é‡.è¯•å›¾åœ¨Lambdaå†…ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡éƒ½æ˜¯é”™è¯¯çš„. [x, \u0026y] //x æŒ‰å€¼æ•è·, y æŒ‰å¼•ç”¨æ•è·. [\u0026] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å¼•ç”¨æ•è· [=] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å€¼æ•è· [\u0026, x] //xæ˜¾å¼åœ°æŒ‰å€¼æ•è·. å…¶å®ƒå˜é‡æŒ‰å¼•ç”¨æ•è· [=, \u0026z] //zæŒ‰å¼•ç”¨æ•è·. å…¶å®ƒå˜é‡æŒ‰å€¼æ•è· ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:5:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"ç¤ºä¾‹ 1 1 2 3 4 5 6 7 std::vector\u003cint\u003e some_list; int total = 0; for (int i = 0; i \u003c 5; ++i) some_list.push_back(i); std::for_each(begin(some_list), end(some_list), [\u0026total](int x) { total += x; }); æ­¤ä¾‹è®¡ç®— list ä¸­æ‰€æœ‰å…ƒç´ çš„æ€»å’Œã€‚å˜é‡ total è¢«å­˜ä¸º Lambda å‡½æ•°é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚å› ä¸ºå®ƒæ˜¯æ ˆå˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰total å¼•ç”¨ï¼Œæ‰€ä»¥å¯ä»¥æ”¹å˜å®ƒçš„å€¼ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:6:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"ç¤ºä¾‹ 2 1 2 3 4 5 6 7 std::vector\u003cint\u003e some_list; int total = 0; int value = 5; std::for_each(begin(some_list), end(some_list), [\u0026, value, this](int x) { total += x * value * this-\u003esome_func(); }); æ­¤ä¾‹ä¸­ total ä¼šå­˜ä¸ºå¼•ç”¨, value åˆ™ä¼šå­˜ä¸€ä»½å€¼æ‹·è´ã€‚å¯¹ this çš„æ•è·æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒåªèƒ½æŒ‰å€¼æ•è·ã€‚this åªæœ‰å½“åŒ…å«å®ƒçš„æœ€é è¿‘å®ƒçš„å‡½æ•°ä¸æ˜¯é™æ€æˆå‘˜å‡½æ•°æ—¶æ‰èƒ½è¢«æ•è·ã€‚å¯¹ protect å’Œ private æˆå‘˜æ¥è¯´ï¼Œè¿™ä¸ª Lambda å‡½æ•°ä¸åˆ›å»ºå®ƒçš„æˆå‘˜å‡½æ•°æœ‰ç›¸åŒçš„è®¿é—®æ§åˆ¶ã€‚å¦‚æœ this è¢«æ•è·äº†ï¼Œä¸ç®¡æ˜¯æ˜¾å¼è¿˜æ˜¯éšå¼çš„ï¼Œé‚£ä¹ˆå®ƒçš„ç±»çš„ä½œç”¨åŸŸå¯¹ Lambda å‡½æ•°å°±æ˜¯å¯è§çš„ã€‚è®¿é—® this çš„æˆå‘˜ä¸å¿…ä½¿ç”¨ this-\u003e è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:7:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["cpp"],"content":"ç¤ºä¾‹ 3 æ³›å‹çš„ lambdaåœ¨ C++14 é‡Œï¼Œlambda è¡¨è¾¾å¼åˆå¤šäº†ä¸€é¡¹æ–°æœ¬é¢†ï¼Œå¯ä»¥å®ç°â€œæ³›å‹åŒ–â€ï¼Œç›¸å½“äºç®€åŒ–äº†çš„æ¨¡æ¿å‡½æ•°ï¼Œå…·ä½“è¯­æ³•è¿˜æ˜¯åˆ©ç”¨äº†â€œå¤šæ‰å¤šè‰ºâ€çš„ autoï¼š 1 2 3 4 5 6 7 8 9 10 auto f = [](const auto\u0026 x) // å‚æ•°ä½¿ç”¨autoå£°æ˜ï¼Œæ³›å‹åŒ– { return x + x; }; cout \u003c\u003c f(3) \u003c\u003c endl; // å‚æ•°ç±»å‹æ˜¯int cout \u003c\u003c f(0.618) \u003c\u003c endl; // å‚æ•°ç±»å‹æ˜¯double string str = \"matrix\"; cout \u003c\u003c f(str) \u003c\u003c endl; // å‚æ•°ç±»å‹æ˜¯string è¿™ä¸ªæ–°ç‰¹æ€§åœ¨å†™æ³›å‹å‡½æ•°çš„æ—¶å€™éå¸¸æ–¹ä¾¿ï¼Œæ‘†è„±äº†å†—é•¿çš„æ¨¡æ¿å‚æ•°å’Œå‡½æ•°å‚æ•°åˆ—è¡¨ã€‚å¦‚æœä½ æ„¿æ„çš„è¯ï¼Œå¯ä»¥å°è¯•åœ¨ä»Šåçš„ä»£ç é‡Œéƒ½ä½¿ç”¨ lambda æ¥ä»£æ›¿æ™®é€šå‡½æ•°ï¼Œèƒ½å¤Ÿå°‘å†™å¾ˆå¤šä»£ç ã€‚ æ€»ç»“ ä¸åŒç¼–è¯‘å™¨çš„å…·ä½“å®ç°å¯ä»¥æœ‰æ‰€ä¸åŒï¼Œä½†æœŸæœ›çš„ç»“æœæ˜¯: æŒ‰å¼•ç”¨æ•è·çš„ä»»ä½•å˜é‡ï¼ŒLambda å‡½æ•°å®é™…å­˜å‚¨çš„åº”è¯¥æ˜¯è¿™äº›å˜é‡åœ¨åˆ›å»ºè¿™ä¸ª Lambda å‡½æ•°çš„å‡½æ•°çš„æ ˆæŒ‡é’ˆï¼Œè€Œä¸æ˜¯ Lambda å‡½æ•°æœ¬èº«æ ˆå˜é‡çš„å¼•ç”¨ã€‚ä¸ç®¡æ€æ ·ï¼Œå› ä¸ºå¤§å¤šæ•° Lambda å‡½æ•°éƒ½å¾ˆå°ä¸”åœ¨å±€éƒ¨ä½œç”¨ä¸­ï¼Œä¸å€™é€‰çš„å†…è”å‡½æ•°å¾ˆç±»ä¼¼ï¼Œæ‰€ä»¥æŒ‰å¼•ç”¨æ•è·çš„é‚£äº›å˜é‡ä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸º lambda è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå˜é‡ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥â€œæŒ‰éœ€åˆ†é…â€ï¼Œéšæ—¶éšåœ°åœ¨è°ƒç”¨ç‚¹â€œå°±åœ°â€å®šä¹‰å‡½æ•°ï¼Œé™åˆ¶å®ƒçš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸï¼Œå®ç°å‡½æ•°çš„å±€éƒ¨åŒ–ã€‚ å¦‚æœä¸€ä¸ªé—­åŒ…å«æœ‰å±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼Œåœ¨è¶…å‡ºåˆ›å»ºå®ƒçš„ä½œç”¨åŸŸä¹‹å¤–çš„åœ°æ–¹è¢«ä½¿ç”¨çš„è¯ï¼Œè¿™ç§è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„! Lambda å‡½æ•°æ˜¯ä¸€ä¸ªä¾èµ–äºå®ç°çš„å‡½æ•°å¯¹è±¡ç±»å‹,è¿™ä¸ªç±»å‹çš„åå­—åªæœ‰ç¼–è¯‘å™¨çŸ¥é“. å¦‚æœç”¨æˆ·æƒ³æŠŠ lambda å‡½æ•°åšä¸ºä¸€ä¸ªå‚æ•°æ¥ä¼ é€’, é‚£ä¹ˆå½¢å‚çš„ç±»å‹å¿…é¡»æ˜¯æ¨¡æ¿ç±»å‹æˆ–è€…å¿…é¡»èƒ½åˆ›å»ºä¸€ä¸ª std::function ç±»ä¼¼çš„å¯¹è±¡å»æ•è· lambda å‡½æ•°.ä½¿ç”¨ auto å…³é”®å­—å¯ä»¥å¸®åŠ©å­˜å‚¨ lambda å‡½æ•°, 1 2 auto my_lambda_func = [\u0026](int x) { /* ... */ }; auto my_onheap_lambda_func = new auto([=](int x) { /* ... */ }); è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­, æŠŠåŒ¿åå‡½æ•°å­˜å‚¨åœ¨å˜é‡ã€æ•°ç»„æˆ– vector ä¸­,å¹¶æŠŠå®ƒä»¬å½“åšå‘½åå‚æ•°æ¥ä¼ é€’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 #include \u003cfunctional\u003e #include \u003cvector\u003e #include \u003ciostream\u003e double eval(std::function \u003cdouble(double)\u003e f, double x = 2.0) { return f(x); } int main() { //explicit type std::function\u003cdouble(double)\u003e f0 = [](double x){return 1;}; //auto (deduced) type same as before auto f1 = [](double x){return x;}; decltype(f0) fa[3] = {f0,f1,[](double x){return x*x;}}; //Something like NSt3__18functionIFddEEE std::cout \u003c\u003c typeid(decltype(f0)).name() \u003c\u003c std::endl; std::vector\u003cdecltype(f0)\u003e fv = {f0,f1}; fv.push_back ([](double x){return x*x;}); for(int i=0;i\u003cfv.size();i++) std::cout \u003c\u003c fv[i](2.0) \u003c\u003c std::endl; for(int i=0;i\u003c3;i++) std::cout \u003c\u003c fa[i](2.0) \u003c\u003c std::endl; for(auto \u0026f : fv) std::cout \u003c\u003c f(2.0) \u003c\u003c std::endl; for(auto \u0026f : fa) std::cout \u003c\u003c f(2.0) \u003c\u003c std::endl; std::cout \u003c\u003c eval(f0) \u003c\u003c std::endl; std::cout \u003c\u003c eval(f1) \u003c\u003c std::endl; std::cout \u003c\u003c eval([](double x){return x*x;}) \u003c\u003c std::endl; return 0; } ä¸€ä¸ªæ²¡æœ‰æŒ‡å®šä»»ä½•æ•è·çš„ lambda å‡½æ•°,å¯ä»¥æ˜¾å¼è½¬æ¢æˆä¸€ä¸ªå…·æœ‰ç›¸åŒå£°æ˜å½¢å¼å‡½æ•°æŒ‡é’ˆ.æ‰€ä»¥,åƒä¸‹é¢è¿™æ ·åšæ˜¯åˆæ³•çš„: 1 2 3 auto a_lambda_func = [](int x) { /* ... */ }; void (*func_ptr)(int) = a_lambda_func; func_ptr(4); // calls the lambda èµ„æ–™ C++ä¹‹Lambdaè¡¨è¾¾å¼ ç½—å‰‘é”‹çš„C++å®æˆ˜ç¬”è®° Cè¯­è¨€å®ç°C++å¤šæ€â€”â€”å‡½æ•°æŒ‡é’ˆ ä»£ç åŠç¼–è¯‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 #include\u003cfunctional\u003e #include\u003ciostream\u003e #include\u003cvector\u003e #include\u003calgorithm\u003e using namespace std; //lambdaè¡¨è¾¾å¼ç®€å•æ¡ˆä¾‹ int main(){ //[å‡½æ•°å¯¹è±¡å‚æ•°]ã€(æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°)ã€mutableæˆ–exceptionå£°æ˜ã€-\u003eè¿”å›å€¼ç±»å‹ã€{å‡½æ•°ä½“ } auto fun1 = []()-\u003e int{cout \u003c\u003c\"hellochina\"\u003c\u003cendl; return 0;}; fun1(); auto fun2 = [](int a,int b){return a +b; }; cout \u003c\u003cfun2(10, 9) \u003c\u003cendl; std::cin.get(); return 0; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 #include\u003cfunctional\u003e #include\u003ciostream\u003e #include\u003cvector\u003e #include\u003calgorithm\u003e using namespace std; //lambdaè¡¨è¾¾å¼ç®€å•æ¡ˆä¾‹ int main() { class __lambda_11_15 { public: inline int operator()() const { std::operator\u003c\u003c(std::cout, \"hellochina\").operator\u003c\u003c(std::endl); return 0; } using retType_11_15 = auto (*)() -\u003e int; inline operator retType_11_15 () const noexcept { return __invoke; }; private: static inline int __invoke() { std::operator\u003c\u003c(std::cout, \"hellochina\").operator\u003c\u003c(std::endl); return 0; } public: // inline /*constexpr */ __lambda_11_15(__lambda_11_15 \u0026\u0026) noexcept = default; }; __lambda_11_15 fun1 = __lambda_11_15(__lambda_11_15{}); fun1.operator()(); class __lambda_14_15 { public: inline int operator()(int a, int b) const { return a + b; } using retType_14_15 = int (*)(int, int); inline operator retType_14_15 () const noexcept { return __invoke; }; private: static inline int __invoke(int a, int b) { return a + b; } public: // inline /*constexpr */ __lambda_14_15(__lambda_14_15 \u0026\u0026) noexcept = default; }; __lambda_14_15 fun2 = __lambda_14_15(__lambda_14_15{}); std::cout.operator\u003c\u003c(fun2.operator()(10, 9)).operator\u003c\u003c(std::endl","date":"2023-01-30","objectID":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/:8:0","tags":["cpp"],"title":"C++:Lambdaè¡¨è¾¾å¼","uri":"/posts/program/cpp/c++lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç¡¬ä»¶ç¯å¢ƒ æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º æ›´æ”¹ç³»ç»Ÿè½¯ä»¶æº å®‰è£…Pythonå’Œpip å®‰è£…Nvidiaæ˜¾å¡é©±åŠ¨ å®‰è£…CUDA å®‰è£…CuDNN å®‰è£…Condaç¯å¢ƒ ä»€ä¹ˆæ˜¯Conda å®‰è£…conda conda ç®€å•ä½¿ç”¨ æµ‹è¯•ä¸€ä¸‹GPUè®­ç»ƒ ç¡¬ä»¶ç¯å¢ƒ å¤„ç†å™¨ï¼šAMDÂ® Ryzen 5 3600 6-core processor Ã— 12 æ˜¾å¡ï¼šNVIDIA Corporation TU104 [GeForce RTX 2060] å†…å­˜ï¼š16G DDR4 ç¡¬ç›˜ï¼š1T SSD ç³»ç»Ÿï¼šUbuntu 20.04.1 LTS æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:0:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ›´æ”¹ç³»ç»Ÿè½¯ä»¶æº å¤‡ä»½åŸæ¥çš„æºï¼š 1 cp /etc/apt/sources.list /etc/apt/sources.list.bak å°†æºçš„å†…å®¹è®¾ç½®ä¸ºé˜¿é‡Œäº‘é•œåƒï¼š 1 sudo vim /etc/apt/sources.list å†…å®¹æ”¹ä¸ºï¼š 1 deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse æ›´æ–°è½¯ä»¶åˆ—è¡¨ï¼š 1 2 sudo apt update sudo apt upgrade ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:1:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…Pythonå’Œpip Ubuntuç³»ç»Ÿé»˜è®¤è‡ªå¸¦pythonï¼Œæœ‰ç‰ˆæœ¬éœ€æ±‚çš„è¯ä¹Ÿå¯ä»¥è‡ªå·±å®‰è£…ä¸€ä¸‹ 1 sudo apt install python3sudo apt install python3-pip ä¸ç®¡æ˜¯ä¸æ˜¯è‡ªå·±å®‰è£…çš„pythonï¼Œæ›¿æ¢pythonçš„pipæºå»ºè®®æ˜¯ä¸€å®šæ“ä½œä¸€ä¸‹çš„ï¼Œpipå®‰è£…é€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼š 1 cd ~mkdir .pip ç›´æ¥æ–°å»ºå¹¶ç¼–è¾‘pip.confï¼š 1 sudo vim ~/.pip/pip.conf æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼ˆè¿™é‡Œç”¨çš„æ¸…åæºï¼Œä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹é˜¿é‡Œã€è±†ç“£ç­‰æºï¼‰ï¼š 1 [global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple/ [install]trusted-host = pypi.tuna.tsinghua.edu.cn æ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬ï¼Œpythonç›®å½•é»˜è®¤é“¾æ¥çš„æ˜¯python2ï¼Œè€Œç°åœ¨åŸºæœ¬éƒ½æ˜¯ç”¨python3å¼€å‘äº† 1 sudo apt install python-is-python3 ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:2:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…Nvidiaæ˜¾å¡é©±åŠ¨ æ‰“å¼€è½¯ä»¶å’Œæ›´æ–° é€‰æ‹©å®‰è£…Nvidiaå®˜æ–¹é©±åŠ¨ï¼ˆç¬¬äºŒä¸ªæ˜¯å¼€æºé©±åŠ¨ï¼‰ ç¦æ­¢nouveau é©±åŠ¨ 1 sudo gedit /etc/modprobe.d/blacklist.conf æ·»åŠ  1 2 3 4 5 blacklist nouveau blacklist lbm-nouveau options nouveau modeset=0 alias nouveau off alias lbm-nouveau off æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ›´æ–°ç³»ç»Ÿï¼Œæ¥ç¦ç”¨nouveau 1 sudo update-initramfs -u é‡å¯å®Œä¹‹åæ›´æ–°ä¸€ä¸‹è½¯ä»¶ï¼š 1 2 sudo apt update sudo apt upgrade æŸ¥çœ‹é©±åŠ¨ 1 nvidia-smi è¾“å‡ºï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 450.102.04 Driver Version: 450.102.04 CUDA Version: 11.0 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 GeForce RTX 2060 Off | 00000000:26:00.0 On | N/A | | 0% 41C P8 7W / 160W | 675MiB / 5931MiB | 7% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| | 0 N/A N/A 908 G /usr/lib/xorg/Xorg 53MiB | | 0 N/A N/A 1457 G /usr/lib/xorg/Xorg 219MiB | | 0 N/A N/A 1585 G /usr/bin/gnome-shell 178MiB | | 0 N/A N/A 31707 G ...cent\\WeChat\\WeChatApp.exe 10MiB | | 0 N/A N/A 37422 G ...AAAAAAAA== --shared-files 36MiB | | 0 N/A N/A 42882 G ...AAAAAAAAA= --shared-files 48MiB | | 0 N/A N/A 44445 G ...AAAAAAAAA= --shared-files 104MiB | | 0 N/A N/A 45053 G gnome-control-center 3MiB | +-----------------------------------------------------------------------------+ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:3:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…CUDA å»å®˜ç½‘ä¸‹è½½cudaå®‰è£…åŒ…ï¼šCUDA Toolkit 11.0 Download | NVIDIA Developer è¿è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1 2 3 wget http://developer.download.nvidia.com/compute/cuda/11.0.2/local_installers/cuda_11.0.2_450.51.05_linux.run chmod +x cuda_11.0.2_450.51.05_linux.run sudo sh ./cuda_11.0.2_450.51.05_linux.run æ ¹æ®ä¸Šå›¾æç¤ºéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼š 1 gedit ~/.bashrc å†æ–‡ä»¶æœ€ååŠ å…¥ä»¥ä¸‹è¯­å¥ï¼š 1 2 3 export CUDA_HOME=/usr/local/cuda-11.0 export LD_LIBRARY_PATH=${CUDA_HOME}/lib64 export PATH=${CUDA_HOME}/bin:${PATH} ç„¶åä½¿å…¶ç”Ÿæ•ˆï¼š 1 source ~/.bashrc å¯ä»¥ä½¿ç”¨å‘½ä»¤nvcc -VæŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š 1 2 3 4 5 nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2020 NVIDIA Corporation Built on Thu_Jun_11_22:26:38_PDT_2020 Cuda compilation tools, release 11.0, V11.0.194 Build cuda_11.0_bu.TC445_37.28540450_0 ä¹Ÿå¯ä»¥ç¼–è¯‘ä¸€ä¸ªç¨‹åºæµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ æ‰¾åˆ° NVIDIA_CUDA-11.0_Samples å®‰è£…ä½ç½® 1 locate NVIDIA_CUDA-11.0_Samples 1 2 3 cd NVIDIA_CUDA-11.0_Samples/1_Utilities/deviceQuery make ./deviceQuery è¾“å‡º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 ./deviceQuery Starting... CUDA Device Query (Runtime API) version (CUDART static linking) Detected 1 CUDA Capable device(s) Device 0: \"GeForce RTX 2060\" CUDA Driver Version / Runtime Version 11.0 / 11.0 CUDA Capability Major/Minor version number: 7.5 Total amount of global memory: 5931 MBytes (6219563008 bytes) (30) Multiprocessors, ( 64) CUDA Cores/MP: 1920 CUDA Cores GPU Max Clock rate: 1695 MHz (1.70 GHz) Memory Clock rate: 7001 Mhz Memory Bus Width: 192-bit L2 Cache Size: 3145728 bytes Maximum Texture Dimension Size (x,y,z) 1D=(131072), 2D=(131072, 65536), 3D=(16384, 16384, 16384) Maximum Layered 1D Texture Size, (num) layers 1D=(32768), 2048 layers Maximum Layered 2D Texture Size, (num) layers 2D=(32768, 32768), 2048 layers Total amount of constant memory: 65536 bytes Total amount of shared memory per block: 49152 bytes Total number of registers available per block: 65536 Warp size: 32 Maximum number of threads per multiprocessor: 1024 Maximum number of threads per block: 1024 Max dimension size of a thread block (x,y,z): (1024, 1024, 64) Max dimension size of a grid size (x,y,z): (2147483647, 65535, 65535) Maximum memory pitch: 2147483647 bytes Texture alignment: 512 bytes Concurrent copy and kernel execution: Yes with 3 copy engine(s) Run time limit on kernels: Yes Integrated GPU sharing Host Memory: No Support host page-locked memory mapping: Yes Alignment requirement for Surfaces: Yes Device has ECC support: Disabled Device supports Unified Addressing (UVA): Yes Device supports Managed Memory: Yes Device supports Compute Preemption: Yes Supports Cooperative Kernel Launch: Yes Supports MultiDevice Co-op Kernel Launch: Yes Device PCI Domain ID / Bus ID / location ID: 0 / 38 / 0 Compute Mode: \u003c Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) \u003e deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 11.0, CUDA Runtime Version = 11.0, NumDevs = 1 Result = PASS ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:4:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…CuDNN è¿›å…¥åˆ°CUDNNçš„ä¸‹è½½å®˜ç½‘ï¼š cuDNN Download | NVIDIA Developerï¼Œç™»é™†ä¸‹è½½ ä¸‹è½½ä¹‹åæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå¯¹å®ƒè¿›è¡Œè§£å‹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1 tar -xzvf cudnn-11.0-linux-x64-v8.0.5.39.tgz ä½¿ç”¨ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤å¤åˆ¶è¿™äº›æ–‡ä»¶åˆ°CUDAç›®å½•ä¸‹ï¼š 1 sudo cp cuda/lib64/* /usr/local/cuda-11.0/lib64/ sudo cp cuda/include/* /usr/local/cuda-11.0/include/ æ‹·è´å®Œæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹CUDNNçš„ç‰ˆæœ¬ä¿¡æ¯ï¼š 1 cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2 è¾“å‡º 1 2 3 4 5 6 7 #define CUDNN_MAJOR 8 #define CUDNN_MINOR 0 #define CUDNN_PATCHLEVEL 4 -- #define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL) #endif /* CUDNN_VERSION_H */ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:5:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…Condaç¯å¢ƒ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:6:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ä»€ä¹ˆæ˜¯Conda Condaæ˜¯Pythonä¸­ç”¨äºç®¡ç†åŒ…å’Œç¯å¢ƒçš„ä¸€å¤§åˆ©å™¨ã€‚ä½¿ç”¨Condaï¼Œæˆ‘ä»¬è¿˜å¯ä»¥éå¸¸ä¾¿åˆ©çš„ä½¿ç”¨æ•°æ®ç§‘å­¦ç›¸å…³çš„åŒ…ã€‚Condaå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œä»è€Œæ–¹ä¾¿çš„åº”ç”¨äºå¤šä¸ªé¡¹ç›®ä¸­ã€‚ Anacondaå®é™…ä¸Šæ˜¯ä¸€ä¸ªè½¯ä»¶çš„å‘è¡Œç‰ˆï¼Œé™„å¸¦äº†Condaã€pythonå’Œ150å¤šä¸ªç§‘å­¦è½¯ä»¶åŒ…åŠå…¶ç›¸å…³çš„åŒ…ã€‚Condaæ˜¯ä¸€ä¸ªåŒ…å’Œç¯å¢ƒç®¡ç†å™¨ã€‚Anacondaæ˜¯ä¸€ä¸ªæœ¬èº«å¾ˆå¤§ï¼ˆå¤§çº¦500Mï¼‰ï¼Œå› ä¸ºå®ƒé™„å¸¦äº†Pythonä¸­æœ€å¸¸è§çš„æ•°æ®ç§‘å­¦åŒ…ã€‚å¦‚æœæ‚¨ä¸éœ€è¦æ‰€æœ‰çš„è½¯ä»¶åŒ…ï¼Œæˆ–è€…éœ€è¦èŠ‚çœå¸¦å®½æˆ–å­˜å‚¨ç©ºé—´ï¼Œé‚£ä¹ˆä¹Ÿæœ‰minicondaï¼Œä¸€ä¸ªåªåŒ…å«condaå’Œpythonçš„å‘è¡Œç‰ˆã€‚æˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨Condaå®‰è£…ä»»ä½•å¯ç”¨çš„è½¯ä»¶åŒ…ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:6:1","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å®‰è£…conda åœ¨Anacondaå®˜ç½‘ä¸‹è½½Linuxå®‰è£…åŒ…ï¼šAnaconda | Individual Edition è¿è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š 1 2 chmod +x Anaconda3-2020.11-Linux-x86_64.sh ./Anaconda3-2020.11-Linux-x86_64.sh ä¸€è·¯æŒ‰ENTERç¡®è®¤ï¼Œç„¶åæ ¹æ®æç¤ºè¾“å…¥yesï¼Œè¿™é‡Œæˆ‘ä¸ºäº†ç›®å½•æ•´æ´ä¸å®‰è£…åœ¨é»˜è®¤è·¯å¾„ï¼Œè®¾ç½®ä¸ºä¸‹é¢çš„è·¯å¾„ï¼š/home/zyh/app/anaconda3 ç„¶åä¼šè¯¢é—®ä½ æ˜¯å¦è¦åˆå§‹åŒ–condaï¼Œè¾“å…¥yesç¡®è®¤ï¼Œé‡å¼€ç»ˆç«¯çª—å£ä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°condaç¯å¢ƒå¯ç”¨äº† ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:6:2","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"conda ç®€å•ä½¿ç”¨ **åŒ…ç®¡é‡Œ ** å½“æˆ‘ä»¬æˆåŠŸå®‰è£…anacondaåï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„ä½¿ç”¨condaæ¥è¿›è¡ŒåŒ…ç®¡ç†ã€‚ä¾‹å¦‚ï¼š 1 conda install numpy é™¤äº†æ¯æ¬¡å®‰è£…ä¸€ä¸ªåŒ…å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸€æ¬¡æ€§å®‰è£…å¤šä¸ªåŒ…ï¼Œä¾‹å¦‚ï¼š 1 conda install numpy pandas æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®‰è£…æŸä¸ªæŒ‡å®šç‰ˆæœ¬çš„åŒ…ï¼š 1 conda install numpy=1.10 Psï¼šä½¿ç”¨condaå®‰è£…æŒ‡å®šåŒ…æ—¶ï¼Œcondaå¯ä»¥è‡ªåŠ¨å¤„ç†ç›¸å…³çš„åŒ…ä¾èµ–ã€‚å‡è®¾æœ¬èº«æ²¡æœ‰å®‰è£…numpyæ—¶ï¼Œè‹¥æˆ‘ä»¬ä½¿ç”¨conda install scipyï¼Œåˆ™æ­¤æ—¶condaä¼šè‡ªåŠ¨å®‰è£…numpyï¼Œå› ä¸ºscipyæœ¬èº«ä¾èµ–numpyã€‚ æ­¤å¤–ï¼Œcondaè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å¸¸ç”¨å‘½ä»¤ï¼š åˆ é™¤æŸä¸ªåŒ…ï¼šconda remove package_name å‡çº§æŸä¸ªåŒ…ï¼šconda upgrade package_name å‡çº§å…¨éƒ¨åŒ…ï¼šconda upgrade --all æŸ¥çœ‹åŒ…åˆ—è¡¨ï¼šconda list æ¨¡ç³ŠæŸ¥è¯¢åŒ…ï¼šconda search 'keywords' **ç¯å¢ƒç®¡é‡Œ ** condaå¯ä»¥ç”¨äºåˆ›å»ºå¤šä¸ªç¯å¢ƒè€Œä»è¿›è¡Œé¡¹ç›®éš”ç¦»ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„ç¯å¢ƒçš„æ ¼å¼å¦‚ä¸‹ï¼š 1 conda create -n env_name list_of_packages å…¶ä¸­ï¼Œ-nåçš„å‚æ•°env_nameè¡¨ç¤ºç¯å¢ƒåç§°ã€‚ æ¥ç€å¯ä»¥è·Ÿç€0ä¸ªæˆ–å¤šä¸ªåŒ…åç§°ã€‚ ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹ï¼š 1 conda create -n my_env numpy è¡¨ç¤ºåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç¯å¢ƒï¼šmy_envã€‚å¹¶åŒæ—¶åœ¨è¯¥ç¯å¢ƒä¸­å®‰è£…ä¸€ä¸ªåŒ…ï¼šnumpyã€‚ æ­¤å¤–ï¼Œåœ¨åˆ›å»ºç¯å¢ƒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šPythonçš„ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼š 1 conda create -n my_env python=2.7 å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨condaå‘½ä»¤ä¸­ï¼Œå¢åŠ python=xçš„ä¿¡æ¯ç”¨äºæŒ‡å®šPythonçš„ç‰ˆæœ¬å·ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾çš„å®ç°åœ¨ä¸€å°æœºå™¨ä¸Šå…¼å®¹Python2å’ŒPython3äº†ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨condaåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç¯å¢ƒåï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›å…¥è¯¥ç¯å¢ƒï¼š 1 conda activate env_name æ­¤æ—¶ï¼Œå½“æˆ‘ä»¬è¿›è¡Œè¯¥ç¯å¢ƒåï¼Œå¯ä»¥çœ‹å‘½ä»¤è¡Œä¸­çš„å¼•å¯¼ç¬¦ä¸­å·²ç»æç¤ºå‡ºäº†å½“å‰æ‰€å±çš„condaç¯å¢ƒï¼š 1 conda list æƒ³è¦ç¦»å¼€å½“å‰ç¯å¢ƒæ—¶ï¼Œåˆ™åªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š 1 conda deactivate ç¯å¢ƒçš„ä¿å­˜ä¸åŠ è½½ å¯¹äºcondaç¯å¢ƒï¼Œå…¶æœ‰ç€ä¸€ä¸ªå¦‚ä¸‹ç‰¹æ€§ï¼šç¯å¢ƒå…±äº«ã€‚ é€šè¿‡ä»¥é…ç½®æ–‡ä»¶çš„å½¢å¼å¯ä»¥ä¿å­˜ç¯å¢ƒç›¸å…³çš„å…¨éƒ¨ä¿¡æ¯ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å°†ç›¸å…³çš„ç¯å¢ƒä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªyamlæ–‡ä»¶ä¸­ï¼š 1 conda env export \u003e env.yaml æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å°†å½“å‰ç¯å¢ƒç›¸å…³çš„ä¿¡æ¯å…¨éƒ¨å­˜å‚¨åœ¨env.yamlæ–‡ä»¶ä¸­ã€‚å½“æˆ‘ä»¬å¸Œæœ›åœ¨å…¶ä»–æœºå™¨ä¸­åˆ›å»ºä¸€ä¸ªç›¸åŒçš„ç¯å¢ƒæ—¶ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1 conda env create -f env.yaml å½“ä½ ä¸è®°å¾—åœ¨å½“å‰æœºå™¨ä¸Šå­˜åœ¨å“ªäº›condaç¯å¢ƒæ—¶ï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åˆ—å‡ºå…¨éƒ¨ç¯å¢ƒï¼š 1 conda env list æ­¤æ—¶ï¼Œ*å·æ‰€åœ¨çš„è¡Œè¡¨ç¤ºå½“å‰æ‰€å±çš„ç¯å¢ƒã€‚ å½“æŸä¸ªç¯å¢ƒæˆ‘ä»¬ä¸å†éœ€è¦æ—¶ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥åˆ é™¤è¯¥ç¯å¢ƒï¼š 1 conda env remove -n env_name æµ‹è¯•ä¸€ä¸‹GPUè®­ç»ƒ æœ¬åœ°Condaç¯å¢ƒæ–¹å¼ ç”¨condaæ–°å»ºä¸€ä¸ªpython3.8+pytorch1.7+cuda11.0çš„è™šæ‹Ÿç¯å¢ƒï¼š 1 conda create --name python_38-pytorch_1.7.0 python=3.8 1 2 3 4 5 6 7 8 # # To activate this environment, use # # $ conda activate python_38-pytorch_1.7.0 # # To deactivate an active environment, use # # $ conda deactivate è¿›å…¥ç¯å¢ƒ 1 conda activate python_38-pytorch_1.7.0 æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦åˆ‡æ¢åˆ°æ‰€éœ€ç¯å¢ƒäº† 1 which pip å¦‚æœçœ‹åˆ°ä½¿ç”¨çš„ç¡®å®æ˜¯æˆ‘ä»¬è®¾ç½®çš„ç¯å¢ƒç›®å½•ä¸­çš„pipçš„è¯è¯´æ˜å°±okã€‚ æ¥ä¸‹æ¥åœ¨ç¯å¢ƒä¸­å®‰è£…pytorchï¼Œå¯ä»¥å‚è€ƒå®˜ç½‘çš„å®‰è£…å‘½ä»¤ï¼šStart Locally | PyTorch è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1 pip install torch==1.7.0+cu110 torchvision==0.8.1+cu110 torchaudio===0.7.0 -f https://download.pytorch.org/whl/torch_stable.html ç¯å¢ƒé…ç½®å°±å®Œæˆäº†ï¼Œä¸‹é¢æ–°å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½ï¼Œæ–°å»ºmnist_train.pyï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 import argparse import torch import torch.nn as nn import torch.nn.functional as F import torch.optim as optim from torchvision import datasets, transforms class Net(nn.Module): def __init__(self): super(Net, self).__init__() self.conv1 = nn.Conv2d(1, 20, 5, 1) self.conv2 = nn.Conv2d(20, 50, 5, 1) self.fc1 = nn.Linear(4 * 4 * 50, 500) self.fc2 = nn.Linear(500, 10) def forward(self, x): x = F.relu(self.conv1(x)) x = F.max_pool2d(x, 2, 2) x = F.relu(self.conv2(x)) x = F.max_pool2d(x, 2, 2) x = x.view(-1, 4 * 4 * 50) x = F.relu(self.fc1(x)) x = self.fc2(x) return F.log_softmax(x, dim=1) def train(args, model, device, train_loader, optimizer, epoch): model.train() for batch_idx, (data, target) in enumerate(train_loader): data, target = data.to(device), target.to(device) optimizer.zero_grad() output = model(data) loss = F.nll_loss(output, target) loss.backward() optimizer.step() if batch_idx % args.log_interval == 0: print('Train Epoch: {} [{}/{} ({:.0f}%)]\\tLoss: {:.6f}'.format( epoch, batch_idx * len(data), len(train_loader.dataset), 100. * batch_idx / len(train_loader), loss.item())) def test(args, model, device, test_loader): model.eval() test_loss = 0 correct = 0 with torch.no_grad(): for data, target in test_loader: data, target = data.to(device), target.to(device) output = model(data) # sum up batch loss test_loss += F.nll_loss(output, target, reduction='sum').item() # get the index of the max log-probability pred = output.argmax(dim=1, keepdim=True) correct += pred.eq(target.view_as(pred)).sum().item() test_loss /= len(test_loader.dataset) print('\\nTest set: Average loss: {:.4f}, Accuracy: {}/{} ({:.0f}%)\\n'.format( t","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:6:3","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç¡¬ä»¶ç¯å¢ƒ æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»ºdocker Docker NVIDIA Docker å®‰è£… DockeråŸºæœ¬ä½¿ç”¨ å¯åŠ¨å·²åœæ­¢è¿è¡Œçš„å®¹å™¨ åœæ­¢ä¸€ä¸ªå®¹å™¨ è¿›å…¥å®¹å™¨ å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨ åˆ é™¤å®¹å™¨ docker è®­ç»ƒæ¨¡å‹ ç¡¬ä»¶ç¯å¢ƒ å¤„ç†å™¨ï¼šAMDÂ® Ryzen 5 3600 6-core processor Ã— 12 æ˜¾å¡ï¼šNVIDIA Corporation TU104 [GeForce RTX 2060] å†…å­˜ï¼š16G DDR4 ç¡¬ç›˜ï¼š1T SSD ç³»ç»Ÿï¼šUbuntu 20.04.1 LTS æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»ºdocker ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:0:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"Docker Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº goè¯­è¨€å¹¶éµä» Apache2.0 åè®®å¼€æºã€‚ Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚ å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:1:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"NVIDIA Docker å®‰è£… dockerå®‰è£… å®˜ç½‘ä¸Šæœ‰è¯¦ç»†çš„ä»‹ç»ï¼šInstall Docker Engine on Ubuntudocs.docker.com æˆ–è€…è¿è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š 1 2 3 4 sudo apt-get updatesudo apt-get install docker.io systemctl start docker systemctl enable docker å¯ä»¥è¿è¡Œè¿™æ¡å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š 1 docker version å®‰è£…NVIDIA Container Toolkit NVIDIA/nvidia-docker 1 2 3 4 #é¦–å…ˆè¦ç¡®ä¿å·²ç»å®‰è£…äº† nvidia driver # 2. æ·»åŠ æº distribution=$(. /etc/os-release;echo $ID$VERSION_ID) curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list # 2. å®‰è£…å¹¶é‡å¯ sudo apt-get update \u0026\u0026 sudo apt-get install -y nvidia-container-toolkit sudo systemctl restart docker 1 sudo docker run -it --name test_nvidia_docker --gpus all nvidia/cuda:11.0-base å…¶ä¸­æœ€åçš„å‚æ•°nvidia/cuda:11.0-base æ˜¯Nvidiaå®˜æ–¹çš„é•œåƒï¼Œéœ€è¦æ ¹æ®å·¥ä½œç«™ä¸»æœºä¸­å®é™…å®‰è£…çš„cudaç‰ˆæœ¬è¿›è¡Œä¿®æ”¹ï¼Œç‰ˆæœ¬å¯ä»¥ç”¨nvcc -VæŸ¥çœ‹ã€‚ è¿›å…¥å®¹å™¨ä¹‹åå¯ä»¥è·‘ä¸€ä¸‹nvidia-smiå‘½ä»¤çœ‹çœ‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Mon Jan 18 22:59:37 2021 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 450.102.04 Driver Version: 450.102.04 CUDA Version: 11.0 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 GeForce RTX 2060 Off | 00000000:26:00.0 On | N/A | | 0% 41C P8 8W / 160W | 947MiB / 5931MiB | 5% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| +-----------------------------------------------------------------------------+ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:2:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"DockeråŸºæœ¬ä½¿ç”¨ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:0","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å¯åŠ¨å·²åœæ­¢è¿è¡Œçš„å®¹å™¨ æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤å¦‚ä¸‹ï¼š 1 $ docker ps -a ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å¤§å›¾ï¼š 1 2 3 CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e8240c787e2f nvidia/cuda:11.0-base \"/bin/bash\" 26 minutes ago Exited (0) 52 seconds ago train_mnist ae3d00922c08 nvidia/cuda:11.0-base \"/bin/bash\" 37 hours ago Exited (0) 37 hours ago test_nvidia_docker ä½¿ç”¨ docker start å¯åŠ¨ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨ï¼š 1 $ docker start ae3d00922c08 1 2 zyh@zyh:~$ sudo docker start ae3d00922c08 ae3d00922c08 ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:1","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"åœæ­¢ä¸€ä¸ªå®¹å™¨ åœæ­¢å®¹å™¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š 1 $ docker stop \u003cå®¹å™¨ ID\u003e åœæ­¢çš„å®¹å™¨å¯ä»¥é€šè¿‡ docker restart é‡å¯ï¼š 1 $ docker restart \u003cå®¹å™¨ ID\u003e ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:2","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"è¿›å…¥å®¹å™¨ åœ¨ä½¿ç”¨ -d å‚æ•°æ—¶ï¼Œå®¹å™¨å¯åŠ¨åä¼šè¿›å…¥åå°ã€‚æ­¤æ—¶æƒ³è¦è¿›å…¥å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è¿›å…¥ï¼š docker attach docker execï¼šæ¨èå¤§å®¶ä½¿ç”¨ docker exec å‘½ä»¤ï¼Œå› ä¸ºæ­¤é€€å‡ºå®¹å™¨ç»ˆç«¯ï¼Œä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚ attach å‘½ä»¤ ä¸‹é¢æ¼”ç¤ºäº†ä½¿ç”¨ docker attach å‘½ä»¤ã€‚ 1 $ docker attach e8240c787e2f æ³¨æ„ï¼š å¦‚æœä»è¿™ä¸ªå®¹å™¨é€€å‡ºï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚ exec å‘½ä»¤ ä¸‹é¢æ¼”ç¤ºäº†ä½¿ç”¨ docker exec å‘½ä»¤ã€‚ 1 docker exec -it e8240c787e2f /bin/bash æ³¨æ„ï¼š å¦‚æœä»è¿™ä¸ªå®¹å™¨é€€å‡ºï¼Œå®¹å™¨ä¸ä¼šåœæ­¢ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¨èå¤§å®¶ä½¿ç”¨ docker exec çš„åŸå› ã€‚ æ›´å¤šå‚æ•°è¯´æ˜è¯·ä½¿ç”¨ docker exec â€“help å‘½ä»¤æŸ¥çœ‹ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:3","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨ å¯¼å‡ºå®¹å™¨ å¦‚æœè¦å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ docker export å‘½ä»¤ã€‚ 1 $ docker export e8240c787e2f \u003e train_mnist.tar å¯¼å‡ºå®¹å™¨ e8240c787e2f å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶ train_mnist.tarã€‚ è¿™æ ·å°†å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶ã€‚ å¯¼å…¥å®¹å™¨å¿«ç…§ å¯ä»¥ä½¿ç”¨ docker import ä»å®¹å™¨å¿«ç…§æ–‡ä»¶ä¸­å†å¯¼å…¥ä¸ºé•œåƒï¼Œä»¥ä¸‹å®ä¾‹å°†å¿«ç…§æ–‡ä»¶ ubuntu.tar å¯¼å…¥åˆ°é•œåƒ test/ubuntu:v1: 1 $ cat docker/train_mnist.tar | docker import - test/train_mnist:v1 æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•æ¥å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š 1 $ docker import http://example.com/exampleimage.tgz example/imagerepo ","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:4","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"åˆ é™¤å®¹å™¨ åˆ é™¤å®¹å™¨ä½¿ç”¨ docker rm å‘½ä»¤ï¼š 1 $ docker rm -f ae3d00922c08 ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æ¸…ç†æ‰æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ 1 $ docker container prune æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°docker æŸ¥æ‰¾å®¹å™¨ 1 docker ps -a 1 2 CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e8240c787e2f nvidia/cuda:11.0-base \"/bin/bash\" 42 minutes ago Up 8 minutes train_mnist ç¡®å®šæˆ‘ä»¬çš„å®¹å™¨åï¼Œå¹¶è·å–å®¹å™¨é•¿ID 1 docker inspect -f '{{.ID}}' train_mnist 1 2 zyh@zyh:~/temp$ sudo docker inspect -f '{{.ID}}' train_mnist e8240c787e2fde06a3f1066db71bc63cb52514c3cb0175d51713f248a2e2b56c å¤åˆ¶æ–‡ä»¶ 1 sudo docker cp /home/zyh/temp/cuda_11.0.2_450.51.05_linux.run e8240c787e2fde06a3f1066db71bc63cb52514c3cb0175d51713f248a2e2b56c:/home/zyh docker è®­ç»ƒæ¨¡å‹ åˆ›å»ºdocker 1 2 3 4 5 sudo docker run -it --name train_mnist \\ -v /etc/timezone:/etc/timezone \\ -v /etc/localtime:/etc/localtime \\ -v /home/zyh/WorkSpace/_share:/home/workspace/_share \\ --gpus all nvidia/cuda:11.0-base æŸ¥çœ‹ nvidia é©±åŠ¨ 1 nvidia-smi å®‰è£… cuda 1 sudo sh ./cuda_11.0.2_450.51.05_linux.run é…ç½®ç¯å¢ƒå˜é‡ 1 2 3 4 5 6 7 vim ~/.bashrc export CUDA_HOME=/usr/local/cuda-11.0 export LD_LIBRARY_PATH=${CUDA_HOME}/lib64 export PATH=${CUDA_HOME}/bin:${PATH} source ~/.bashrc æŸ¥çœ‹å®‰è£…ç‰ˆæœ¬ 1 nvcc -V å®‰è£… CuDNN 1 2 3 4 tar -xzvf cudnn-11.0-linux-x64-v8.0.5.39.tgz sudo cp cuda/lib64/* /usr/local/cuda-11.0/lib64/ sudo cp cuda/include/* /usr/local/cuda-11.0/include/ æŸ¥çœ‹ CUDNNçš„ç‰ˆæœ¬ 1 cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2 å®‰è£…conda 1 2 3 chmod +x Anaconda3-2020.11-Linux-x86_64.sh ./Anaconda3-2020.11-Linux-x86_64.sh æµ‹è¯• åˆ›å»º python3.8+pytorch1.7+cuda11.0çš„è™šæ‹Ÿç¯å¢ƒ 1 conda create --name python_38-pytorch_1.7.0 python=3.8 è¿›å…¥ç¯å¢ƒ 1 conda activate python_38-pytorch_1.7.0 å®‰è£…pytorch 1 pip install torch==1.7.0+cu110 torchvision==0.8.1+cu110 torchaudio===0.7.0 -f https://download.pytorch.org/whl/torch_stable.html æµ‹è¯•æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 import argparse import torch import torch.nn as nn import torch.nn.functional as F import torch.optim as optim from torchvision import datasets, transforms class Net(nn.Module): def __init__(self): super(Net, self).__init__() self.conv1 = nn.Conv2d(1, 20, 5, 1) self.conv2 = nn.Conv2d(20, 50, 5, 1) self.fc1 = nn.Linear(4 * 4 * 50, 500) self.fc2 = nn.Linear(500, 10) def forward(self, x): x = F.relu(self.conv1(x)) x = F.max_pool2d(x, 2, 2) x = F.relu(self.conv2(x)) x = F.max_pool2d(x, 2, 2) x = x.view(-1, 4 * 4 * 50) x = F.relu(self.fc1(x)) x = self.fc2(x) return F.log_softmax(x, dim=1) def train(args, model, device, train_loader, optimizer, epoch): model.train() for batch_idx, (data, target) in enumerate(train_loader): data, target = data.to(device), target.to(device) optimizer.zero_grad() output = model(data) loss = F.nll_loss(output, target) loss.backward() optimizer.step() if batch_idx % args.log_interval == 0: print('Train Epoch: {} [{}/{} ({:.0f}%)]\\tLoss: {:.6f}'.format( epoch, batch_idx * len(data), len(train_loader.dataset), 100. * batch_idx / len(train_loader), loss.item())) def test(args, model, device, test_loader): model.eval() test_loss = 0 correct = 0 with torch.no_grad(): for data, target in test_loader: data, target = data.to(device), target.to(device) output = model(data) # sum up batch loss test_loss += F.nll_loss(output, target, reduction='sum').item() # get the index of the max log-probability pred = output.argmax(dim=1, keepdim=True) correct += pred.eq(target.view_as(pred)).sum().item() test_loss /= len(test_loader.dataset) print('\\nTest set: Average loss: {:.4f}, Accuracy: {}/{} ({:.0f}%)\\n'.format( test_loss, correct, len(test_loader.dataset), 100. * correct / len(test_loader.dataset))) def main(): parser = argparse.ArgumentParser(description='PyTorch MNIST Example') parser.add_argument('--batch-size', type=int, default=64, metavar='N', help='","date":"2023-01-30","objectID":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/:3:5","tags":["ç¯å¢ƒæ­å»º"],"title":"DL:æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒæ­å»º(docker)","uri":"/posts/computer_vision/deeplearning/01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAdocker/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"realsense(D450)æ·±åº¦å¯¹é½ä¼˜åŒ–","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E6%B7%B1%E5%BA%A6%E5%AF%B9%E9%BD%90/","tags":["camera"],"title":"camera:realsense(D450)æ·±åº¦å¯¹é½ä¼˜åŒ–","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E6%B7%B1%E5%BA%A6%E5%AF%B9%E9%BD%90/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ SDK ä¸­çš„å¯¹é½å®ç° è½¬åŒ–ä¸ºopencv Matæ ¼å¼ realsense å¯¹é½æµç¨‹ SDK ä¸­çš„å¯¹é½å®ç° æºç ä½ç½® align_z_to_other 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 void align::align_z_to_other(rs2::video_frame\u0026 aligned, const rs2::video_frame\u0026 depth, const rs2::video_stream_profile\u0026 other_profile, float z_scale) { byte* aligned_data = reinterpret_cast\u003cbyte*\u003e(const_cast\u003cvoid*\u003e(aligned.get_data())); auto aligned_profile = aligned.get_profile().as\u003crs2::video_stream_profile\u003e(); memset(aligned_data, 0, aligned_profile.height() * aligned_profile.width() * aligned.get_bytes_per_pixel()); auto depth_profile = depth.get_profile().as\u003crs2::video_stream_profile\u003e(); auto z_intrin = depth_profile.get_intrinsics(); auto other_intrin = other_profile.get_intrinsics(); auto z_to_other = depth_profile.get_extrinsics_to(other_profile); auto z_pixels = reinterpret_cast\u003cconst uint16_t*\u003e(depth.get_data()); auto out_z = (uint16_t *)(aligned_data); align_images(z_intrin, z_to_other, other_intrin, [z_pixels, z_scale](int z_pixel_index) { return z_scale * z_pixels[z_pixel_index]; }, [out_z, z_pixels](int z_pixel_index, int other_pixel_index) { out_z[other_pixel_index] = out_z[other_pixel_index] ? std::min((int)out_z[other_pixel_index], (int)z_pixels[z_pixel_index]) : z_pixels[z_pixel_index]; }); } align_images 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 template\u003cclass GET_DEPTH, class TRANSFER_PIXEL\u003e void align_images(const rs2_intrinsics\u0026 depth_intrin, const rs2_extrinsics\u0026 depth_to_other, const rs2_intrinsics\u0026 other_intrin, GET_DEPTH get_depth, TRANSFER_PIXEL transfer_pixel) { // Iterate over the pixels of the depth image #pragma omp parallel for schedule(dynamic) for (int depth_y = 0; depth_y \u003c depth_intrin.height; ++depth_y) { int depth_pixel_index = depth_y * depth_intrin.width; for (int depth_x = 0; depth_x \u003c depth_intrin.width; ++depth_x, ++depth_pixel_index) { // Skip over depth pixels with the value of zero, we have no depth data so we will not write anything into our aligned images if (float depth = get_depth(depth_pixel_index)) { // Map the top-left corner of the depth pixel onto the other image float depth_pixel[2] = { depth_x - 0.5f, depth_y - 0.5f }, depth_point[3], other_point[3], other_pixel[2]; rs2_deproject_pixel_to_point(depth_point, \u0026depth_intrin, depth_pixel, depth); rs2_transform_point_to_point(other_point, \u0026depth_to_other, depth_point); rs2_project_point_to_pixel(other_pixel, \u0026other_intrin, other_point); const int other_x0 = static_cast\u003cint\u003e(other_pixel[0] + 0.5f); const int other_y0 = static_cast\u003cint\u003e(other_pixel[1] + 0.5f); // Map the bottom-right corner of the depth pixel onto the other image depth_pixel[0] = depth_x + 0.5f; depth_pixel[1] = depth_y + 0.5f; rs2_deproject_pixel_to_point(depth_point, \u0026depth_intrin, depth_pixel, depth); rs2_transform_point_to_point(other_point, \u0026depth_to_other, depth_point); rs2_project_point_to_pixel(other_pixel, \u0026other_intrin, other_point); const int other_x1 = static_cast\u003cint\u003e(other_pixel[0] + 0.5f); const int other_y1 = static_cast\u003cint\u003e(other_pixel[1] + 0.5f); if (other_x0 \u003c 0 || other_y0 \u003c 0 || other_x1 \u003e= other_intrin.width || other_y1 \u003e= other_intrin.height) continue; // Transfer between the depth pixels and the pixels inside the rectangle on the other image for (int y = other_y0; y \u003c= other_y1; ++y) { for (int x = other_x0; x \u003c= other_x1; ++x) { transfer_pixel(depth_pixel_index, y * other_intrin.width + x); } } } } } } ç›®çš„ï¼šå°†æ·±åº¦åæ ‡ç³»ä¸‹çš„ç‚¹è½¬æ¢åˆ°å½©è‰²åæ ‡ç³»ä¸‹ åŸºæœ¬æ­¥éª¤ï¼š ï¼ˆ1ï¼‰å°†æ·±åº¦å›¾çš„åƒç´ ç‚¹è¿˜åŸåˆ°æ·±åº¦åæ ‡ç³»ä¸‹ ï¼ˆ2ï¼‰æ·±åº¦åæ ‡ç³»ä¸‹çš„æ·±åº¦ç‚¹è¿˜åŸåˆ°ä¸–ç•Œåæ ‡ç³» ï¼ˆ3ï¼‰ä¸–ç•Œåæ ‡ç³»çš„æ·±åº¦ç‚¹è½¬æ¢åˆ°å½©è‰²åæ ‡ç³»ä¸‹ ï¼ˆ4ï¼‰å½©è‰²åæ ‡ç³»çš„æ·±åº¦ç‚¹æ˜ å°„åˆ°Z=1çš„å¹³é¢ä¸Šï¼Œå³ä¸å½©è‰²å›¾åƒçš„åƒç´ ç‚¹å¯¹åº”èµ·æ¥ ç”±ç›®æ ‡åƒç´ åæ ‡å’Œæ·±åº¦å€¼ï¼ˆä½¿ç”¨å†…å‚INTRINSICSï¼‰è·å–ç›®æ ‡ç‚¹çš„çœŸå®åæ ‡åŸç†ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 //æ·±åº¦å›¾å¯¹é½åˆ°å½©è‰²å›¾å‡½æ•° Mat align_Depth2Color(Mat depth,Mat color,rs2::p","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E6%B7%B1%E5%BA%A6%E5%AF%B9%E9%BD%90/:0:0","tags":["camera"],"title":"camera:realsense(D450)æ·±åº¦å¯¹é½ä¼˜åŒ–","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E6%B7%B1%E5%BA%A6%E5%AF%B9%E9%BD%90/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å•ç›®ç›¸æœºæ ‡å®š","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç›¸æœºæ ‡å®šå†…å®¹ ç›¸æœºæ ‡å®šæ­¥éª¤ æå–è§’ç‚¹ æ£‹ç›˜æ ¼è§’ç‚¹æ£€æµ‹ å¯¹ç²—æå–çš„è§’ç‚¹è¿›è¡Œç²¾ç¡®åŒ– äºšåƒç´ æ£€æµ‹ æ£‹ç›˜æ ¼è§’ç‚¹çš„ç»˜åˆ¶ ç›¸æœºæ ‡å®š ç”Ÿæˆ objectPoints æ±‚ç›¸æœºçš„å†…å‚å¤–å‚ ç›¸æœºçŸ«æ­£ - è®¡ç®—æ— ç•¸å˜å’Œä¿®æ­£è½¬æ¢æ˜ å°„ remap ä»£ç å·¥ç¨‹ ç›¸æœºæ ‡å®šå†…å®¹ ç›¸æœºæ ‡å®šå³è·å–ç›¸æœºçš„å†…å‚,å¤–å‚å’Œç•¸å˜çŸ©é˜µç­‰ç›¸æœºå‚æ•° å†…å‚ ç›¸æœºå†…å‚çŸ©é˜µæ˜¯ç›¸æœºè‡ªèº«çš„å±æ€§ï¼Œå†…å‚åˆ†åˆ«ä¸ºï¼š f:ç„¦è·ï¼Œå•ä½æ¯«ç±³ï¼› fx:ä½¿ç”¨åƒç´ æ¥æè¿°xè½´æ–¹å‘ç„¦è·çš„é•¿åº¦ï¼› fy:ä½¿ç”¨åƒç´ æ¥æè¿°yè½´æ–¹å‘ç„¦è·çš„é•¿åº¦ u0,v0: ä¸»ç‚¹åæ ‡ï¼ˆç›¸å¯¹äºæˆåƒå¹³é¢ï¼‰ï¼Œå•ä½ä¹Ÿæ˜¯åƒç´ ï¼› Î³:ä¸ºåæ ‡è½´å€¾æ–œå‚æ•°ï¼Œç†æƒ³æƒ…å†µä¸‹ä¸º0ï¼› å¤–å‚ ç›¸æœºçš„æ—‹è½¬çŸ©é˜µRå’Œå¹³ç§»å‘é‡t æ—‹è½¬çŸ©é˜µï¼šæè¿°äº†ä¸–ç•Œåæ ‡ç³»çš„åæ ‡è½´ç›¸å¯¹äºæ‘„åƒæœºåæ ‡è½´çš„æ–¹å‘ å¹³ç§»çŸ©é˜µï¼šæè¿°äº†åœ¨æ‘„åƒæœºåæ ‡ç³»ä¸‹ï¼Œç©ºé—´åŸç‚¹çš„ä½ç½® ç•¸å˜å‚æ•° ç•¸å˜å‚æ•°ï¼šk1,k2,k3å¾„å‘ç•¸å˜ç³»æ•°ï¼Œp1,p2æ˜¯åˆ‡å‘ç•¸å˜ç³»æ•°ã€‚å¾„å‘ç•¸å˜å‘ç”Ÿåœ¨ç›¸æœºåæ ‡ç³»è½¬å›¾åƒç‰©ç†åæ ‡ç³»çš„è¿‡ç¨‹ä¸­ã€‚è€Œåˆ‡å‘ç•¸å˜æ˜¯å‘ç”Ÿåœ¨ç›¸æœºåˆ¶ä½œè¿‡ç¨‹ï¼Œå…¶æ˜¯ç”±äºæ„Ÿå…‰å…ƒå¹³é¢è·Ÿé€é•œä¸å¹³è¡Œã€‚å¾„å‘ç•¸å˜ï¼Œå³ç”±äºé€é•œçš„ä¸åŒåŒºåŸŸçš„ç„¦è·çš„ä¸åŒè€Œå¼•èµ·çš„ç•¸å˜ï¼Œåˆ†ä¸ºæ•å½¢ç•¸å˜å’Œæ¡¶å½¢ç•¸å˜å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¶Šé è¿‘é•œå¤´è¾¹ç¼˜ç•¸å˜è¶Šæ˜æ˜¾ã€‚ ç›¸æœºå†…å‚å’Œå¤–å‚çš„è§£é‡Š ç›¸æœºå†…å‚çš„æ ‡å®šæ–¹æ³• ç›¸æœºæ ‡å®šæ­¥éª¤ https://docs.opencv.org/3.4.0/d9/d0c/group__calib3d.html ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:0:0","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æå–è§’ç‚¹ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:1:0","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ£‹ç›˜æ ¼è§’ç‚¹æ£€æµ‹ 1 2 3 4 5 bool findChessboardCorners( InputArray image, Size patternSize, OutputArray corners, int flags = CALIB_CB_ADAPTIVE_THRESH + CALIB_CB_NORMALIZE_IMAGE ); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥çš„æ£‹ç›˜æ ¼å›¾åƒï¼ˆå¯ä»¥æ˜¯8ä½å•é€šé“æˆ–ä¸‰é€šé“å›¾åƒï¼‰ï¼› ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ£‹ç›˜æ ¼å†…éƒ¨çš„è§’ç‚¹çš„è¡Œåˆ—æ•°ï¼ˆæ³¨æ„ï¼šä¸æ˜¯æ£‹ç›˜æ ¼çš„è¡Œåˆ—æ•°ï¼Œå¦‚æ£‹ç›˜æ ¼çš„è¡Œåˆ—æ•°åˆ†åˆ«ä¸º4ã€8ï¼Œè€Œå†…éƒ¨è§’ç‚¹çš„è¡Œåˆ—æ•°åˆ†åˆ«æ˜¯3ã€7ï¼Œå› æ­¤è¿™é‡Œåº”è¯¥æŒ‡å®šä¸ºcv::Size(3, 7)ï¼‰ï¼› ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ£€æµ‹åˆ°çš„æ£‹ç›˜æ ¼è§’ç‚¹ï¼Œç±»å‹ä¸ºstd::vectorcv::Point2fã€‚ ç¬¬å››ä¸ªå‚æ•°flagï¼Œç”¨äºæŒ‡å®šåœ¨æ£€æµ‹æ£‹ç›˜æ ¼è§’ç‚¹çš„è¿‡ç¨‹ä¸­æ‰€åº”ç”¨çš„ä¸€ç§æˆ–å¤šç§è¿‡æ»¤æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¸€ç§æˆ–å¤šç§ï¼Œå¦‚æœéƒ½æ˜¯ç”¨åˆ™ä½¿ç”¨ORï¼š cv::CALIB_CB_ADAPTIVE_THRESHï¼šä½¿ç”¨è‡ªé€‚åº”é˜ˆå€¼å°†å›¾åƒè½¬åŒ–æˆäºŒå€¼å›¾åƒ cv::CALIB_CB_NORMALIZE_IMAGEï¼šå½’ä¸€åŒ–å›¾åƒç°åº¦ç³»æ•°(ç”¨ç›´æ–¹å›¾å‡è¡¡åŒ–æˆ–è€…è‡ªé€‚åº”é˜ˆå€¼) cv::CALIB_CB_FILTER_QUADSï¼šåœ¨è½®å»“æå–é˜¶æ®µï¼Œä½¿ç”¨é™„åŠ æ¡ä»¶æ’é™¤é”™è¯¯çš„å‡è®¾ cv::CALIB_CV_FAST_CHECKï¼šå¿«é€Ÿæ£€æµ‹ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:1:1","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å¯¹ç²—æå–çš„è§’ç‚¹è¿›è¡Œç²¾ç¡®åŒ– 1 2 3 bool find4QuadCornerSubpix( InputArray img, InputOutputArray corners, Size region_size ); imageæºå›¾åƒ cornersï¼Œæä¾›è§’ç‚¹çš„åˆå§‹åæ ‡ region_sizeï¼š æœç´¢çª—å£çš„ä¸€èˆ¬å°ºå¯¸\\ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:1:2","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"äºšåƒç´ æ£€æµ‹ 1 2 3 4 5 void cornerSubPix( InputArray image, InputOutputArray corners, Size winSize, Size zeroZone, TermCriteria criteria ); imageæºå›¾åƒ cornersï¼Œæä¾›è§’ç‚¹çš„åˆå§‹åæ ‡ï¼Œè¿”å›æ›´åŠ ç²¾ç¡®çš„ç‚¹ winSizeï¼Œæœç´¢çª—å£çš„ä¸€èˆ¬å°ºå¯¸ï¼Œå¦‚æœwinSize=Size(5,5),åˆ™search windowsä¸º11*11 winSize,æ­»åŒºçš„ä¸€èˆ¬å°ºå¯¸ï¼Œç”¨æ¥é¿å…è‡ªç›¸å…³çŸ©é˜µçš„å¥‡ç‚¹ï¼Œ(-1,-1)è¡¨ç¤ºæ²¡æœ‰æ­»åŒº criteriaï¼Œæ§åˆ¶è¿­ä»£æ¬¡æ•°å’Œç²¾åº¦ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:1:3","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ£‹ç›˜æ ¼è§’ç‚¹çš„ç»˜åˆ¶ 1 2 3 4 void drawChessboardCorners( InputOutputArray image, Size patternSize, InputArray corners, bool patternWasFound ); imageä¸º8-bitï¼Œä¸‰é€šé“å›¾åƒ patternSizeï¼Œæ¯ä¸€è¡Œæ¯ä¸€åˆ—çš„è§’ cornersï¼Œå·²ç»æ£€æµ‹åˆ°çš„è§’ patternWasFoundï¼ŒfindChessboardCornersçš„è¿”å›å€¼ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:1:4","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ç›¸æœºæ ‡å®š ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:2:0","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ç”Ÿæˆ objectPoints 1 2 3 4 5 6 7 8 9 10 11 12 13 14 void CCalibration::init3DPoints(cv::Size boardSize, cv::Size squareSize, vector\u003ccv::Point3f\u003e \u0026singlePatternPoint) { for (int i = 0; i \u003c boardSize.height; i++) { for (int j = 0; j \u003c boardSize.width; j++) { cv::Point3f tempPoint; //å•ä¸ªè§’ç‚¹çš„ä¸‰ç»´åæ ‡ tempPoint.x = float(i * squareSize.width); tempPoint.y = float(j * squareSize.height); tempPoint.z = 0; singlePatternPoint.push_back(tempPoint); } } } ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:2:1","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ±‚ç›¸æœºçš„å†…å‚å¤–å‚ 1 2 3 4 5 6 7 8 9 double calibrateCamera( InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints, Size imageSize, InputOutputArray cameraMatrix, InputOutputArray distCoeffs, OutputArrayOfArrays rvecs, OutputArrayOfArrays tvecs, int flags = 0, TermCriteria criteria = TermCriteria(TermCriteria::COUNT + TermCriteria::EPS, 30, DBL_EPSILON) ); objectPointsï¼Œä¸–ç•Œåæ ‡ï¼Œç”¨vectorï¼Œè¾“å…¥x,yåæ ‡ï¼Œzåæ ‡ä¸º0 imagePointsï¼Œå›¾åƒåæ ‡ï¼Œvector imageSizeï¼Œå›¾åƒçš„å¤§å°ç”¨äºåˆå§‹åŒ–æ ‡å®šæ‘„åƒæœºçš„imageçš„size cameraMatrixï¼Œå†…å‚æ•°çŸ©é˜µ distCoeffsï¼Œç•¸å˜çŸ©é˜µ rvecsï¼Œä½ç§»å‘é‡ tvecsï¼Œæ—‹è½¬å‘é‡ flagsï¼Œå¯ä»¥ç»„åˆï¼š CV_CALIB_USE_INTRINSIC_GUESSï¼šä½¿ç”¨è¯¥å‚æ•°æ—¶ï¼Œå°†åŒ…å«æœ‰æ•ˆçš„fx,fy,cx,cyçš„ä¼°è®¡å€¼çš„å†…å‚çŸ©é˜µcameraMatrixï¼Œä½œä¸ºåˆå§‹å€¼è¾“å…¥ï¼Œç„¶åå‡½æ•°å¯¹å…¶åšè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚å¦‚æœä¸ä½¿ç”¨è¿™ä¸ªå‚æ•°ï¼Œç”¨å›¾åƒçš„ä¸­å¿ƒç‚¹åˆå§‹åŒ–å…‰è½´ç‚¹åæ ‡(cx, cy)ï¼Œä½¿ç”¨æœ€å°äºŒä¹˜ä¼°ç®—å‡ºfxï¼Œfyï¼ˆè¿™ç§æ±‚æ³•å¥½åƒå’Œå¼ æ­£å‹çš„è®ºæ–‡ä¸ä¸€æ ·ï¼Œä¸çŸ¥é“ä¸ºä½•è¦è¿™æ ·å¤„ç†ï¼‰ã€‚æ³¨æ„ï¼Œå¦‚æœå·²çŸ¥å†…éƒ¨å‚æ•°ï¼ˆå†…å‚çŸ©é˜µå’Œç•¸å˜ç³»æ•°ï¼‰ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥ä¼°è®¡å¤–å‚ï¼Œå¯ä»¥ä½¿ç”¨solvepnp()å‡½æ•°è®¡ç®—å¤–å‚æ•°çŸ©é˜µã€‚ CV_CALIB_FIX_PRINCIPAL_POINTï¼šåœ¨è¿›è¡Œä¼˜åŒ–æ—¶ä¼šå›ºå®šå…‰è½´ç‚¹ï¼Œå…‰è½´ç‚¹å°†ä¿æŒä¸ºå›¾åƒçš„ä¸­å¿ƒç‚¹ã€‚å½“CV_CALIB_USE_INTRINSIC_GUESSå‚æ•°è¢«è®¾ç½®ï¼Œä¿æŒä¸ºè¾“å…¥çš„å€¼ã€‚ CV_CALIB_FIX_ASPECT_RATIOï¼šå›ºå®šfx/fyçš„æ¯”å€¼ï¼Œåªå°†fyä½œä¸ºå¯å˜é‡ï¼Œè¿›è¡Œä¼˜åŒ–è®¡ç®—ã€‚å½“ CV_CALIB_USE_INTRINSIC_GUESSæ²¡æœ‰è¢«è®¾ç½®ï¼Œfxå’Œfyçš„å®é™…è¾“å…¥å€¼å°†ä¼šè¢«å¿½ç•¥ï¼Œåªæœ‰fx/fyçš„æ¯”å€¼è¢«è®¡ç®—å’Œä½¿ç”¨ã€‚ CV_CALIB_ZERO_TANGENT_DISTï¼šåˆ‡å‘ç•¸å˜ç³»æ•°ï¼ˆP1ï¼ŒP2ï¼‰è¢«è®¾ç½®ä¸ºé›¶å¹¶ä¿æŒä¸ºé›¶ã€‚ CV_CALIB_FIX_K1,â€¦,CV_CALIB_FIX_K6ï¼šå¯¹åº”çš„å¾„å‘ç•¸å˜ç³»æ•°åœ¨ä¼˜åŒ–ä¸­ä¿æŒä¸å˜ã€‚å¦‚æœè®¾ç½®äº†CV_CALIB_USE_INTRINSIC_GUESSå‚æ•°ï¼Œå°±ä»æä¾›çš„ç•¸å˜ç³»æ•°çŸ©é˜µä¸­å¾—åˆ°ã€‚å¦åˆ™ï¼Œè®¾ç½®ä¸º0ã€‚ CV_CALIB_RATIONAL_MODELï¼ˆç†æƒ³æ¨¡å‹ï¼‰ï¼šå¯ç”¨ç•¸å˜k4ï¼Œk5ï¼Œk6ä¸‰ä¸ªç•¸å˜å‚æ•°ã€‚ä½¿æ ‡å®šå‡½æ•°ä½¿ç”¨æœ‰ç†æ¨¡å‹ï¼Œè¿”å›8ä¸ªç³»æ•°ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™åªè®¡ç®—å…¶å®ƒ5ä¸ªç•¸å˜å‚æ•°ã€‚ CALIB_THIN_PRISM_MODEL ï¼ˆè–„æ£±é•œç•¸å˜æ¨¡å‹ï¼‰ï¼šå¯ç”¨ç•¸å˜ç³»æ•°S1ã€S2ã€S3å’ŒS4ã€‚ä½¿æ ‡å®šå‡½æ•°ä½¿ç”¨è–„æ£±æŸ±æ¨¡å‹å¹¶è¿”å›12ä¸ªç³»æ•°ã€‚å¦‚æœä¸è®¾ç½®æ ‡å¿—ï¼Œåˆ™å‡½æ•°è®¡ç®—å¹¶è¿”å›åªæœ‰5ä¸ªå¤±çœŸç³»æ•°ã€‚ CALIB_FIX_S1_S2_S3_S4 ï¼šä¼˜åŒ–è¿‡ç¨‹ä¸­ä¸æ”¹å˜è–„æ£±é•œç•¸å˜ç³»æ•°S1ã€S2ã€S3ã€S4ã€‚å¦‚æœcv_calib_use_intrinsic_guessè®¾ç½®ï¼Œä½¿ç”¨æä¾›çš„ç•¸å˜ç³»æ•°çŸ©é˜µä¸­çš„å€¼ã€‚å¦åˆ™ï¼Œè®¾ç½®ä¸º0ã€‚ CALIB_TILTED_MODEL ï¼ˆå€¾æ–œæ¨¡å‹ï¼‰ï¼šå¯ç”¨ç•¸å˜ç³»æ•°tauX and tauYã€‚æ ‡å®šå‡½æ•°ä½¿ç”¨å€¾æ–œä¼ æ„Ÿå™¨æ¨¡å‹å¹¶è¿”å›14ä¸ªç³»æ•°ã€‚å¦‚æœä¸è®¾ç½®æ ‡å¿—ï¼Œåˆ™å‡½æ•°è®¡ç®—å¹¶è¿”å›åªæœ‰5ä¸ªå¤±çœŸç³»æ•°ã€‚ CALIB_FIX_TAUX_TAUY ï¼šåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå€¾æ–œä¼ æ„Ÿå™¨æ¨¡å‹çš„ç³»æ•°ä¸è¢«æ”¹å˜ã€‚å¦‚æœcv_calib_use_intrinsic_guessè®¾ç½®ï¼Œä»æä¾›çš„ç•¸å˜ç³»æ•°çŸ©é˜µä¸­å¾—åˆ°ã€‚å¦åˆ™ï¼Œè®¾ç½®ä¸º0ã€‚ ç›¸æœºçŸ«æ­£ å‚è€ƒï¼š ç›¸æœºæ ‡å®šï¼ˆ4ï¼‰ çŸ«æ­£ç•¸å˜ undistort()å’ŒinitUndistortRectifyMap() initUndistortRectifyMap ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:2:2","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"è®¡ç®—æ— ç•¸å˜å’Œä¿®æ­£è½¬æ¢æ˜ å°„ 1 2 3 4 5 6 7 8 9 CV_EXPORTS_W void initUndistortRectifyMap( InputArray cameraMatrix, InputArray distCoeffs, InputArray R, InputArray newCameraMatrix, Size size, int m1type, OutputArray map1, OutputArray map2 ); //! initializes maps for cv::remap() for wide-angle CV_EXPORTS_W float initWideAngleProjMap( InputArray cameraMatrix, InputArray distCoeffs, Size imageSize, int destImageWidth, int m1type, OutputArray map1, OutputArray map2, int projType = PROJ_SPHERICAL_EQRECT, double alpha = 0); 1.cameraMatrixï¼šè¾“å…¥ç›¸æœºçŸ©é˜µ 2.distCoeffsï¼šè¾“å…¥å‚æ•°ï¼Œç›¸æœºçš„ç•¸å˜ç³»æ•°ï¼š (k1,k2,p1,p2[,k3[,k4,k5,k6[,s1,s2,s3,s4[,Ï„**x,Ï„**y]]]]) ï¼Œæœ‰4ï¼Œ5,8,12æˆ–14ä¸ªå…ƒç´ ã€‚å¦‚æœè¿™ä¸ªå‘é‡æ˜¯ç©ºçš„ï¼Œå°±è®¤ä¸ºæ˜¯é›¶ç•¸å˜ç³»æ•°ã€‚ 3.Rï¼šå¯é€‰çš„ä¿®æ­£å˜æ¢çŸ©é˜µï¼Œæ˜¯ä¸ª3*3çš„çŸ©é˜µã€‚é€šè¿‡stereoRectifyè®¡ç®—å¾—æ¥çš„R1æˆ–R2å¯ä»¥æ”¾åœ¨è¿™é‡Œã€‚å¦‚æœè¿™ä¸ªçŸ©é˜µæ˜¯ç©ºçš„ï¼Œå°±å‡è®¾ä¸ºå•ä½çŸ©é˜µã€‚åœ¨cvInitUndistortMapä¸­ï¼ŒRè¢«è®¤ä¸ºæ˜¯å•ä½çŸ©é˜µã€‚ 4.newCameraMatrixï¼šæ–°çš„ç›¸æœºçŸ©é˜µ 5.sizeï¼šæœªç•¸å˜çš„å›¾åƒå°ºå¯¸ã€‚ 6.m1typeï¼šç¬¬ä¸€ä¸ªè¾“å‡ºçš„æ˜ å°„çš„ç±»å‹ï¼Œå¯ä»¥ä¸º CV_32FC1, CV_32FC2æˆ–CV_16SC2ï¼Œå‚è§cv::convertMapsã€‚ 7.map1ï¼šç¬¬ä¸€ä¸ªè¾“å‡ºæ˜ å°„ã€‚ 8.map2ï¼šç¬¬äºŒä¸ªè¾“å‡ºæ˜ å°„ã€‚ è¿™ä¸ªå‡½æ•°ç”¨äºè®¡ç®—æ— ç•¸å˜å’Œä¿®æ­£è½¬æ¢å…³ç³»ï¼Œä¸ºäº†é‡æ˜ å°„ï¼Œå°†ç»“æœä»¥æ˜ å°„çš„å½¢å¼è¡¨è¾¾ã€‚æ— ç•¸å˜çš„å›¾åƒçœ‹èµ·æ¥å°±åƒåŸå§‹çš„å›¾åƒï¼Œå°±åƒè¿™ä¸ªå›¾åƒæ˜¯ç”¨å†…å‚ä¸ºnewCameraMatrixçš„ä¸”æ— ç•¸å˜çš„ç›¸æœºé‡‡é›†å¾—åˆ°çš„ã€‚ åœ¨å•ç›®ç›¸æœºä¾‹å­ä¸­ï¼ŒnewCameraMatrixä¸€èˆ¬å’ŒcameraMatrixç›¸ç­‰ï¼Œæˆ–è€…å¯ä»¥ç”¨cv::getOptimalNewCameraMatrixæ¥è®¡ç®—ï¼Œè·å¾—ä¸€ä¸ªæ›´å¥½çš„æœ‰å°ºåº¦çš„æ§åˆ¶ç»“æœã€‚ åœ¨åŒç›®ç›¸æœºä¾‹å­ä¸­ï¼ŒnewCameraMatrixä¸€èˆ¬æ˜¯ç”¨cv::stereoRectifyè®¡ç®—è€Œæ¥çš„ï¼Œè®¾ç½®ä¸ºP1æˆ–P2ã€‚ æ­¤å¤–ï¼Œæ ¹æ®Rï¼Œæ–°çš„ç›¸æœºåœ¨åæ ‡ç©ºé—´ä¸­çš„å–å‘æ˜¯ä¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œå®ƒå¸®åŠ©é…å‡†åŒç›®ç›¸æœºçš„ä¸¤ä¸ªç›¸æœºæ–¹å‘ï¼Œä»è€Œä½¿å¾—ä¸¤ä¸ªå›¾åƒçš„æçº¿æ˜¯æ°´å¹³çš„ï¼Œä¸”yåæ ‡ç›¸åŒï¼ˆåœ¨åŒç›®ç›¸æœºçš„ä¸¤ä¸ªç›¸æœºè°æ°´å¹³æ”¾ç½®çš„æƒ…å†µä¸‹ï¼‰ã€‚ è¯¥å‡½æ•°å®é™…ä¸Šä¸ºåå‘æ˜ å°„ç®—æ³•æ„å»ºæ˜ å°„ï¼Œä¾›åå‘æ˜ å°„ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯ï¼Œå¯¹äºåœ¨å·²ç»ä¿®æ­£ç•¸å˜çš„å›¾åƒä¸­çš„æ¯ä¸ªåƒç´ (u,v)ï¼Œè¯¥å‡½æ•°è®¡ç®—åŸæ¥å›¾åƒï¼ˆä»ç›¸æœºä¸­è·å¾—çš„åŸå§‹å›¾åƒï¼‰ä¸­å¯¹åº”çš„åæ ‡ç³»ã€‚ å‡½æ•°è¾“å‡ºå¾—åˆ°map1å’Œmap2,ç„¶åä½¿ç”¨remap()å‡½æ•° ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:2:3","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"remap 1 2 3 4 void remap( InputArray src, OutputArray dst, InputArray map1, InputArray map2, int interpolation, int borderMode=BORDER_CONSTANT, const Scalar\u0026 borderValue=Scalar()); ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¾“å…¥å›¾åƒï¼Œå³åŸå›¾åƒï¼Œéœ€è¦å•é€šé“8ä½æˆ–è€…æµ®ç‚¹ç±»å‹çš„å›¾åƒ ç¬¬äºŒä¸ªå‚æ•°ï¼šè¾“å‡ºå›¾åƒï¼Œå³ç›®æ ‡å›¾åƒï¼Œéœ€å’ŒåŸå›¾å½¢ä¸€æ ·çš„å°ºå¯¸å’Œç±»å‹ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šå®ƒæœ‰ä¸¤ç§å¯èƒ½è¡¨ç¤ºçš„å¯¹è±¡ï¼šï¼ˆ1ï¼‰è¡¨ç¤ºç‚¹ï¼ˆx,yï¼‰çš„ç¬¬ä¸€ä¸ªæ˜ å°„ï¼›ï¼ˆ2ï¼‰è¡¨ç¤ºCV_16SC2ï¼ŒCV_32FC1ç­‰ ç¬¬å››ä¸ªå‚æ•°ï¼šå®ƒæœ‰ä¸¤ç§å¯èƒ½è¡¨ç¤ºçš„å¯¹è±¡ï¼šï¼ˆ1ï¼‰è‹¥map1è¡¨ç¤ºç‚¹ï¼ˆx,yï¼‰æ—¶ï¼Œè¿™ä¸ªå‚æ•°ä¸ä»£è¡¨ä»»ä½•å€¼ï¼›ï¼ˆ2ï¼‰è¡¨ç¤º CV_16UC1ï¼ŒCV_32FC1ç±»å‹çš„Yå€¼ ç¬¬äº”ä¸ªå‚æ•°ï¼šæ’å€¼æ–¹å¼ï¼Œæœ‰å››ç§æ’å€¼æ–¹å¼ï¼š ï¼ˆ1ï¼‰INTER_NEARESTâ€”â€”æœ€è¿‘é‚»æ’å€¼ ï¼ˆ2ï¼‰INTER_LINEARâ€”â€”åŒçº¿æ€§æ’å€¼ï¼ˆé»˜è®¤ï¼‰ ï¼ˆ3ï¼‰INTER_CUBICâ€”â€”åŒä¸‰æ ·æ¡æ’å€¼ï¼ˆé»˜è®¤ï¼‰ ï¼ˆ4ï¼‰INTER_LANCZOS4â€”â€”lanczosæ’å€¼ï¼ˆé»˜è®¤ï¼‰ ç¬¬å…­ä¸ªå‚æ•°ï¼šè¾¹ç•Œæ¨¡å¼ï¼Œé»˜è®¤BORDER_CONSTANT ç¬¬ä¸ƒä¸ªå‚æ•°ï¼šè¾¹ç•Œé¢œè‰²ï¼Œé»˜è®¤Scalar()é»‘è‰² ä»£ç å·¥ç¨‹ å®Œæ•´ä»£ç å·¥ç¨‹ï¼ˆåŒ…å«æ ‡å®šå›¾ç‰‡ï¼‰ï¼š camera-calibration ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/:3:0","tags":["camera"],"title":"camera:å•ç›®ç›¸æœºæ ‡å®š","uri":"/posts/computer_vision/camera/cameracalibration/%E5%8D%95%E7%9B%AE%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ D455/450æŠ€æœ¯è§„æ ¼ å‚æ•°è¡¨ Invalid Depth Band Depth Quality Specification è½¯ä»¶å¼€å‘ sdk åŠå¼€å‘è€…æ–‡æ¡£ PC å®‰è£…realsense SDK realsense è·å–æ·±åº¦ã€å½©è‰²ç›¸æœºå†…å‚å¤–å‚ realsense è®¾ç½®laserå¼€å…³ åŸç† Interl RealSence D4Ã—Ã— ç³»åˆ—ï¼Œéƒ½æ˜¯é‡‡ç”¨ç»å…¸çš„åŒç›®è§†è§‰çš„æ–¹å¼æµ‹é‡æ·±åº¦ã€‚å°½ç®¡å…·æœ‰çº¢å¤–æŠ•å°„å™¨ï¼Œä½†å¹¶ä¸æ˜¯é‡‡ç”¨çº¢å¤–åå°„æµ‹è·ã€‚å®ƒçš„ä½œç”¨ä»…ä»…æ˜¯æŠ•å°„ä¸å¯è§çš„å›ºå®šçš„çº¢å¤–çº¹ç†æ ·å¼ï¼Œæé«˜åœ¨çº¹ç†ä¸æ˜æ˜¾çš„1ç¯å¢ƒä¸­ï¼ˆä¾‹å¦‚ç™½å¢™ï¼‰çš„æ·±åº¦è®¡ç®—ç²¾åº¦ï¼Œè¾…åŠ©åŒç›®è§†è§‰æµ‹è·ã€‚å·¦å³ä¸¤ä¸ªç›¸æœºå°†å›¾åƒæ•°æ®é€å…¥å†…ç½®çš„æ·±åº¦å¤„ç†å™¨ï¼Œåœ¨å…¶ä¸­åŸºäºåŒç›®æµ‹è·çš„åŸç†è®¡ç®—æ¯ä¸ªåƒç´ çš„æ·±åº¦å€¼ã€‚ D455/450æŠ€æœ¯è§„æ ¼ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:0:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å‚æ•°è¡¨ ç‰¹æ€§ ä½¿ç”¨ç¯å¢ƒï¼š å®¤å†…/å®¤å¤– æ·±åº¦å¿«é—¨ç±»å‹ï¼š å…¨å±€å¿«é—¨ï¼Œ3Î¼m Ã— 3Î¼m åƒç´ å¤§å° æ¨èèŒƒå›´ï¼š 0.6-6 ç±³ æƒ¯æ€§é‡æµ‹å•å…ƒï¼š Bosch BMI055 æ·±åº¦ æ·±åº¦æŠ€æœ¯ï¼š ä¸»åŠ¨ IR ç«‹ä½“ æœ€å°æ·±åº¦è·ç¦» (Min-Z)ï¼š ~0.52 ç±³ æ·±åº¦ç²¾åº¦ \u003c2% ä½äº4 ç±³1 æ·±åº¦è§†åœº (FOV)ï¼š 86Â° Ã— 57Â° (Â±3Â°) æ·±åº¦è¾“å‡ºåˆ†è¾¨ç‡ï¼š é«˜è¾¾ 1280 x 720 æ·±åº¦å¸§ç‡ï¼š é«˜è¾¾ 90 å¸§/ç§’ RGB RGBå¸§åˆ†è¾¨ç‡ï¼š é«˜è¾¾ 1280 Ã— 800 RGB å¸§é€Ÿç‡ï¼š 30 å¸§/ç§’ RGB ä¼ æ„Ÿå™¨æŠ€æœ¯ï¼š å…¨å±€å¿«é—¨ RGB ä¼ æ„Ÿå™¨ FOV (H Ã— V)ï¼š 90Â° Ã— 65Â° (Â±3) RGBä¼ æ„Ÿå™¨åˆ†è¾¨ç‡: 1 MP ä¸»è¦ç»„ä»¶ æ‘„åƒå¤´æ¨¡å—ï¼š è‹±ç‰¹å°”å®æ„Ÿæ¨¡å— D450 è®¡ç®—å¤„ç†å™¨æ¿ï¼š è‹±ç‰¹å°”å®æ„Ÿè§†è§‰å¤„ç†å™¨ D4 ç‰©ç† å¤–å½¢ï¼š æ‘„åƒå¤´å¤–è®¾ é•¿åº¦ Ã— æ·±åº¦ Ã— é«˜åº¦ï¼š 124 æ¯«ç±³ Ã— 26 æ¯«ç±³ Ã— 29 æ¯«ç±³ æ¥å¤´ï¼š USBâ€‘C* 3.1 Gen 1* å®‰è£…æœºæ„ï¼š â€“ ä¸€ä¸ª 1/4â€‘20 UNC èºçº¹å®‰è£…ç‚¹ã€‚ â€“ ä¸¤ä¸ª M3 èºçº¹å®‰è£…ç‚¹ã€‚ â€“ ä¸‰è„šæ¶ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:1:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"Invalid Depth Band The depth data generated with stereo vision uses the left imager as the reference for stereo matching resulting in a non-overlap region in the field of view of left and right imagers where we will not have depth data at the left edge of the frame. Closer scenes result in a wider invalid depth band than scenes at larger distances. ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:2:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"Depth Quality Specification FOV 80% åšè¯„ä¼° METRIC DEFINITION Depth Accuracy ï¼š æ·±åº¦ç²¾åº¦ æµ‹é‡ç›¸å¯¹äºåœ°é¢çœŸå®è¡¨é¢çš„æœ‰æ•ˆåƒç´ çš„å·®å¼‚ã€‚ Fill Rateï¼šFill Rate å…·æœ‰æœ‰æ•ˆæ·±åº¦å€¼çš„åƒç´ ç™¾åˆ†æ¯”ã€‚ Depth Standard Deviation ï¼šæ·±åº¦æ ‡å‡†å·® æµ‹é‡æ¯ä¸ªæœ‰æ•ˆåƒç´ ç›¸å¯¹äºæœ€ä½³æ‹Ÿåˆå¹³é¢çš„æ€»ç©ºé—´å™ªå£°ã€‚ Pixel Temporal Noiseï¼šåƒç´ æ—¶é—´å™ªå£° æµ‹é‡ç›¸å¯¹äºæœ€ä½³æ‹Ÿåˆå¹³é¢çš„æ¯ä¸ªæœ‰æ•ˆåƒç´ çš„æ€»æ—¶é—´å™ªå£°ã€‚ è½¯ä»¶å¼€å‘ ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:3:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"sdk åŠå¼€å‘è€…æ–‡æ¡£ å¼€å‘è€…æ”¯æŒ Linux/Ubuntu - RealSense SDK 2.0 Build Guide List of Intel RealSense SDK 2.0 Examples API How To ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:4:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"PC å®‰è£…realsense SDK Ubuntuä¸‹Realsense SDKçš„å®‰è£… ä¸‹è½½æºç  1 git clone https://github.com/IntelRealSense/librealsense.git å®‰è£…ä¾èµ–ç¯å¢ƒ 1 sudo apt-get install libusb-1.0-0-dev libglfw3-dev libgtk-3-dev libusbæ˜¯ä¸€ä¸ªUSBè®¾å¤‡è®¿é—®æ¥å£åº“ gtkæ˜¯ä¸€ä¸ªå›¾å½¢å·¥å…·åŒ… glfwæ˜¯ä¸€ä¸ªOpenGLåº”ç”¨æ¡†æ¶ å°†è‹±ç‰¹å°”æœåŠ¡å™¨æ·»åŠ åˆ°å­˜å‚¨åº“åˆ—è¡¨ä¸­ 1 echo 'deb http://realsense-hw-public.s3.amazonaws.com/Debian/apt-repo xenial main' | sudo tee /etc/apt/sources.list.d/realsense-public.list æ³¨å†ŒæœåŠ¡å™¨çš„å…¬é’¥ 1 sudo apt-key adv --keyserver keys.gnupg.net --recv-key 6F3EFCDE åˆ·æ–°aptåˆ—è¡¨ 1 sudo apt-get update å®‰è£…ç›¸å…³åŒ… 1 2 sudo apt-get install librealsense2-dkms sudo apt-get install librealsense2-utils dkmsæ˜¯å†…æ ¸é©±åŠ¨åŒ…ï¼Œutilsæ˜¯å·¥å…·åŒ… æ£€æŸ¥å®‰è£… 1 modinfo uvcvideo | grep \"version:\" ç»ˆç«¯ä¼šè¿”å›ç›¸å…³ç‰ˆæœ¬ä¿¡æ¯ æ¯”å¦‚æˆ‘çš„ç”µè„‘ä¸Šä¼šè¿”å› 1 2 3 zyh@zyh ~ $ modinfo uvcvideo | grep \"version:\" version: 1.1.1 srcversion: 32217DB1DE9B0BC725EDF5D ç¼–è¯‘ 1 2 3 4 5 6 cd librealsense mkdir build cd build cmake .. make -j8 sudo make install ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:5:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"realsense è·å–æ·±åº¦ã€å½©è‰²ç›¸æœºå†…å‚å¤–å‚ 1 2 3 4 rs2_intrinsics depth_intrin = depth_profile.as\u003crs2::video_stream_profile\u003e().get_intrinsics(); rs2_intrinsics color_intrin = color_profile.as\u003crs2::video_stream_profile\u003e().get_intrinsics(); rs2_extrinsics depth_extrin_to_color = depth_profile.as\u003crs2::video_stream_profile\u003e().get_extrinsics_to(color_profile); rs2_extrinsics color_extrin_to_depth = color_profile.as\u003crs2::video_stream_profile\u003e().get_extrinsics_to(depth_profile); rs2_intrinsics: 1 2 3 4 5 6 7 8 9 10 11 12 /** \\brief Video stream intrinsics. */ typedef struct rs2_intrinsics { int width; /**\u003c Width of the image in pixels */ int height; /**\u003c Height of the image in pixels */ float ppx; /**\u003c Horizontal coordinate of the principal point of the image, as a pixel offset from the left edge */ float ppy; /**\u003c Vertical coordinate of the principal point of the image, as a pixel offset from the top edge */ float fx; /**\u003c Focal length of the image plane, as a multiple of pixel width */ float fy; /**\u003c Focal length of the image plane, as a multiple of pixel height */ rs2_distortion model; /**\u003c Distortion model of the image */ float coeffs[5]; /**\u003c Distortion coefficients. Order for Brown-Conrady: [k1, k2, p1, p2, k3]. Order for F-Theta Fish-eye: [k1, k2, k3, k4, 0]. Other models are subject to their own interpretations */ } rs2_intrinsics; rs2_extrinsics: 1 2 3 4 5 6 /** \\brief Cross-stream extrinsics: encodes the topology describing how the different devices are oriented. */ typedef struct rs2_extrinsics { float rotation[9]; /**\u003c Column-major 3x3 rotation matrix */ float translation[3]; /**\u003c Three-element translation vector, in meters */ } rs2_extrinsics; ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:6:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"realsense è®¾ç½®laserå¼€å…³ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 rs2::pipeline pipe; rs2::pipeline_profile selection = pipe.start(); rs2::device selected_device = selection.get_device(); auto depth_sensor = selected_device.first\u003crs2::depth_sensor\u003e(); if (depth_sensor.supports(RS2_OPTION_EMITTER_ENABLED)) { depth_sensor.set_option(RS2_OPTION_EMITTER_ENABLED, 1.f); // Enable emitter depth_sensor.set_option(RS2_OPTION_EMITTER_ENABLED, 0.f); // Disable emitter } if (depth_sensor.supports(RS2_OPTION_LASER_POWER)) { // Query min and max values: auto range = depth_sensor.get_option_range(RS2_OPTION_LASER_POWER); depth_sensor.set_option(RS2_OPTION_LASER_POWER, range.max); // Set max power depth_sensor.set_option(RS2_OPTION_LASER_POWER, 0.f); // Disable laser } ","date":"2023-01-30","objectID":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/:7:0","tags":["camera"],"title":"camera:æ·±åº¦ç›¸æœºrealsense(D450)ä»‹ç»","uri":"/posts/computer_vision/camera/stereocamera/realsense/realsensed450%E4%BB%8B%E7%BB%8D/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ è§†é¢‘ç¼–ç  è¿åŠ¨é™æ­¢å›¾åƒä¸“å®¶ç»„çš„ M-JPEG å›½é™…æ ‡å‡†åŒ–ç»„ç»‡(ISO)è¿åŠ¨å›¾åƒä¸“å®¶ç»„çš„ MPEG ç³»åˆ—æ ‡å‡† å›½é™…ç”µè”(ITU-T)çš„ H.26X éŸ³é¢‘ç¼–ç  å¸¸è§çš„å¤šåª’ä½“æ¡†æ¶åŠè§£å†³æ–¹æ¡ˆ é¢œè‰²ç©ºé—´ RGB24/RGB32/I420(YUV) I420/YV12 YUV420 å›¾åƒè‰²å½©æ¨¡å¼ ä½å›¾æ¨¡å¼ ç°åº¦æ¨¡å¼ RGBæ¨¡å¼ CMYKæ¨¡å¼ HSBæ¨¡å¼ YUVæ ¼å¼ å¸§ç‡ åˆ†è¾¨ç‡ åˆ·æ–°ç‡ ç¼–ç æ ¼å¼ å°è£…æ ¼å¼ ç ç‡ é‡‡æ ·ç‡ é‡åŒ–ç²¾åº¦ å£°é“ éƒ¨åˆ†å‚è€ƒèµ„æ–™ è§†é¢‘ç¼–ç  è€Œç¼–ç ä¸»è¦ä»ä¸¤ä¸ªç»´åº¦å‹ç¼©æ•°æ®: 1ã€å•ä¸€å›¾åƒæŸä¸€ä¸ªåŒºåŸŸçš„ç›¸é‚»åƒç´ ç›¸ä¼¼ï¼Œå¦‚ä¸€ç‰‡çº¢è‰²åŒºåŸŸåªè®°å½•çº¢è‰²çš„è‰²å€¼ä»¥åŠåŒºåŸŸï¼Œä¸è®°å½•è¿™ä¸ªåŒºåŸŸçš„æ¯ä¸€ä¸ªåƒç´ ç‚¹ã€‚ 2ã€ç›¸é‚»çš„çš„ä¸¤å¼ å›¾åƒæ¯”è¾ƒç›¸ä¼¼ï¼Œå¯¹å›¾åƒæ–¹æ³•çš„ç¬¬ä¸€å¸§è¿›è¡Œç¼–ç ï¼Œç„¶åç”¨æŸç§æ–¹å¼æè¿°æ¥ä¸‹æ¥çš„å¸§ç›¸å¯¹äºé™„è¿‘çš„å¸§æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:0:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"è¿åŠ¨é™æ­¢å›¾åƒä¸“å®¶ç»„çš„ M-JPEG M-JPEG æ˜¯ä¸€ç§å›¾åƒå‹ç¼©ç¼–ç æ ‡å‡†ï¼Œæ˜¯ Motion-JPEG çš„ç®€ç§°ï¼ŒJPEG æ ‡å‡†ä¸»è¦æ˜¯ç”¨æ¥å¤„ç†é™æ­¢å›¾åƒï¼Œè€Œ M-JPEG æŠŠè¿åŠ¨çš„è§†é¢‘åºåˆ—ä½œä¸ºè¿ç»­çš„é™æ­¢å›¾åƒæ¥å¤„ç†ï¼Œè¿™ç§å‹ç¼©æ–¹å¼å•ç‹¬å®Œæ•´åœ°å‹ç¼©æ¯ä¸€å¸§ï¼Œåœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­å¯éšæœºå­˜å‚¨æ¯ä¸€å¸§ï¼Œå¯è¿›è¡Œç²¾ç¡®åˆ°å¸§çš„ç¼–è¾‘ï¼ŒM-JPEG åªå¯¹å¸§å†…çš„ç©ºé—´å†—ä½™è¿›è¡Œå‹ç¼©ï¼Œä¸å¯¹å¸§é—´çš„æ—¶é—´å†—ä½™è¿›è¡Œå‹ç¼©ï¼Œæ•…å‹ç¼©æ•ˆç‡ä¸é«˜ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:1:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å›½é™…æ ‡å‡†åŒ–ç»„ç»‡(ISO)è¿åŠ¨å›¾åƒä¸“å®¶ç»„çš„ MPEG ç³»åˆ—æ ‡å‡† ç”±ISOï¼ˆå›½é™…æ ‡å‡†ç»„ç»‡æœºæ„ï¼‰ä¸‹å±çš„MPEGï¼ˆè¿åŠ¨å›¾è±¡ä¸“å®¶ç»„ï¼‰å¼€å‘ è§†é¢‘ç¼–ç æ–¹é¢ä¸»è¦æ˜¯Mpeg1ï¼ˆvcdï¼‰ã€Mpeg2ï¼ˆDVDï¼‰ã€Mpeg4ï¼ˆDVDRIPä½¿ç”¨çš„éƒ½æ˜¯å®ƒçš„å˜ç§ï¼Œå¦‚ï¼šdivxï¼Œxvidç­‰ï¼‰ã€Mpeg4 AVCï¼›éŸ³é¢‘ç¼–ç æ–¹é¢ä¸»è¦æ˜¯MPEG Audio Layer 1/2ã€MPEG Audio Layer 3ï¼ˆmp3ï¼‰ã€MPEG-2 AAC ã€MPEG-4 AACç­‰ã€‚æ³¨æ„ï¼šDVDéŸ³é¢‘æ²¡æœ‰é‡‡ç”¨Mpegçš„ã€‚ MPEG æ ‡å‡†çš„è§†é¢‘å‹ç¼©ç¼–ç æŠ€æœ¯ä¸»è¦åˆ©ç”¨äº†å…·æœ‰è¿åŠ¨è¡¥å¿çš„å¸§é—´å‹ç¼©ç¼–ç æŠ€æœ¯ä»¥å‡å°æ—¶é—´å†—ä½™åº¦ï¼Œåˆ©ç”¨ DCT æŠ€æœ¯ä»¥å‡å°å›¾åƒçš„ç©ºé—´å†—ä½™åº¦ï¼Œåˆ©ç”¨ç†µç¼–ç åˆ™åœ¨ä¿¡æ¯è¡¨ç¤ºæ–¹é¢å‡å°äº†ç»Ÿè®¡å†—ä½™åº¦ã€‚è¿™å‡ ç§æŠ€æœ¯çš„ç»¼åˆè¿ç”¨ï¼Œå¤§å¤§å¢å¼ºäº†å‹ç¼©æ€§èƒ½ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:2:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"å›½é™…ç”µè”(ITU-T)çš„ H.26X H.261ï¼šç¬¬ä¸€ä¸ªå®ç”¨çš„æ•°å­—è§†é¢‘è§£ç æ ‡å‡†ï¼Œé‡‡ç”¨çš„å‹ç¼©ç®—æ³•æ˜¯è¿åŠ¨è¡¥å¿å¸§é—´é¢„æµ‹ä¸åˆ†å— DCT ç›¸ç»“åˆçš„æ··åˆç¼–ç ï¼Œå…¶è¿åŠ¨è¡¥å¿ä½¿ç”¨ç”¨å…¨åƒç´ ç²¾åº¦å’Œç¯è·¯æ»¤æ³¢ï¼Œæ”¯æŒ CIF å’Œ QCIF ä¸¤ç§åˆ†è¾¨ç‡ã€‚ H.263ï¼šH.263 ä¸ H.261 ç¼–ç ç®—æ³•ä¸€æ ·ï¼Œä½†æ˜¯åšäº†ä¸€ç‚¹æ”¹å–„ï¼Œä½¿å¾— H.263 æ ‡å‡†åœ¨ä½ç ç‡ä¸‹èƒ½å¤Ÿæä¾›æ¯” H.261 æ›´å¥½çš„å›¾åƒæ•ˆæœï¼Œå…¶è¿åŠ¨è¡¥å¿ä½¿ç”¨åŠåƒç´ ç²¾åº¦ï¼Œæ”¯æŒ CIFã€QCIF ã€SQCIFã€4CIFå’Œ16CIF äº”ç§åˆ†è¾¨ç‡ã€‚ H.264ï¼šH.264åˆ™æ˜¯ç”±ä¸¤ä¸ªç»„ç»‡ ISO å’Œ ITU-T è”åˆç»„å»ºçš„è”åˆè§†é¢‘ç»„ï¼ˆJVTï¼‰å…±åŒåˆ¶å®šçš„æ–°æ•°å­—è§†é¢‘ç¼–ç æ ‡å‡†ï¼Œæ‰€ä»¥å®ƒæ—¢æ˜¯ ITU-T çš„H.264ï¼Œåˆæ˜¯ ISO/IEC çš„ MPEG-4 é«˜çº§è§†é¢‘ç¼–ç ï¼ˆAdvanced Video Codingï¼ŒAVCï¼‰çš„ç¬¬ 10 éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œä¸è®ºæ˜¯MPEG-4 AVCã€MPEG-4 Part 10ï¼Œè¿˜æ˜¯ ISO/IEC 14496-10ï¼Œéƒ½æ˜¯æŒ‡ H.264ï¼ŒH.264 æ˜¯åŸºäºä¼ ç»Ÿæ¡†æ¶çš„æ··åˆç¼–ç ç³»ç»Ÿï¼Œåšäº†å±€éƒ¨ä¼˜åŒ–ï¼Œæ³¨é‡ç¼–ç æ•ˆç‡å’Œå¯é æ€§ã€‚H.264 åœ¨å…·æœ‰é«˜å‹ç¼©æ¯”çš„åŒæ—¶è¿˜æ‹¥æœ‰é«˜è´¨é‡æµç•…çš„å›¾åƒï¼Œç»è¿‡ H.264 å‹ç¼©çš„è§†é¢‘æ•°æ®ï¼Œåœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„å¸¦å®½æ›´å°‘ï¼Œæ˜¯å‹ç¼©ç‡æœ€é«˜çš„è§†é¢‘å‹ç¼©æ ‡å‡†ã€‚ éŸ³é¢‘ç¼–ç  å¸¸è§çš„éŸ³é¢‘ç¼–è§£ç æ ‡å‡†å¦‚ä¸‹ï¼š ITUï¼šG.711ã€G.729 ç­‰ MPEGï¼šMP3ã€AAC ç­‰ 3GPPï¼šAMRã€AMR-WBã€AMR-WB+ç­‰ è¿˜æœ‰ä¼ä¸šåˆ¶å®šçš„æ ‡å‡†ï¼Œå¦‚ Dolby AC-3ã€DTS ã€WMA ç­‰ å¸¸è§çš„ä»‹ç»å¦‚ä¸‹ï¼š MP3ï¼ˆMPEG-1 audio layer 3ï¼‰ï¼šä¸€ç§éŸ³é¢‘å‹ç¼©æŠ€æœ¯ï¼Œå®ƒè¢«è®¾è®¡ç”¨æ¥å¤§å¹…åº¦åœ°é™ä½éŸ³é¢‘æ•°æ®é‡ï¼Œåˆ©ç”¨ MPEG Audio Layer 3 çš„æŠ€æœ¯ï¼Œå°†éŸ³ä¹ä»¥ 1:10 ç”šè‡³ 1:12 çš„å‹ç¼©ç‡ï¼Œå‹ç¼©æˆå®¹é‡è¾ƒå°çš„æ–‡ä»¶ï¼Œè€Œå¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´é‡æ”¾çš„éŸ³è´¨ä¸æœ€åˆçš„ä¸å‹ç¼©éŸ³é¢‘ç›¸æ¯”æ²¡æœ‰æ˜æ˜¾çš„ä¸‹é™ï¼Œå®ƒæ˜¯åˆ©ç”¨äººè€³å¯¹é«˜é¢‘å£°éŸ³ä¿¡å·ä¸æ•æ„Ÿçš„ç‰¹æ€§ï¼Œå°†æ—¶åŸŸæ³¢å½¢ä¿¡å·è½¬æ¢æˆé¢‘åŸŸä¿¡å·ï¼Œå¹¶åˆ’åˆ†æˆå¤šä¸ªé¢‘æ®µï¼Œå¯¹ä¸åŒçš„é¢‘æ®µä½¿ç”¨ä¸åŒçš„å‹ç¼©ç‡ï¼Œå¯¹é«˜é¢‘åŠ å¤§å‹ç¼©æ¯”ï¼ˆç”šè‡³å¿½ç•¥ä¿¡å·ï¼‰ï¼Œå¯¹ä½é¢‘ä¿¡å·ä½¿ç”¨å°å‹ç¼©æ¯”ï¼Œä¿è¯ä¿¡å·ä¸å¤±çœŸï¼Œè¿™æ ·å°±ç›¸å½“äºæŠ›å¼ƒäººè€³åŸºæœ¬å¬ä¸åˆ°çš„é«˜é¢‘å£°éŸ³ï¼Œåªä¿ç•™èƒ½å¬åˆ°çš„ä½é¢‘éƒ¨åˆ†ï¼Œä»è€Œå¯¹éŸ³é¢‘è¿›è¡Œä¸€å®šå‹ç¼©ï¼Œæ­¤å¤– MP3 å±äºæœ‰æŸå‹ç¼©çš„æ–‡ä»¶æ ¼å¼ã€‚ AACï¼šAdvanced Audio Coding çš„ç¼©å†™ï¼Œæœ€åˆæ˜¯åŸºäº MPEG-2 çš„éŸ³é¢‘ç¼–ç æŠ€æœ¯ï¼ŒMPEG-4 å‡ºç°åï¼ŒAAC é‡æ–°é›†æˆäº†å…¶ç‰¹æ€§ï¼Œä¸”åŠ å…¥äº†SBR æŠ€æœ¯å’Œ PS æŠ€æœ¯ï¼Œä¸ºäº†åŒºåˆ«äºä¼ ç»Ÿçš„ MPEG-2 AAC åˆç§°ä¸ºMPEG-4 AACï¼ŒAAC æ˜¯ä¸€ç§ä¸“ä¸ºå£°éŸ³æ•°æ®è®¾è®¡çš„æ–‡ä»¶å‹ç¼©æ ¼å¼ï¼Œç›¸è¾ƒ MP3ï¼ŒAAC æ ¼å¼çš„éŸ³è´¨æ›´ä½³ï¼Œæ–‡ä»¶æ›´å°ï¼Œä½†æ˜¯ AAC æ˜¯ä¸€ç§æœ‰æŸå‹ç¼©æ ¼å¼ï¼Œéšç€å¤§å®¹é‡è®¾å¤‡çš„å‡ºç°ï¼Œå…¶ä¼˜åŠ¿å°†è¶Šæ¥è¶Šå°ã€‚ WMAï¼šWindows Media Audio çš„ç¼©å†™ï¼Œæ˜¯å¾®è½¯å…¬å¸å¼€å‘çš„ä¸€ç³»åˆ—éŸ³é¢‘ç¼–è§£ç å™¨ï¼Œä¹ŸæŒ‡ç›¸åº”çš„æ•°å­—éŸ³é¢‘ç¼–ç æ ¼å¼ï¼ŒWMA åŒ…æ‹¬å››ç§ä¸åŒçš„ç¼–è§£ç å™¨ï¼šWMAï¼ŒåŸå§‹çš„WMAç¼–è§£ç å™¨ï¼Œä½œä¸º MP3 å’Œ RealAudio ç¼–è§£ç å™¨çš„ç«äº‰è€…ï¼›WMA Proï¼Œæ”¯æŒæ›´å¤šå£°é“å’Œæ›´é«˜è´¨é‡çš„éŸ³é¢‘[ï¼›WMA Losslessï¼Œæ— æŸç¼–è§£ç å™¨ï¼›WMA Voiceï¼Œç”¨äºå‚¨å­˜è¯­éŸ³ï¼Œä½¿ç”¨çš„æ˜¯ä½ç ç‡å‹ç¼©ã€‚ä¸€äº›ä½¿ç”¨ Windows Media Audio ç¼–ç æ ¼å¼ç¼–ç å…¶æ‰€æœ‰å†…å®¹çš„çº¯éŸ³é¢‘ ASF æ–‡ä»¶ä¹Ÿä½¿ç”¨ WMA ä½œä¸ºæ‰©å±•åï¼Œå…¶ç‰¹ç‚¹æ˜¯æ”¯æŒåŠ å¯†ï¼Œéæ³•æ‹·è´åˆ°æœ¬åœ°æ˜¯æ— æ³•æ’­æ”¾çš„ï¼ŒWMA ä¹Ÿå±äºæœ‰æŸå‹ç¼©çš„æ–‡ä»¶æ ¼å¼ã€‚ å¸¸è§çš„å¤šåª’ä½“æ¡†æ¶åŠè§£å†³æ–¹æ¡ˆ å¸¸è§çš„å¤šåª’ä½“æ¡†æ¶åŠè§£å†³æ–¹æ¡ˆæœ‰ VLC ã€ FFmpeg ã€ GStream ç­‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š VLC ï¼šå³ Video LAN Clientï¼Œæ˜¯ä¸€æ¬¾è‡ªç”±ã€å¼€æºçš„è·¨å¹³å°å¤šåª’ä½“æ’­æ”¾å™¨åŠæ¡†æ¶ ã€‚ FFmpegï¼šå¤šåª’ä½“è§£å†³æ–¹æ¡ˆï¼Œä¸æ˜¯å¤šåª’ä½“æ¡†æ¶ï¼Œå¹¿æ³›ç”¨äºéŸ³è§†é¢‘å¼€å‘ä¸­ã€‚ GStreamer ï¼šä¸€å¥—æ„å»ºæµåª’ä½“åº”ç”¨çš„å¼€æºå¤šåª’ä½“æ¡†æ¶ ã€‚ é¢œè‰²ç©ºé—´ YUVï¼šä¸€ç§é¢œè‰²ç¼–ç æ–¹æ³•ï¼Œä¸€èˆ¬ä½¿ç”¨åœ¨åœ¨å½±åƒå¤„ç†ç»„ä»¶ä¸­ï¼ŒYUV åœ¨å¯¹ç…§ç‰‡æˆ–è§†é¢‘ç¼–ç æ—¶ï¼Œè€ƒè™‘åˆ°äººç±»çš„æ„ŸçŸ¥èƒ½åŠ›ï¼Œå…è®¸é™ä½è‰²åº¦çš„å¸¦å®½ï¼Œå…¶ä¸­ Y è¡¨ç¤ºæ˜äº®åº¦ã€U è¡¨ç¤ºè‰²åº¦ã€V è¡¨ç¤ºæµ“åº¦ï¼ŒYâ€²UVã€YUVã€YCbCrã€YPbPr æ‰€æŒ‡æ¶‰çš„èŒƒå›´ï¼Œå¸¸æœ‰æ··æ·†æˆ–é‡å çš„æƒ…å†µã€‚ä»å†å²çš„æ¼”å˜æ¥è¯´ï¼Œå…¶ä¸­ YUV å’Œ Yâ€™UV é€šå¸¸ç”¨æ¥ç¼–ç ç”µè§†çš„æ¨¡æ‹Ÿä¿¡å·ï¼Œè€Œ YCbCr åˆ™æ˜¯ç”¨æ¥æè¿°æ•°å­—çš„å½±åƒä¿¡å·ï¼Œé€‚åˆè§†é¢‘ä¸å›¾ç‰‡å‹ç¼©ä»¥åŠä¼ è¾“ï¼Œä¾‹å¦‚ MPEGã€JPEGï¼Œç°åœ¨ YUV é€šå¸¸å·²ç»åœ¨ç”µè„‘ç³»ç»Ÿä¸Šå¹¿æ³›ä½¿ç”¨ã€‚ RGBï¼šåŸè‰²å…‰æ¨¡å¼ï¼Œåˆç§° RGB é¢œè‰²æ¨¡å‹æˆ–çº¢ç»¿è“é¢œè‰²æ¨¡å‹ï¼Œæ˜¯ä¸€ç§åŠ è‰²æ¨¡å‹ï¼Œå°†çº¢ï¼ˆRedï¼‰ã€ç»¿ï¼ˆGreenï¼‰ã€[è“ï¼ˆBlueï¼‰ä¸‰åŸè‰²çš„è‰²å…‰ä»¥ä¸åŒçš„æ¯”ä¾‹ç›¸åŠ ï¼Œä»¥åˆæˆäº§ç”Ÿå„ç§è‰²å½©å…‰ï¼Œç›®å‰çš„å¤§å¤šæ•°æ˜¾ç¤ºå™¨éƒ½é‡‡ç”¨ RGB è¿™ç§é¢œè‰²æ ‡å‡†ã€‚ YUV ä¸»è¦ç”¨äºä¼˜åŒ–å½©è‰²è§†é¢‘ä¿¡å·çš„ä¼ è¾“ï¼Œä½¿å…¶å‘åç›¸å®¹è€å¼é»‘ç™½ç”µè§†ï¼Œä¸ RGB è§†é¢‘ä¿¡å·ä¼ è¾“ç›¸æ¯”ï¼Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹åœ¨äºåªéœ€å ç”¨æå°‘çš„å¸¦å®½ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:3:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"RGB24/RGB32/I420(YUV) ä¸€èˆ¬æ¥è¯´ï¼Œç›´æ¥é‡‡é›†åˆ°çš„è§†é¢‘æ•°æ®æ˜¯RGB24çš„æ ¼å¼ï¼ŒRGB24ä¸€å¸§çš„å¤§å°sizeï¼widthÃ— heighth Ã—3 Byteï¼ŒRGB32çš„sizeï¼widthÃ— heighth Ã—4ï¼Œå¦‚æœæ˜¯I420ï¼ˆå³YUVæ ‡å‡†æ ¼å¼4ï¼š2ï¼š0ï¼‰çš„æ•°æ®é‡æ˜¯ sizeï¼widthÃ— heighth Ã—1.5 Byteã€‚ X264åœ¨è¿›è¡Œç¼–ç çš„æ—¶å€™éœ€è¦æ ‡å‡†çš„YUVï¼ˆ4ï¼š2ï¼š0ï¼‰ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:4:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"I420/YV12 YV12å’ŒI420åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯UVçš„é¡ºåºä¸åŒã€‚ YV12 ï¼š äº®åº¦ï¼ˆè¡ŒÃ—åˆ—ï¼‰ ï¼‹ Vï¼ˆè¡ŒÃ—åˆ—/4) + Uï¼ˆè¡ŒÃ—åˆ—/4ï¼‰ I420 ï¼š äº®åº¦ï¼ˆè¡ŒÃ—åˆ—ï¼‰ ï¼‹ Uï¼ˆè¡ŒÃ—åˆ—/4) + Vï¼ˆè¡ŒÃ—åˆ—/4ï¼‰ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:5:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"YUV420 YUVï¼Œæ˜¯ä¸€ç§é¢œè‰²ç¼–ç æ–¹æ³•ã€‚å¸¸ä½¿ç”¨åœ¨å„ä¸ªè§†é¢‘å¤„ç†ç»„ä»¶ä¸­ã€‚ YUVåœ¨å¯¹ç…§ç‰‡æˆ–è§†é¢‘ç¼–ç æ—¶ï¼Œè€ƒè™‘åˆ°äººç±»çš„æ„ŸçŸ¥èƒ½åŠ›ï¼Œå…è®¸é™ä½è‰²åº¦çš„å¸¦å®½ã€‚ â€œYâ€è¡¨ç¤ºæ˜äº®åº¦ï¼ˆLuminanceæˆ–Lumaï¼‰ï¼Œä¹Ÿå°±æ˜¯ç°é˜¶å€¼ï¼Œâ€œUâ€å’Œâ€œVâ€è¡¨ç¤ºçš„åˆ™æ˜¯è‰²åº¦ï¼ˆChrominanceæˆ–Chromaï¼‰ï¼Œä½œç”¨æ˜¯æè¿°å½±åƒè‰²å½©åŠé¥±å’Œåº¦ï¼Œç”¨äºæŒ‡å®šåƒç´ çš„é¢œè‰²ã€‚ YUV420æ ¼å¼æ˜¯æŒ‡ï¼Œæ¯ä¸ªåƒç´ éƒ½ä¿ç•™ä¸€ä¸ªYï¼ˆäº®åº¦ï¼‰åˆ†é‡ï¼Œè€Œåœ¨æ°´å¹³æ–¹å‘ä¸Šï¼Œä¸æ˜¯æ¯è¡Œéƒ½å–Uå’ŒVåˆ†é‡ï¼Œè€Œæ˜¯ä¸€è¡Œåªå–Uåˆ†é‡ï¼Œåˆ™å…¶æ¥ç€ä¸€è¡Œå°±åªå–Våˆ†é‡ï¼Œä»¥æ­¤é‡å¤(å³4:2:0, 4:0:2, 4:2:0, 4:0:2 â€¦â€¦.)ï¼Œæ‰€ä»¥420ä¸æ˜¯æŒ‡æ²¡æœ‰Vï¼Œè€Œæ˜¯æŒ‡ä¸€è¡Œé‡‡æ ·åªå–Uï¼Œå¦ä¸€è¡Œé‡‡æ ·åªå–Vã€‚åœ¨å–Uå’ŒVæ—¶ï¼Œæ¯ä¸¤ä¸ªYä¹‹é—´å–ä¸€ä¸ªUæˆ–Vã€‚ä½†ä»4x4çŸ©é˜µåˆ—æ¥çœ‹ï¼Œæ¯4ä¸ªçŸ©é˜µç‚¹YåŒºåŸŸä¸­ï¼Œåªæœ‰ä¸€ä¸ªUå’ŒVï¼Œæ‰€ä»¥å®ƒä»¬çš„æ¯”å€¼æ˜¯4:1ã€‚æ‰€ä»¥å¯¹äºä¸€ä¸ªåƒç´ ï¼ŒRGBéœ€è¦8 * 3 = 24ä½ï¼Œå³å 3ä¸ªå­—èŠ‚ï¼›è€ŒYUV420Pï¼Œ8 + 8/4 + 8/4 = 12ä½ï¼Œå³å 2ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­8æŒ‡Yåˆ†é‡ï¼Œ8/4æŒ‡Uå’ŒVåˆ†é‡ã€‚ å›¾åƒè‰²å½©æ¨¡å¼ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:6:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ä½å›¾æ¨¡å¼ ä½å›¾æ¨¡å¼æ˜¯å›¾åƒä¸­æœ€åŸºæœ¬çš„æ ¼å¼ï¼Œå›¾åƒåªæœ‰é»‘è‰²å’Œç™½è‰²åƒç´ ï¼Œæ˜¯è‰²å½©æ¨¡å¼ä¸­å æœ‰ç©ºé—´æœ€å°çš„ï¼ŒåŒæ ·ä¹Ÿå«åšé»‘ç™½å›¾ï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯é‡æœ€å°‘ï¼Œæ— æ³•åŒ…å«å›¾åƒä¸­çš„ç»†èŠ‚ï¼Œç›¸å½“äºåªæœ‰0æˆ–è€…1 ä¸€å‰¯å½©è‰²å›¾å¦‚æœè¦è½¬æ¢æˆé»‘ç™½æ¨¡å¼ï¼Œåˆ™ä¸€èˆ¬ä¸èƒ½ç›´æ¥è½¬æ¢ï¼Œéœ€è¦é¦–å…ˆå°†å›¾åƒè½¬æ¢æˆç°åº¦æ¨¡å¼ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:7:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"ç°åº¦æ¨¡å¼ ç°åº¦æ¨¡å¼å³ä½¿ç”¨å•ä¸€è‰²è°ƒæ¥è¡¨ç¤ºå›¾åƒï¼Œä¸ä½å›¾æ¨¡å¼ä¸åŒï¼Œä¸åƒä½å›¾åªæœ‰0å’Œ1ï¼Œä½¿ç”¨256çº§çš„ç°åº¦æ¥è¡¨ç¤ºå›¾åƒï¼Œä¸€ä¸ªåƒç´ ç›¸å½“äºå ç”¨8ä¸ºä¸€ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªåƒç´ å€¼ä½¿ç”¨0åˆ°255çš„äº®åº¦å€¼ä»£è¡¨ï¼Œå…¶ä¸­0ä¸ºé»‘è‰²ï¼Œ255ä¸ºç™½è‰²ï¼Œç›¸å½“äºä»é»‘-\u003eç°-\u003eç™½çš„è¿‡åº¦ï¼Œé€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„é»‘ç™½ç…§ç‰‡å°±æ˜¯è¿™ç§æ¨¡å¼ï¼Œä¸ä½å›¾æ¨¡å¼ç›¸æ¯”ï¼Œèƒ½è¡¨ç°å‡ºä¸€å®šçš„ç»†èŠ‚ï¼Œå ç”¨ç©ºé—´ä¹Ÿæ¯”ä½å›¾æ¨¡å¼è¾ƒå¤§ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:8:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"RGBæ¨¡å¼ RGBæ¨¡å¼ä¸ºæˆ‘ä»¬ç»å¸¸è§åˆ°çš„ï¼Œè¢«ç§°ä¸ºçœŸè‰²å½©ã€‚RGBæ¨¡å¼çš„å›¾åƒæœ‰3ä¸ªé¢œè‰²é€šé“ï¼Œåˆ†å¸ƒä¸ºçº¢ï¼ˆRedï¼‰,ç»¿ï¼ˆGreenï¼‰å’Œè“ï¼ˆBuleï¼‰ï¼Œæ¯ä¸ªéƒ½å ç”¨8ä½ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºé¢œè‰²ä¿¡æ¯ï¼Œè¿™æ ·æ¯ä¸ªé¢œè‰²çš„å–å€¼èŒƒå›´ä¸º0~255ï¼Œé‚£ä¹ˆå°±ä¸‰ç§é¢œè‰²å°±å¯ä»¥æœ‰å¤šç§ç»„åˆ å½“ä¸‰ç§åŸºè‰²çš„å€¼ç›¸ç­‰æ˜¯ï¼Œè¡¨ç°å‡ºä¸ºç°è‰²ï¼Œä¸‰ç§é¢œè‰²éƒ½ä¸º255å³ä¸ºç™½è‰²ï¼Œä¸‰ç§é¢œè‰²éƒ½ä¸º0ï¼Œå³ä¸ºé»‘è‰² RGBæ¨¡å¼çš„å›¾åƒå ç”¨ç©ºé—´è¦æ¯”ä½å›¾ï¼Œç°åº¦å›¾éƒ½è¦å¤§ï¼Œä½†è¡¨ç°å‡ºçš„ç»†èŠ‚æ›´åŠ æ˜æ˜¾ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:9:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"CMYKæ¨¡å¼ CMYKæ¨¡å¼è¢«ç§°ä¸ºå°åˆ·è‰²å½©æ¨¡å¼ï¼Œä¸»è¦æ˜¯æ¥æºäºå°åˆ·è¡Œä¸šï¼Œä»¥æ‰“å°æ²¹å¢¨åœ¨çº¸å¼ ä¸Šçš„å…‰çº¿å¸æ”¶ç‰¹æ€§ä¸ºåŸºç¡€ï¼Œä¸RGBç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ä¸‰ç§é¢œè‰²ï¼Œåˆ†åˆ«ä¸ºé’è‰²ï¼ˆCyanï¼‰,å“çº¢è‰²ï¼ˆMagentaï¼‰,é»„è‰²ï¼ˆYellowï¼‰,ä»¥åŠé»‘è‰²ï¼ˆBlackï¼‰ ä¸RGBä¸åŒçš„æ˜¯ï¼šRGBæ¨¡å¼ä¾é çš„æ˜¯è‡ªèº«å‘å…‰çš„è‰²å½©æ¨¡å¼ï¼Œè€ŒCMYKæ˜¯ä¸€ç§ä¾é åå…‰çš„è‰²å½©æ¨¡å¼ã€‚ ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:10:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"HSBæ¨¡å¼ æ˜¯æ ¹æ®æ—¥å¸¸ç”Ÿæ´»ä¸­äººçœ¼çš„è§†è§‰å¯¹è‰²å½©çš„è§‚å¯Ÿå¾—è€Œåˆ¶å®šçš„ä¸€å¥—è‰²å½©æ¨¡å¼ï¼Œæœ€æ¥è¿‘ä¸äººç±»å¯¹è‰²å½©çš„è¾¨è®¤çš„æ€è€ƒæ–¹å¼ï¼Œæ‰€æœ‰çš„é¢œè‰²éƒ½æ˜¯ç”¨è‰²å½©ä¸‰å±æ€§æ¥æè¿° H:(è‰²ç›¸ï¼‰ï¼šæ˜¯æŒ‡ä»ç‰©ä½“åå°„æˆ–é€è¿‡ç‰©ä½“ä¼ æ’­çš„é¢œè‰² S:(é¥±å’Œåº¦)ï¼šæ˜¯æŒ‡é¢œè‰²çš„å¼ºåº¦æˆ–çº¯åº¦ï¼Œè¡¨ç¤ºè‰²ç›¸ä¸­ç°è‰²æˆåˆ†æ‰€å çš„æ¯”ä¾‹ B:(äº®åº¦)ï¼šæ˜¯æŒ‡é¢œè‰²å¯¹ç›¸å¯¹æ˜æš—ç¨‹åº¦ï¼Œé€šå¸¸ 100%å®šä¹‰ä¸ºç™½è‰²ï¼›0%ä¸ºé»‘è‰² é™¤äº†ä¸Šè¿°ä»¥ä¸Šä¹‹å¤–ï¼Œè¿˜æœ‰ç´¢å¼•æ¨¡å¼ï¼Œå¤šé€šé“æ¨¡å¼ç­‰ç­‰ä¸å†ä»‹ç» ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:11:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["è®¡ç®—æœºè§†è§‰"],"content":"YUVæ ¼å¼ é™¤äº†ä¸Šè¿°å›¾åƒæ¨¡å¼ä¹‹å¤–ï¼Œç”±äºå†å²åŸå› å¤§éƒ¨åˆ†æ‘„åƒå¤´è¾“å…¥çš„å›¾ç‰‡æ ¼å¼éƒ½æ˜¯YUVæ ¼å¼ï¼Œå¼€å§‹ä¸»è¦ç”¨äºç”µè§†ç³»ç»Ÿä»¥åŠæ¨¡æ‹Ÿè§†é¢‘é¢†åŸŸã€‚YUVï¼Œåˆ†ä¸ºä¸‰ä¸ªåˆ†é‡ï¼Œâ€œYâ€è¡¨ç¤ºæ˜äº®åº¦ï¼ˆLuminanceæˆ–Lumaï¼‰ï¼Œä¹Ÿå°±æ˜¯ç°åº¦å€¼ï¼›è€Œâ€œUâ€å’Œâ€œVâ€ è¡¨ç¤ºçš„åˆ™æ˜¯è‰²åº¦ï¼ˆChrominanceæˆ–Chromaï¼‰ï¼Œä½œç”¨æ˜¯æè¿°å½±åƒè‰²å½©åŠé¥±å’Œåº¦ï¼Œç”¨äºæŒ‡å®šåƒç´ çš„é¢œè‰²ã€‚å¦‚æœæ²¡ç”¨UVä¿¡æ¯ï¼Œåªæœ‰Yä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæˆåƒä¸è¿‡åªæ˜¯é»‘ç™½çš„ï¼Œè¿™æ ·å°±èƒ½å¾ˆå¥½è§£å†³å½©è‰²ç”µè§†ä¸é»‘ç™½ç”µè§†çš„å…¼å®¹é—®é¢˜ï¼Œä¸RGBç›¸æ¯”ï¼ŒYUVå ç”¨å¸¦å®½è¾ƒå°‘ï¼Œç›®å‰æ‘„åƒå¤´è¾“å‡ºæ ¼å¼æ™®éé‡‡ç”¨YUVæ ¼å¼ã€‚ è€Œåœ¨å›¾åƒçš„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå…¶å®å¾ˆå°‘ä½¿ç”¨YUVæ ¼å¼ï¼Œä¸€èˆ¬éƒ½éœ€è¦è½¬æˆRGBæ ¼å¼æˆ–è€…ç°åº¦å›¾æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œè€Œopencvçš„cvtColor()å‡½æ•°æ”¯æŒè¿™ç§è½¬æ¢ å¸§ç‡ å¸§ç‡æ˜¯ç”¨äºæµ‹é‡æ˜¾ç¤ºå¸§æ•°çš„é‡åº¦ã€‚å•ä½ä¸ºã€Œæ¯ç§’æ˜¾ç¤ºå¸§æ•°ã€ï¼ˆFrame per Secondï¼ŒFPSï¼‰æˆ–ã€Œèµ«å…¹ï¼ŒHzã€ï¼Œè¡¨ç¤ºæ¯ç§’çš„å¸§æ•°ï¼ˆFPSï¼‰æˆ–è€…è¯´å¸§ç‡è¡¨ç¤ºå›¾å½¢å¤„ç†å™¨å¤„ç†åœºæ—¶æ¯ç§’é’Ÿèƒ½å¤Ÿæ›´æ–°çš„æ¬¡æ•°ï¼Œé«˜çš„å¸§ç‡å¯ä»¥å¾—åˆ°æ›´æµç•…ã€æ›´é€¼çœŸçš„åŠ¨ç”»ï¼Œä¸€èˆ¬æ¥è¯´ 30fps å°±æ˜¯å¯ä»¥æ¥å—çš„ï¼Œä½†æ˜¯å°†æ€§èƒ½æå‡è‡³ 60fps åˆ™å¯ä»¥æ˜æ˜¾æå‡äº¤äº’æ„Ÿå’Œé€¼çœŸæ„Ÿï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´è¶…è¿‡ 75fps ä¸€èˆ¬å°±ä¸å®¹æ˜“å¯Ÿè§‰åˆ°æœ‰æ˜æ˜¾çš„æµç•…åº¦æå‡äº†ï¼Œå¦‚æœå¸§ç‡è¶…è¿‡å±å¹•åˆ·æ–°ç‡åªä¼šæµªè´¹å›¾å½¢å¤„ç†çš„èƒ½åŠ›ï¼Œå› ä¸ºç›‘è§†å™¨ä¸èƒ½ä»¥è¿™ä¹ˆå¿«çš„é€Ÿåº¦æ›´æ–°ï¼Œè¿™æ ·è¶…è¿‡åˆ·æ–°ç‡çš„å¸§ç‡å°±æµªè´¹æ‰äº†ã€‚ åˆ†è¾¨ç‡ è§†é¢‘åˆ†è¾¨ç‡æ˜¯æŒ‡è§†é¢‘æˆåƒäº§å“æ‰€å½¢æˆçš„å›¾åƒå¤§å°æˆ–å°ºå¯¸ï¼Œå¸¸è§çš„ 1080Pã€4K ç­‰æœ‰ä»£è¡¨ä»€ä¹ˆå‘¢ï¼ŒP æœ¬èº«çš„å«ä¹‰æ˜¯é€è¡Œæ‰«æï¼Œè¡¨ç¤ºè§†é¢‘åƒç´ çš„æ€»è¡Œæ•°ï¼Œ1080P è¡¨ç¤ºæ€»å…±æœ‰ 1080 è¡Œçš„åƒç´ æ•°ï¼Œè€Œ K è¡¨ç¤ºè§†é¢‘åƒç´ çš„æ€»åˆ—æ•°ï¼Œ4K è¡¨ç¤ºæœ‰ 4000 åˆ—çš„åƒç´ æ•°ï¼Œé€šå¸¸æ¥è¯´ï¼Œ1080P å°±æ˜¯æŒ‡ 1080 x 1920 çš„åˆ†è¾¨ç‡ï¼Œ4 k æŒ‡ 3840 x 2160 çš„åˆ†è¾¨ç‡ã€‚ åˆ·æ–°ç‡ åˆ·æ–°ç‡å°±æ˜¯å±å¹•æ¯ç§’ç”»é¢è¢«åˆ·æ–°çš„æ¬¡æ•°ï¼Œåˆ·æ–°ç‡åˆ†ä¸ºå‚ç›´åˆ·æ–°ç‡å’Œæ°´å¹³åˆ·æ–°ç‡ï¼Œä¸€èˆ¬æåˆ°çš„åˆ·æ–°ç‡é€šå¸¸æŒ‡å‚ç›´åˆ·æ–°ç‡ï¼Œå‚ç›´åˆ·æ–°ç‡è¡¨ç¤ºå±å¹•çš„å›¾è±¡æ¯ç§’é’Ÿé‡ç»˜å¤šå°‘æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ¯ç§’é’Ÿå±å¹•åˆ·æ–°çš„æ¬¡æ•°ï¼Œä»¥ Hzï¼ˆèµ«å…¹ï¼‰ä¸ºå•ä½ï¼Œåˆ·æ–°ç‡è¶Šé«˜è¶Šå¥½ï¼Œå›¾è±¡å°±è¶Šç¨³å®šï¼Œå›¾åƒæ˜¾ç¤ºå°±è¶Šè‡ªç„¶æ¸…æ™°ï¼Œå¯¹çœ¼ç›çš„å½±å“ä¹Ÿè¶Šå°ï¼Œåˆ·æ–°é¢‘ç‡è¶Šä½ï¼Œå›¾åƒé—ªçƒå’ŒæŠ–åŠ¨çš„å°±è¶Šå‰å®³ï¼Œçœ¼ç›ç–²åŠ³å¾—å°±è¶Šå¿«ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¦‚èƒ½è¾¾åˆ° 80Hz ä»¥ä¸Šçš„åˆ·æ–°é¢‘ç‡å°±å¯å®Œå…¨æ¶ˆé™¤å›¾åƒé—ªçƒå’ŒæŠ–åŠ¨æ„Ÿï¼Œçœ¼ç›ä¹Ÿä¸ä¼šå¤ªå®¹æ˜“ç–²åŠ³ã€‚ ç¼–ç æ ¼å¼ é’ˆå¯¹éŸ³è§†é¢‘æ¥è¯´ï¼Œç¼–ç æ ¼å¼å¯¹åº”çš„å°±æ˜¯éŸ³é¢‘ç¼–ç å’Œè§†é¢‘ç¼–ç ï¼Œå¯¹ç…§å‰é¢çš„éŸ³é¢‘ç¼–ç æ ‡å‡†å’Œè§†é¢‘ç¼–ç æ ‡å‡†ï¼Œæ¯ç§ç¼–ç æ ‡å‡†éƒ½å¯¹åº”çš„ç¼–ç ç®—æ³•ï¼Œå…¶ç›®çš„æ˜¯é€šè¿‡ä¸€å®šç¼–ç ç®—æ³•å®ç°æ•°æ®çš„å‹ç¼©ã€å‡å°‘æ•°æ®çš„å†—ä½™ã€‚ å°è£…æ ¼å¼ ç›´æ¥çœ‹ä¸‹ç™¾åº¦ç™¾ç§‘çš„å…³äºå°è£…æ ¼å¼çš„ä»‹ç»ï¼Œå°è£…æ ¼å¼ï¼ˆä¹Ÿå«å®¹å™¨ï¼‰ï¼Œå°±æ˜¯å°†å·²ç»ç¼–ç å‹ç¼©å¥½çš„è§†é¢‘è½¨å’ŒéŸ³é¢‘è½¨æŒ‰ç…§ä¸€å®šçš„æ ¼å¼æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ä»…ä»…æ˜¯ä¸€ä¸ªå¤–å£³ï¼Œæˆ–è€…å¤§å®¶æŠŠå®ƒå½“æˆä¸€ä¸ªæ”¾è§†é¢‘è½¨å’ŒéŸ³é¢‘è½¨çš„æ–‡ä»¶å¤¹ä¹Ÿå¯ä»¥ï¼Œè¯´å¾—é€šä¿—ç‚¹ï¼Œè§†é¢‘è½¨ç›¸å½“äºé¥­ï¼Œè€ŒéŸ³é¢‘è½¨ç›¸å½“äºèœï¼Œå°è£…æ ¼å¼å°±æ˜¯ä¸€ä¸ªç¢—ï¼Œæˆ–è€…ä¸€ä¸ªé”…ï¼Œç”¨æ¥ç››æ”¾é¥­èœçš„å®¹å™¨ã€‚ ç ç‡ ç ç‡ï¼Œä¹Ÿå°±æ˜¯æ¯”ç‰¹ç‡ï¼ˆBit rateï¼‰ï¼ŒæŒ‡å•ä½æ—¶é—´å†…ä¼ è¾“æˆ–å¤„ç†çš„æ¯”ç‰¹çš„æ•°é‡ï¼Œå•ä½ä¸º bpsï¼ˆbit per secondï¼‰ä¹Ÿå¯è¡¨ç¤ºä¸º b/sï¼Œæ¯”ç‰¹ç‡è¶Šé«˜ï¼Œå•ä½æ—¶é—´ä¼ é€çš„æ•°æ®é‡ï¼ˆä½æ•°ï¼‰è¶Šå¤§ï¼Œå¤šåª’ä½“è¡Œä¸šåœ¨æŒ‡éŸ³é¢‘æˆ–è§†é¢‘åœ¨å•ä½æ—¶é—´å†…çš„æ•°æ®ä¼ è¾“ç‡æ—¶é€šå¸¸ä½¿ç”¨ç ç‡ï¼Œå•ä½æ˜¯ kbpsï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ˜¯ 1M çš„å®½å¸¦ï¼Œåœ¨ç½‘ä¸Šåªèƒ½çœ‹ç æµä¸è¶…è¿‡ 125kbps çš„è§†é¢‘ï¼Œè¶…è¿‡ 125kbps çš„è§†é¢‘åªèƒ½ç­‰è§†é¢‘ç¼“å†²æ‰èƒ½é¡ºåˆ©è§‚çœ‹ã€‚ ç ç‡ä¸€èˆ¬åˆ†ä¸ºå›ºå®šç ç‡å’Œå¯å˜ç ç‡ï¼š å›ºå®šç ç‡ä¼šä¿è¯ç æµçš„ç ç‡æ’å®šï¼Œä½†æ˜¯ä¼šç‰ºç‰²è§†é¢‘è´¨é‡ï¼Œæ¯”å¦‚ä¸ºäº†ä¿è¯ç ç‡æ’å®šï¼ŒæŸäº›å›¾åƒä¸°å¯Œçš„å†…å®¹å°±æ˜¯å¤±å»æŸäº›å›¾åƒç»†èŠ‚è€Œå˜å¾—æ¨¡ç³Šã€‚ å¯å˜ç ç‡æŒ‡çš„æ˜¯è¾“å‡ºç æµçš„ç ç‡æ˜¯å¯å˜çš„ï¼Œå› ä¸ºè§†é¢‘ä¿¡æºæœ¬èº«çš„é«˜å³°ä¿¡æ¯é‡æ˜¯å˜åŒ–çš„ï¼Œä»ç¡®ä¿è§†é¢‘ä¼ è¾“è´¨é‡å’Œå……åˆ†åˆ©ç”¨ä¿¡æ¯çš„è§’åº¦æ¥è¯´ï¼Œå¯å˜ç ç‡è§†é¢‘ç¼–ç æ‰æ˜¯æœ€åˆç†çš„ã€‚ ç ç‡çš„é«˜ä½ä¸è§†é¢‘è´¨é‡å’Œæ–‡ä»¶æäº¤æˆæ­£æ¯”ï¼Œä½†å½“ç ç‡è¶…è¿‡ä¸€å®šæ•°å€¼åï¼Œå¯¹è§†é¢‘è´¨é‡æ²¡æœ‰å½±å“ã€‚ é‡‡æ ·ç‡ é‡‡æ ·ç‡ï¼Œè¡¨ç¤ºæ¯ç§’ä»è¿ç»­ä¿¡å·ä¸­æå–å¹¶ç»„æˆç¦»æ•£ä¿¡å·çš„é‡‡æ ·ä¸ªæ•°ï¼Œç”¨èµ«å…¹ï¼ˆHzï¼‰æ¥è¡¨ç¤ºï¼Œé‡‡æ ·ç‡æ˜¯æŒ‡å°†æ¨¡æ‹Ÿä¿¡å·è½¬æ¢æˆæ•°å­—ä¿¡å·æ—¶çš„é‡‡æ ·é¢‘ç‡ï¼Œäººè€³èƒ½å¬åˆ°çš„å£°éŸ³ä¸€èˆ¬åœ¨ 20Hz~20KHz ä¹‹é—´ï¼Œæ ¹æ®é‡‡æ ·å®šç†ï¼Œé‡‡æ ·é¢‘ç‡å¤§äºä¿¡å·ä¸­æœ€é«˜é¢‘ç‡çš„ 2 å€æ—¶ï¼Œé‡‡æ ·ä¹‹åçš„æ•°å­—ä¿¡å·ä¾¿èƒ½å®Œæ•´çš„ååº”çœŸå®ä¿¡å·ï¼Œå¸¸è§çš„é‡‡æ ·ç‡å¦‚ä¸‹ï¼š 8000 Hzï¼šç”µè¯æ‰€ç”¨é‡‡æ ·ç‡, å¯¹äºäººçš„è¯´è¯å·²ç»è¶³å¤Ÿ 11025 Hzï¼šAMè°ƒå¹…å¹¿æ’­æ‰€ç”¨é‡‡æ ·ç‡ 22050 Hz å’Œ 24,000 Hzï¼šFMè°ƒé¢‘å¹¿æ’­æ‰€ç”¨é‡‡æ ·ç‡ 44100Hzï¼šéŸ³é¢‘CDï¼Œå¸¸ç”¨äº MPEG-1 éŸ³é¢‘ï¼ˆVCDï¼ŒSVCDï¼ŒMP3ï¼‰æ‰€ç”¨é‡‡æ ·ç‡ 47,250 Hzï¼šå•†ç”¨ PCM å½•éŸ³æœºæ‰€ç”¨é‡‡æ ·ç‡ 48,000 Hzï¼šminiDVã€æ•°å­—ç”µè§†ã€DVDã€DATã€ç”µå½±å’Œä¸“ä¸šéŸ³é¢‘æ‰€ç”¨çš„æ•°å­—å£°éŸ³æ‰€ç”¨é‡‡æ ·ç‡ CD éŸ³ä¹çš„æ ‡å‡†é‡‡æ ·é¢‘ç‡ä¸º 44.1KHzï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰å£°å¡ä¸è®¡ç®—æœºä½œä¸šé—´æœ€å¸¸ç”¨çš„é‡‡æ ·é¢‘ç‡ï¼Œç›®å‰æ¯”è¾ƒç››è¡Œçš„è“å…‰çš„é‡‡æ ·ç‡å°±ç›¸å½“çš„é«˜ï¼Œè¾¾åˆ°äº† 192kHzã€‚è€Œç›®å‰çš„å£°å¡ï¼Œç»å¤§å¤šæ•°éƒ½å¯ä»¥æ”¯æŒ 44.1kHzã€48kHzã€96kHzï¼Œé«˜ç«¯äº§å“å¯æ”¯æŒ 192kHz ç”šè‡³æ›´é«˜ï¼Œæ€»ä¹‹ï¼Œé‡‡æ ·ç‡è¶Šé«˜ï¼Œè·å¾—çš„å£°éŸ³æ–‡ä»¶è´¨é‡è¶Šå¥½ï¼Œå ç”¨å­˜å‚¨ç©ºé—´ä¹Ÿå°±è¶Šå¤§ã€‚ é‡åŒ–ç²¾åº¦ å£°æ³¢åœ¨è½¬æ¢ä¸ºæ•°å­—ä¿¡å·çš„è¿‡ç¨‹ä¸­ä¸åªæœ‰é‡‡æ ·ç‡å½±å“åŸå§‹å£°éŸ³çš„å®Œæ•´æ€§ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦å½±å“å› ç´ æ˜¯é‡åŒ–ç²¾åº¦ï¼Œé‡‡æ ·é¢‘ç‡é’ˆå¯¹çš„æ˜¯æ¯ç§’é’Ÿæ‰€é‡‡æ ·çš„æ•°é‡ï¼Œè€Œé‡åŒ–ç²¾åº¦åˆ™æ˜¯å¯¹äºå£°æ³¢çš„æŒ¯å¹…è¿›è¡Œåˆ‡å‰²ï¼Œåˆ‡å‰²çš„æ•°é‡æ˜¯ä»¥æœ€å¤§æŒ¯å¹…åˆ‡æˆ 2 çš„ n æ¬¡æ–¹è®¡ç®—ï¼Œn å°±æ˜¯ bit æ•°ï¼Œè€Œ bit æ•°å°±æ˜¯éŸ³é¢‘åˆ†è¾¨ç‡ã€‚ å¦å¤–ï¼Œbit çš„æ•°ç›®è¿˜å†³å®šäº†å£°æ³¢æŒ¯å¹…çš„èŒƒå›´ï¼ˆå³åŠ¨æ€èŒƒå›´ï¼Œæœ€å¤§éŸ³é‡ä¸æœ€å°éŸ³é‡çš„å·®è·ï¼‰ï¼Œå¦‚æœè¿™ä¸ªä½æ•°è¶Šå¤§ï¼Œåˆ™èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å€¼è¶Šå¤§ï¼Œæè¿°æ³¢å½¢æ›´ç²¾ç¡®ï¼Œæ¯ä¸€ä¸ª Bit çš„æ•°æ®å¯ä»¥è®°å½•çº¦ç­‰äº 6dB åŠ¨æ€çš„ä¿¡å·ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ16Bit å¯ä»¥æä¾›æœ€å¤§ 96dB çš„åŠ¨æ€èŒƒå›´ï¼ˆåŠ é«˜é¢‘é¢¤åŠ¨å åªæœ‰ 92dBï¼‰ï¼Œæ®æ­¤å¯ä»¥æ¨æ–­å‡º 20Bit å¯ä»¥è¾¾åˆ° 120dB çš„åŠ¨æ€èŒƒå›´ï¼ŒåŠ¨æ€èŒƒå›´å¤§äº†ï¼Œä¼šæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼ŸåŠ¨æ€èŒƒå›´æ˜¯æŒ‡ç³»ç»Ÿçš„è¾“å‡ºå™ªéŸ³åŠŸç‡å’Œæœ€å¤§ä¸å¤±çœŸéŸ³é‡åŠŸç‡çš„æ¯”å€¼ï¼Œè¿™ä¸ªå€¼è¶Šå¤§ï¼Œåˆ™ç³»ç»Ÿå¯ä»¥æ‰¿å—å¾ˆé«˜çš„åŠ¨æ€ã€‚ å£°é“ å£°é“æŒ‡å£°éŸ³åœ¨å½•åˆ¶æˆ–æ’­æ”¾æ—¶åœ¨ä¸åŒç©ºé—´ä½ç½®é‡‡é›†æˆ–å›æ”¾çš„ç›¸äº’ç‹¬ç«‹çš„éŸ³é¢‘ä¿¡å·ï¼Œæ‰€ä»¥å£°é“æ•°ä¹Ÿå°±æ˜¯å£°éŸ³å½•åˆ¶æ—¶çš„éŸ³æºæ•°é‡æˆ–å›æ”¾æ—¶ç›¸åº”çš„æ‰¬å£°å™¨æ•°é‡ï¼Œå¸¸è§å£°é“æœ‰å•å£°é“ã€ç«‹ä½“å£°é“ã€4 å£°é“ã€5.1 å£°é“ã€7.1 å£°é“ç­‰ ï¼Œå…·ä½“å¦‚ä¸‹ï¼š å•å£°é“ï¼šè®¾ç½®ä¸€ä¸ªæ‰¬å£°å™¨ã€‚ ç«‹ä½“å£°é“ï¼šæŠŠå•å£°é“ä¸€ä¸ªæ‰¬å£°å™¨æ‰©å±•ä¸ºå·¦å³å¯¹ç§°çš„ä¸¤ä¸ªæ‰¬å£°å™¨ï¼Œå£°éŸ³åœ¨å½•åˆ¶è¿‡ç¨‹ä¸­è¢«åˆ†é…åˆ°ä¸¤ä¸ªç‹¬ç«‹çš„å£°é“ï¼Œä»è€Œè¾¾åˆ°äº†å¾ˆå¥½çš„å£°éŸ³å®šä½æ•ˆæœï¼Œè¿™ç§æŠ€æœ¯åœ¨éŸ³ä¹æ¬£èµä¸­æ˜¾å¾—å°¤ä¸ºæœ‰ç”¨ï¼Œå¬ä¼—å¯ä»¥æ¸…æ™°åœ°åˆ†è¾¨å‡ºå„ç§ä¹å™¨æ¥è‡ªä½•æ–¹ï¼Œä»è€Œä½¿éŸ³ä¹æ›´å¯Œæƒ³è±¡åŠ›ï¼Œæ›´åŠ æ¥è¿‘ä¸´åœºæ„Ÿå—ã€‚ç«‹ä½“å£°æŠ€æœ¯å¹¿æ³›åº”ç”¨äºè‡ª Sound Blaster Pro ä»¥åçš„å¤§é‡å£°å¡ï¼Œæˆä¸ºäº† å½±å“æ·±è¿œçš„éŸ³é¢‘æ ‡å‡†ã€‚ 4 å£°é“ï¼š4 å£°é“ç¯ç»•è§„å®šäº† 4 ä¸ªå‘éŸ³ç‚¹ï¼Œåˆ†åˆ«æ˜¯å‰å·¦ã€å‰å³ã€åå·¦ã€åå³ï¼Œå¬ä¼—åˆ™è¢«åŒ…å›´åœ¨ä¸­é—´ï¼ŒåŒæ—¶è¿˜å»ºè®®å¢åŠ ä¸€ä¸ªä½éŸ³éŸ³ç®±ï¼Œä»¥åŠ å¼ºå¯¹ä½é¢‘ä¿¡å·çš„å›æ”¾å¤„ç†ï¼Œè¿™ä¹Ÿå°±æ˜¯å¦‚ä»Š 4.1 å£°é“éŸ³ç®±ç³»ç»Ÿå¹¿æ³›æµè¡Œçš„åŸå› ï¼Œå°±æ•´ä½“æ•ˆæœè€Œè¨€ï¼Œ4 å£°é“ç³»ç»Ÿå¯ä»¥ä¸ºå¬ä¼—å¸¦æ¥æ¥è‡ªå¤šä¸ªä¸ åŒæ–¹å‘çš„å£°éŸ³ç¯ç»•ï¼Œå¯ä»¥è·å¾—èº« ä¸´å„ç§ä¸åŒç¯å¢ƒçš„æ˜•è§‰æ„Ÿå—ï¼Œç»™ç”¨æˆ·ä»¥å…¨æ–°çš„ä½“éªŒã€‚ 5.1 å£°é“ï¼šå…¶å® 5.1 å£°é“ç³»ç»Ÿæ¥æºäº 4.1 å£°é“ç³»ç»Ÿï¼Œå°†ç¯ç»•å£°é“ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†ä¸ºå·¦ç¯ç»•å’Œå³ç¯ç»•ï¼Œä¸­å¤®ä½ç½®å¢åŠ é‡ä½éŸ³æ•ˆæœã€‚ 7.1 å£°é“ï¼š7.1 å£°é“ç³»ç»Ÿåœ¨ 5.1 å£°é“ç³»ç»Ÿçš„åŸºç¡€ä¸Šåˆå¢åŠ äº†ä¸­å·¦å’Œä¸­å³ä¸¤ä¸ªå‘éŸ³ç‚¹ï¼Œç®€å•æ¥è¯´å°±æ˜¯åœ¨å¬è€…çš„å‘¨å›´å»ºç«‹èµ·ä¸€å¥—å‰åç›¸å¯¹å¹³è¡¡çš„å£°åœºï¼Œå¢åŠ äº† åä¸­å£°åœºå£°é“ã€‚ éƒ¨åˆ†å‚è€ƒèµ„æ–™ éŸ³è§†é¢‘åŸºæœ¬æ¦‚å¿µ è§†é¢‘æ ¼å¼åŸºç¡€çŸ¥è¯†ï¼šè®©ä½ äº†è§£MKVã€MP4ã€H.265ã€ç ç‡ã€è‰²æ·±ç­‰ç­‰ å›¾ç‰‡æ ¼å¼ä¹‹YUV420 è½¬RGBæ ¼å¼ fourcc ","date":"2023-01-30","objectID":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/:12:0","tags":["éŸ³è§†é¢‘"],"title":"å›¾åƒåŠè§†é¢‘ç­‰ç›¸å…³åŸºç¡€çŸ¥è¯†","uri":"/posts/computer_vision/basic/%E5%9B%BE%E5%83%8F%E5%8F%8A%E8%A7%86%E9%A2%91%E7%AD%89%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"categories":["cpp"],"content":"æ•´ç†éƒ¨åˆ†ç°ä»£C++ä½œç”¨åœ¨å‡½æ•°åçš„å…³é”®å­—","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ æ ‡è¯†ç¬¦/è¯­å¥/è¡¨è¾¾å¼ æ ‡è¯†ç¬¦ åœ¨å£°æ˜ä¸­ åœ¨è¡¨è¾¾å¼ä¸­ æ— é™å®šæ ‡è¯†ç¬¦ æœ‰é™å®šæ ‡è¯†ç¬¦ åå­— è¯­å¥ è¡¨è¾¾å¼è¯­å¥ å¤åˆè¯­å¥ é€‰æ‹©è¯­å¥ è¿­ä»£è¯­å¥ è·³è½¬è¯­å¥ å£°æ˜è¯­å¥ tryå— è¡¨è¾¾å¼ åˆç­‰è¡¨è¾¾å¼ ä¸æ±‚å€¼è¡¨è¾¾å¼ å¼ƒå€¼è¡¨è¾¾å¼ å¸¸é‡è¡¨è¾¾å¼ code const ä½œç”¨ const çš„æŒ‡é’ˆä¸å¼•ç”¨ ä½¿ç”¨ static ä½œç”¨ é™æ€æˆå‘˜ é™æ€æˆå‘˜å‡½æ•° this æŒ‡é’ˆ inline å†…è”å‡½æ•° ç‰¹å¾ ä½¿ç”¨ ç¼–è¯‘å™¨å¯¹ inline å‡½æ•°çš„å¤„ç†æ­¥éª¤ ä¼˜ç¼ºç‚¹ è™šå‡½æ•°ï¼ˆvirtualï¼‰å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼ˆinlineï¼‰å—ï¼Ÿ volatile assert() sizeof() #pragma pack(n) pragma pack(n) ä½¿ç”¨ ä½åŸŸ extern â€œCâ€ struct å’Œ typedef struct C ä¸­ C++ ä¸­ C++ ä¸­ struct å’Œ class åŒºåˆ« ç±»çš„é»˜æˆå‘˜å‡½æ•° union è”åˆ C å®ç° C++ ç±» explicitï¼ˆæ˜¾å¼ï¼‰å…³é”®å­— friend å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•° using using å£°æ˜ æ„é€ å‡½æ•°çš„ using å£°æ˜ using æŒ‡ç¤º å°½é‡å°‘ä½¿ç”¨ using æŒ‡ç¤º æ±¡æŸ“å‘½åç©ºé—´ :: èŒƒå›´è§£æè¿ç®—ç¬¦ åˆ†ç±» enum æšä¸¾ç±»å‹ é™å®šä½œç”¨åŸŸçš„æšä¸¾ç±»å‹ ä¸é™å®šä½œç”¨åŸŸçš„æšä¸¾ç±»å‹ decltype æ¨å¯¼å‡ºè¡¨è¾¾å¼ç±»å‹ ä¸using/typedefåˆç”¨ï¼Œç”¨äºå®šä¹‰ç±»å‹ é‡ç”¨åŒ¿åç±»å‹ æ³›å‹ç¼–ç¨‹ä¸­ç»“åˆautoï¼Œç”¨äºè¿½è¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ decltypeæ¨å¯¼å››è§„åˆ™ å¼•ç”¨ å·¦å€¼å¼•ç”¨ å³å€¼å¼•ç”¨ å¼•ç”¨æŠ˜å  å® æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ initializer_list åˆ—è¡¨åˆå§‹åŒ– é¢å‘å¯¹è±¡ å°è£… ç»§æ‰¿ å¤šæ€ é™æ€å¤šæ€ï¼ˆç¼–è¯‘æœŸ/æ—©ç»‘å®šï¼‰ åŠ¨æ€å¤šæ€ï¼ˆè¿è¡ŒæœŸæœŸ/æ™šç»‘å®šï¼‰ è™šææ„å‡½æ•° çº¯è™šå‡½æ•° è™šå‡½æ•°ã€çº¯è™šå‡½æ•° è™šå‡½æ•°æŒ‡é’ˆã€è™šå‡½æ•°è¡¨ è™šç»§æ‰¿ è™šç»§æ‰¿ã€è™šå‡½æ•° æ¨¡æ¿ç±»ã€æˆå‘˜æ¨¡æ¿ã€è™šå‡½æ•° æŠ½è±¡ç±»ã€æ¥å£ç±»ã€èšåˆç±» å†…å­˜åˆ†é…å’Œç®¡ç† mallocã€callocã€reallocã€alloca mallocã€free newã€delete å®šä½ new delete this åˆæ³•å—ï¼Ÿ å¦‚ä½•å®šä¹‰ä¸€ä¸ªåªèƒ½åœ¨å †ä¸Šï¼ˆæ ˆä¸Šï¼‰ç”Ÿæˆå¯¹è±¡çš„ç±»ï¼Ÿ åªèƒ½åœ¨å †ä¸Š åªèƒ½åœ¨æ ˆä¸Š æ™ºèƒ½æŒ‡é’ˆ C++ æ ‡å‡†åº“ï¼ˆSTLï¼‰ä¸­ C++ 98 C++ 11 shared_ptr weak_ptr unique_ptr auto_ptr auto_ptr ä¸ unique_ptr æ¯”è¾ƒ å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ static_cast dynamic_cast const_cast reinterpret_cast bad_cast è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ (RTTI) dynamic_cast typeid type_info å‚è€ƒèµ„æ–™ æ ‡è¯†ç¬¦/è¯­å¥/è¡¨è¾¾å¼ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:0:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æ ‡è¯†ç¬¦ æ ‡è¯†ç¬¦å®é™…ä¸Šæ˜¯ç”±ä¸€ç»„å­—ç¬¦ç»„æˆçš„ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œè§„å®šæ˜¯ä»¥éæ•°å­—å¼€å¤´ï¼Œä»¥ä¸‹åˆ’çº¿å­—æ¯Unicodeå¼€å¤´ï¼Œéå…³é”®å­—çš„å­—ç¬¦ä¸²å³å¯ï¼Œä½†æ˜¯è¦ä¸»è¦çš„æ˜¯è™½ç„¶å¼•å…¥äº†å¯¹Unicodeå­—ç¬¦çš„æ”¯æŒï¼Œä½†æ˜¯å„å®ç°ä»»æ˜¯ä¸å®šçš„ï¼Œå¯¹äºUnicodeçš„å¤„ç†ï¼Œæˆ‘ä»¬åœ¨ç¿»è¯‘çš„ç¬¬ä¸€é˜¶æ®µå°±çŸ¥é“äº†ï¼Œæ˜ å°„æˆäº†ä¸€ä¸ªé€šç”¨è½¬ç§»åºåˆ—å¼€å¤´çš„å­—ç¬¦ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:1:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åœ¨å£°æ˜ä¸­ å¯¹äºæ ‡è¯†ç¬¦åœ¨æ ‡å‡†ä¸­ä¹Ÿæ˜¯æœ‰ä¸€å®šè§„å®šçš„ï¼Œé€šå¸¸æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿æˆ–ä¸€ä¸ªä¸‹åˆ’çº¿ä¸€ä¸ªå¤§å†™å­—æ¯çš„æ ‡è¯†ç¬¦æ˜¯è¢«ä¿ç•™çš„ï¼Œä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦åœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ˜¯ä¿ç•™çš„ï¼Œè¿™é‡Œçš„ä¿ç•™çš„æ„æ€å°±æ˜¯è¯´ï¼Œè¿™å†™æ ‡è¯†ç¬¦å¯èƒ½éƒ½è¢«å£°æ˜æˆ–æ˜¯è¢«ç©ºç™½#defineè¿‡çš„ç”¨äºå†…éƒ¨ä½¿ç”¨ä¸å¯¹å¤–ç»™ä½¿ç”¨è€…ä½¿ç”¨ï¼Œå³ä½¿æœ‰äº›åŠŸèƒ½æ˜¯å·²çŸ¥çš„ï¼Œä½†æ˜¯å…·ä½“å®ç°ï¼Œç‰¹æ€§ç­‰éƒ½æ˜¯æœªçŸ¥çš„ï¼Œæ•…ä½¿ç”¨è¿™ç±»æ ‡è¯†ç¬¦æ˜¯UBï¼ŒåŒæ ·ï¼Œä¸èƒ½å¯¹å…³é”®å­—è¿›è¡Œ#define #undef å¦‚æœè¿™ä¹ˆåšçš„è¯åˆ™ä¹Ÿæ˜¯UBã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:1:1","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åœ¨è¡¨è¾¾å¼ä¸­ ä¸€ä¸ªå‘½åå‡½æ•°ï¼Œå˜é‡ï¼Œæšä¸¾é¡¹çš„æ ‡è¯†ç¬¦æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå½“è¿™ä¸ªæ ‡è¯†ç¬¦å•ç‹¬ä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼æ—¶ï¼Œè¡¨è¾¾å¼çš„ç»“æœæ˜¯è¿™ä¸ªæ ‡è¯†ç¬¦æ‰€å‘½åçš„å®ä½“ï¼Œå¦‚æœè¿™ä¸ªæ ‡è¯†ç¬¦æŒ‡åçš„æ˜¯å˜é‡ï¼Œå‡½æ•°ï¼Œæ¨¡æ¿å½¢å‚å¯¹è±¡ï¼Œæ•°æ®æˆå‘˜ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼çš„å€¼ç±»åˆ«å°±æ˜¯å·¦å€¼ï¼Œå¦åˆ™å°±æ˜¯çº¯å³å€¼ã€‚ä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹ç¡®å®šé€šå¸¸æœ‰è§„å®šï¼Œé€šå¸¸æƒ…å†µä¸‹è¡¨è¾¾å¼çš„ç±»å‹å°±æ˜¯å®ƒæŒ‡åçš„å®ä½“ç±»å‹ï¼Œå¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªéé™æ€å±€éƒ¨å˜é‡å¹¶ä¸”åœ¨å…¶ä½œç”¨åŸŸå¤–è¢«æŒ‡ååˆ™ä¼šå¯¼è‡´é€ æˆè¿™ä¸ªå½¢å¼çš„lambdaå¯¹è±¡ä»¥å¤åˆ¶æ•è·ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼çš„ç±»å‹å°±æ˜¯å…¶æœ€å†…å±‚ç©¿æ’çš„lambdaè¡¨è¾¾å¼çš„é—­åŒ…å¯¹è±¡æ•è·å£°æ˜çš„ä¸€ä¸ªéé™æ€æ•°æ®æˆå‘˜çš„æˆå‘˜è®¿é—®è¡¨è¾¾å¼çš„ç±»å‹ã€‚åœ¨éé™æ€æˆå‘˜å‡½æ•°å†…ï¼Œæ¯ä¸ªæŒ‡åæ•°æ®æˆå‘˜çš„éƒ½è¢«éšå¼çš„è½¬æ¢æˆç±»æˆå‘˜è¡¨è¾¾å¼(thisâ†’mumber)ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:1:2","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æ— é™å®šæ ‡è¯†ç¬¦ æ— é™å®šæ ‡è¯†ç¬¦é™¤äº†ä¸Šè¿°å£°æ˜äº†çš„æ ‡è¯†ç¬¦å¤–è¿˜æœ‰ä»¥ä¸‹æ ‡è¯†è¡¨è¾¾å¼å¯ä»¥è¢«ç”¨åœ¨è¡¨è¾¾å¼ä¸­ï¼š å‡½æ•°å†™æ³•çš„é‡è½½è¿ç®—ç¬¦åå­— ç”¨æˆ·å®šä¹‰ç±»å‹è½¬æ¢çš„å‡½æ•°åå­— ç”¨æˆ·å®šä¹‰çš„å­—é¢é‡è¿ç®—ç¬¦çš„åå­— å¸¦æœ‰å®å‚è¡¨çš„æ¨¡æ¿åå­— ï½å­—ç¬¦éšç±»å ï½å­—ç¬¦éšdecltype è¿™äº›éƒ½ç¬¦å·å’Œæ ‡è¯†ç¬¦ç»„åˆåœ¨ä¸€èµ·æˆä¸ºæ— é™å®šçš„æ ‡å¿—è¡¨è¾¾å¼ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:1:3","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æœ‰é™å®šæ ‡è¯†ç¬¦ æœ‰é™å®šæ ‡è¯†ç¬¦åˆ™æ˜¯åœ¨æ— é™å®šæ ‡è¯†ç¬¦å‰åŠ ä½œç”¨åŸŸè§£æç¬¦ï¼Œæˆ–æ˜¯ä»¥ä½œç”¨åŸŸè§£æå‰¯åˆ†éš”çš„ä¸€ç³»åˆ—æšä¸¾ï¼Œç±»ï¼Œåç§°ç©ºé—´çš„åå­—æˆ–è€…decltyleè¡¨è¾¾å¼ã€‚å¯¹äºæœ‰é™å®šæ ‡è¯†ç¬¦ï¼Œå¯èƒ½ä¼šå­˜åœ¨è¦æ±‚ç”¨templataæ¥æ¶ˆé™¤ä¾èµ–çš„æ¨¡æ¿åçš„æ­§ä¹‰ã€‚ //ToDoåœ¨ä»£ç ä¸­æ·»åŠ æ¶ˆé™¤ä¾èµ–ç›¸å…³å†…å®¹ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:1:4","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åå­— åå­—å¯ä»¥ä»£è¡¨ä¸€ä¸ªå®ä½“æˆ–æ˜¯ä¸€ä¸ªæ ‡ç­¾ åå­—é€šå¸¸æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ æˆ–è€…æ˜¯åœ¨æ— é™å®šæ ‡è¯†ç¬¦ä¸­ï¼ˆå®é™…ä¸Šæœ‰æ— é™å®šå‡å±ï¼‰è¯¦ç»†è¯´æ˜çš„ä»£åå­—çš„æ ‡å¿—è¡¨è¾¾å¼ ä¸€ä¸ªä»£è¡¨å®ä½“çš„åå­—æ˜¯é€šè¿‡å£°æ˜å¼•å…¥çš„ï¼Œä»£è¡¨æ ‡ç­¾çš„åˆ™æ˜¯å¯ä»¥é€šè¿‡gotoæˆ–ç”±æ ‡å·æ ‡ç­¾ï¼ˆcaseï¼‰å¼•å…¥ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:2:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è¯­å¥ è¯­å¥çš„å¤§æ ¼å¼æ˜¯ï¼š 1 attr statement å³åœ¨è¯­å¥å‰å¯ä»¥ç”¨ä¸€ç³»åˆ—å±æ€§å¯¹è¯­å¥åšä¿®é¥° è¯­å¥æ˜¯é¡ºåºæ‰§è¡ŒC++ç¨‹åºç‰‡æ®µï¼Œä»»æ„å‡½æ•°ä½“æ˜¯è¯­å¥çš„åºåˆ—ï¼Œä¸€ä¸ªè¯­å¥é€šå¸¸å¯ä»¥æ˜¯ï¼š ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è¡¨è¾¾å¼è¯­å¥ ä¸€ä¸ªè¡¨è¾¾å¼åè·Ÿéšä¸€ä¸ªåˆ†å·å³å¯ï¼ˆåªæœ‰è·Ÿéšåˆ†å·çš„ä¸€ä¸ªæœ€ç»ˆè¡¨è¾¾å¼æ˜¯è¡¨è¾¾å¼è¯­å¥è¯­å¥ï¼‰ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:1","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å¤åˆè¯­å¥ å½“æœŸæœ›ä¸€ä¸ªè¯­å¥ä½†æ˜¯åˆè¦æ±‚è¿™ä¸ªè¯­å¥å†…åŒ…å«å¤šä¸ªé¡ºåºæ‰§è¡Œçš„è¯­å¥åºåˆ—æ—¶å°±ä½¿ç”¨ä¸€ä¸ªå¤åˆè¯­å¥ å¤åˆè¯­å¥éœ€è¦ç”±ä¸€å¯¹èŠ±æ‹¬å·åŒ…æ‹¬ï¼Œå¹¶å¼•å…¥ä¸€ä¸ªå—ä½œç”¨åŸŸï¼Œåœ¨å¤åˆè¯­å¥ç»“æŸåï¼Œå£°æ˜äºå—å†…å˜é‡è¢«é”€æ¯ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:2","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é€‰æ‹©è¯­å¥ é€‰æ‹©è¯­å¥æ˜¯if constexprï¼Œswitchï¼Œå…¶ä¸­ä»C++17èµ·ï¼Œifå¯å¸¦åˆå§‹åŒ–è¯­å¥ï¼Œå…¶ä¼šè¢«æ”¹ç¼–ä¸º 1 2 3 4 { åˆå§‹åŒ–è¯­å¥ if constexprï¼ˆå¯é€‰ï¼‰â€¦ } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:3","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è¿­ä»£è¯­å¥ è¿­ä»£è¯­å¥æ˜¯forï¼ˆåŒ…æ‹¬C++11èµ·çš„èŒƒå›´for) while doâ€¦while ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:4","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è·³è½¬è¯­å¥ continue break return goto ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:5","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å£°æ˜è¯­å¥ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:6","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"tryå— ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:3:7","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è¡¨è¾¾å¼ è¡¨è¾¾å¼æ˜¯ç”±è¿ç®—ç¬¦å’Œè¿ç®—æ•°ç»„æˆçš„ä¸€ä¸ªåºåˆ—ã€‚å¯å¯¹è¡¨è¾¾å¼æ±‚å€¼äº§ç”Ÿç»“æœï¼Œä¸€ä¸ªè¡¨è¾¾å¼ä¹Ÿå¯ä»¥äº§ç”Ÿå‰¯ä½œç”¨ã€‚ä¸€è¡¨è¾¾å¼æ±‚å€¼ï¼Œå¯ä»¥æ¨å¾—ä¸€ä¸ªå€¼ç±»åˆ«ï¼ŒåŒæ—¶ï¼Œè¡¨è¾¾å¼éµå¾ªä¸€ä¸ªæ±‚å€¼é¡ºåºè§„åˆ™æ¥æ±‚å¾—å®å‚å’Œå­è¡¨è¾¾å¼çš„å€¼ä½œä¸ºè¡¨è¾¾å¼çš„ä¸­é—´å€¼ã€‚ è¡¨è¾¾å¼çš„è¿ç®—ç¬¦åŒ…æ‹¬ï¼š æ‰€æœ‰æ”¯æŒçš„è¿ç®—ç¬¦ ç±»å‹è½¬æ¢ åˆ†é…å†…å­˜ å…¶ä»– å…¶ä¸­ä¸€ä¸ªè¡¨è¾¾å¼å¯ä»¥åˆ†ä¸ºï¼š ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:4:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åˆç­‰è¡¨è¾¾å¼ è¡¨è¾¾å¼é€šå¸¸æ˜¯ä¸€ä¸ªåˆç­‰è¡¨è¾¾å¼å’Œä¸€ä¸ªå­è¡¨è¾¾å¼é€’å½’å½¢æˆä¸€ä¸ªåˆç­‰è¡¨è¾¾å¼å¯ä»¥æ˜¯ï¼š å¸¸é‡ å­—é¢é‡ æ ‡è¯†ç¬¦ lambdaè¡¨è¾¾å¼ æŠ˜å è¡¨è¾¾å¼ æ‹¬å·å†…çš„è¡¨è¾¾å¼è¢«å½“ä½œä¸€ä¸ªåˆç­‰è¡¨è¾¾å¼çœ‹å¾…ï¼ˆæ‰€ä»¥åœ¨è¿›è¡Œè¡¨è¾¾å¼æ±‚å€¼å³å­˜åœ¨è¿ç®—ç¬¦æ—¶ï¼Œé€šå¸¸ä¼šæ±‚å¾—åˆç­‰è¡¨è¾¾å¼çš„å€¼ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯æ‹¬å·å†…çš„è¡¨è¾¾å¼è¢«ä¼˜å…ˆæ±‚å€¼ï¼‰ã€‚ å­—é¢é‡ä»‹ç»ï¼š å­—é¢é‡å¯ä»¥æ˜¯:å¸¸æ•°å­—é¢é‡ï¼Œå­—ç¬¦å­—é¢é‡ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ï¼Œnullptrï¼Œæµ®ç‚¹å­—é¢é‡ï¼Œboolå­—é¢é‡ï¼Œç”¨æˆ·å®šå­—é¢é‡ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:4:1","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä¸æ±‚å€¼è¡¨è¾¾å¼ ä¸€ä¸ªä¸æ±‚å€¼è¡¨è¾¾å¼é€šå¸¸æ˜¯åœ¨è¿ç®—ç¬¦:sizeof/sizeofâ€¦/decltype/typeid/noexpect ä¹‹åçš„è¡¨è¾¾å¼ï¼Œä½†æ˜¯è¦æ³¨æ„ä¸¤ç‚¹ï¼š å¦‚æœtepeidçš„è¿ç®—æ•°æ˜¯ä¸€ä¸ªå¤šæ€å¯¹è±¡åˆ™ä¼šå¯¹è¯¥è¡¨è¾¾å¼æ±‚å€¼ï¼Œä»¥ç¡®å®šå…¶å…·ä½“æ‰€å±ç±»å‹ ä¸€ä¸ªä¸æ±‚å€¼è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå®Œå…¨è¡¨è¾¾å¼ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:4:2","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å¼ƒå€¼è¡¨è¾¾å¼ å¼ƒç½®è¡¨è¾¾å¼è¡¨æ˜ï¼Œåªå¤„ç†è¡¨è¾¾å¼ç›¸åº”çš„å‰¯ä½œç”¨ï¼Œä¸å¯¹è¡¨è¾¾å¼æ±‚å¾—çš„å€¼åšå¤„ç†ï¼Œæ‰€æœ‰çš„è¡¨è¾¾å¼è¯­å¥å’Œé€—å·è¿ç®—ç¬¦çš„å·¦å®å‚éƒ½æ˜¯å¼ƒå€¼è¡¨è¾¾å¼ï¼Œå³ï¼Œéå¼ƒå€¼è¡¨è¾¾å¼åªä¼šå­˜åœ¨äºå­è¡¨è¾¾å¼ä¸­ï¼Œç”±äºè¡¨è¾¾å¼çš„å€¼è¢«æŠ›å¼ƒï¼ˆä¸ä½¿ç”¨ï¼‰æ‰€ä»¥ä¸ä¼šå¯¹å…¶è¿›è¡Œå¸¸è§„è½¬æ¢ï¼ˆè§„å®šä¸Šçš„ï¼‰æ•°ç»„ä¸ä¼šè‡ªåŠ¨è½¬ä¸ºæŒ‡é’ˆï¼Œå‡½æ•°ä¸ä¼šè‡ªåŠ¨è½¬ä¸ºå‡½æ•°çš„æŒ‡é’ˆã€‚å¼ƒå€¼è¡¨è¾¾å¼å¯ä»¥æ˜¯ï¼š æ ‡è¯†ç¬¦è¡¨è¾¾å¼ï¼ˆå•ç‹¬æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦æ„æˆçš„è¡¨è¾¾å¼ï¼‰ æˆå‘˜è®¿é—®è¡¨è¾¾å¼ï¼ˆä½¿ç”¨åˆ°æˆå‘˜è®¿é—®è¿ç®—ç¬¦ç³»çš„ï¼‰ æˆå‘˜æŒ‡é’ˆæ“ä½œ æ¡ä»¶è¡¨è¾¾å¼ï¼ˆä¸‰ç›®ï¼‰ é€—å·è¡¨è¾¾å¼ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:4:3","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å¸¸é‡è¡¨è¾¾å¼ æ¦‚è¿°è€Œè¨€ï¼Œå¸¸é‡è¡¨è¾¾å¼æ˜¯å¯ä»¥åœ¨ç¼–è¯‘æœŸç¡®å®šï¼ˆæ±‚ï¼‰å…¶å€¼çš„è¡¨è¾¾å¼ï¼Œä»¥æ­¤æ¥ç¡®å®šä¸€äº›ç¼–è¯‘å™¨å¿…é¡»è¢«ç¡®å®šçš„æ•°æ®ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:4:4","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 #include \u003ciostream\u003e #include \"AllCore.h\" NS_STAT_IDENT static bool test_bool() { return true; } bool main_statement() { //ä¸€ä¸ªè¯­å¥å¯ä»¥æ˜¯: [[]] int foo1,foo2; //å£°æ˜è¯­å¥ [[]] foo1 = foo2 = 2; //è¡¨è¾¾å¼è¯­å¥ // æ­¤å¤„ä¸ºäº†ä»‹ç»ï¼Œè¯­å¥çš„åŸºæœ¬æ ¼å¼å®é™…ä¸Šæ˜¯attr(å¯é€‰)æ‰€éœ€æ±‚è¯­å¥ //å³ï¼Œåœ¨è¯­å¥å‰å¯ä»¥æŒ‡å®šä¸€ä¸ªå±æ€§åºåˆ—ï¼Œå¯¹è¿™æ¡è¯­å¥è¿›è¡Œä¿®é¥° [[]]flag:int foo3 = 1; //æˆ–æ˜¯åœ¨switchä¸­çš„ //case constexprï¼š ... //default: ... //ä»¥ä¸Šæ˜¯æ ‡å·ï¼Œä»»ä½•è¯­å¥éƒ½å¯ä»¥æœ‰ä¸€ä¸ªæ ‡å· ////æ³¨æ„æ ‡å·å’Œå±æ€§ï¼Œå¦‚æœå±æ€§å‡ºç°åœ¨æ ‡å·å‰ï¼Œåˆ™è¿™ä¸ªå±æ€§åº”ç”¨åˆ°çš„æ˜¯è¿™ä¸ªæ ‡å· //å‡ºç°åœ¨æ ‡å·åè¡¨æ˜è¿™ä¸ªå±æ€§åº”ç”¨åˆ°è¯­å¥ //+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- if(int a = 2;a == foo1 == foo2); else std::cout\u003c\u003c\"Print!\"\u003c\u003cstd::endl; if (int foo32 = 1;test_bool()); if constexpr (1); //é€‰æ‹©è¯­å¥ //åœ¨C++17ä¹‹åå‡ºç°äº†å¯é€‰å¸¦åˆå§‹åŒ–è¯­å¥çš„ifè¯­å¥å’Œconstexpr if //+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- //ä»¥ä¸‹åŒ…å«äº†ï¼š int a[10][10]; for(int i = 0;i\u003c1;++i) { //è¿­ä»£è¯­å¥\u0026\u0026å¤åˆè¯­å¥å— break; //è·³è½¬è¯­å¥ for (int j = 0; j \u003c 1; ++j) a[i][j]; } for(int (\u0026it)[10]:a) //C++11çš„èŒƒå›´forè¿­ä»£è¯­å¥ for(int \u0026it1:it) { //å¤åˆè¯­å¥å— it1; continue; //è·³è½¬è¯­å¥ } try { //tryå— while (1) { static int jd = 1; if (jd == 2) throw jd; ++jd; } } catch (int ct) { std::cout\u003c\u003c\"Catch!\"\u003c\u003cct\u003c\u003cstd::endl; goto ret; //è·³è½¬è¯­å¥ } ret:return true; //æ ‡ç­¾+è·³è½¬è¯­å¥ } //+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- //æ ‡è¯†ç¬¦åœ¨å£°æ˜ä¸­ enum E1{EM1,EM2}; struct C1{int member;}; namespace N1{} template\u003cclass ... _Tys\u003e struct TC1{TC1(_Tys ... _args){}}; static void func1(){} int a,_a,_87,ä¸­æ–‡; //ä»¥_ï¼Œè‹±æ–‡å­—æ¯ï¼Œé€šç”¨è½¬ç§»åºåˆ—\\uxxxxå¼€å¤´çš„éƒ½å¯ä»¥ //å¯¹äºä¸€ä¸ªå£°æ˜çš„è§„åˆ™å¦‚ä¸‹: //ä»¥ä¸‹åˆ’çº¿+å¤§å†™å­—æ¯ï¼Œ+ä¸‹åˆ’çº¿ï¼Œæˆ–åœ¨å…¨å±€èŒƒå›´å†…çš„æ ‡è¯†ç¬¦ï¼Œéƒ½æ˜¯è¢«ä¿ç•™çš„ //æ ‡è¯†ç¬¦å¯ä»¥å‘½åï¼Œåç§°ç©ºé—´ï¼Œæšä¸¾ï¼Œæšä¸¾é¡¹ï¼Œç±»ï¼Œç±»æˆå‘˜ï¼Œå˜é‡ï¼Œæ¨¡æ¿ï¼Œæ¨¡æ¿ç‰¹åŒ–ï¼Œå‚æ•°åŒ… bool main_identifier() { sg: //gotoæ ‡ç­¾ç­‰å…¶ä»–å®ä½“ //å¯¹å…³é”®å­—è¿›è¡Œ#define or #undef è¡Œä¸ºæœªå®šä¹‰ int esp = 4; //æ ‡è¯†ç¬¦åœ¨è¡¨è¾¾å¼ä¸­ a;_a;_87;ä¸­æ–‡; EM1;EM2; func1; //æ ‡è¯†ç¬¦å‘½åäº†æšä¸¾é¡¹ï¼Œå˜é‡ï¼Œå‡½æ•°ï¼Œåˆ™è¿™ä¸ªæ ‡è¯†ç¬¦å°±æ˜¯è¡¨è¾¾å¼ //å¹¶ä¸”ï¼Œå½“å½“å‰è¡¨è¾¾å¼ï¼ˆè¡¨è¾¾å¼å¯ä»¥åµŒå¥—ï¼‰å•ç‹¬ä¸ºå½“å‰æ ‡è¯†ç¬¦æ—¶ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä»£è¡¨çš„æ˜¯æ ‡è¯†ç¬¦å‘½åçš„å®ä½“ [=](){esp;}; //espåœ¨å…¶ç”Ÿå­˜æœŸå¤–è¢«lambdaé—­åŒ…å¯¹è±¡æ•è·ï¼Œæ­¤æ—¶ï¼Œè¿™ä¸ªespå•ç‹¬è¿™ä¸ªè¡¨è¾¾å¼çš„ç±»å‹å®é™…ä¸Šæ—¶ä¸€ä¸ª //å‡ºç°åœ¨å…¶å‡ºç°çš„æœ€å†…å­˜çš„lambdaé—­åŒ…å¯¹è±¡çš„æˆå‘˜è®¿é—®è¡¨è¾¾å¼çš„ç±»å‹ //æ— é™å®šæ ‡è¯†ç¬¦ï¼Œæœ‰é™å®šæ ‡è¯†ç¬¦ï¼Œåå­—ï¼Œè¯·çœ‹æœ¬äººç®€ä¹¦ï¼Œç»ªè®ºã€‚ return true; } //+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- template\u003cclass ...T\u003e auto fun(T ... args)-\u003eint {return (...+args);}; //åˆç­‰è¡¨è¾¾å¼ä¹‹ä¸€ï¼ŒæŠ˜å è¡¨è¾¾å¼ bool main_expression() { C1 Ca,*Cb = new C1(); int C1::*p_member = \u0026C1::member; //è¡¨è¾¾å¼çš„æ¦‚å¿µï¼Œåœ¨æœ¬äººç®€ä¹¦å†…æœ‰å™è¿°ï¼Œæ­¤å¤„ä¸å†åšé™ˆè¿°ã€‚ //åˆç­‰è¡¨è¾¾å¼ï¼š //åˆç­‰è¡¨è¾¾å¼å­˜åœ¨åœ¨è¡¨è¾¾å¼åµŒå¥—ä¸­ï¼Œä½œä¸ºè¡¨è¾¾å¼æ±‚å€¼çš„åŸºæœ¬å•ä½ int j; 1; //å­—é¢é‡ j; //å¯¹ä¸€ä¸ªå®ä½“å‘½åçš„åå­— [](){}; //lanbdaè¡¨è¾¾å¼ fun(1,2,3,4,5,6); //ä½¿ç”¨äº†æŠ˜å è¡¨è¾¾å¼è¿”å›ï¼Œè¿™é‡Œçš„æŠ˜å è¡¨è¾¾å¼æ˜¯åˆå®šè¡¨è¾¾å¼ (1+2+3); //æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œæ•´ä¸ªæ‹¬å·å½“ä½œä¸€ä¸ªåˆç­‰è¡¨è¾¾å¼ //è§£é‡Šï¼šä¸ºä»€ä¹ˆæ‹¬å·ä¼˜å…ˆè®¡ç®— //å› ä¸ºä¸€ä¸ªè¡¨è¾¾å¼é€šå¸¸éƒ½æ˜¯ç”±è¿ç®—æ•°å’Œè¿ç®—ç¬¦ç»„æˆ //è¡¨è¾¾å¼å¯ä»¥æ˜¯ä¸€å †åˆç­‰è¡¨è¾¾å¼åµŒå¥—ï¼Œä¹‹åé¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ¯ä¸ªåˆç­‰è¡¨è¾¾å¼çš„å€¼å³å¯ //å› æ­¤ï¼Œæ‹¬å·å†…çš„å€¼å›åœ¨æ‰€ç»“åˆçš„è¿ç®—ç¬¦è¿›è¡Œè¡¨è¾¾å¼æ±‚å€¼ä¹‹å‰è¢«æ±‚å€¼ //ä¸æ±‚å€¼è¡¨è¾¾å¼ï¼š sizeof(std::cout\u003c\u003c1); decltype(std::cout\u003c\u003c2); typeid(j += 4); //ä»¥åŠnoexpectå’Œæ±‚åŒ…å¤§å°çš„sizeof //ä¸æ±‚å€¼è¡¨è¾¾å¼çš„æ„ä¹‰å°±åœ¨äºï¼Œåœ¨ç¼–è¯‘æœŸè·å¾—ä¸€ä¸ªæ•°æ®ï¼Œå¹¶ä¸åœ¨è¿è¡Œæ—¶å¯¹è¿ç®—æ•°æ±‚å€¼ï¼Œä»¥ä¸Šçš„è¡¨è¾¾å¼éƒ½æ˜¯è¿ç®—ç¬¦ //ç‰¹ä¾‹ï¼Œtypeidåœ¨å­˜å¯¹å­˜åœ¨å¤šæ€çš„å¯¹è¡Œæ±‚ç±»å‹æ—¶ï¼Œå›æ±‚åŠ¨æ€ç±»å‹ï¼Œæ­¤æ—¶ä¼šå¯¹è¡¨è¾¾å¼æ±‚å€¼ //å¼ƒå€¼è¡¨è¾¾å¼ //æ¦‚å¿µï¼Œå¼ƒå€¼è¡¨è¾¾å¼å®é™…ä¸Šå°±æ˜¯è¡¨æ˜ï¼Œå½“å‰è¡¨è¾¾å¼çš„å€¼ä¸è¢«è¿ç®—ç¬¦æ‰€éœ€è¦è€Œè¢«ä¸¢å¼ƒ j; //ä¸€ä¸ªå¤§çš„è¡¨è¾¾å¼ï¼Œå•ç‹¬ç”±ä¸€ä¸ªæ ‡è¯†ç¬¦çš„ Ca.member; Cb-\u003emember; Ca.*p_member; Cb-\u003e*p_member; //å¯¹äºè¿™ä¸€ç±»çš„æˆå‘˜è®¿é—®è¡¨è¾¾å¼ j == 2?1:2; //æ¡ä»¶è¡¨è¾¾å¼ 1,2,3,4; //é€—å·è¡¨è¾¾å¼ //è¡¨è¾¾å¼è¯­å¥ //è¡¨è¾¾å¼è¯­å¥ï¼Œå³æ‰€æœ‰ä»¥;ç»“å°¾çš„è¡¨è¾¾å¼ï¼Œæ˜¯C++é¡ºåºæ‰§è¡Œçš„ç¨‹åºç‰‡æ®µ //å¸¸é‡è¡¨è¾¾å¼ï¼Œåœ¨ç®€ä¹¦ä¸­æè¿°è¿™é‡Œä¸å†èµ˜è¿°ã€‚ return true; } bool main_statement_identifier_expression() { return main_statement() \u0026\u0026 main_identifier() \u0026\u0026 main_expression(); } const ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:5:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä½œç”¨ ä¿®é¥°å˜é‡ï¼Œè¯´æ˜è¯¥å˜é‡ä¸å¯ä»¥è¢«æ”¹å˜ï¼› ä¿®é¥°æŒ‡é’ˆï¼Œåˆ†ä¸ºæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼ˆpointer to constï¼‰å’Œè‡ªèº«æ˜¯å¸¸é‡çš„æŒ‡é’ˆï¼ˆå¸¸é‡æŒ‡é’ˆï¼Œconst pointerï¼‰ï¼› ä¿®é¥°å¼•ç”¨ï¼ŒæŒ‡å‘å¸¸é‡çš„å¼•ç”¨ï¼ˆreference to constï¼‰ï¼Œç”¨äºå½¢å‚ç±»å‹ï¼Œå³é¿å…äº†æ‹·è´ï¼Œåˆé¿å…äº†å‡½æ•°å¯¹å€¼çš„ä¿®æ”¹ï¼› ä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œè¯´æ˜è¯¥æˆå‘˜å‡½æ•°å†…ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:6:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"const çš„æŒ‡é’ˆä¸å¼•ç”¨ æŒ‡é’ˆ æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼ˆpointer to constï¼‰ è‡ªèº«æ˜¯å¸¸é‡çš„æŒ‡é’ˆï¼ˆå¸¸é‡æŒ‡é’ˆï¼Œconst pointerï¼‰ å¼•ç”¨ æŒ‡å‘å¸¸é‡çš„å¼•ç”¨ï¼ˆreference to constï¼‰ æ²¡æœ‰ const referenceï¼Œå› ä¸ºå¼•ç”¨æœ¬èº«å°±æ˜¯ const pointer ï¼ˆä¸ºäº†æ–¹ä¾¿è®°å¿†å¯ä»¥æƒ³æˆï¼‰è¢« const ä¿®é¥°ï¼ˆåœ¨ const åé¢ï¼‰çš„å€¼ä¸å¯æ”¹å˜ï¼Œå¦‚ä¸‹æ–‡ä½¿ç”¨ä¾‹å­ä¸­çš„ p2ã€p3 ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:7:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä½¿ç”¨ const ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // ç±» class A { private: const int a; // å¸¸å¯¹è±¡æˆå‘˜ï¼Œåªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨èµ‹å€¼ public: // æ„é€ å‡½æ•° A() : a(0) { }; A(int x) : a(x) { }; // åˆå§‹åŒ–åˆ—è¡¨ // constå¯ç”¨äºå¯¹é‡è½½å‡½æ•°çš„åŒºåˆ† int getValue(); // æ™®é€šæˆå‘˜å‡½æ•° int getValue() const; // å¸¸æˆå‘˜å‡½æ•°ï¼Œä¸å¾—ä¿®æ”¹ç±»ä¸­çš„ä»»ä½•æ•°æ®æˆå‘˜çš„å€¼ }; void function() { // å¯¹è±¡ A b; // æ™®é€šå¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨å…¨éƒ¨æˆå‘˜å‡½æ•°ã€æ›´æ–°å¸¸æˆå‘˜å˜é‡ const A a; // å¸¸å¯¹è±¡ï¼Œåªèƒ½è°ƒç”¨å¸¸æˆå‘˜å‡½æ•° const A *p = \u0026a; // æŒ‡é’ˆå˜é‡ï¼ŒæŒ‡å‘å¸¸å¯¹è±¡ const A \u0026q = a; // æŒ‡å‘å¸¸å¯¹è±¡çš„å¼•ç”¨ // æŒ‡é’ˆ char greeting[] = \"Hello\"; char* p1 = greeting; // æŒ‡é’ˆå˜é‡ï¼ŒæŒ‡å‘å­—ç¬¦æ•°ç»„å˜é‡ const char* p2 = greeting; // æŒ‡é’ˆå˜é‡ï¼ŒæŒ‡å‘å­—ç¬¦æ•°ç»„å¸¸é‡ï¼ˆconst åé¢æ˜¯ charï¼Œè¯´æ˜æŒ‡å‘çš„å­—ç¬¦ï¼ˆcharï¼‰ä¸å¯æ”¹å˜ï¼‰ char* const p3 = greeting; // è‡ªèº«æ˜¯å¸¸é‡çš„æŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦æ•°ç»„å˜é‡ï¼ˆconst åé¢æ˜¯ p3ï¼Œè¯´æ˜ p3 æŒ‡é’ˆè‡ªèº«ä¸å¯æ”¹å˜ï¼‰ const char* const p4 = greeting; // è‡ªèº«æ˜¯å¸¸é‡çš„æŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦æ•°ç»„å¸¸é‡ } // å‡½æ•° void function1(const int Var); // ä¼ é€’è¿‡æ¥çš„å‚æ•°åœ¨å‡½æ•°å†…ä¸å¯å˜ void function2(const char* Var); // å‚æ•°æŒ‡é’ˆæ‰€æŒ‡å†…å®¹ä¸ºå¸¸é‡ void function3(char* const Var); // å‚æ•°æŒ‡é’ˆä¸ºå¸¸é‡ void function4(const int\u0026 Var); // å¼•ç”¨å‚æ•°åœ¨å‡½æ•°å†…ä¸ºå¸¸é‡ // å‡½æ•°è¿”å›å€¼ const int function5(); // è¿”å›ä¸€ä¸ªå¸¸æ•° const int* function6(); // è¿”å›ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆå˜é‡ï¼Œä½¿ç”¨ï¼šconst int *p = function6(); int* const function7(); // è¿”å›ä¸€ä¸ªæŒ‡å‘å˜é‡çš„å¸¸æŒ‡é’ˆï¼Œä½¿ç”¨ï¼šint* const p = function7(); static ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:8:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä½œç”¨ ä¿®é¥°æ™®é€šå˜é‡ï¼Œä¿®æ”¹å˜é‡çš„å­˜å‚¨åŒºåŸŸå’Œç”Ÿå‘½å‘¨æœŸï¼Œä½¿å˜é‡å­˜å‚¨åœ¨é™æ€åŒºï¼Œåœ¨ main å‡½æ•°è¿è¡Œå‰å°±åˆ†é…äº†ç©ºé—´ï¼Œå¦‚æœæœ‰åˆå§‹å€¼å°±ç”¨åˆå§‹å€¼åˆå§‹åŒ–å®ƒï¼Œå¦‚æœæ²¡æœ‰åˆå§‹å€¼ç³»ç»Ÿç”¨é»˜è®¤å€¼åˆå§‹åŒ–å®ƒã€‚ ä¿®é¥°æ™®é€šå‡½æ•°ï¼Œè¡¨æ˜å‡½æ•°çš„ä½œç”¨èŒƒå›´ï¼Œä»…åœ¨å®šä¹‰è¯¥å‡½æ•°çš„æ–‡ä»¶å†…æ‰èƒ½ä½¿ç”¨ã€‚åœ¨å¤šäººå¼€å‘é¡¹ç›®æ—¶ï¼Œä¸ºäº†é˜²æ­¢ä¸ä»–äººå‘½åç©ºé—´é‡Œçš„å‡½æ•°é‡åï¼Œå¯ä»¥å°†å‡½æ•°å®šä½ä¸º staticã€‚ ä¿®é¥°æˆå‘˜å˜é‡ï¼Œä¿®é¥°æˆå‘˜å˜é‡ä½¿æ‰€æœ‰çš„å¯¹è±¡åªä¿å­˜ä¸€ä¸ªè¯¥å˜é‡ï¼Œè€Œä¸”ä¸éœ€è¦ç”Ÿæˆå¯¹è±¡å°±å¯ä»¥è®¿é—®è¯¥æˆå‘˜ã€‚ ä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œä¿®é¥°æˆå‘˜å‡½æ•°ä½¿å¾—ä¸éœ€è¦ç”Ÿæˆå¯¹è±¡å°±å¯ä»¥è®¿é—®è¯¥å‡½æ•°ï¼Œä½†æ˜¯åœ¨ static å‡½æ•°å†…ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚ c++è§„å®šconsté™æ€ç±»æˆå‘˜å¯ä»¥ç›´æ¥åˆå§‹åŒ–ï¼Œå…¶ä»–éconstçš„é™æ€ç±»æˆå‘˜éœ€è¦åœ¨ç±»å¤–åˆå§‹åŒ–ï¼Œä¸”ä¸èƒ½ä½¿ç”¨staticå…³é”®å­—ã€‚ æˆ‘ä»¬ä¸€èˆ¬é€‰æ‹©åœ¨ç±»çš„å®ç°æ–‡ä»¶ä¸­å®ç°å®ƒã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:9:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é™æ€æˆå‘˜ C++ä¸­é™æ€æˆå‘˜æ˜¯å±äºæ•´ä¸ªç±»çš„è€Œä¸æ˜¯æŸä¸ªå¯¹è±¡ï¼Œé™æ€æˆå‘˜å˜é‡åªå­˜å‚¨ä¸€ä»½ä¾›æ‰€æœ‰å¯¹è±¡å…±ç”¨ã€‚æ‰€ä»¥åœ¨æ‰€æœ‰å¯¹è±¡ä¸­éƒ½å¯ä»¥å…±äº«å®ƒã€‚ä½¿ç”¨é™æ€æˆå‘˜å˜é‡å®ç°å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„æ•°æ®å…±äº«ä¸ä¼šç ´åéšè—çš„åŸåˆ™ï¼Œä¿è¯äº†å®‰å…¨æ€§è¿˜å¯ä»¥èŠ‚çœå†…å­˜ staticæˆå‘˜å˜é‡å±äºç±»ï¼ˆè¢«å­˜æ”¾åœ¨æ•°æ®æ®µä¸­ï¼‰ï¼Œä¸å±äºæŸä¸ªå…·ä½“çš„å¯¹è±¡ï¼ˆå…·ä½“å¯¹è±¡çš„å†…å­˜æ˜¯åˆ†é…åœ¨å †ä¸­çš„ï¼‰ï¼Œå³ä½¿åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œä¹Ÿåªä¸ºè¯¥å˜é‡åˆ†é…ä¸€æ¬¡å†…å­˜ï¼Œæ‰€æœ‰å¯¹è±¡ä½¿ç”¨çš„éƒ½æ˜¯è¿™ä»½å†…å­˜ä¸­çš„æ•°æ®ã€‚ è‹¥å®ƒä¸ºpublicç±»å‹ï¼Œå½“æŸä¸ªå¯¹è±¡ä¿®æ”¹äº†å®ƒï¼Œä¹Ÿä¼šå½±å“åˆ°å…¶ä»–å¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯â€œåŒç”˜å…±è‹¦çš„â€ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:10:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é™æ€æˆå‘˜å‡½æ•° æ€æˆå‘˜å‡½æ•°çš„å‡ºç°å°±æ˜¯ä¸ºäº†å¤„ç†é™æ€æˆå‘˜å˜é‡çš„ å½“è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„éé™æ€æˆå‘˜å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šæŠŠè¯¥å¯¹è±¡çš„èµ·å§‹åœ°å€èµ‹ç»™æˆå‘˜å‡½æ•°çš„thisæŒ‡é’ˆã€‚è€Œé™æ€æˆå‘˜å‡½æ•°å¹¶ä¸å±äºæŸä¸€å¯¹è±¡ï¼Œå®ƒä¸ä»»ä½•å¯¹è±¡éƒ½æ— å…³ï¼Œå› æ­¤é™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œä¸èƒ½è®¿é—®æœ¬ç±»ä¸­çš„éé™æ€æˆå‘˜ã€‚ this æŒ‡é’ˆ this æŒ‡é’ˆæ˜¯ä¸€ä¸ªéšå«äºæ¯ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°ä¸­çš„ç‰¹æ®ŠæŒ‡é’ˆã€‚å®ƒæŒ‡å‘è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚ å½“å¯¹ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘ç¨‹åºå…ˆå°†å¯¹è±¡çš„åœ°å€èµ‹ç»™ this æŒ‡é’ˆï¼Œç„¶åè°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œæ¯æ¬¡æˆå‘˜å‡½æ•°å­˜å–æ•°æ®æˆå‘˜æ—¶ï¼Œéƒ½éšå¼ä½¿ç”¨ this æŒ‡é’ˆã€‚ å½“ä¸€ä¸ªæˆå‘˜å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè‡ªåŠ¨å‘å®ƒä¼ é€’ä¸€ä¸ªéšå«çš„å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªæˆå‘˜å‡½æ•°æ‰€åœ¨çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚ this æŒ‡é’ˆè¢«éšå«åœ°å£°æ˜ä¸º: ClassName *const thisï¼Œè¿™æ„å‘³ç€ä¸èƒ½ç»™ this æŒ‡é’ˆèµ‹å€¼ï¼›åœ¨ ClassName ç±»çš„ const æˆå‘˜å‡½æ•°ä¸­ï¼Œthis æŒ‡é’ˆçš„ç±»å‹ä¸ºï¼šconst ClassName* constï¼Œè¿™è¯´æ˜ä¸èƒ½å¯¹ this æŒ‡é’ˆæ‰€æŒ‡å‘çš„è¿™ç§å¯¹è±¡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼ˆå³ä¸èƒ½å¯¹è¿™ç§å¯¹è±¡çš„æ•°æ®æˆå‘˜è¿›è¡Œèµ‹å€¼æ“ä½œï¼‰ï¼› this å¹¶ä¸æ˜¯ä¸€ä¸ªå¸¸è§„å˜é‡ï¼Œè€Œæ˜¯ä¸ªå³å€¼ï¼Œæ‰€ä»¥ä¸èƒ½å–å¾— this çš„åœ°å€ï¼ˆä¸èƒ½ \u0026thisï¼‰ã€‚ åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œç»å¸¸éœ€è¦æ˜¾å¼å¼•ç”¨ this æŒ‡é’ˆï¼š ä¸ºå®ç°å¯¹è±¡çš„é“¾å¼å¼•ç”¨ï¼› ä¸ºé¿å…å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œèµ‹å€¼æ“ä½œï¼› åœ¨å®ç°ä¸€äº›æ•°æ®ç»“æ„æ—¶ï¼Œå¦‚ listã€‚ inline å†…è”å‡½æ•° ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:11:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ç‰¹å¾ ç›¸å½“äºæŠŠå†…è”å‡½æ•°é‡Œé¢çš„å†…å®¹å†™åœ¨è°ƒç”¨å†…è”å‡½æ•°å¤„ï¼› ç›¸å½“äºä¸ç”¨æ‰§è¡Œè¿›å…¥å‡½æ•°çš„æ­¥éª¤ï¼Œç›´æ¥æ‰§è¡Œå‡½æ•°ä½“ï¼› ç›¸å½“äºå®ï¼Œå´æ¯”å®å¤šäº†ç±»å‹æ£€æŸ¥ï¼ŒçœŸæ­£å…·æœ‰å‡½æ•°ç‰¹æ€§ï¼› ç¼–è¯‘å™¨ä¸€èˆ¬ä¸å†…è”åŒ…å«å¾ªç¯ã€é€’å½’ã€switch ç­‰å¤æ‚æ“ä½œçš„å†…è”å‡½æ•°ï¼› åœ¨ç±»å£°æ˜ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œé™¤äº†è™šå‡½æ•°çš„å…¶ä»–å‡½æ•°éƒ½ä¼šè‡ªåŠ¨éšå¼åœ°å½“æˆå†…è”å‡½æ•°ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:12:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä½¿ç”¨ inline ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // å£°æ˜1ï¼ˆåŠ  inlineï¼Œå»ºè®®ä½¿ç”¨ï¼‰ inline int functionName(int first, int second,...); // å£°æ˜2ï¼ˆä¸åŠ  inlineï¼‰ int functionName(int first, int second,...); // å®šä¹‰ inline int functionName(int first, int second,...) {/****/}; // ç±»å†…å®šä¹‰ï¼Œéšå¼å†…è” class A { int doA() { return 0; } // éšå¼å†…è” } // ç±»å¤–å®šä¹‰ï¼Œéœ€è¦æ˜¾å¼å†…è” class A { int doA(); } inline int A::doA() { return 0; } // éœ€è¦æ˜¾å¼å†…è” ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:13:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ç¼–è¯‘å™¨å¯¹ inline å‡½æ•°çš„å¤„ç†æ­¥éª¤ å°† inline å‡½æ•°ä½“å¤åˆ¶åˆ° inline å‡½æ•°è°ƒç”¨ç‚¹å¤„ï¼› ä¸ºæ‰€ç”¨ inline å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼› å°† inline å‡½æ•°çš„çš„è¾“å…¥å‚æ•°å’Œè¿”å›å€¼æ˜ å°„åˆ°è°ƒç”¨æ–¹æ³•çš„å±€éƒ¨å˜é‡ç©ºé—´ä¸­ï¼› å¦‚æœ inline å‡½æ•°æœ‰å¤šä¸ªè¿”å›ç‚¹ï¼Œå°†å…¶è½¬å˜ä¸º inline å‡½æ•°ä»£ç å—æœ«å°¾çš„åˆ†æ”¯ï¼ˆä½¿ç”¨ GOTOï¼‰ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:14:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ å†…è”å‡½æ•°åŒå®å‡½æ•°ä¸€æ ·å°†åœ¨è¢«è°ƒç”¨å¤„è¿›è¡Œä»£ç å±•å¼€ï¼Œçœå»äº†å‚æ•°å‹æ ˆã€æ ˆå¸§å¼€è¾Ÿä¸å›æ”¶ï¼Œç»“æœè¿”å›ç­‰ï¼Œä»è€Œæé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚ å†…è”å‡½æ•°ç›¸æ¯”å®å‡½æ•°æ¥è¯´ï¼Œåœ¨ä»£ç å±•å¼€æ—¶ï¼Œä¼šåšå®‰å…¨æ£€æŸ¥æˆ–è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆåŒæ™®é€šå‡½æ•°ï¼‰ï¼Œè€Œå®å®šä¹‰åˆ™ä¸ä¼šã€‚ åœ¨ç±»ä¸­å£°æ˜åŒæ—¶å®šä¹‰çš„æˆå‘˜å‡½æ•°ï¼Œè‡ªåŠ¨è½¬åŒ–ä¸ºå†…è”å‡½æ•°ï¼Œå› æ­¤å†…è”å‡½æ•°å¯ä»¥è®¿é—®ç±»çš„æˆå‘˜å˜é‡ï¼Œå®å®šä¹‰åˆ™ä¸èƒ½ã€‚ å†…è”å‡½æ•°åœ¨è¿è¡Œæ—¶å¯è°ƒè¯•ï¼Œè€Œå®å®šä¹‰ä¸å¯ä»¥ã€‚ ç¼ºç‚¹ ä»£ç è†¨èƒ€ã€‚å†…è”æ˜¯ä»¥ä»£ç è†¨èƒ€ï¼ˆå¤åˆ¶ï¼‰ä¸ºä»£ä»·ï¼Œæ¶ˆé™¤å‡½æ•°è°ƒç”¨å¸¦æ¥çš„å¼€é”€ã€‚å¦‚æœæ‰§è¡Œå‡½æ•°ä½“å†…ä»£ç çš„æ—¶é—´ï¼Œç›¸æ¯”äºå‡½æ•°è°ƒç”¨çš„å¼€é”€è¾ƒå¤§ï¼Œé‚£ä¹ˆæ•ˆç‡çš„æ”¶è·ä¼šå¾ˆå°‘ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯ä¸€å¤„å†…è”å‡½æ•°çš„è°ƒç”¨éƒ½è¦å¤åˆ¶ä»£ç ï¼Œå°†ä½¿ç¨‹åºçš„æ€»ä»£ç é‡å¢å¤§ï¼Œæ¶ˆè€—æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚ inline å‡½æ•°æ— æ³•éšç€å‡½æ•°åº“å‡çº§è€Œå‡çº§ã€‚inlineå‡½æ•°çš„æ”¹å˜éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œä¸åƒ non-inline å¯ä»¥ç›´æ¥é“¾æ¥ã€‚ æ˜¯å¦å†…è”ï¼Œç¨‹åºå‘˜ä¸å¯æ§ã€‚å†…è”å‡½æ•°åªæ˜¯å¯¹ç¼–è¯‘å™¨çš„å»ºè®®ï¼Œæ˜¯å¦å¯¹å‡½æ•°å†…è”ï¼Œå†³å®šæƒåœ¨äºç¼–è¯‘å™¨ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:15:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"è™šå‡½æ•°ï¼ˆvirtualï¼‰å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼ˆinlineï¼‰å—ï¼Ÿ Are â€œinline virtualâ€ member functions ever actually â€œinlinedâ€? è™šå‡½æ•°å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼Œå†…è”æ˜¯å¯ä»¥ä¿®é¥°è™šå‡½æ•°çš„ï¼Œä½†æ˜¯å½“è™šå‡½æ•°è¡¨ç°å¤šæ€æ€§çš„æ—¶å€™ä¸èƒ½å†…è”ã€‚ å†…è”æ˜¯åœ¨ç¼–è¯‘å™¨å»ºè®®ç¼–è¯‘å™¨å†…è”ï¼Œè€Œè™šå‡½æ•°çš„å¤šæ€æ€§åœ¨è¿è¡ŒæœŸï¼Œç¼–è¯‘å™¨æ— æ³•çŸ¥é“è¿è¡ŒæœŸè°ƒç”¨å“ªä¸ªä»£ç ï¼Œå› æ­¤è™šå‡½æ•°è¡¨ç°ä¸ºå¤šæ€æ€§æ—¶ï¼ˆè¿è¡ŒæœŸï¼‰ä¸å¯ä»¥å†…è”ã€‚ inline virtual å”¯ä¸€å¯ä»¥å†…è”çš„æ—¶å€™æ˜¯ï¼šç¼–è¯‘å™¨çŸ¥é“æ‰€è°ƒç”¨çš„å¯¹è±¡æ˜¯å“ªä¸ªç±»ï¼ˆå¦‚ Base::who()ï¼‰ï¼Œè¿™åªæœ‰åœ¨ç¼–è¯‘å™¨å…·æœ‰å®é™…å¯¹è±¡è€Œä¸æ˜¯å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ—¶æ‰ä¼šå‘ç”Ÿã€‚ è™šå‡½æ•°å†…è”ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #include \u003ciostream\u003e using namespace std; class Base { public: inline virtual void who() { cout \u003c\u003c \"I am Base\\n\"; } virtual ~Base() {} }; class Derived : public Base { public: inline void who() // ä¸å†™inlineæ—¶éšå¼å†…è” { cout \u003c\u003c \"I am Derived\\n\"; } }; int main() { // æ­¤å¤„çš„è™šå‡½æ•° who()ï¼Œæ˜¯é€šè¿‡ç±»ï¼ˆBaseï¼‰çš„å…·ä½“å¯¹è±¡ï¼ˆbï¼‰æ¥è°ƒç”¨çš„ï¼Œç¼–è¯‘æœŸé—´å°±èƒ½ç¡®å®šäº†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ˜¯å†…è”çš„ï¼Œä½†æœ€ç»ˆæ˜¯å¦å†…è”å–å†³äºç¼–è¯‘å™¨ã€‚ Base b; b.who(); // æ­¤å¤„çš„è™šå‡½æ•°æ˜¯é€šè¿‡æŒ‡é’ˆè°ƒç”¨çš„ï¼Œå‘ˆç°å¤šæ€æ€§ï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶æœŸé—´æ‰èƒ½ç¡®å®šï¼Œæ‰€ä»¥ä¸èƒ½ä¸ºå†…è”ã€‚ Base *ptr = new Derived(); ptr-\u003ewho(); // å› ä¸ºBaseæœ‰è™šææ„å‡½æ•°ï¼ˆvirtual ~Base() {}ï¼‰ï¼Œæ‰€ä»¥ delete æ—¶ï¼Œä¼šå…ˆè°ƒç”¨æ´¾ç”Ÿç±»ï¼ˆDerivedï¼‰ææ„å‡½æ•°ï¼Œå†è°ƒç”¨åŸºç±»ï¼ˆBaseï¼‰ææ„å‡½æ•°ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ delete ptr; ptr = nullptr; system(\"pause\"); return 0; } volatile 1 volatile int i = 10; volatile å…³é”®å­—æ˜¯ä¸€ç§ç±»å‹ä¿®é¥°ç¬¦ï¼Œç”¨å®ƒå£°æ˜çš„ç±»å‹å˜é‡è¡¨ç¤ºå¯ä»¥è¢«æŸäº›ç¼–è¯‘å™¨æœªçŸ¥çš„å› ç´ ï¼ˆæ“ä½œç³»ç»Ÿã€ç¡¬ä»¶ã€å…¶å®ƒçº¿ç¨‹ç­‰ï¼‰æ›´æ”¹ã€‚æ‰€ä»¥ä½¿ç”¨ volatile å‘Šè¯‰ç¼–è¯‘å™¨ä¸åº”å¯¹è¿™æ ·çš„å¯¹è±¡è¿›è¡Œä¼˜åŒ–ã€‚ volatile å…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œæ¯æ¬¡è®¿é—®æ—¶éƒ½å¿…é¡»ä»å†…å­˜ä¸­å–å‡ºå€¼ï¼ˆæ²¡æœ‰è¢« volatile ä¿®é¥°çš„å˜é‡ï¼Œå¯èƒ½ç”±äºç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼Œä» CPU å¯„å­˜å™¨ä¸­å–å€¼ï¼‰ const å¯ä»¥æ˜¯ volatile ï¼ˆå¦‚åªè¯»çš„çŠ¶æ€å¯„å­˜å™¨ï¼‰ æŒ‡é’ˆå¯ä»¥æ˜¯ volatile assert() æ–­è¨€ï¼Œæ˜¯å®ï¼Œè€Œéå‡½æ•°ã€‚assert å®çš„åŸå‹å®šä¹‰åœ¨ \u003cassert.h\u003eï¼ˆCï¼‰ã€\u003ccassert\u003eï¼ˆC++ï¼‰ä¸­ï¼Œå…¶ä½œç”¨æ˜¯å¦‚æœå®ƒçš„æ¡ä»¶è¿”å›é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢ç¨‹åºæ‰§è¡Œã€‚å¯ä»¥é€šè¿‡å®šä¹‰ NDEBUG æ¥å…³é—­ assertï¼Œä½†æ˜¯éœ€è¦åœ¨æºä»£ç çš„å¼€å¤´ï¼Œinclude \u003cassert.h\u003e ä¹‹å‰ã€‚ assert() ä½¿ç”¨ 1 2 3 4 #define NDEBUG // åŠ ä¸Šè¿™è¡Œï¼Œåˆ™ assert ä¸å¯ç”¨ #include \u003cassert.h\u003e assert( p != NULL ); // assert ä¸å¯ç”¨ sizeof() sizeof å¯¹æ•°ç»„ï¼Œå¾—åˆ°æ•´ä¸ªæ•°ç»„æ‰€å ç©ºé—´å¤§å°ã€‚ sizeof å¯¹æŒ‡é’ˆï¼Œå¾—åˆ°æŒ‡é’ˆæœ¬èº«æ‰€å ç©ºé—´å¤§å°ã€‚ #pragma pack(n) è®¾å®šç»“æ„ä½“ã€è”åˆä»¥åŠç±»æˆå‘˜å˜é‡ä»¥ n å­—èŠ‚æ–¹å¼å¯¹é½ #pragma pack(n) ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 #pragma pack(push) // ä¿å­˜å¯¹é½çŠ¶æ€ #pragma pack(4) // è®¾å®šä¸º 4 å­—èŠ‚å¯¹é½ struct test { char m1; double m4; int m3; }; #pragma pack(pop) // æ¢å¤å¯¹é½çŠ¶æ€ ä½åŸŸ 1 Bit mode: 2; // mode å  2 ä½ ç±»å¯ä»¥å°†å…¶ï¼ˆéé™æ€ï¼‰æ•°æ®æˆå‘˜å®šä¹‰ä¸ºä½åŸŸï¼ˆbit-fieldï¼‰ï¼Œåœ¨ä¸€ä¸ªä½åŸŸä¸­å«æœ‰ä¸€å®šæ•°é‡çš„äºŒè¿›åˆ¶ä½ã€‚å½“ä¸€ä¸ªç¨‹åºéœ€è¦å‘å…¶ä»–ç¨‹åºæˆ–ç¡¬ä»¶è®¾å¤‡ä¼ é€’äºŒè¿›åˆ¶æ•°æ®æ—¶ï¼Œé€šå¸¸ä¼šç”¨åˆ°ä½åŸŸã€‚ ä½åŸŸåœ¨å†…å­˜ä¸­çš„å¸ƒå±€æ˜¯ä¸æœºå™¨æœ‰å…³çš„ ä½åŸŸçš„ç±»å‹å¿…é¡»æ˜¯æ•´å‹æˆ–æšä¸¾ç±»å‹ï¼Œå¸¦ç¬¦å·ç±»å‹ä¸­çš„ä½åŸŸçš„è¡Œä¸ºå°†å› å…·ä½“å®ç°è€Œå®š å–åœ°å€è¿ç®—ç¬¦ï¼ˆ\u0026ï¼‰ä¸èƒ½ä½œç”¨äºä½åŸŸï¼Œä»»ä½•æŒ‡é’ˆéƒ½æ— æ³•æŒ‡å‘ç±»çš„ä½åŸŸ extern â€œCâ€ è¢« extern é™å®šçš„å‡½æ•°æˆ–å˜é‡æ˜¯ extern ç±»å‹çš„ è¢« extern \"C\" ä¿®é¥°çš„å˜é‡å’Œå‡½æ•°æ˜¯æŒ‰ç…§ C è¯­è¨€æ–¹å¼ç¼–è¯‘å’Œé“¾æ¥çš„ extern \"C\" çš„ä½œç”¨æ˜¯è®© C++ ç¼–è¯‘å™¨å°† extern \"C\" å£°æ˜çš„ä»£ç å½“ä½œ C è¯­è¨€ä»£ç å¤„ç†ï¼Œå¯ä»¥é¿å… C++ å› ç¬¦å·ä¿®é¥°å¯¼è‡´ä»£ç ä¸èƒ½å’ŒCè¯­è¨€åº“ä¸­çš„ç¬¦å·è¿›è¡Œé“¾æ¥çš„é—®é¢˜ã€‚ extern â€œCâ€ ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 #ifdef __cplusplus extern \"C\" { #endif void *memset(void *, int, size_t); #ifdef __cplusplus } #endif struct å’Œ typedef struct ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:16:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"C ä¸­ 1 2 3 4 // c typedef struct Student { int age; } S; ç­‰ä»·äº 1 2 3 4 5 6 // c struct Student { int age; }; typedef struct Student S; æ­¤æ—¶ S ç­‰ä»·äº struct Studentï¼Œä½†ä¸¤ä¸ªæ ‡è¯†ç¬¦åç§°ç©ºé—´ä¸ç›¸åŒã€‚ å¦å¤–è¿˜å¯ä»¥å®šä¹‰ä¸ struct Student ä¸å†²çªçš„ void Student() {}ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:17:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"C++ ä¸­ ç”±äºç¼–è¯‘å™¨å®šä½ç¬¦å·çš„è§„åˆ™ï¼ˆæœç´¢è§„åˆ™ï¼‰æ”¹å˜ï¼Œå¯¼è‡´ä¸åŒäºCè¯­è¨€ã€‚ ä¸€ã€å¦‚æœåœ¨ç±»æ ‡è¯†ç¬¦ç©ºé—´å®šä¹‰äº† struct Student {...};ï¼Œä½¿ç”¨ Student me; æ—¶ï¼Œç¼–è¯‘å™¨å°†æœç´¢å…¨å±€æ ‡è¯†ç¬¦è¡¨ï¼ŒStudent æœªæ‰¾åˆ°ï¼Œåˆ™åœ¨ç±»æ ‡è¯†ç¬¦å†…æœç´¢ã€‚ å³è¡¨ç°ä¸ºå¯ä»¥ä½¿ç”¨ Student ä¹Ÿå¯ä»¥ä½¿ç”¨ struct Studentï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 5 6 // cpp struct Student { int age; }; void f( Student me ); // æ­£ç¡®ï¼Œ\"struct\" å…³é”®å­—å¯çœç•¥ äºŒã€è‹¥å®šä¹‰äº†ä¸ Student åŒåå‡½æ•°ä¹‹åï¼Œåˆ™ Student åªä»£è¡¨å‡½æ•°ï¼Œä¸ä»£è¡¨ç»“æ„ä½“ï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 typedef struct Student { int age; } S; void Student() {} // æ­£ç¡®ï¼Œå®šä¹‰å \"Student\" åªä»£è¡¨æ­¤å‡½æ•° //void S() {} // é”™è¯¯ï¼Œç¬¦å· \"S\" å·²ç»è¢«å®šä¹‰ä¸ºä¸€ä¸ª \"struct Student\" çš„åˆ«å int main() { Student(); struct Student me; // æˆ–è€… \"S me\"; return 0; } C++ ä¸­ struct å’Œ class ç»“æ„ä½“å’Œç±»éƒ½æ˜¯æ˜¯ä¸€ç§æ„é€ ç±»å‹ã€‚ Cè¯­è¨€ä¸­çš„ struct åªèƒ½åŒ…å«å˜é‡(åŒ…æ‹¬å‡½æ•°æŒ‡é’ˆ)ã€‚ C++ ä¸­çš„ç±»ä¹Ÿæ˜¯ä¸€ç§æ„é€ ç±»å‹ï¼Œä½†æ˜¯è¿›è¡Œäº†ä¸€äº›æ‰©å±•ï¼Œç±»çš„æˆå‘˜ä¸ä½†å¯ä»¥æ˜¯å˜é‡ï¼Œè¿˜å¯ä»¥æ˜¯å‡½æ•°ï¼›é€šè¿‡ç±»å®šä¹‰å‡ºæ¥çš„å˜é‡ä¹Ÿæœ‰ç‰¹å®šçš„ç§°å‘¼ï¼Œå«åšâ€œå¯¹è±¡â€ã€‚ ç±»åªæ˜¯ä¸€å¼ å›¾çº¸ï¼Œèµ·åˆ°è¯´æ˜çš„ä½œç”¨ï¼Œä¸å ç”¨å†…å­˜ç©ºé—´ï¼›å¯¹è±¡æ‰æ˜¯å…·ä½“çš„é›¶ä»¶ï¼Œè¦æœ‰åœ°æ–¹æ¥å­˜æ”¾ï¼Œæ‰ä¼šå ç”¨å†…å­˜ç©ºé—´ã€‚ åœ¨ C++ ä¸­ï¼Œé€šè¿‡ç±»åå°±å¯ä»¥åˆ›å»ºå¯¹è±¡ï¼Œå³å°†å›¾çº¸ç”Ÿäº§æˆé›¶ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšç±»çš„å®ä¾‹åŒ–ï¼Œå› æ­¤ä¹Ÿç§°å¯¹è±¡æ˜¯ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼ˆInstanceï¼‰ã€‚æœ‰äº›èµ„æ–™ä¹Ÿå°†ç±»çš„æˆå‘˜å˜é‡ç§°ä¸ºå±æ€§ï¼ˆPropertyï¼‰ï¼Œå°†ç±»çš„æˆå‘˜å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼ˆMethodï¼‰ã€‚ æ€»çš„æ¥è¯´ï¼Œstruct æ›´é€‚åˆçœ‹æˆæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„çš„å®ç°ä½“ï¼Œclass æ›´é€‚åˆçœ‹æˆæ˜¯ä¸€ä¸ªå¯¹è±¡çš„å®ç°ä½“ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:18:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åŒºåˆ« æœ€æœ¬è´¨çš„ä¸€ä¸ªåŒºåˆ«å°±æ˜¯é»˜è®¤çš„è®¿é—®æ§åˆ¶ é»˜è®¤çš„ç»§æ‰¿è®¿é—®æƒé™ã€‚struct æ˜¯ public çš„ï¼Œclass æ˜¯ private çš„ã€‚ struct ä½œä¸ºæ•°æ®ç»“æ„çš„å®ç°ä½“ï¼Œå®ƒé»˜è®¤çš„æ•°æ®è®¿é—®æ§åˆ¶æ˜¯ public çš„ï¼Œè€Œ class ä½œä¸ºå¯¹è±¡çš„å®ç°ä½“ï¼Œå®ƒé»˜è®¤çš„æˆå‘˜å˜é‡è®¿é—®æ§åˆ¶æ˜¯ private çš„ã€‚ ç±»çš„é»˜æˆå‘˜å‡½æ•° union è”åˆ è”åˆï¼ˆunionï¼‰æ˜¯ä¸€ç§èŠ‚çœç©ºé—´çš„ç‰¹æ®Šçš„ç±»ï¼Œä¸€ä¸ª union å¯ä»¥æœ‰å¤šä¸ªæ•°æ®æˆå‘˜ï¼Œä½†æ˜¯åœ¨ä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªæ•°æ®æˆå‘˜å¯ä»¥æœ‰å€¼ã€‚å½“æŸä¸ªæˆå‘˜è¢«èµ‹å€¼åå…¶ä»–æˆå‘˜å˜ä¸ºæœªå®šä¹‰çŠ¶æ€ã€‚è”åˆæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š é»˜è®¤è®¿é—®æ§åˆ¶ç¬¦ä¸º public å¯ä»¥å«æœ‰æ„é€ å‡½æ•°ã€ææ„å‡½æ•° ä¸èƒ½å«æœ‰å¼•ç”¨ç±»å‹çš„æˆå‘˜ ä¸èƒ½ç»§æ‰¿è‡ªå…¶ä»–ç±»ï¼Œä¸èƒ½ä½œä¸ºåŸºç±» ä¸èƒ½å«æœ‰è™šå‡½æ•° åŒ¿å union åœ¨å®šä¹‰æ‰€åœ¨ä½œç”¨åŸŸå¯ç›´æ¥è®¿é—® union æˆå‘˜ åŒ¿å union ä¸èƒ½åŒ…å« protected æˆå‘˜æˆ– private æˆå‘˜ å…¨å±€åŒ¿åè”åˆå¿…é¡»æ˜¯é™æ€ï¼ˆstaticï¼‰çš„ union ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #include\u003ciostream\u003e union UnionTest { UnionTest() : i(10) {}; int i; double d; }; static union { int i; double d; }; int main() { UnionTest u; union { int i; double d; }; std::cout \u003c\u003c u.i \u003c\u003c std::endl; // è¾“å‡º UnionTest è”åˆçš„ 10 ::i = 20; std::cout \u003c\u003c ::i \u003c\u003c std::endl; // è¾“å‡ºå…¨å±€é™æ€åŒ¿åè”åˆçš„ 20 i = 30; std::cout \u003c\u003c i \u003c\u003c std::endl; // è¾“å‡ºå±€éƒ¨åŒ¿åè”åˆçš„ 30 return 0; } C å®ç° C++ ç±» C å®ç° C++ çš„é¢å‘å¯¹è±¡ç‰¹æ€§ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼‰ å°è£…ï¼šä½¿ç”¨å‡½æ•°æŒ‡é’ˆæŠŠå±æ€§ä¸æ–¹æ³•å°è£…åˆ°ç»“æ„ä½“ä¸­ ç»§æ‰¿ï¼šç»“æ„ä½“åµŒå¥— å¤šæ€ï¼šçˆ¶ç±»ä¸å­ç±»æ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆä¸åŒ Can you write object-oriented code in C? [closed] explicitï¼ˆæ˜¾å¼ï¼‰å…³é”®å­— explicit ä¿®é¥°æ„é€ å‡½æ•°æ—¶ï¼Œå¯ä»¥é˜²æ­¢éšå¼è½¬æ¢å’Œå¤åˆ¶åˆå§‹åŒ– explicit ä¿®é¥°è½¬æ¢å‡½æ•°æ—¶ï¼Œå¯ä»¥é˜²æ­¢éšå¼è½¬æ¢ï¼Œä½† æŒ‰è¯­å¢ƒè½¬æ¢ é™¤å¤– explicit ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 struct A { A(int) { } operator bool() const { return true; } }; struct B { explicit B(int) {} explicit operator bool() const { return true; } }; void doA(A a) {} void doB(B b) {} int main() { A a1(1); // OKï¼šç›´æ¥åˆå§‹åŒ– A a2 = 1; // OKï¼šå¤åˆ¶åˆå§‹åŒ– A a3{ 1 }; // OKï¼šç›´æ¥åˆ—è¡¨åˆå§‹åŒ– A a4 = { 1 }; // OKï¼šå¤åˆ¶åˆ—è¡¨åˆå§‹åŒ– A a5 = (A)1; // OKï¼šå…è®¸ static_cast çš„æ˜¾å¼è½¬æ¢ doA(1); // OKï¼šå…è®¸ä» int åˆ° A çš„éšå¼è½¬æ¢ if (a1); // OKï¼šä½¿ç”¨è½¬æ¢å‡½æ•° A::operator bool() çš„ä» A åˆ° bool çš„éšå¼è½¬æ¢ bool a6ï¼ˆa1ï¼‰; // OKï¼šä½¿ç”¨è½¬æ¢å‡½æ•° A::operator bool() çš„ä» A åˆ° bool çš„éšå¼è½¬æ¢ bool a7 = a1; // OKï¼šä½¿ç”¨è½¬æ¢å‡½æ•° A::operator bool() çš„ä» A åˆ° bool çš„éšå¼è½¬æ¢ bool a8 = static_cast\u003cbool\u003e(a1); // OK ï¼šstatic_cast è¿›è¡Œç›´æ¥åˆå§‹åŒ– B b1(1); // OKï¼šç›´æ¥åˆå§‹åŒ– B b2 = 1; // é”™è¯¯ï¼šè¢« explicit ä¿®é¥°æ„é€ å‡½æ•°çš„å¯¹è±¡ä¸å¯ä»¥å¤åˆ¶åˆå§‹åŒ– B b3{ 1 }; // OKï¼šç›´æ¥åˆ—è¡¨åˆå§‹åŒ– B b4 = { 1 }; // é”™è¯¯ï¼šè¢« explicit ä¿®é¥°æ„é€ å‡½æ•°çš„å¯¹è±¡ä¸å¯ä»¥å¤åˆ¶åˆ—è¡¨åˆå§‹åŒ– B b5 = (B)1; // OKï¼šå…è®¸ static_cast çš„æ˜¾å¼è½¬æ¢ doB(1); // é”™è¯¯ï¼šè¢« explicit ä¿®é¥°æ„é€ å‡½æ•°çš„å¯¹è±¡ä¸å¯ä»¥ä» int åˆ° B çš„éšå¼è½¬æ¢ if (b1); // OKï¼šè¢« explicit ä¿®é¥°è½¬æ¢å‡½æ•° B::operator bool() çš„å¯¹è±¡å¯ä»¥ä» B åˆ° bool çš„æŒ‰è¯­å¢ƒè½¬æ¢ bool b6(b1); // OKï¼šè¢« explicit ä¿®é¥°è½¬æ¢å‡½æ•° B::operator bool() çš„å¯¹è±¡å¯ä»¥ä» B åˆ° bool çš„æŒ‰è¯­å¢ƒè½¬æ¢ bool b7 = b1; // é”™è¯¯ï¼šè¢« explicit ä¿®é¥°è½¬æ¢å‡½æ•° B::operator bool() çš„å¯¹è±¡ä¸å¯ä»¥éšå¼è½¬æ¢ bool b8 = static_cast\u003cbool\u003e(b1); // OKï¼šstatic_cast è¿›è¡Œç›´æ¥åˆå§‹åŒ– return 0; } friend å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•° èƒ½è®¿é—®ç§æœ‰æˆå‘˜ ç ´åå°è£…æ€§ å‹å…ƒå…³ç³»ä¸å¯ä¼ é€’ å‹å…ƒå…³ç³»çš„å•å‘æ€§ å‹å…ƒå£°æ˜çš„å½¢å¼åŠæ•°é‡ä¸å—é™åˆ¶ using ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:19:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"using å£°æ˜ ä¸€æ¡ using å£°æ˜ è¯­å¥ä¸€æ¬¡åªå¼•å…¥å‘½åç©ºé—´çš„ä¸€ä¸ªæˆå‘˜ã€‚å®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçŸ¥é“ç¨‹åºä¸­æ‰€å¼•ç”¨çš„åˆ°åº•æ˜¯å“ªä¸ªåå­—ã€‚å¦‚ï¼š 1 using namespace_name::name; ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:20:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æ„é€ å‡½æ•°çš„ using å£°æ˜ åœ¨ C++11 ä¸­ï¼Œæ´¾ç”Ÿç±»èƒ½å¤Ÿé‡ç”¨å…¶ç›´æ¥åŸºç±»å®šä¹‰çš„æ„é€ å‡½æ•°ã€‚ 1 2 3 4 5 class Derived : Base { public: using Base::Base; /* ... */ }; å¦‚ä¸Š using å£°æ˜ï¼Œå¯¹äºåŸºç±»çš„æ¯ä¸ªæ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨éƒ½ç”Ÿæˆä¸€ä¸ªä¸ä¹‹å¯¹åº”ï¼ˆå½¢å‚åˆ—è¡¨å®Œå…¨ç›¸åŒï¼‰çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ã€‚ç”Ÿæˆå¦‚ä¸‹ç±»å‹æ„é€ å‡½æ•°ï¼š 1 Derived(parms) : Base(args) { } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:21:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"using æŒ‡ç¤º using æŒ‡ç¤º ä½¿å¾—æŸä¸ªç‰¹å®šå‘½åç©ºé—´ä¸­æ‰€æœ‰åå­—éƒ½å¯è§ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— éœ€å†ä¸ºå®ƒä»¬æ·»åŠ ä»»ä½•å‰ç¼€é™å®šç¬¦äº†ã€‚å¦‚ï¼š 1 using namespace_name name; ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:22:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å°½é‡å°‘ä½¿ç”¨ using æŒ‡ç¤º æ±¡æŸ“å‘½åç©ºé—´ ä¸€èˆ¬è¯´æ¥ï¼Œä½¿ç”¨ using å‘½ä»¤æ¯”ä½¿ç”¨ using ç¼–è¯‘å‘½ä»¤æ›´å®‰å…¨ï¼Œè¿™æ˜¯ç”±äºå®ƒåªå¯¼å…¥äº†æŒ‡å®šçš„åç§°ã€‚å¦‚æœè¯¥åç§°ä¸å±€éƒ¨åç§°å‘ç”Ÿå†²çªï¼Œç¼–è¯‘å™¨å°†å‘å‡ºæŒ‡ç¤ºã€‚usingç¼–è¯‘å‘½ä»¤å¯¼å…¥æ‰€æœ‰çš„åç§°ï¼ŒåŒ…æ‹¬å¯èƒ½å¹¶ä¸éœ€è¦çš„åç§°ã€‚å¦‚æœä¸å±€éƒ¨åç§°å‘ç”Ÿå†²çªï¼Œåˆ™å±€éƒ¨åç§°å°†è¦†ç›–åç§°ç©ºé—´ç‰ˆæœ¬ï¼Œè€Œç¼–è¯‘å™¨å¹¶ä¸ä¼šå‘å‡ºè­¦å‘Šã€‚å¦å¤–ï¼Œåç§°ç©ºé—´çš„å¼€æ”¾æ€§æ„å‘³ç€åç§°ç©ºé—´çš„åç§°å¯èƒ½åˆ†æ•£åœ¨å¤šä¸ªåœ°æ–¹ï¼Œè¿™ä½¿å¾—éš¾ä»¥å‡†ç¡®çŸ¥é“æ·»åŠ äº†å“ªäº›åç§°ã€‚ using ä½¿ç”¨ å°½é‡å°‘ä½¿ç”¨ using æŒ‡ç¤º 1 using namespace std; åº”è¯¥å¤šä½¿ç”¨ using å£°æ˜ 1 2 3 int x; std::cin \u003e\u003e x ; std::cout \u003c\u003c x \u003c\u003c std::endl; æˆ–è€… 1 2 3 4 5 6 using std::cin; using std::cout; using std::endl; int x; cin \u003e\u003e x; cout \u003c\u003c x \u003c\u003c endl; :: èŒƒå›´è§£æè¿ç®—ç¬¦ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:23:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åˆ†ç±» å…¨å±€ä½œç”¨åŸŸç¬¦ï¼ˆ::nameï¼‰ï¼šç”¨äºç±»å‹åç§°ï¼ˆç±»ã€ç±»æˆå‘˜ã€æˆå‘˜å‡½æ•°ã€å˜é‡ç­‰ï¼‰å‰ï¼Œè¡¨ç¤ºä½œç”¨åŸŸä¸ºå…¨å±€å‘½åç©ºé—´ ç±»ä½œç”¨åŸŸç¬¦ï¼ˆclass::nameï¼‰ï¼šç”¨äºè¡¨ç¤ºæŒ‡å®šç±»å‹çš„ä½œç”¨åŸŸèŒƒå›´æ˜¯å…·ä½“æŸä¸ªç±»çš„ å‘½åç©ºé—´ä½œç”¨åŸŸç¬¦ï¼ˆnamespace::nameï¼‰:ç”¨äºè¡¨ç¤ºæŒ‡å®šç±»å‹çš„ä½œç”¨åŸŸèŒƒå›´æ˜¯å…·ä½“æŸä¸ªå‘½åç©ºé—´çš„ :: ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 int count = 11; // å…¨å±€ï¼ˆ::ï¼‰çš„ count class A { public: static int count; // ç±» A çš„ countï¼ˆA::countï¼‰ }; int A::count = 21; void fun() { int count = 31; // åˆå§‹åŒ–å±€éƒ¨çš„ count ä¸º 31 count = 32; // è®¾ç½®å±€éƒ¨çš„ count çš„å€¼ä¸º 32 } int main() { ::count = 12; // æµ‹è¯• 1ï¼šè®¾ç½®å…¨å±€çš„ count çš„å€¼ä¸º 12 A::count = 22; // æµ‹è¯• 2ï¼šè®¾ç½®ç±» A çš„ count ä¸º 22 fun(); // æµ‹è¯• 3 return 0; } enum æšä¸¾ç±»å‹ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:24:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é™å®šä½œç”¨åŸŸçš„æšä¸¾ç±»å‹ 1 enum class open_modes { input, output, append }; ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:25:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä¸é™å®šä½œç”¨åŸŸçš„æšä¸¾ç±»å‹ 1 2 enum color { red, yellow, green }; enum { floatPrec = 6, doublePrec = 10 }; decltype decltype å…³é”®å­—ç”¨äºæ£€æŸ¥å®ä½“çš„å£°æ˜ç±»å‹æˆ–è¡¨è¾¾å¼çš„ç±»å‹åŠå€¼åˆ†ç±»ã€‚decltypeä¸autoå…³é”®å­—ä¸€æ ·ï¼Œç”¨äºè¿›è¡Œç¼–è¯‘æ—¶ç±»å‹æ¨å¯¼ï¼Œä¸è¿‡å®ƒä¸autoè¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ã€‚decltypeçš„ç±»å‹æ¨å¯¼å¹¶ä¸æ˜¯åƒautoä¸€æ ·æ˜¯ä»å˜é‡å£°æ˜çš„åˆå§‹åŒ–è¡¨è¾¾å¼è·å¾—å˜é‡çš„ç±»å‹ï¼Œè€Œæ˜¯æ€»æ˜¯ä»¥ä¸€ä¸ªæ™®é€šè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ï¼Œè¿”å›è¯¥è¡¨è¾¾å¼çš„ç±»å‹,è€Œä¸”decltypeå¹¶ä¸ä¼šå¯¹è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚ è¯­æ³•ï¼š 1 decltype ( expression ) decltype ä½¿ç”¨ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:26:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æ¨å¯¼å‡ºè¡¨è¾¾å¼ç±»å‹ 1 2 int i = 4; decltype(i) a; //æ¨å¯¼ç»“æœä¸ºintã€‚açš„ç±»å‹ä¸ºintã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:27:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"ä¸using/typedefåˆç”¨ï¼Œç”¨äºå®šä¹‰ç±»å‹ 1 2 3 4 5 6 7 8 9 10 using size_t = decltype(sizeof(0));//sizeof(a)çš„è¿”å›å€¼ä¸ºsize_tç±»å‹ using ptrdiff_t = decltype((int*)0 - (int*)0); using nullptr_t = decltype(nullptr); vector\u003cint \u003evec; typedef decltype(vec.begin()) vectype; for (vectype i = vec.begin; i != vec.end(); i++) { //... } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:28:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é‡ç”¨åŒ¿åç±»å‹ 1 2 3 4 5 struct { int d ; doubel b; }anon_s; è€Œå€ŸåŠ©decltypeï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°ä½¿ç”¨è¿™ä¸ªåŒ¿åçš„ç»“æ„ä½“ï¼š 1 decltype(anon_s) as ;//å®šä¹‰äº†ä¸€ä¸ªä¸Šé¢åŒ¿åçš„ç»“æ„ä½“ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:29:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"æ³›å‹ç¼–ç¨‹ä¸­ç»“åˆautoï¼Œç”¨äºè¿½è¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ è¿™ä¹Ÿæ˜¯decltypeæœ€å¤§çš„ç”¨é€” 1 2 3 4 5 template \u003ctypename _Tx, typename _Ty\u003e auto multiply(_Tx x, _Ty y)-\u003edecltype(x*y) { return x*y; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // å°¾ç½®è¿”å›å…è®¸æˆ‘ä»¬åœ¨å‚æ•°åˆ—è¡¨ä¹‹åå£°æ˜è¿”å›ç±»å‹ template \u003ctypename It\u003e auto fcn(It beg, It end) -\u003e decltype(*beg) { // å¤„ç†åºåˆ— return *beg; // è¿”å›åºåˆ—ä¸­ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ } // ä¸ºäº†ä½¿ç”¨æ¨¡æ¿å‚æ•°æˆå‘˜ï¼Œå¿…é¡»ç”¨ typename template \u003ctypename It\u003e auto fcn2(It beg, It end) -\u003e typename remove_reference\u003cdecltype(*beg)\u003e::type { // å¤„ç†åºåˆ— return *beg; // è¿”å›åºåˆ—ä¸­ä¸€ä¸ªå…ƒç´ çš„æ‹·è´ } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:30:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"decltypeæ¨å¯¼å››è§„åˆ™ å¦‚æœeæ˜¯ä¸€ä¸ªæ²¡æœ‰å¸¦æ‹¬å·çš„æ ‡è®°ç¬¦è¡¨è¾¾å¼æˆ–è€…ç±»æˆå‘˜è®¿é—®è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆçš„decltypeï¼ˆeï¼‰å°±æ˜¯eæ‰€å‘½åçš„å®ä½“çš„ç±»å‹ã€‚æ­¤å¤–ï¼Œå¦‚æœeæ˜¯ä¸€ä¸ªè¢«é‡è½½çš„å‡½æ•°ï¼Œåˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ å¦åˆ™ ï¼Œå‡è®¾eçš„ç±»å‹æ˜¯Tï¼Œå¦‚æœeæ˜¯ä¸€ä¸ªå°†äº¡å€¼ï¼Œé‚£ä¹ˆdecltypeï¼ˆeï¼‰ä¸ºT\u0026\u0026 å¦åˆ™ï¼Œå‡è®¾eçš„ç±»å‹æ˜¯Tï¼Œå¦‚æœeæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œé‚£ä¹ˆdecltypeï¼ˆeï¼‰ä¸ºT\u0026ã€‚ å¦åˆ™ï¼Œå‡è®¾eçš„ç±»å‹æ˜¯Tï¼Œåˆ™decltypeï¼ˆeï¼‰ä¸ºTã€‚ æ ‡è®°ç¬¦æŒ‡çš„æ˜¯é™¤å»å…³é”®å­—ã€å­—é¢é‡ç­‰ç¼–è¯‘å™¨éœ€è¦ä½¿ç”¨çš„æ ‡è®°ä¹‹å¤–çš„ç¨‹åºå‘˜è‡ªå·±å®šä¹‰çš„æ ‡è®°ï¼Œè€Œå•ä¸ªæ ‡è®°ç¬¦å¯¹åº”çš„è¡¨è¾¾å¼å³ä¸ºæ ‡è®°ç¬¦è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼š 1 int arr[4] åˆ™arrä¸ºä¸€ä¸ªæ ‡è®°ç¬¦è¡¨è¾¾å¼ï¼Œè€Œarr[3]+0ä¸æ˜¯ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š 1 2 3 int i=10; decltype(i) a; //aæ¨å¯¼ä¸ºint decltype((i))b=i;//bæ¨å¯¼ä¸ºint\u0026ï¼Œå¿…é¡»ä¸ºå…¶åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘é”™è¯¯ ä»…ä»…ä¸ºiåŠ ä¸Šäº†()ï¼Œå°±å¯¼è‡´ç±»å‹æ¨å¯¼ç»“æœçš„å·®å¼‚ã€‚è¿™æ˜¯å› ä¸ºï¼Œiæ˜¯ä¸€ä¸ªæ ‡è®°ç¬¦è¡¨è¾¾å¼ï¼Œæ ¹æ®æ¨å¯¼è§„åˆ™1ï¼Œç±»å‹è¢«æ¨å¯¼ä¸ºintã€‚è€Œ(i)ä¸ºä¸€ä¸ªå·¦å€¼è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ç±»å‹è¢«æ¨å¯¼ä¸ºint\u0026ã€‚ é€šè¿‡ä¸‹é¢è¿™æ®µä»£ç å¯ä»¥å¯¹æ¨å¯¼å››ä¸ªè§„åˆ™ä½œè¿›ä¸€æ­¥äº†è§£ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 int i = 4; int arr[5] = { 0 }; int *ptr = arr; struct S{ double d; }s ; void Overloaded(int); void Overloaded(char);//é‡è½½çš„å‡½æ•° int \u0026\u0026 RvalRef(); const bool Func(int); //è§„åˆ™ä¸€ï¼šæ¨å¯¼ä¸ºå…¶ç±»å‹ decltype (arr) var1; //int æ ‡è®°ç¬¦è¡¨è¾¾å¼ decltype (ptr) var2;//int * æ ‡è®°ç¬¦è¡¨è¾¾å¼ decltype(s.d) var3;//doubel æˆå‘˜è®¿é—®è¡¨è¾¾å¼ //decltype(Overloaded) var4;//é‡è½½å‡½æ•°ã€‚ç¼–è¯‘é”™è¯¯ã€‚ //è§„åˆ™äºŒï¼šå°†äº¡å€¼ã€‚æ¨å¯¼ä¸ºç±»å‹çš„å³å€¼å¼•ç”¨ã€‚ decltype (RvalRef()) var5 = 1; //è§„åˆ™ä¸‰ï¼šå·¦å€¼ï¼Œæ¨å¯¼ä¸ºç±»å‹çš„å¼•ç”¨ã€‚ decltype ((i))var6 = i; //int\u0026 decltype (true ? i : i) var7 = i; //int\u0026 æ¡ä»¶è¡¨è¾¾å¼è¿”å›å·¦å€¼ã€‚ decltype (++i) var8 = i; //int\u0026 ++iè¿”å›içš„å·¦å€¼ã€‚ decltype(arr[5]) var9 = i;//int\u0026. []æ“ä½œè¿”å›å·¦å€¼ decltype(*ptr)var10 = i;//int\u0026 *æ“ä½œè¿”å›å·¦å€¼ decltype(\"hello\")var11 = \"hello\"; //const char(\u0026)[9] å­—ç¬¦ä¸²å­—é¢å¸¸é‡ä¸ºå·¦å€¼ï¼Œä¸”ä¸ºconstå·¦å€¼ã€‚ //è§„åˆ™å››ï¼šä»¥ä¸Šéƒ½ä¸æ˜¯ï¼Œåˆ™æ¨å¯¼ä¸ºæœ¬ç±»å‹ decltype(1) var12;//const int decltype(Func(1)) var13=true;//const bool decltype(i++) var14 = i;//int i++è¿”å›å³å€¼ è¿™é‡Œéœ€è¦æç¤ºçš„æ˜¯ï¼Œå­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡æ˜¯ä¸ªå·¦å€¼ï¼Œä¸”æ˜¯constå·¦å€¼ï¼Œè€Œéå­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡åˆ™æ˜¯ä¸ªå³å€¼ã€‚ è¿™ä¹ˆå¤šè§„åˆ™ï¼Œå¯¹äºæˆ‘ä»¬å†™ä»£ç çš„æ¥è¯´éš¾å…å¤ªéš¾è®°äº†ï¼Œç‰¹åˆ«æ˜¯è§„åˆ™ä¸‰ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨C++11æ ‡å‡†åº“ä¸­æ·»åŠ çš„æ¨¡æ¿ç±»is_lvalue_referenceæ¥åˆ¤æ–­è¡¨è¾¾å¼æ˜¯å¦ä¸ºå·¦å€¼ï¼š 1 cout \u003c\u003c is_lvalue_reference\u003cdecltype(++i)\u003e::value \u003c\u003c endl; ç»“æœ1è¡¨ç¤ºä¸ºå·¦å€¼ï¼Œç»“æœä¸º0ä¸ºéå³å€¼ã€‚ åŒæ ·çš„ï¼Œä¹Ÿæœ‰is_rvalue_referenceè¿™æ ·çš„æ¨¡æ¿ç±»æ¥åˆ¤æ–­decltypeæ¨æ–­ç»“æœæ˜¯å¦ä¸ºå³å€¼ã€‚ å¼•ç”¨ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:31:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å·¦å€¼å¼•ç”¨ å¸¸è§„å¼•ç”¨ï¼Œä¸€èˆ¬è¡¨ç¤ºå¯¹è±¡çš„èº«ä»½ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:32:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å³å€¼å¼•ç”¨ å³å€¼å¼•ç”¨å°±æ˜¯å¿…é¡»ç»‘å®šåˆ°å³å€¼ï¼ˆä¸€ä¸ªä¸´æ—¶å¯¹è±¡ã€å°†è¦é”€æ¯çš„å¯¹è±¡ï¼‰çš„å¼•ç”¨ï¼Œä¸€èˆ¬è¡¨ç¤ºå¯¹è±¡çš„å€¼ã€‚ å³å€¼å¼•ç”¨å¯å®ç°è½¬ç§»è¯­ä¹‰ï¼ˆMove Sementicsï¼‰å’Œç²¾ç¡®ä¼ é€’ï¼ˆPerfect Forwardingï¼‰ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š æ¶ˆé™¤ä¸¤ä¸ªå¯¹è±¡äº¤äº’æ—¶ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´ï¼ŒèŠ‚çœè¿ç®—å­˜å‚¨èµ„æºï¼Œæé«˜æ•ˆç‡ã€‚ èƒ½å¤Ÿæ›´ç®€æ´æ˜ç¡®åœ°å®šä¹‰æ³›å‹å‡½æ•°ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:33:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å¼•ç”¨æŠ˜å  X\u0026 \u0026ã€X\u0026 \u0026\u0026ã€X\u0026\u0026 \u0026 å¯æŠ˜å æˆ X\u0026 X\u0026\u0026 \u0026\u0026 å¯æŠ˜å æˆ X\u0026\u0026 å® å®å®šä¹‰å¯ä»¥å®ç°ç±»ä¼¼äºå‡½æ•°çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒç»ˆå½’ä¸æ˜¯å‡½æ•°ï¼Œè€Œå®å®šä¹‰ä¸­æ‹¬å¼§ä¸­çš„â€œå‚æ•°â€ä¹Ÿä¸æ˜¯çœŸçš„å‚æ•°ï¼Œåœ¨å®å±•å¼€çš„æ—¶å€™å¯¹ â€œå‚æ•°â€ è¿›è¡Œçš„æ˜¯ä¸€å¯¹ä¸€çš„æ›¿æ¢ã€‚ æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ å¥½å¤„ æ›´é«˜æ•ˆï¼šå°‘äº†ä¸€æ¬¡è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°çš„è¿‡ç¨‹ã€‚ æœ‰äº›åœºåˆå¿…é¡»è¦ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼š å¸¸é‡æˆå‘˜ï¼Œå› ä¸ºå¸¸é‡åªèƒ½åˆå§‹åŒ–ä¸èƒ½èµ‹å€¼ï¼Œæ‰€ä»¥å¿…é¡»æ”¾åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œé¢ å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨å¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸èƒ½é‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥ä¹Ÿè¦å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œé¢ æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹ï¼Œå› ä¸ºä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥ä¸å¿…è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– initializer_list åˆ—è¡¨åˆå§‹åŒ– ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–å™¨åˆ—è¡¨åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­å¯¹åº”æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ª std::initializer_list å‚æ•°. initializer_list ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 #include \u003ciostream\u003e #include \u003cvector\u003e #include \u003cinitializer_list\u003e template \u003cclass T\u003e struct S { std::vector\u003cT\u003e v; S(std::initializer_list\u003cT\u003e l) : v(l) { std::cout \u003c\u003c \"constructed with a \" \u003c\u003c l.size() \u003c\u003c \"-element list\\n\"; } void append(std::initializer_list\u003cT\u003e l) { v.insert(v.end(), l.begin(), l.end()); } std::pair\u003cconst T*, std::size_t\u003e c_arr() const { return {\u0026v[0], v.size()}; // åœ¨ return è¯­å¥ä¸­å¤åˆ¶åˆ—è¡¨åˆå§‹åŒ– // è¿™ä¸ä½¿ç”¨ std::initializer_list } }; template \u003ctypename T\u003e void templated_fn(T) {} int main() { S\u003cint\u003e s = {1, 2, 3, 4, 5}; // å¤åˆ¶åˆå§‹åŒ– s.append({6, 7, 8}); // å‡½æ•°è°ƒç”¨ä¸­çš„åˆ—è¡¨åˆå§‹åŒ– std::cout \u003c\u003c \"The vector size is now \" \u003c\u003c s.c_arr().second \u003c\u003c \" ints:\\n\"; for (auto n : s.v) std::cout \u003c\u003c n \u003c\u003c ' '; std::cout \u003c\u003c '\\n'; std::cout \u003c\u003c \"Range-for over brace-init-list: \\n\"; for (int x : {-1, -2, -3}) // auto çš„è§„åˆ™ä»¤æ­¤å¸¦èŒƒå›´ for å·¥ä½œ std::cout \u003c\u003c x \u003c\u003c ' '; std::cout \u003c\u003c '\\n'; auto al = {10, 11, 12}; // auto çš„ç‰¹æ®Šè§„åˆ™ std::cout \u003c\u003c \"The list bound to auto has size() = \" \u003c\u003c al.size() \u003c\u003c '\\n'; // templated_fn({1, 2, 3}); // ç¼–è¯‘é”™è¯¯ï¼â€œ {1, 2, 3} â€ä¸æ˜¯è¡¨è¾¾å¼ï¼Œ // å®ƒæ— ç±»å‹ï¼Œæ•… T æ— æ³•æ¨å¯¼ templated_fn\u003cstd::initializer_list\u003cint\u003e\u003e({1, 2, 3}); // OK templated_fn\u003cstd::vector\u003cint\u003e\u003e({1, 2, 3}); // ä¹Ÿ OK } é¢å‘å¯¹è±¡ é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆObject-oriented programmingï¼ŒOOPï¼‰æ˜¯ç§å…·æœ‰å¯¹è±¡æ¦‚å¿µçš„ç¨‹åºç¼–ç¨‹å…¸èŒƒï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ç§ç¨‹åºå¼€å‘çš„æŠ½è±¡æ–¹é’ˆã€‚ é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ â€”â€” å°è£…ã€ç»§æ‰¿ã€å¤šæ€ å°è£… æŠŠå®¢è§‚äº‹ç‰©å°è£…æˆæŠ½è±¡çš„ç±»ï¼Œå¹¶ä¸”ç±»å¯ä»¥æŠŠè‡ªå·±çš„æ•°æ®å’Œæ–¹æ³•åªè®©å¯ä¿¡çš„ç±»æˆ–è€…å¯¹è±¡æ“ä½œï¼Œå¯¹ä¸å¯ä¿¡çš„è¿›è¡Œä¿¡æ¯éšè—ã€‚å…³é”®å­—ï¼špublic, protected, privateã€‚ä¸å†™é»˜è®¤ä¸º privateã€‚ public æˆå‘˜ï¼šå¯ä»¥è¢«ä»»æ„å®ä½“è®¿é—® protected æˆå‘˜ï¼šåªå…è®¸è¢«å­ç±»åŠæœ¬ç±»çš„æˆå‘˜å‡½æ•°è®¿é—® private æˆå‘˜ï¼šåªå…è®¸è¢«æœ¬ç±»çš„æˆå‘˜å‡½æ•°ã€å‹å…ƒç±»æˆ–å‹å…ƒå‡½æ•°è®¿é—® ç»§æ‰¿ åŸºç±»ï¼ˆçˆ¶ç±»ï¼‰â€”â€”\u003e æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰ å¤šæ€ å¤šæ€ï¼Œå³å¤šç§çŠ¶æ€ï¼ˆå½¢æ€ï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤šæ€å®šä¹‰ä¸ºæ¶ˆæ¯ä»¥å¤šç§å½¢å¼æ˜¾ç¤ºçš„èƒ½åŠ›ã€‚ å¤šæ€æ˜¯ä»¥å°è£…å’Œç»§æ‰¿ä¸ºåŸºç¡€çš„ã€‚ C++ å¤šæ€åˆ†ç±»åŠå®ç°ï¼š é‡è½½å¤šæ€ï¼ˆAd-hoc Polymorphismï¼Œç¼–è¯‘æœŸï¼‰ï¼šå‡½æ•°é‡è½½ã€è¿ç®—ç¬¦é‡è½½ å­ç±»å‹å¤šæ€ï¼ˆSubtype Polymorphismï¼Œè¿è¡ŒæœŸï¼‰ï¼šè™šå‡½æ•° å‚æ•°å¤šæ€æ€§ï¼ˆParametric Polymorphismï¼Œç¼–è¯‘æœŸï¼‰ï¼šç±»æ¨¡æ¿ã€å‡½æ•°æ¨¡æ¿ å¼ºåˆ¶å¤šæ€ï¼ˆCoercion Polymorphismï¼Œç¼–è¯‘æœŸ/è¿è¡ŒæœŸï¼‰ï¼šåŸºæœ¬ç±»å‹è½¬æ¢ã€è‡ªå®šä¹‰ç±»å‹è½¬æ¢ The Four Polymorphisms in C++ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:34:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"é™æ€å¤šæ€ï¼ˆç¼–è¯‘æœŸ/æ—©ç»‘å®šï¼‰ å‡½æ•°é‡è½½ 1 2 3 4 5 6 class A { public: void do(int a); void do(int a, int b); }; ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:35:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åŠ¨æ€å¤šæ€ï¼ˆè¿è¡ŒæœŸæœŸ/æ™šç»‘å®šï¼‰ è™šå‡½æ•°ï¼šç”¨ virtual ä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œä½¿å…¶æˆä¸ºè™šå‡½æ•° æ³¨æ„ï¼š æ™®é€šå‡½æ•°ï¼ˆéç±»æˆå‘˜å‡½æ•°ï¼‰ä¸èƒ½æ˜¯è™šå‡½æ•° é™æ€å‡½æ•°ï¼ˆstaticï¼‰ä¸èƒ½æ˜¯è™šå‡½æ•° æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼ˆå› ä¸ºåœ¨è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œè™šè¡¨æŒ‡é’ˆå¹¶æ²¡æœ‰åœ¨å¯¹è±¡çš„å†…å­˜ç©ºé—´ä¸­ï¼Œå¿…é¡»è¦æ„é€ å‡½æ•°è°ƒç”¨å®Œæˆåæ‰ä¼šå½¢æˆè™šè¡¨æŒ‡é’ˆï¼‰ å†…è”å‡½æ•°ä¸èƒ½æ˜¯è¡¨ç°å¤šæ€æ€§æ—¶çš„è™šå‡½æ•°ï¼Œè§£é‡Šè§ï¼šè™šå‡½æ•°ï¼ˆvirtualï¼‰å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼ˆinlineï¼‰å—ï¼Ÿ åŠ¨æ€å¤šæ€ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 class Shape // å½¢çŠ¶ç±» { public: virtual double calcArea() { ... } virtual ~Shape(); }; class Circle : public Shape // åœ†å½¢ç±» { public: virtual double calcArea(); ... }; class Rect : public Shape // çŸ©å½¢ç±» { public: virtual double calcArea(); ... }; int main() { Shape * shape1 = new Circle(4.0); Shape * shape2 = new Rect(5.0, 6.0); shape1-\u003ecalcArea(); // è°ƒç”¨åœ†å½¢ç±»é‡Œé¢çš„æ–¹æ³• shape2-\u003ecalcArea(); // è°ƒç”¨çŸ©å½¢ç±»é‡Œé¢çš„æ–¹æ³• delete shape1; shape1 = nullptr; delete shape2; shape2 = nullptr; return 0; } è™šææ„å‡½æ•° è™šææ„å‡½æ•°æ˜¯ä¸ºäº†è§£å†³åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œå¹¶ç”¨åŸºç±»çš„æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ è™šææ„å‡½æ•°ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 class Shape { public: Shape(); // æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•° virtual double calcArea(); virtual ~Shape(); // è™šææ„å‡½æ•° }; class Circle : public Shape // åœ†å½¢ç±» { public: virtual double calcArea(); ... }; int main() { Shape * shape1 = new Circle(4.0); shape1-\u003ecalcArea(); delete shape1; // å› ä¸ºShapeæœ‰è™šææ„å‡½æ•°ï¼Œæ‰€ä»¥deleteé‡Šæ”¾å†…å­˜æ—¶ï¼Œå…ˆè°ƒç”¨å­ç±»ææ„å‡½æ•°ï¼Œå†è°ƒç”¨åŸºç±»ææ„å‡½æ•°ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ shape1 = NULL; return 0ï¼› } çº¯è™šå‡½æ•° çº¯è™šå‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„è™šå‡½æ•°ï¼Œåœ¨åŸºç±»ä¸­ä¸èƒ½å¯¹è™šå‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®ç°ï¼Œè€ŒæŠŠå®ƒå£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œå®ƒçš„å®ç°ç•™ç»™è¯¥åŸºç±»çš„æ´¾ç”Ÿç±»å»åšã€‚ 1 virtual int A() = 0; è™šå‡½æ•°ã€çº¯è™šå‡½æ•° ç±»é‡Œå¦‚æœå£°æ˜äº†è™šå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯å®ç°çš„ï¼Œå“ªæ€•æ˜¯ç©ºå®ç°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ä¸ºäº†èƒ½è®©è¿™ä¸ªå‡½æ•°åœ¨å®ƒçš„å­ç±»é‡Œé¢å¯ä»¥è¢«è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥ä½¿ç”¨åæœŸç»‘å®šæ¥è¾¾åˆ°å¤šæ€äº†ã€‚çº¯è™šå‡½æ•°åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ˜¯ä¸ªå‡½æ•°çš„å£°æ˜è€Œå·²ï¼Œå®ƒè¦ç•™åˆ°å­ç±»é‡Œå»å®ç°ã€‚ è™šå‡½æ•°åœ¨å­ç±»é‡Œé¢å¯ä»¥ä¸é‡å†™ï¼›ä½†çº¯è™šå‡½æ•°å¿…é¡»åœ¨å­ç±»å®ç°æ‰å¯ä»¥å®ä¾‹åŒ–å­ç±»ã€‚ è™šå‡½æ•°çš„ç±»ç”¨äº â€œå®ä½œç»§æ‰¿â€ï¼Œç»§æ‰¿æ¥å£çš„åŒæ—¶ä¹Ÿç»§æ‰¿äº†çˆ¶ç±»çš„å®ç°ã€‚çº¯è™šå‡½æ•°å…³æ³¨çš„æ˜¯æ¥å£çš„ç»Ÿä¸€æ€§ï¼Œå®ç°ç”±å­ç±»å®Œæˆã€‚ å¸¦çº¯è™šå‡½æ•°çš„ç±»å«æŠ½è±¡ç±»ï¼Œè¿™ç§ç±»ä¸èƒ½ç›´æ¥ç”Ÿæˆå¯¹è±¡ï¼Œè€Œåªæœ‰è¢«ç»§æ‰¿ï¼Œå¹¶é‡å†™å…¶è™šå‡½æ•°åï¼Œæ‰èƒ½ä½¿ç”¨ã€‚æŠ½è±¡ç±»è¢«ç»§æ‰¿åï¼Œå­ç±»å¯ä»¥ç»§ç»­æ˜¯æŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯æ™®é€šç±»ã€‚ è™šåŸºç±»æ˜¯è™šç»§æ‰¿ä¸­çš„åŸºç±»ï¼Œå…·ä½“è§ä¸‹æ–‡è™šç»§æ‰¿ã€‚ CSDN . C++ ä¸­çš„è™šå‡½æ•°ã€çº¯è™šå‡½æ•°åŒºåˆ«å’Œè”ç³» è™šå‡½æ•°æŒ‡é’ˆã€è™šå‡½æ•°è¡¨ è™šå‡½æ•°æŒ‡é’ˆï¼šåœ¨å«æœ‰è™šå‡½æ•°ç±»çš„å¯¹è±¡ä¸­ï¼ŒæŒ‡å‘è™šå‡½æ•°è¡¨ï¼Œåœ¨è¿è¡Œæ—¶ç¡®å®šã€‚ è™šå‡½æ•°è¡¨ï¼šåœ¨ç¨‹åºåªè¯»æ•°æ®æ®µï¼ˆ.rodata sectionï¼Œè§ï¼šç›®æ ‡æ–‡ä»¶å­˜å‚¨ç»“æ„ï¼‰ï¼Œå­˜æ”¾è™šå‡½æ•°æŒ‡é’ˆï¼Œå¦‚æœæ´¾ç”Ÿç±»å®ç°äº†åŸºç±»çš„æŸä¸ªè™šå‡½æ•°ï¼Œåˆ™åœ¨è™šè¡¨ä¸­è¦†ç›–åŸæœ¬åŸºç±»çš„é‚£ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œåœ¨ç¼–è¯‘æ—¶æ ¹æ®ç±»çš„å£°æ˜åˆ›å»ºã€‚ C++ä¸­çš„è™šå‡½æ•°(è¡¨)å®ç°æœºåˆ¶ä»¥åŠç”¨Cè¯­è¨€å¯¹å…¶è¿›è¡Œçš„æ¨¡æ‹Ÿå®ç° C++ä¸­çš„è™šæŒ‡é’ˆä¸è™šå‡½æ•°è¡¨ è™šç»§æ‰¿ è™šç»§æ‰¿ç”¨äºè§£å†³å¤šç»§æ‰¿æ¡ä»¶ä¸‹çš„è±å½¢ç»§æ‰¿é—®é¢˜ï¼ˆæµªè´¹å­˜å‚¨ç©ºé—´ã€å­˜åœ¨äºŒä¹‰æ€§ï¼‰ã€‚ åº•å±‚å®ç°åŸç†ä¸ç¼–è¯‘å™¨ç›¸å…³ï¼Œä¸€èˆ¬é€šè¿‡è™šåŸºç±»æŒ‡é’ˆå’Œè™šåŸºç±»è¡¨å®ç°ï¼Œæ¯ä¸ªè™šç»§æ‰¿çš„å­ç±»éƒ½æœ‰ä¸€ä¸ªè™šåŸºç±»æŒ‡é’ˆï¼ˆå ç”¨ä¸€ä¸ªæŒ‡é’ˆçš„å­˜å‚¨ç©ºé—´ï¼Œ4å­—èŠ‚ï¼‰å’Œè™šåŸºç±»è¡¨ï¼ˆä¸å ç”¨ç±»å¯¹è±¡çš„å­˜å‚¨ç©ºé—´ï¼‰ï¼ˆéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè™šåŸºç±»ä¾æ—§ä¼šåœ¨å­ç±»é‡Œé¢å­˜åœ¨æ‹·è´ï¼Œåªæ˜¯ä»…ä»…æœ€å¤šå­˜åœ¨ä¸€ä»½è€Œå·²ï¼Œå¹¶ä¸æ˜¯ä¸åœ¨å­ç±»é‡Œé¢äº†ï¼‰ï¼›å½“è™šç»§æ‰¿çš„å­ç±»è¢«å½“åšçˆ¶ç±»ç»§æ‰¿æ—¶ï¼Œè™šåŸºç±»æŒ‡é’ˆä¹Ÿä¼šè¢«ç»§æ‰¿ã€‚ å®é™…ä¸Šï¼Œvbptr æŒ‡çš„æ˜¯è™šåŸºç±»è¡¨æŒ‡é’ˆï¼ˆvirtual base table pointerï¼‰ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªè™šåŸºç±»è¡¨ï¼ˆvirtual tableï¼‰ï¼Œè™šè¡¨ä¸­è®°å½•äº†è™šåŸºç±»ä¸æœ¬ç±»çš„åç§»åœ°å€ï¼›é€šè¿‡åç§»åœ°å€ï¼Œè¿™æ ·å°±æ‰¾åˆ°äº†è™šåŸºç±»æˆå‘˜ï¼Œè€Œè™šç»§æ‰¿ä¹Ÿä¸ç”¨åƒæ™®é€šå¤šç»§æ‰¿é‚£æ ·ç»´æŒç€å…¬å…±åŸºç±»ï¼ˆè™šåŸºç±»ï¼‰çš„ä¸¤ä»½åŒæ ·çš„æ‹·è´ï¼ŒèŠ‚çœäº†å­˜å‚¨ç©ºé—´ã€‚ è™šç»§æ‰¿ã€è™šå‡½æ•° ç›¸åŒä¹‹å¤„ï¼šéƒ½åˆ©ç”¨äº†è™šæŒ‡é’ˆï¼ˆå‡å ç”¨ç±»çš„å­˜å‚¨ç©ºé—´ï¼‰å’Œè™šè¡¨ï¼ˆå‡ä¸å ç”¨ç±»çš„å­˜å‚¨ç©ºé—´ï¼‰ ä¸åŒä¹‹å¤„ï¼š è™šç»§æ‰¿ è™šåŸºç±»ä¾æ—§å­˜åœ¨ç»§æ‰¿ç±»ä¸­ï¼Œåªå ç”¨å­˜å‚¨ç©ºé—´ è™šåŸºç±»è¡¨å­˜å‚¨çš„æ˜¯è™šåŸºç±»ç›¸å¯¹ç›´æ¥ç»§æ‰¿ç±»çš„åç§» è™šå‡½æ•° è™šå‡½æ•°ä¸å ç”¨å­˜å‚¨ç©ºé—´ è™šå‡½æ•°è¡¨å­˜å‚¨çš„æ˜¯è™šå‡½æ•°åœ°å€ æ¨¡æ¿ç±»ã€æˆå‘˜æ¨¡æ¿ã€è™šå‡½æ•° æ¨¡æ¿ç±»ä¸­å¯ä»¥ä½¿ç”¨è™šå‡½æ•° ä¸€ä¸ªç±»ï¼ˆæ— è®ºæ˜¯æ™®é€šç±»è¿˜æ˜¯ç±»æ¨¡æ¿ï¼‰çš„æˆå‘˜æ¨¡æ¿ï¼ˆæœ¬èº«æ˜¯æ¨¡æ¿çš„æˆå‘˜å‡½æ•°ï¼‰ä¸èƒ½æ˜¯è™šå‡½æ•° æŠ½è±¡ç±»ã€æ¥å£ç±»ã€èšåˆç±» æŠ½è±¡ç±»ï¼šå«æœ‰çº¯è™šå‡½æ•°çš„ç±» æ¥å£ç±»ï¼šä»…å«æœ‰çº¯è™šå‡½æ•°çš„æŠ½è±¡ç±» èšåˆç±»ï¼šç”¨æˆ·å¯ä»¥ç›´æ¥è®¿é—®å…¶æˆå‘˜ï¼Œå¹¶ä¸”å…·æœ‰ç‰¹æ®Šçš„åˆå§‹åŒ–è¯­æ³•å½¢å¼ã€‚æ»¡è¶³å¦‚ä¸‹ç‰¹ç‚¹ï¼š æ‰€æœ‰æˆå‘˜éƒ½æ˜¯ public æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•° æ²¡æœ‰ç±»å†…åˆå§‹åŒ– æ²¡æœ‰åŸºç±»ï¼Œä¹Ÿæ²¡æœ‰ virtual å‡½æ•° å†…å­˜åˆ†é…å’Œç®¡ç† ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:36:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"mallocã€callocã€reallocã€alloca mallocï¼šç”³è¯·æŒ‡å®šå­—èŠ‚æ•°çš„å†…å­˜ã€‚ç”³è¯·åˆ°çš„å†…å­˜ä¸­çš„åˆå§‹å€¼ä¸ç¡®å®šã€‚ callocï¼šä¸ºæŒ‡å®šé•¿åº¦çš„å¯¹è±¡ï¼Œåˆ†é…èƒ½å®¹çº³å…¶æŒ‡å®šä¸ªæ•°çš„å†…å­˜ã€‚ç”³è¯·åˆ°çš„å†…å­˜çš„æ¯ä¸€ä½ï¼ˆbitï¼‰éƒ½åˆå§‹åŒ–ä¸º 0ã€‚ reallocï¼šæ›´æ”¹ä»¥å‰åˆ†é…çš„å†…å­˜é•¿åº¦ï¼ˆå¢åŠ æˆ–å‡å°‘ï¼‰ã€‚å½“å¢åŠ é•¿åº¦æ—¶ï¼Œå¯èƒ½éœ€å°†ä»¥å‰åˆ†é…åŒºçš„å†…å®¹ç§»åˆ°å¦ä¸€ä¸ªè¶³å¤Ÿå¤§çš„åŒºåŸŸï¼Œè€Œæ–°å¢åŒºåŸŸå†…çš„åˆå§‹å€¼åˆ™ä¸ç¡®å®šã€‚ allocaï¼šåœ¨æ ˆä¸Šç”³è¯·å†…å­˜ã€‚ç¨‹åºåœ¨å‡ºæ ˆçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œalloca ä¸å…·å¯ç§»æ¤æ€§, è€Œä¸”åœ¨æ²¡æœ‰ä¼ ç»Ÿå †æ ˆçš„æœºå™¨ä¸Šå¾ˆéš¾å®ç°ã€‚alloca ä¸å®œä½¿ç”¨åœ¨å¿…é¡»å¹¿æ³›ç§»æ¤çš„ç¨‹åºä¸­ã€‚C99 ä¸­æ”¯æŒå˜é•¿æ•°ç»„ (VLA)ï¼Œå¯ä»¥ç”¨æ¥æ›¿ä»£ allocaã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:37:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"mallocã€free ç”¨äºåˆ†é…ã€é‡Šæ”¾å†…å­˜ mallocã€free ä½¿ç”¨ ç”³è¯·å†…å­˜ï¼Œç¡®è®¤æ˜¯å¦ç”³è¯·æˆåŠŸ 1 2 char *str = (char*) malloc(100); assert(str != nullptr); é‡Šæ”¾å†…å­˜åæŒ‡é’ˆç½®ç©º 1 2 free(p); p = nullptr; ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:38:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"newã€delete new / new[]ï¼šå®Œæˆä¸¤ä»¶äº‹ï¼Œå…ˆåº•å±‚è°ƒç”¨ malloc åˆ†é…äº†å†…å­˜ï¼Œç„¶åè°ƒç”¨æ„é€ å‡½æ•°ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰ã€‚ delete/delete[]ï¼šä¹Ÿå®Œæˆä¸¤ä»¶äº‹ï¼Œå…ˆè°ƒç”¨ææ„å‡½æ•°ï¼ˆæ¸…ç†èµ„æºï¼‰ï¼Œç„¶ååº•å±‚è°ƒç”¨ free é‡Šæ”¾ç©ºé—´ã€‚ new åœ¨ç”³è¯·å†…å­˜æ—¶ä¼šè‡ªåŠ¨è®¡ç®—æ‰€éœ€å­—èŠ‚æ•°ï¼Œè€Œ malloc åˆ™éœ€æˆ‘ä»¬è‡ªå·±è¾“å…¥ç”³è¯·å†…å­˜ç©ºé—´çš„å­—èŠ‚æ•°ã€‚ newã€delete ä½¿ç”¨ ç”³è¯·å†…å­˜ï¼Œç¡®è®¤æ˜¯å¦ç”³è¯·æˆåŠŸ 1 2 3 4 5 6 int main() { T* t = new T(); // å…ˆå†…å­˜åˆ†é… ï¼Œå†æ„é€ å‡½æ•° delete t; // å…ˆææ„å‡½æ•°ï¼Œå†å†…å­˜é‡Šæ”¾ return 0; } ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:39:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"å®šä½ new å®šä½ newï¼ˆplacement newï¼‰å…è®¸æˆ‘ä»¬å‘ new ä¼ é€’é¢å¤–çš„åœ°å€å‚æ•°ï¼Œä»è€Œåœ¨é¢„å…ˆæŒ‡å®šçš„å†…å­˜åŒºåŸŸåˆ›å»ºå¯¹è±¡ã€‚ 1 2 3 4 new (place_address) type new (place_address) type (initializers) new (place_address) type [size] new (place_address) type [size] { braced initializer list } place_address æ˜¯ä¸ªæŒ‡é’ˆ initializers æä¾›ä¸€ä¸ªï¼ˆå¯èƒ½ä¸ºç©ºçš„ï¼‰ä»¥é€—å·åˆ†éš”çš„åˆå§‹å€¼åˆ—è¡¨ delete this åˆæ³•å—ï¼Ÿ Is it legal (and moral) for a member function to say delete this? åˆæ³•ï¼Œä½†ï¼š å¿…é¡»ä¿è¯ this å¯¹è±¡æ˜¯é€šè¿‡ newï¼ˆä¸æ˜¯ new[]ã€ä¸æ˜¯ placement newã€ä¸æ˜¯æ ˆä¸Šã€ä¸æ˜¯å…¨å±€ã€ä¸æ˜¯å…¶ä»–å¯¹è±¡æˆå‘˜ï¼‰åˆ†é…çš„ å¿…é¡»ä¿è¯è°ƒç”¨ delete this çš„æˆå‘˜å‡½æ•°æ˜¯æœ€åä¸€ä¸ªè°ƒç”¨ this çš„æˆå‘˜å‡½æ•° å¿…é¡»ä¿è¯æˆå‘˜å‡½æ•°çš„ delete this åé¢æ²¡æœ‰è°ƒç”¨ this äº† å¿…é¡»ä¿è¯ delete this åæ²¡æœ‰äººä½¿ç”¨äº† å¦‚ä½•å®šä¹‰ä¸€ä¸ªåªèƒ½åœ¨å †ä¸Šï¼ˆæ ˆä¸Šï¼‰ç”Ÿæˆå¯¹è±¡çš„ç±»ï¼Ÿ å¦‚ä½•å®šä¹‰ä¸€ä¸ªåªèƒ½åœ¨å †ä¸Šï¼ˆæ ˆä¸Šï¼‰ç”Ÿæˆå¯¹è±¡çš„ç±»? ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:40:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åªèƒ½åœ¨å †ä¸Š æ–¹æ³•ï¼šå°†ææ„å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ åŸå› ï¼šC++ æ˜¯é™æ€ç»‘å®šè¯­è¨€ï¼Œç¼–è¯‘å™¨ç®¡ç†æ ˆä¸Šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¼–è¯‘å™¨åœ¨ä¸ºç±»å¯¹è±¡åˆ†é…æ ˆç©ºé—´æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ç±»çš„ææ„å‡½æ•°çš„è®¿é—®æ€§ã€‚è‹¥ææ„å‡½æ•°ä¸å¯è®¿é—®ï¼Œåˆ™ä¸èƒ½åœ¨æ ˆä¸Šåˆ›å»ºå¯¹è±¡ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:41:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"åªèƒ½åœ¨æ ˆä¸Š æ–¹æ³•ï¼šå°† new å’Œ delete é‡è½½ä¸ºç§æœ‰ åŸå› ï¼šåœ¨å †ä¸Šç”Ÿæˆå¯¹è±¡ï¼Œä½¿ç”¨ new å…³é”®è¯æ“ä½œï¼Œå…¶è¿‡ç¨‹åˆ†ä¸ºä¸¤é˜¶æ®µï¼šç¬¬ä¸€é˜¶æ®µï¼Œä½¿ç”¨ new åœ¨å †ä¸Šå¯»æ‰¾å¯ç”¨å†…å­˜ï¼Œåˆ†é…ç»™å¯¹è±¡ï¼›ç¬¬äºŒé˜¶æ®µï¼Œè°ƒç”¨æ„é€ å‡½æ•°ç”Ÿæˆå¯¹è±¡ã€‚å°† new æ“ä½œè®¾ç½®ä¸ºç§æœ‰ï¼Œé‚£ä¹ˆç¬¬ä¸€é˜¶æ®µå°±æ— æ³•å®Œæˆï¼Œå°±ä¸èƒ½å¤Ÿåœ¨å †ä¸Šç”Ÿæˆå¯¹è±¡ã€‚ æ™ºèƒ½æŒ‡é’ˆ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:42:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"C++ æ ‡å‡†åº“ï¼ˆSTLï¼‰ä¸­ å¤´æ–‡ä»¶ï¼š#include \u003cmemory\u003e ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:43:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"C++ 98 1 std::auto_ptr\u003cstd::string\u003e ps (new std::string(str))ï¼› ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:44:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"C++ 11 shared_ptr unique_ptr weak_ptr auto_ptrï¼ˆè¢« C++11 å¼ƒç”¨ï¼‰ Class shared_ptr å®ç°å…±äº«å¼æ‹¥æœ‰ï¼ˆshared ownershipï¼‰æ¦‚å¿µã€‚å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆæŒ‡å‘ç›¸åŒå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å’Œå…¶ç›¸å…³èµ„æºä¼šåœ¨ â€œæœ€åä¸€ä¸ª reference è¢«é”€æ¯â€ æ—¶è¢«é‡Šæ”¾ã€‚ä¸ºäº†åœ¨ç»“æ„è¾ƒå¤æ‚çš„æƒ…æ™¯ä¸­æ‰§è¡Œä¸Šè¿°å·¥ä½œï¼Œæ ‡å‡†åº“æä¾› weak_ptrã€bad_weak_ptr å’Œ enable_shared_from_this ç­‰è¾…åŠ©ç±»ã€‚ Class unique_ptr å®ç°ç‹¬å å¼æ‹¥æœ‰ï¼ˆexclusive ownershipï¼‰æˆ–ä¸¥æ ¼æ‹¥æœ‰ï¼ˆstrict ownershipï¼‰æ¦‚å¿µï¼Œä¿è¯åŒä¸€æ—¶é—´å†…åªæœ‰ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æŒ‡å‘è¯¥å¯¹è±¡ã€‚ä½ å¯ä»¥ç§»äº¤æ‹¥æœ‰æƒã€‚å®ƒå¯¹äºé¿å…å†…å­˜æ³„æ¼ï¼ˆresource leakï¼‰â€”â€”å¦‚ new åå¿˜è®° delete â€”â€”ç‰¹åˆ«æœ‰ç”¨ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"shared_ptr å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥å…±äº«åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„æœ€æœ«ä¸€ä¸ªæ‹¥æœ‰ç€æœ‰è´£ä»»é”€æ¯å¯¹è±¡ï¼Œå¹¶æ¸…ç†ä¸è¯¥å¯¹è±¡ç›¸å…³çš„æ‰€æœ‰èµ„æºã€‚ æ”¯æŒå®šåˆ¶å‹åˆ é™¤å™¨ï¼ˆcustom deleterï¼‰ï¼Œå¯é˜²èŒƒ Cross-DLL é—®é¢˜ï¼ˆå¯¹è±¡åœ¨åŠ¨æ€é“¾æ¥åº“ï¼ˆDLLï¼‰ä¸­è¢« new åˆ›å»ºï¼Œå´åœ¨å¦ä¸€ä¸ª DLL å†…è¢« delete é”€æ¯ï¼‰ã€è‡ªåŠ¨è§£é™¤äº’æ–¥é” ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:1","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"weak_ptr weak_ptr å…è®¸ä½ å…±äº«ä½†ä¸æ‹¥æœ‰æŸå¯¹è±¡ï¼Œä¸€æ—¦æœ€æœ«ä¸€ä¸ªæ‹¥æœ‰è¯¥å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆå¤±å»äº†æ‰€æœ‰æƒï¼Œä»»ä½• weak_ptr éƒ½ä¼šè‡ªåŠ¨æˆç©ºï¼ˆemptyï¼‰ã€‚å› æ­¤ï¼Œåœ¨ default å’Œ copy æ„é€ å‡½æ•°ä¹‹å¤–ï¼Œweak_ptr åªæä¾› â€œæ¥å—ä¸€ä¸ª shared_ptrâ€ çš„æ„é€ å‡½æ•°ã€‚ å¯æ‰“ç ´ç¯çŠ¶å¼•ç”¨ï¼ˆcycles of referencesï¼Œä¸¤ä¸ªå…¶å®å·²ç»æ²¡æœ‰è¢«ä½¿ç”¨çš„å¯¹è±¡å½¼æ­¤äº’æŒ‡ï¼Œä½¿ä¹‹çœ‹ä¼¼è¿˜åœ¨ â€œè¢«ä½¿ç”¨â€ çš„çŠ¶æ€ï¼‰çš„é—®é¢˜ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:2","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"unique_ptr unique_ptr æ˜¯ C++11 æ‰å¼€å§‹æä¾›çš„ç±»å‹ï¼Œæ˜¯ä¸€ç§åœ¨å¼‚å¸¸æ—¶å¯ä»¥å¸®åŠ©é¿å…èµ„æºæ³„æ¼çš„æ™ºèƒ½æŒ‡é’ˆã€‚é‡‡ç”¨ç‹¬å å¼æ‹¥æœ‰ï¼Œæ„å‘³ç€å¯ä»¥ç¡®ä¿ä¸€ä¸ªå¯¹è±¡å’Œå…¶ç›¸åº”çš„èµ„æºåŒä¸€æ—¶é—´åªè¢«ä¸€ä¸ª pointer æ‹¥æœ‰ã€‚ä¸€æ—¦æ‹¥æœ‰ç€è¢«é”€æ¯æˆ–ç¼–ç¨‹ emptyï¼Œæˆ–å¼€å§‹æ‹¥æœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…ˆå‰æ‹¥æœ‰çš„é‚£ä¸ªå¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå…¶ä»»ä½•ç›¸åº”èµ„æºäº¦ä¼šè¢«é‡Šæ”¾ã€‚ unique_ptr ç”¨äºå–ä»£ auto_ptr ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:3","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"auto_ptr è¢« c++11 å¼ƒç”¨ï¼ŒåŸå› æ˜¯ç¼ºä¹è¯­è¨€ç‰¹æ€§å¦‚ â€œé’ˆå¯¹æ„é€ å’Œèµ‹å€¼â€ çš„ std::move è¯­ä¹‰ï¼Œä»¥åŠå…¶ä»–ç‘•ç–µã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:4","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"auto_ptr ä¸ unique_ptr æ¯”è¾ƒ auto_ptr å¯ä»¥èµ‹å€¼æ‹·è´ï¼Œå¤åˆ¶æ‹·è´åæ‰€æœ‰æƒè½¬ç§»ï¼›unqiue_ptr æ— æ‹·è´èµ‹å€¼è¯­ä¹‰ï¼Œä½†å®ç°äº†move è¯­ä¹‰ï¼› auto_ptr å¯¹è±¡ä¸èƒ½ç®¡ç†æ•°ç»„ï¼ˆææ„è°ƒç”¨ deleteï¼‰ï¼Œunique_ptr å¯ä»¥ç®¡ç†æ•°ç»„ï¼ˆææ„è°ƒç”¨ delete[] ï¼‰ï¼› å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ MSDN . å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:45:5","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"static_cast ç”¨äºéå¤šæ€ç±»å‹çš„è½¬æ¢ ä¸æ‰§è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼ˆè½¬æ¢å®‰å…¨æ€§ä¸å¦‚ dynamic_castï¼‰ é€šå¸¸ç”¨äºè½¬æ¢æ•°å€¼æ•°æ®ç±»å‹ï¼ˆå¦‚ float -\u003e intï¼‰ å¯ä»¥åœ¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­ç§»åŠ¨æŒ‡é’ˆï¼Œå­ç±»è½¬åŒ–ä¸ºçˆ¶ç±»å®‰å…¨ï¼ˆå‘ä¸Šè½¬æ¢ï¼‰ï¼Œçˆ¶ç±»è½¬åŒ–ä¸ºå­ç±»ä¸å®‰å…¨ï¼ˆå› ä¸ºå­ç±»å¯èƒ½æœ‰ä¸åœ¨çˆ¶ç±»çš„å­—æ®µæˆ–æ–¹æ³•ï¼‰ å‘ä¸Šè½¬æ¢æ˜¯ä¸€ç§éšå¼è½¬æ¢ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:46:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"dynamic_cast ç”¨äºå¤šæ€ç±»å‹çš„è½¬æ¢ æ‰§è¡Œè¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ åªé€‚ç”¨äºæŒ‡é’ˆæˆ–å¼•ç”¨ å¯¹ä¸æ˜ç¡®çš„æŒ‡é’ˆçš„è½¬æ¢å°†å¤±è´¥ï¼ˆè¿”å› nullptrï¼‰ï¼Œä½†ä¸å¼•å‘å¼‚å¸¸ å¯ä»¥åœ¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­ç§»åŠ¨æŒ‡é’ˆï¼ŒåŒ…æ‹¬å‘ä¸Šè½¬æ¢ã€å‘ä¸‹è½¬æ¢ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:47:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"const_cast ç”¨äºåˆ é™¤ constã€volatile å’Œ __unaligned ç‰¹æ€§ï¼ˆå¦‚å°† const int ç±»å‹è½¬æ¢ä¸º int ç±»å‹ ï¼‰ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:48:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"reinterpret_cast ç”¨äºä½çš„ç®€å•é‡æ–°è§£é‡Š æ»¥ç”¨ reinterpret_cast è¿ç®—ç¬¦å¯èƒ½å¾ˆå®¹æ˜“å¸¦æ¥é£é™©ã€‚ é™¤éæ‰€éœ€è½¬æ¢æœ¬èº«æ˜¯ä½çº§åˆ«çš„ï¼Œå¦åˆ™åº”ä½¿ç”¨å…¶ä»–å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ä¹‹ä¸€ã€‚ å…è®¸å°†ä»»ä½•æŒ‡é’ˆè½¬æ¢ä¸ºä»»ä½•å…¶ä»–æŒ‡é’ˆç±»å‹ï¼ˆå¦‚ char* åˆ° int* æˆ– One_class* åˆ° Unrelated_class* ä¹‹ç±»çš„è½¬æ¢ï¼Œä½†å…¶æœ¬èº«å¹¶ä¸å®‰å…¨ï¼‰ ä¹Ÿå…è®¸å°†ä»»ä½•æ•´æ•°ç±»å‹è½¬æ¢ä¸ºä»»ä½•æŒ‡é’ˆç±»å‹ä»¥åŠåå‘è½¬æ¢ã€‚ reinterpret_cast è¿ç®—ç¬¦ä¸èƒ½ä¸¢æ‰ constã€volatile æˆ– __unaligned ç‰¹æ€§ã€‚ reinterpret_cast çš„ä¸€ä¸ªå®é™…ç”¨é€”æ˜¯åœ¨å“ˆå¸Œå‡½æ•°ä¸­ï¼Œå³ï¼Œé€šè¿‡è®©ä¸¤ä¸ªä¸åŒçš„å€¼å‡ ä¹ä¸ä»¥ç›¸åŒçš„ç´¢å¼•ç»“å°¾çš„æ–¹å¼å°†å€¼æ˜ å°„åˆ°ç´¢å¼•ã€‚ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:49:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"bad_cast ç”±äºå¼ºåˆ¶è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹å¤±è´¥ï¼Œdynamic_cast è¿ç®—ç¬¦å¼•å‘ bad_cast å¼‚å¸¸ã€‚ bad_cast ä½¿ç”¨ 1 2 3 4 5 6 try { Circle\u0026 ref_circle = dynamic_cast\u003cCircle\u0026\u003e(ref_shape); } catch (bad_cast b) { cout \u003c\u003c \"Caught: \" \u003c\u003c b.what(); } è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ (RTTI) ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:50:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"dynamic_cast ç”¨äºå¤šæ€ç±»å‹çš„è½¬æ¢ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:51:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"typeid typeid è¿ç®—ç¬¦å…è®¸åœ¨è¿è¡Œæ—¶ç¡®å®šå¯¹è±¡çš„ç±»å‹ type_id è¿”å›ä¸€ä¸ª type_info å¯¹è±¡çš„å¼•ç”¨ å¦‚æœæƒ³é€šè¿‡åŸºç±»çš„æŒ‡é’ˆè·å¾—æ´¾ç”Ÿç±»çš„æ•°æ®ç±»å‹ï¼ŒåŸºç±»å¿…é¡»å¸¦æœ‰è™šå‡½æ•° åªèƒ½è·å–å¯¹è±¡çš„å®é™…ç±»å‹ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:52:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"type_info type_info ç±»æè¿°ç¼–è¯‘å™¨åœ¨ç¨‹åºä¸­ç”Ÿæˆçš„ç±»å‹ä¿¡æ¯ã€‚ æ­¤ç±»çš„å¯¹è±¡å¯ä»¥æœ‰æ•ˆå­˜å‚¨æŒ‡å‘ç±»å‹çš„åç§°çš„æŒ‡é’ˆã€‚ type_info ç±»è¿˜å¯å­˜å‚¨é€‚åˆæ¯”è¾ƒä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸ç­‰æˆ–æ¯”è¾ƒå…¶æ’åˆ—é¡ºåºçš„ç¼–ç å€¼ã€‚ ç±»å‹çš„ç¼–ç è§„åˆ™å’Œæ’åˆ—é¡ºåºæ˜¯æœªæŒ‡å®šçš„ï¼Œå¹¶ä¸”å¯èƒ½å› ç¨‹åºè€Œå¼‚ã€‚ å¤´æ–‡ä»¶ï¼štypeinfo typeidã€type_info ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 #include \u003ciostream\u003e using namespace std; class Flyable // èƒ½é£çš„ { public: virtual void takeoff() = 0; // èµ·é£ virtual void land() = 0; // é™è½ }; class Bird : public Flyable // é¸Ÿ { public: void foraging() {...} // è§…é£Ÿ virtual void takeoff() {...} virtual void land() {...} virtual ~Bird(){} }; class Plane : public Flyable // é£æœº { public: void carry() {...} // è¿è¾“ virtual void takeoff() {...} virtual void land() {...} }; class type_info { public: const char* name() const; bool operator == (const type_info \u0026 rhs) const; bool operator != (const type_info \u0026 rhs) const; int before(const type_info \u0026 rhs) const; virtual ~type_info(); private: ... }; void doSomething(Flyable *obj) // åšäº›äº‹æƒ… { obj-\u003etakeoff(); cout \u003c\u003c typeid(*obj).name() \u003c\u003c endl; // è¾“å‡ºä¼ å…¥å¯¹è±¡ç±»å‹ï¼ˆ\"class Bird\" or \"class Plane\"ï¼‰ if(typeid(*obj) == typeid(Bird)) // åˆ¤æ–­å¯¹è±¡ç±»å‹ { Bird *bird = dynamic_cast\u003cBird *\u003e(obj); // å¯¹è±¡è½¬åŒ– bird-\u003eforaging(); } obj-\u003eland(); } int main(){ Bird *b = new Bird(); doSomething(b); delete b; b = nullptr; return 0; } å‚è€ƒèµ„æ–™ C++ï¼šé»˜è®¤æˆå‘˜å‡½æ•°å’ŒthisæŒ‡é’ˆ C++ç±»å’Œå¯¹è±¡çš„æ€»ç»“ï¼Œæ‹¿å»åšç¬”è®°å§ ","date":"2023-01-30","objectID":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/:53:0","tags":["cpp"],"title":"C++:åŸºç¡€æ¦‚å¿µæ•´ç†","uri":"/posts/program/cpp/c++%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%95%B4%E7%90%86/"},{"categories":["cpp"],"content":"Effective Cplus æ‘˜è¦ç¬”è®°","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ è®©è‡ªå·±ä¹ æƒ¯C++ æ„é€ /ææ„/èµ‹å€¼è¿ç®— èµ„æºç®¡ç† è®¾è®¡ä¸å£°æ˜ å®ç° ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡ æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹ å®šåˆ¶newå’Œdelete æ‚é¡¹è®¨è®º ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:0:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"è®©è‡ªå·±ä¹ æƒ¯C++ è§†C++ä¸ºä¸€ä¸ªè¯­è¨€è”é‚¦ C++é«˜æ•ˆç¼–ç¨‹å®ˆåˆ™è§†çŠ¶å†µè€Œå˜åŒ–ï¼Œå–å†³äºä½ ä½¿ç”¨C++çš„å“ªä¸€éƒ¨åˆ†ã€‚ å°½é‡ä»¥constï¼Œenumsï¼Œinlineæ›¿æ¢#define å¯¹äºå•çº¯å¸¸é‡ï¼Œæœ€å¥½ä»¥constå¯¹è±¡æˆ–enumsæ›¿æ¢#definesï¼› å¯¹äºå½¢ä¼¼å‡½æ•°çš„å®ï¼ˆmacrosï¼‰ï¼Œæœ€å¥½æ”¹ç”¨inlineå‡½æ•°æ›¿æ¢#definesã€‚ å°½å¯èƒ½ä½¿ç”¨const å°†æŸäº›ä¸œè¥¿å£°æ˜ä¸ºconstå¯å¸®åŠ©ç¼–è¯‘å™¨ä¾¦æµ‹å‡ºé”™è¯¯ç”¨æ³•ã€‚constå¯è¢«æ–½åŠ äºä»»ä½•ä½œç”¨åŸŸå†…çš„å¯¹è±¡ã€å‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›ç±»å‹ã€æˆå‘˜å‡½æ•°æœ¬ä½“ï¼› ç¼–è¯‘å™¨å¼ºåˆ¶å®æ–½bitwise constnessï¼Œå½“ä½ ç¼–å†™ç¨‹åºæ—¶åº”è¯¥ä½¿ç”¨â€œæ¦‚å¿µä¸Šçš„å¸¸é‡æ€§â€ï¼ˆconceptual constnessï¼‰ å½“constå’Œnon-constæˆå‘˜å‡½æ•°æœ‰ç€å®è´¨ç­‰ä»·çš„å®ç°æ—¶ï¼Œä»¤non-constç‰ˆæœ¬è°ƒç”¨constç‰ˆæœ¬å¯é¿å…ä»£ç é‡å¤ã€‚ ç¡®å®šå¯¹è±¡è¢«ä½¿ç”¨å‰å·²å…ˆè¢«åˆå§‹åŒ– ä¸ºå†…ç½®æ€§å¯¹è±¡è¿›è¡Œæ‰‹å·¥åˆå§‹åŒ–ï¼Œå› ä¸ºC++ä¸ä¿è¯åˆå§‹åŒ–å®ƒä»¬ï¼› æ„é€ å‡½æ•°æœ€å¥½ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ï¼ˆmember initialization listï¼‰ï¼Œè€Œä¸è¦åœ¨æ„é€ å‡½æ•°æœ¬ä½“å†…ä½¿ç”¨èµ‹å€¼æ“ä½œï¼ˆassignmentï¼‰ã€‚åˆå€¼åˆ—åˆ—å‡ºçš„æˆå‘˜å˜é‡ï¼Œå…¶æ’åˆ—æ¬¡åºåº”è¯¥å’Œå®ƒä»¬åœ¨classä¸­çš„å£°æ˜æ¬¡åºç›¸åŒï¼› ä¸ºå…é™¤â€œè·¨ç¼–è¯‘å•å…ƒå€¼åˆå§‹åŒ–æ¬¡åºâ€é—®é¢˜ï¼Œè½»æ˜“local staticå¯¹è±¡æ›¿æ¢non-local staticå¯¹è±¡ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:1:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"æ„é€ /ææ„/èµ‹å€¼è¿ç®— äº†è§£C++é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•° ç¼–è¯‘å™¨å¯ä»¥æš—è‡ªä¸ºclassåˆ›å»ºdefaultæ„é€ å‡½æ•°ã€copyæ„é€ å‡½æ•°ã€copy assignmentæ“ä½œç¬¦ï¼Œä»¥åŠææ„å‡½æ•°ã€‚ è‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œå°±è¯¥æ˜ç¡®æ‹’ç» ä¸ºé©³å›ç¼–è¯‘å™¨è‡ªåŠ¨ï¼ˆæš—è‡ªï¼‰æä¾›çš„æœºèƒ½ï¼Œå¯å°†ç›¸åº”çš„æˆå‘˜å‡½æ•°å£°æ˜ä¸ºprivateå¹¶ä¸”ä¸äºˆä»¥å®ç°ã€‚ ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•° polymorphicï¼ˆå¸¦å¤šæ€æ€§è´¨çš„ï¼‰base classesåº”è¯¥å£°æ˜ä¸€ä¸ªvirtualææ„å‡½æ•°ã€‚å¦‚æœclasså¸¦æœ‰ä»»ä½•virtualå‡½æ•°ï¼Œå®ƒå°±åº”è¯¥æ‹¥æœ‰ä¸€ä¸ªvirtualææ„å‡½æ•°ï¼› Classesçš„è®¾è®¡ç›®çš„å¦‚æœä¸æ˜¯ä½œä¸ºbase classesä½¿ç”¨ï¼Œæˆ–ä¸æ˜¯ä¸ºäº†å…·å¤‡å¤šæ€æ€§ï¼ˆpolymorphicallyï¼‰ï¼Œå°±ä¸è¯¥å£°æ˜virtualææ„å‡½æ•°ã€‚ åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•° ææ„å‡½æ•°ç»å¯¹ä¸è¦åå‡ºå¼‚å¸¸ã€‚å¦‚æœä¸€ä¸ªè¢«ææ„å‡½æ•°è°ƒç”¨çš„å‡½æ•°å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œææ„å‡½æ•°åº”è¯¥æ•è·ä»»ä½•å¼‚å¸¸ï¼Œç„¶ååä¸‹å®ƒä»¬ï¼ˆä¸ä¼ æ’­ï¼‰æˆ–ç»“æŸç¨‹åºï¼› å¦‚æœå®¢æˆ·éœ€è¦å¯¹æŸä¸ªæ“ä½œå‡½æ•°è¿è¡ŒæœŸé—´æŠ›å‡ºçš„å¼‚å¸¸åšå‡ºååº”ï¼Œé‚£ä¹ˆclassåº”è¯¥æä¾›ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼ˆè€Œéåœ¨ææ„å‡½æ•°ä¸­ï¼‰æ‰§è¡Œè¯¥æ“ä½œã€‚ ç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•° åœ¨æ„é€ å’Œææ„æœŸé—´ä¸è¦è°ƒç”¨virtualå‡½æ•°ï¼Œå› ä¸ºè¿™ç±»è°ƒç”¨ä»ä¸ä¸‹é™è‡³derived classï¼ˆæ¯”èµ·å½“å‰æ‰§è¡Œæ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„é‚£å±‚ï¼‰ã€‚ ä»¤operator=è¿”å›ä¸€ä¸ªreference to *this ä»¤èµ‹å€¼ï¼ˆassignmentï¼‰æ“ä½œç¬¦è¿”å›ä¸€ä¸ªreference to *thisã€‚ åœ¨operator=ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€ ç¡®ä¿å½“å¯¹è±¡è‡ªæˆ‘èµ‹å€¼æ—¶operator=æœ‰è‰¯å¥½è¡Œä¸ºã€‚å…¶ä¸­æŠ€æœ¯åŒ…æ‹¬æ¯”è¾ƒâ€œæ¥æºå›¾åƒâ€å’Œâ€œç›®æ ‡å¯¹è±¡â€çš„åœ°å€ã€ç²¾å¿ƒå‘¨åˆ°çš„è¯­å¥é¡ºåºã€ä»¥åŠcopy-and-swapï¼› ç¡®å®šä»»ä½•å‡½æ•°å¦‚æœæ“ä½œä¸€ä¸ªä»¥ä¸Šçš„å¯¹è±¡ï¼Œè€Œå…¶ä¸­å¤šä¸ªå¯¹è±¡æ—¶åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå…¶è¡Œä¸ºä»ç„¶æ­£ç¡®ã€‚ å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ† Copyingå‡½æ•°åº”è¯¥ç¡®ä¿å¤åˆ¶â€œå¯¹è±¡å†…çš„æ‰€æœ‰æˆå‘˜å˜é‡â€åŠâ€œæ‰€æœ‰base classæˆåˆ†â€ï¼› ä¸è¦å°è¯•ä»¥æŸä¸ªcopyingå‡½æ•°å®ç°å¦ä¸€ä¸ªcopyingå‡½æ•°ã€‚åº”è¯¥è®²å…±åŒæœºèƒ½æ”¾è¿›ç¬¬ä¸‰ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶ç”±ä¸¤ä¸ªcopyingå‡½æ•°å…±åŒè°ƒç”¨ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:2:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"èµ„æºç®¡ç† ä»¥å¯¹è±¡ç®¡ç†èµ„æº ä¸ºé˜²æ­¢èµ„æºæ³„éœ²ï¼Œè¯·ä½¿ç”¨RAIIå¯¹è±¡ï¼Œå®ƒä»¬åœ¨æ„é€ å‡½æ•°ä¸­è·å¾—èµ„æºå¹¶åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾èµ„æºï¼› ä¸¤ä¸ªå¸¸å¸¸è¢«ä½¿ç”¨çš„RAII classesåˆ†åˆ«æ˜¯tr1::shared_ptrå’Œauto_ptrã€‚å‰è€…é€šå¸¸æ˜¯è¾ƒä½³é€‰æ‹©ï¼Œå› ä¸ºå…¶copyè¡Œä¸ºæ¯”è¾ƒç›´è§‚ã€‚è‹¥é€‰æ‹©auto_ptrï¼Œå¤åˆ¶åŠ¨ä½œä¼šä½¿å®ƒï¼ˆè¢«å¤åˆ¶ç‰©ï¼‰æŒ‡å‘nullã€‚ åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒcopyingè¡Œä¸º å¤åˆ¶RAIIå¯¹è±¡å¿…é¡»ä¸€å¹¶å¤åˆ¶å®ƒæ‰€ç®¡ç†çš„èµ„æºï¼Œæ‰€ä»¥èµ„æºçš„copyingè¡Œä¸ºå†³å®šRAIIå¯¹è±¡çš„copyingè¡Œä¸ºï¼› æ™®éè€Œå¸¸è§çš„RAII class copyingè¡Œä¸ºæ˜¯ï¼šæŠ‘åˆ¶copyingã€æ–½è¡Œå¼•å…¥è®¡æ•°æ³•ï¼ˆreference countingï¼‰ã€‚ä¸è¿‡å…¶ä»–è¡Œä¸ºä¹Ÿéƒ½å¯èƒ½è¢«å®ç°ã€‚ åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—® APIså¾€å¾€è¦æ±‚è®¿é—®åŸå§‹èµ„æºï¼ˆraw resourcesï¼‰ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªRAII classåº”è¯¥æä¾›ä¸€ä¸ªâ€œå–å¾—å…¶æ‰€ç®¡ç†ä¹‹èµ„æºâ€çš„åŠæ³•ï¼› å¯¹åŸå§‹èµ„æºçš„è®¿é—®å¯èƒ½ç»ç”±æ˜¾ç¤ºè½¬æ¢æˆ–éšå¼è½¬æ¢ã€‚ä¸€èˆ¬è€Œè¨€æ˜¾ç¤ºè½¬æ¢æ¯”è¾ƒå®‰å…¨ï¼Œä½†éšå¼è½¬æ¢å¯¹å®¢æˆ·æ¯”è¾ƒæ–¹ä¾¿ã€‚ æˆå¯¹ä½¿ç”¨newå’Œdeleteæ—¶è¦é‡‡å–ç›¸åŒçš„å½¢å¼ å¦‚æœä½ åœ¨newè¡¨è¾¾å¼ä¸­ä½¿ç”¨[]ï¼Œå¿…é¡»åœ¨ç›¸åº”çš„deleteè¡¨è¾¾å¼ä¸­ä¹Ÿæ˜¯ç”¨[]ã€‚å¦‚æœä½ åœ¨newè¡¨è¾¾å¼ä¸­ä¸ä½¿ç”¨[]ï¼Œä¸€å®šä¸è¦åœ¨ç›¸åº”çš„deleteè¡¨è¾¾å¼ä¸­ä½¿ç”¨[]ã€‚ ä»¥ç‹¬ç«‹è¯­å¥å°†newedå¯¹è±¡ç½®å…¥æ™ºèƒ½æŒ‡é’ˆ ä»¥ç‹¬ç«‹è¯­å¥å°†newedå¯¹è±¡å­˜å‚¨äºï¼ˆç½®å…¥ï¼‰æ™ºèƒ½æŒ‡é’ˆå†…ã€‚å¦‚æœä¸è¿™æ ·åšï¼Œä¸€æ—¦å¼‚å¸¸è¢«æŠ›å‡ºï¼Œæœ‰å¯èƒ½å¯¼è‡´éš¾ä»¥å¯Ÿè§‰çš„èµ„æºæ³„éœ²ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:3:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"è®¾è®¡ä¸å£°æ˜ è®©æ¥å£å®¹æ˜“è¢«æ­£ç¡®ä½¿ç”¨ï¼Œä¸å®¹æ˜“è¢«è¯¯ç”¨ å¥½çš„æ¥å£å¾ˆå®¹æ˜“è¢«æ­£ç¡®ä½¿ç”¨ï¼Œä¸å®¹æ˜“è¢«è¯¯ç”¨ã€‚ä½ åº”è¯¥åœ¨ä½ çš„æ‰€æœ‰æ¥å£ä¸­åŠªåŠ›è¾¾æˆè¿™äº›æ€§è´¨ï¼› â€œé˜»æ­¢è¯¯ç”¨â€çš„åŠæ³•æ˜¯å»ºç«‹æ–°ç±»å‹ã€é™åˆ¶ç±»å‹ä¸Šçš„æ“ä½œï¼ŒæŸç¼šå¯¹è±¡å€¼ï¼Œä»¥åŠæ¶ˆé™¤å®¢æˆ·çš„èµ„æºç®¡ç†ä»»åŠ¡ï¼› tr1::shared_ptræ”¯æŒå®šåˆ¶å‹åˆ é™¤å™¨ï¼ˆcustom deleterï¼‰ã€‚è¿™å¯é˜²èŒƒDLLé—®é¢˜ï¼Œå¯è¢«ç”¨æ¥è‡ªåŠ¨è§£é™¤äº’æ–¥é”ï¼ˆmutexesï¼‰ç­‰ç­‰ã€‚ è®¾è®¡classçŠ¹å¦‚è®¾è®¡type Classçš„è®¾è®¡å°±æ˜¯typeçš„è®¾è®¡ã€‚åœ¨å®šä¹‰ä¸€ä¸ªæ–°typeä¹‹å‰ï¼Œè¯·ç¡®å®šè€ƒè™‘æ–°typeå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€å¯¹è±¡çš„åˆå§‹åŒ–å’Œèµ‹å€¼ã€åˆæ³•å€¼ã€ç»§æ‰¿å…³ç³»ç­‰ã€‚ å®ä»¥pass-by-reference-to-constæ›¿æ¢pass-by-value å°½é‡ä»¥pass-by-reference-to-constæ›¿æ¢pass-by-valueã€‚å‰è€…é€šå¸¸æ¯”è¾ƒé«˜æ•ˆï¼Œå¹¶å¯é¿å…åˆ‡å‰²é—®é¢˜ï¼› ä»¥ä¸Šè§„åˆ™å¹¶ä¸é€‚ç”¨äºå†…ç½®ç±»å‹ï¼Œä»¥åŠSTLçš„è¿­ä»£å™¨å’Œå‡½æ•°å¯¹è±¡ã€‚å¯¹å®ƒä»¬è€Œè¨€ï¼Œpass-by-valueå¾€å¾€æ¯”è¾ƒé€‚å½“ã€‚ å¿…é¡»è¿”å›å¯¹è±¡æ—¶ï¼Œåˆ«å¦„æƒ³è¿”å›å…¶reference ç»ä¸è¦è¿”å›pointeræˆ–referenceæŒ‡å‘ä¸€ä¸ªlocal stackå¯¹è±¡ï¼Œæˆ–è¿”å›referenceæŒ‡å‘ä¸€ä¸ªheap-allocatedå¯¹è±¡ï¼Œæˆ–è¿”å›pointeræˆ–referenceæŒ‡å‘ä¸€ä¸ªlocal staticå¯¹è±¡è€Œæœ‰å¯èƒ½åŒæ—¶éœ€è¦å¤šä¸ªè¿™æ ·çš„å¯¹è±¡ã€‚ å°†æˆå‘˜å˜é‡å£°æ˜ä¸ºprivate åˆ‡è®°å°†æˆå‘˜å˜é‡å£°æ˜ä¸ºprivateã€‚è¿™å¯èµ‹äºˆå®¢æˆ·è®¿é—®æ•°æ®çš„ä¸€è‡´æ€§ã€å¯ç»†å¾®åˆ’åˆ†è®¿é—®æ§åˆ¶ã€å…è®¸çº¦æŸæ¡ä»¶è·å¾—ä¿è¯ï¼Œå¹¶æä¾›classä½œè€…ä»¥å……åˆ†çš„å®ç°å¼¹æ€§ï¼› protectedå¹¶ä¸æ¯”publicæ›´å…·å°è£…æ€§ã€‚ å®ä»¥non-memberã€non-friendæ›¿æ¢memberå‡½æ•° å®å¯æ‹¿non-member non-friendå‡½æ•°æ›¿æ¢memberå‡½æ•°ã€‚è¿™æ ·åšå¯ä»¥å¢åŠ å°è£…æ€§ã€åŒ…è£¹å¼¹æ€§ï¼ˆpackaging flexibilityï¼‰å’Œæœºèƒ½æ‰©å……æ€§ã€‚ è‹¥æ‰€æœ‰å‚æ•°çš†éœ€ç±»å‹è½¬æ¢ï¼Œè¯·ä»¥æ­¤é‡‡ç”¨non-memberå‡½æ•° å¦‚æœä½ éœ€è¦ä¸ºæŸä¸ªå‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼ˆåŒ…æ‹¬è¢«thisæŒ‡é’ˆæ‰€æŒ‡çš„é‚£ä¸ªéšå–»å‚æ•°ï¼‰è¿›è¡Œç±»å‹è½¬æ¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å¿…é¡»æ˜¯ä¸ªnon-memberã€‚ è€ƒè™‘å†™å‡ºä¸€ä¸ªä¸æŠ›å‡ºå¼‚å¸¸çš„swapå‡½æ•° å½“std::swapå¯¹ä½ çš„ç±»å‹æ•ˆç‡ä¸é«˜æ—¶ï¼Œæä¾›ä¸€ä¸ªswapæˆå‘˜å‡½æ•°ï¼Œå¹¶ç¡®å®šè¿™ä¸ªå‡½æ•°ä¸æŠ›å‡ºå¼‚å¸¸ï¼› å¦‚æœä½ æä¾›ä¸€ä¸ªmember swapï¼Œä¹Ÿè¯¥æä¾›ä¸€ä¸ªnon-member swapç”¨æ¥è°ƒç”¨å‰è€…ã€‚å¯¹äºclassesï¼ˆè€Œétemplatesï¼‰ï¼Œä¹Ÿè¯·ç‰¹åŒ–std::swapï¼› è°ƒç”¨swapæ—¶åº”é’ˆå¯¹std::swapä½¿ç”¨usingå£°æ˜å¼ï¼Œç„¶åè°ƒç”¨swapå¹¶ä¸”ä¸å¸¦ä»»ä½•â€œå‘½åç©ºé—´èµ„æ ¼ä¿®é¥°â€ï¼› ä¸ºâ€œç”¨æˆ·å®šä¹‰ç±»å‹â€è¿›è¡Œstd templateså…¨ç‰¹åŒ–æ˜¯å¥½çš„ï¼Œä½†åƒä¸‡ä¸è¦å°è¯•åœ¨stdå†…åŠ å…¥æŸäº›å¯¹stdè€Œè¨€å…¨æ–°çš„ä¸œè¥¿ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:4:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"å®ç° å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¼çš„å‡ºç°æ—¶é—´ å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¼çš„å‡ºç°ã€‚è¿™æ ·åšå¯å¢åŠ ç¨‹åºçš„æ¸…æ™°åº¦å¹¶æ”¹å–„ç¨‹åºæ•ˆç‡ã€‚ å°½é‡å°‘åšè½¬å‹åŠ¨ä½œ å¦‚æœå¯ä»¥ï¼Œå°½é‡é¿å…è½¬å‹ï¼Œç‰¹åˆ«æ˜¯åœ¨æ³¨é‡æ•ˆç‡çš„ä»£ç ä¸­é¿å…dynamic_castsã€‚å¦‚æœæœ‰ä¸ªè®¾è®¡éœ€è¦è½¬å‹åŠ¨ä½œï¼Œè¯•ç€å‘å±•æ— éœ€è½¬å‹çš„æ›¿ä»£è®¾è®¡ï¼› å¦‚æœè½¬å‹æ˜¯å¿…è¦çš„ï¼Œè¯•ç€å°†å®ƒéšè—äºæŸä¸ªå‡½æ•°èƒŒåã€‚å®¢æˆ·éšåå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œè€Œä¸éœ€è¦å°†è½¬å‹æ”¾è¿›ä»–ä»¬è‡ªå·±çš„ä»£ç å†…ï¼› å®å¯ä½¿ç”¨C++ styleï¼ˆæ–°å¼ï¼‰è½¬å‹ï¼Œä¸è¦ä½¿ç”¨æ—§å¼è½¬å‹ã€‚å‰è€…å¾ˆå®¹æ˜“è¾¨è¯†å‡ºæ¥ï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒæœ‰ç€åˆ†é—¨åˆ«ç±»çš„èŒæŒã€‚ é¿å…è¿”å›handlesæŒ‡å‘å¯¹è±¡å†…éƒ¨æˆåˆ† é¿å…è¿”å›handlesï¼ˆåŒ…æ‹¬referencesã€æŒ‡é’ˆã€è¿­ä»£å™¨ï¼‰æŒ‡å‘å¯¹è±¡å†…éƒ¨ã€‚éµå®ˆè¿™ä¸ªæ¡æ¬¾å¯å¢åŠ å°è£…æ€§ï¼Œå¸®åŠ©constæˆå‘˜å‡½æ•°çš„è¡Œä¸ºåƒä¸ªconstï¼Œå¹¶å°†å‘ç”Ÿâ€œè™šåŠå·ç ç‰Œâ€çš„å¯èƒ½æ€§é™è‡³æœ€ä½ã€‚ ä¸ºâ€œå¼‚å¸¸å®‰å…¨â€è€ŒåŠªåŠ›æ˜¯å€¼å¾—çš„ å¼‚å¸¸å®‰å…¨å‡½æ•°ï¼ˆException-safe functionsï¼‰å³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¸ä¼šæ³„éœ²èµ„æºæˆ–å…è®¸ä»»ä½•æ•°æ®ç»“æ„è´¥åã€‚è¿™æ ·çš„å‡½æ•°åŒºåˆ†ä¸ºä¸‰ç§å¯èƒ½çš„ä¿è¯ï¼šåŸºæœ¬å‹ã€å¼ºçƒˆå‹ã€ä¸æŠ›å¼‚å¸¸å‹ï¼› â€œå¼ºçƒˆä¿è¯â€å¾€å¾€èƒ½å¤Ÿä»¥copy-and-swapå®ç°å‡ºæ¥ï¼Œä½†â€œå¼ºçƒˆä¿è¯â€å¹¶éå¯¹æ‰€æœ‰å‡½æ•°éƒ½å¯å®ç°æˆ–å…·å¤‡ç°å®æ„ä¹‰ï¼› å‡½æ•°æä¾›çš„â€œå¼‚å¸¸å®‰å…¨ä¿è¯â€é€šå¸¸æœ€é«˜åªç­‰äºå…¶æ‰€è°ƒç”¨ä¹‹å„ä¸ªå‡½æ•°çš„â€œå¼‚å¸¸å®‰å…¨ä¿è¯â€ä¸­çš„æœ€å¼±è€…ã€‚ é€å½»äº†è§£inliningçš„é‡Œé‡Œå¤–å¤– å°†å¤§å¤šæ•°inliningé™åˆ¶åœ¨å°å‹ã€è¢«é¢‘ç¹è°ƒç”¨çš„å‡½æ•°èº«ä¸Šã€‚è¿™å¯ä½¿æ—¥åçš„è°ƒè¯•è¿‡ç¨‹å’ŒäºŒè¿›åˆ¶å‡çº§ï¼ˆbinary upgradabilityï¼‰æ›´å®¹æ˜“ï¼Œä¹Ÿå¯ä½¿æ½œåœ¨çš„ä»£ç è†¨èƒ€é—®é¢˜æœ€å°åŒ–ï¼Œä½¿ç¨‹åºçš„é€Ÿåº¦æå‡æœºä¼šæœ€å¤§åŒ–ï¼› ä¸è¦åªå› ä¸ºfunction templateså‡ºç°åœ¨å¤´æ–‡ä»¶ï¼Œå°±å°†å®ƒä»¬å£°æ˜ä¸ºinlineã€‚ å°†æ–‡ä»¶é—´çš„ç¼–è¯‘ä¾å­˜å…³ç³»é™è‡³æœ€ä½ æ”¯æŒâ€œç¼–è¯‘ä¾å­˜æ€§æœ€å°åŒ–â€çš„ä¸€èˆ¬æ„æƒ³æ˜¯ï¼šç›¸ä¾äºå£°æ˜å¼ï¼Œä¸è¦ç›¸ä¾äºå®šä¹‰å¼ã€‚åŸºäºæ­¤æ„æƒ³çš„ä¸¤ä¸ªæ‰‹æ®µæ˜¯Handle classeså’ŒInterface classesï¼› ç¨‹åºåº“å¤´æ–‡ä»¶åº”è¯¥ä»¥â€œå®Œå…¨ä¸”ä»…æœ‰å£°æ˜å¼â€ï¼ˆfull and declaration-only formsï¼‰çš„å½¢å¼å­˜åœ¨ã€‚è¿™ç§åšæ³•ä¸è®ºæ˜¯å¦æ¶‰åŠtemplateséƒ½é€‚ç”¨ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:5:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡ ç¡®å®šä½ çš„publicç»§æ‰¿å¡‘æ¨¡å‡ºis-aå…³ç³» â€œpublicç»§æ‰¿â€æ„å‘³is-aã€‚é€‚ç”¨äºbase classesèº«ä¸Šçš„æ¯ä¸€ä»¶äº‹æƒ…ä¸€å®šä¹Ÿé€‚ç”¨äºderived classesèº«ä¸Šï¼Œå› ä¸ºæ¯ä¸€ä¸ªderived classå¯¹è±¡ä¹Ÿéƒ½æ˜¯ä¸€ä¸ªbase classå¯¹è±¡ã€‚ é¿å…é®è”½ç»§æ‰¿è€Œæ¥çš„åç§° derived classeså†…çš„åç§°ä¼šé®æ©base classeså†…çš„åç§°ã€‚åœ¨publicç»§æ‰¿ä¸‹ä»æ¥æ²¡æœ‰äººå¸Œæœ›å¦‚æ­¤ï¼› ä¸ºäº†è®©è¢«é®æ©çš„åç§°å†è§å¤©æ—¥ï¼Œå¯ä½¿ç”¨usingå£°æ˜å¼æˆ–è½¬äº¤å‡½æ•°ï¼ˆforwarding functions)ã€‚ åŒºåˆ†æ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿ æ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿ä¸åŒã€‚åœ¨publicç»§æ‰¿ä¹‹ä¸‹ï¼Œderived classesæ€»æ˜¯ç»§æ‰¿base classçš„æ¥å£ï¼› pure virtualå‡½æ•°åªå…·ä½“æŒ‡å®šæ¥å£ç»§æ‰¿ï¼› ç®€æœ´çš„ï¼ˆéçº¯ï¼‰impure virtualå‡½æ•°å…·ä½“æŒ‡å®šæ¥å£ç»§æ‰¿åŠç¼ºçœå®ç°ç»§æ‰¿ï¼› non-virtualå‡½æ•°å…·ä½“æŒ‡å®šæ¥å£ç»§æ‰¿ä»¥åŠå¼ºåˆ¶æ€§å®ç°ç»§æ‰¿ã€‚ è€ƒè™‘virtualå‡½æ•°ä»¥å¤–çš„å…¶ä»–é€‰æ‹© virtualå‡½æ•°çš„æ›¿ä»£æ–¹æ¡ˆåŒ…æ‹¬NVIæ‰‹æ³•åŠStrategyè®¾è®¡æ¨¡å¼çš„å¤šç§å½¢å¼ã€‚NVIæ‰‹æ³•è‡ªèº«æ˜¯ä¸€ä¸ªç‰¹æ®Šå½¢å¼çš„Template Methodè®¾è®¡æ¨¡å¼ï¼› å°†æœºèƒ½ä»æˆå‘˜å‡½æ•°ç§»åˆ°classå¤–éƒ¨å‡½æ•°ï¼Œå¸¦æ¥çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œéæˆå‘˜å‡½æ•°æ— æ³•è®¿é—®classçš„non-publicæˆå‘˜ï¼› tr1::functionå¯¹è±¡çš„è¡Œä¸ºå°±åƒä¸€èˆ¬å‡½æ•°æŒ‡é’ˆã€‚è¿™æ ·çš„å¯¹è±¡å¯æ¥çº³â€œä¸ç»™å®šä¹‹ç›®æ ‡ç­¾åå¼ï¼ˆtarget signatureï¼‰å…¼å®¹â€çš„æ‰€æœ‰å¯è°ƒç”¨ç‰©ï¼ˆcallable entitiesï¼‰ã€‚ ç»ä¸é‡å®šä¹‰ç»§æ‰¿è€Œæ¥çš„non-virtualå‡½æ•° ç»ä¸è¦é‡æ–°å®šä¹‰ç»§æ‰¿è€Œæ¥çš„non-virtualå‡½æ•°ã€‚ ç»ä¸é‡æ–°å®šä¹‰ç»§æ‰¿è€Œæ¥çš„ç¼ºçœå‚æ•°å€¼ ç»å¯¹ä¸è¦é‡æ–°å®šä¹‰ä¸€ä¸ªç»§æ‰¿è€Œæ¥çš„ç¼ºçœå‚æ•°å€¼ï¼Œå› ä¸ºç¼ºçœå‚æ•°å€¼éƒ½æ˜¯é™æ€ç»‘å®šï¼Œè€Œvirtualå‡½æ•°â€”â€”ä½ å”¯ä¸€åº”è¯¥è¦†å†™çš„ä¸œè¥¿â€”â€”å´æ˜¯åŠ¨æ€ç»‘å®šã€‚ é€šè¿‡å¤åˆå¡‘æ¨¡å‡ºhas-aæˆ–â€œæ ¹æ®æŸç‰©å‡ºç°â€ å¤åˆï¼ˆcompositionï¼‰çš„æ„ä¹‰å’Œpublicç»§æ‰¿å®Œå…¨ä¸åŒï¼› åœ¨åº”ç”¨åŸŸï¼ˆapplication domainï¼‰ï¼Œå¤åˆæ„å‘³has-aï¼ˆæœ‰ä¸€ä¸ªï¼‰ã€‚åœ¨å®ç°åŸŸï¼ˆimplementation domainï¼‰ï¼Œå¤åˆæ„å‘³ç€is-implemented-in-terms-ofï¼ˆæ ¹æ®æŸç‰©å®ç°å‡ºï¼‰ã€‚ æ˜æ™ºè€Œå®¡æ…åœ°ä½¿ç”¨privateç»§æ‰¿ Privateç»§æ‰¿æ„å‘³ç€is-implement-in-terms-ofï¼ˆæ ¹æ®æŸç‰©å®ç°å‡ºï¼‰ã€‚å®ƒé€šå¸¸æ¯”å¤åˆï¼ˆcompositionï¼‰çš„çº§åˆ«ä½ã€‚ä½†æ˜¯å½“derived classéœ€è¦è®¿é—®protected base classçš„æˆå‘˜ï¼Œæˆ–éœ€è¦é‡æ–°å®šä¹‰ç»§æ‰¿è€Œæ¥çš„virtualå‡½æ•°æ—¶ï¼Œè¿™ä¹ˆè®¾è®¡æ˜¯åˆç†çš„ï¼› å’Œå¤åˆï¼ˆcompositionï¼‰ä¸åŒï¼Œprivateç»§æ‰¿å¯ä»¥é€ æˆempty baseæœ€ä¼˜åŒ–ã€‚è¿™å¯¹è‡´åŠ›äºâ€œå¯¹è±¡å°ºå¯¸æœ€å°åŒ–â€çš„ç¨‹åºå¼€å‘è€…è€Œè¨€ï¼Œå¯èƒ½å¾ˆé‡è¦ã€‚ æ˜æ™ºè€Œå®¡æ…åœ°ä½¿ç”¨å¤šé‡ç»§æ‰¿ å¤šé‡ç»§æ‰¿æ¯”å•ä¸€ç»§æ‰¿å¤æ‚ã€‚å®ƒå¯èƒ½å¯¼è‡´æ–°çš„æ­§ä¹‰æ€§ï¼Œä»¥åŠå¯¹virtualç»§æ‰¿çš„éœ€è¦ï¼› virtualç»§æ‰¿ä¼šå¢åŠ å¤§å°ã€é€Ÿåº¦ã€åˆå§‹åŒ–ï¼ˆåŠèµ‹å€¼ï¼‰å¤æ‚åº¦ç­‰ç­‰æˆæœ¬ã€‚å¦‚æœvirtual base classesä¸å¸¦ä»»ä½•æ•°æ®ï¼Œå°†æ˜¯æœ€å…·å®ç”¨ä»·å€¼çš„æƒ…å†µï¼› å¤šé‡ç»§æ‰¿çš„ç¡®æœ‰æ­£å½“ç”¨é€”ã€‚å…¶ä¸­ä¸€ä¸ªæƒ…èŠ‚æ¶‰åŠâ€œpublicç»§æ‰¿æŸä¸ªInterface classâ€å’Œâ€œprivateç»§æ‰¿æŸä¸ªååŠ©å®ç°çš„classâ€çš„ä¸¤ç›¸ç»“åˆã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:6:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹ äº†è§£éšå¼æ¥å£å’Œç¼–è¯‘å™¨å¤šæ€ classeså’Œtemplateéƒ½æ”¯æŒæ¥å£ï¼ˆinterfacesï¼‰å’Œå¤šæ€ï¼ˆpolymorphismï¼‰ï¼› å¯¹classesè€Œè¨€æ¥å£æ˜¯æ˜¾ç¤ºçš„ï¼ˆexplicitï¼‰ï¼Œä»¥å‡½æ•°ç­¾åä¸ºä¸­å¿ƒã€‚å¤šæ€åˆ™æ˜¯é€šè¿‡virtualå‡½æ•°å‘ç”Ÿäºè¿è¡ŒæœŸï¼› å¯¹templateså‚æ•°è€Œè¨€ï¼Œæ¥å£æ˜¯éšå¼çš„ï¼ˆimplicitï¼‰ï¼Œå¥ åŸºä¸æœ‰æ•ˆè¡¨è¾¾å¼ã€‚å¯¹æ€åˆ™æ˜¯é€šè¿‡templateå…·ç°åŒ–å’Œå‡½æ•°é‡è½½è§£æï¼ˆfunction overloading resolutionï¼‰å‘ç”Ÿäºç¼–è¯‘æœŸã€‚ äº†è§£typenameçš„åŒé‡æ„ä¹‰ å£°æ˜templateå‚æ•°æ—¶ï¼Œå‰ç¼€å…³é”®å­—classå’Œtypenameå¯äº’æ¢ï¼› è¯·ä½¿ç”¨å…³é”®å­—typenameæ ‡è¯†åµŒå¥—ä»å±ç±»å‹åç§°ï¼›ä½†ä¸å¾—åœ¨base class listsï¼ˆåŸºç±»åˆ—ï¼‰æˆ–member initialization listï¼ˆæˆå‘˜åˆå€¼åˆ—ï¼‰å†…ä»¥å®ƒä½œä¸ºbase classä¿®é¥°ç¬¦ã€‚ å­¦ä¹ å¤„ç†æ¨¡æ¿åŒ–åŸºç±»å†…çš„åç§° å¯åœ¨derived class templateså†…é€šè¿‡â€œthis-\u003eâ€æŒ‡æ¶‰base class templateså†…çš„æˆå‘˜åç§°ï¼Œæˆ–ç±ç”±ä¸€ä¸ªæ˜ç™½å†™å‡ºçš„â€œbase classèµ„æ ¼ä¿®é¥°ç¬¦â€å®Œæˆã€‚ å°†ä¸å‚æ•°æ— å…³çš„ä»£ç æŠ½ç¦» Templatesç”Ÿæˆå¤šä¸ªclasseså’Œå¤šä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä»»ä½•templateä»£ç éƒ½ä¸è¯¥ä¸æŸä¸ªé€ æˆè†¨èƒ€çš„templateå‚æ•°äº§ç”Ÿç›¸ä¾å…³ç³»ï¼› å› éç±»å‹æ¨¡æ¿å‚æ•°ï¼ˆnon-type template parametersï¼‰è€Œé€ æˆçš„ä»£ç è†¨èƒ€ï¼Œå¾€å¾€å¯æ¶ˆé™¤ï¼Œåšæ³•æ˜¯ä»¥å‡½æ•°å‚æ•°æˆ–classæˆå‘˜å˜é‡æ›¿æ¢templateå‚æ•°ï¼› å› ç±»å‹å‚æ•°ï¼ˆtype parametersï¼‰è€Œé€ æˆçš„ä»£ç è†¨èƒ€ï¼Œå¾€å¾€å¯ä»¥é™ä½ï¼Œåšæ³•æ˜¯è®©å¸¦æœ‰å®Œå…¨ç›¸åŒäºŒè¿›åˆ¶è¡¨ç¤ºï¼ˆbinary representationsï¼‰çš„å…·ç°ç±»å‹ï¼ˆinstantiation typesï¼‰å…±äº«å®ç°ç ã€‚ è¿ç”¨æˆå‘˜å‡½æ•°æ¨¡æ¿æ¥å—æ‰€æœ‰å…¼å®¹ç±»å‹ è¯·ä½¿ç”¨member function templatesï¼ˆæˆå‘˜å‡½æ•°æ¨¡æ¿ï¼‰ç”Ÿæˆâ€œå¯æ¥å—æ‰€æœ‰å…¼å®¹ç±»å‹â€çš„å‡½æ•°ï¼› å¦‚æœä½ å£°æ˜member templatesç”¨äºâ€œæ³›åŒ–copyæ„é€ â€æˆ–â€œæ³›åŒ–assignmentæ“ä½œâ€ï¼Œä½ è¿˜æ˜¯éœ€è¦å£°æ˜æ­£å¸¸çš„copyæ„é€ å‡½æ•°å’Œcopy assignmentæ“ä½œç¬¦ã€‚ éœ€è¦ç±»å‹è½¬æ¢æ—¶è¯·ä¸ºæ¨¡æ¿å®šä¹‰éæˆå‘˜å‡½æ•° å½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªclass templateï¼Œè€Œå®ƒæ‰€æä¾›ä¹‹â€œä¸æ­¤templateç›¸å…³çš„â€å‡½æ•°æ”¯æŒâ€œæ‰€æœ‰å‚æ•°ä¹‹éšå¼ç±»å‹è½¬æ¢â€æ—¶ï¼Œè¯·å°†é‚£äº›å‡½æ•°å®šä¹‰ä¸ºâ€œclass templateå†…éƒ¨çš„friendå‡½æ•°â€ã€‚ è¯·ä½¿ç”¨traits classesè¡¨ç°ç±»å‹ä¿¡æ¯ Traits classesä½¿å¾—â€œç±»å‹ç›¸å…³ä¿¡æ¯â€åœ¨ç¼–è¯‘æœŸå¯ç”¨ã€‚å®ƒä»¬ä»¥templateså’Œâ€œtemplatesç‰¹åŒ–â€å®Œæˆå®ç°ï¼› æ•´ä¸ªé‡è½½æŠ€æœ¯ï¼ˆoverloadingï¼‰åï¼Œtraits classesæœ‰å¯èƒ½åœ¨ç¼–è¯‘æœŸå¯¹ç±»å‹æ‰§è¡Œifâ€¦elseæµ‹è¯•ã€‚ è®¤è¯†templateå…ƒç¼–ç¨‹ Template metaprogrammingï¼ˆTMPï¼Œæ¨¡æ¿å…ƒç¼–ç¨‹ï¼‰å¯å°†å·¥ä½œç”±è¿è¡ŒæœŸç§»å¾€ç¼–è¯‘æœŸï¼Œå› è€Œå¾—ä»¥å®ç°æ—©æœŸé”™è¯¯ä¾¦æµ‹å’Œæ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ï¼› TMPå¯è¢«ç”¨æ¥ç”Ÿæˆâ€œåŸºäºæ”¿ç­–é€‰æ‹©ç»„åˆâ€ï¼ˆbased on combinations of pilicy choicesï¼‰çš„å®¢æˆ·å®šåˆ¶ä»£ç ï¼Œä¹Ÿå¯ç”¨æ¥é¿å…ç”Ÿæˆå¯¹æŸäº›ç‰¹æ®Šç±»å‹å¹¶ä¸é€‚åˆçš„ä»£ç ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:7:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"å®šåˆ¶newå’Œdelete äº†è§£new-handlerçš„è¡Œä¸º set_new_handlerå…è®¸å®¢æˆ·æŒ‡å®šä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å†…å­˜åˆ†é…æ— æ³•è·å¾—æ»¡è¶³æ—¶è¢«è°ƒç”¨ï¼› Nothrow newæ˜¯ä¸€ä¸ªé¢‡ä¸ºå±€é™çš„å·¥å…·ï¼Œå› ä¸ºå®ƒåªé€‚ç”¨äºå†…å­˜åˆ†é…ï¼›åç»§çš„æ„é€ å‡½æ•°è°ƒç”¨è¿˜æ˜¯å¯èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚ äº†è§£newå’Œdeleteçš„åˆç†æ›¿æ¢æ—¶æœº æœ‰è®¸å¤šç†ç”±éœ€è¦å†™ä¸ªè‡ªå®šçš„newå’Œdeleteï¼ŒåŒ…æ‹¬æ”¹å–„æ•ˆèƒ½ã€å¯¹heapè¿ç”¨é”™è¯¯è¿›è¡Œè°ƒè¯•ã€æ”¶é›†heapä½¿ç”¨ä¿¡æ¯ã€‚ ç¼–å†™newå’Œdeleteæ—¶éœ€å›ºå®ˆå¸¸è§„ operator newåº”è¯¥å†…å«ä¸€ä¸ªæ— ç©·å¾ªç¯ï¼Œå¹¶åœ¨å…¶ä¸­å°è¯•åˆ†é…å†…å­˜ï¼Œå¦‚æœå®ƒæ— æ³•æ»¡è¶³å†…å­˜éœ€æ±‚ï¼Œå°±è¯¥è°ƒç”¨new-handlerã€‚å®ƒä¹Ÿåº”è¯¥æœ‰èƒ½åŠ›å¤„ç†0 bytesç”³è¯·ã€‚Classä¸“å±ç‰ˆæœ¬åˆ™è¿˜åº”è¯¥å¤„ç†â€œæ¯”æ­£ç¡®å¤§å°æ›´å¤§çš„ï¼ˆé”™è¯¯ï¼‰ç”³è¯·ï¼› operator deleteåº”è¯¥åœ¨æ”¶åˆ°nullæŒ‡é’ˆæ—¶ä¸åšä»»ä½•äº‹ã€‚Classä¸“å±ç‰ˆæœ¬åˆ™è¿˜åº”è¯¥å¤„ç†â€œæ¯”æ­£ç¡®å¤§å°æ›´å¤§çš„ï¼ˆé”™è¯¯ï¼‰ç”³è¯·ã€‚ å†™äº†placement newä¹Ÿè¦å†™placement delete å½“ä½ å†™ä¸€ä¸ªplacement operator newï¼Œè¯·ç¡®å®šå®ƒä¹Ÿå†™å‡ºäº†å¯¹åº”çš„placement operator deleteã€‚å¦‚æœæ²¡æœ‰è¿™æ ·åšï¼Œä½ çš„ç¨‹åºå¯èƒ½ä¼šå‘ç”Ÿéšå¾®è€Œæ—¶æ–­æ—¶ç»­çš„å†…å­˜æ³„éœ²ï¼› å½“å£°æ˜placement newå’Œplacement deleteï¼Œè¯·ç¡®å®šä¸è¦æ— æ„è¯†ï¼ˆéæ•…æ„ï¼‰åœ°é®ç›–äº†å®ƒä»¬çš„æ­£å¸¸ç‰ˆæœ¬ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:8:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"æ‚é¡¹è®¨è®º ä¸è¦è¯·å‹¿ç¼–è¯‘å™¨çš„è­¦å‘Š ä¸¥è‚ƒå¯¹å¾…ç¼–è¯‘å™¨å‘ç”Ÿçš„è­¦å‘Šä¿¡æ¯ã€‚åŠªåŠ›åœ¨ä½ çš„ç¼–è¯‘å™¨çš„æœ€é«˜ï¼ˆæœ€è‹›åˆ»ï¼‰è­¦å‘Šçº§åˆ«ä¸‹äº‰å–â€œæ— ä»»ä½•è­¦å‘Šâ€çš„è£èª‰ï¼› ä¸è¦è¿‡åº¦ä¾èµ–ç¼–è¯‘å™¨çš„æŠ¥è­¦åŠŸèƒ½ï¼Œå› ä¸ºä¸åŒçš„ç¼–è¯‘å™¨å¯¹å¾…äº‹æƒ…çš„æ€åº¦å¹¶ä¸ç›¸åŒã€‚ä¸€æ—¦ç§»æ¤åˆ°å¦ä¸€ä¸ªç¼–è¯‘å™¨ä¸Šï¼Œä½ åŸæœ¬ä¾èµ–çš„è­¦å‘Šä¿¡æ¯æœ‰å¯èƒ½æ¶ˆå¤±ã€‚ è®©è‡ªå·±ç†Ÿæ‚‰åŒ…æ‹¬TR1åœ¨å†…çš„æ ‡å‡†ç¨‹åºåº“ C++æ ‡å‡†ç¨‹åºåº“çš„ä¸»è¦æœºèƒ½ç”±STLã€iostreamsã€localesç»„æˆã€‚å¹¶åŒ…å«C99æ ‡å‡†ç¨‹åºåº“ï¼› TR1æ·»åŠ äº†åªèƒ½æŒ‡é’ˆï¼ˆå¦‚tr1::shared_ptrï¼‰ã€ä¸€èˆ¬åŒ–å‡½æ•°æŒ‡é’ˆï¼ˆtr1::functionï¼‰ã€hash-basedå®¹å™¨ã€æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰ä»¥åŠå¦å¤–10ä¸ªç»„ä»¶çš„æ”¯æŒï¼› TR1è‡ªèº«åªæ˜¯ä¸€ä»½è§„èŒƒã€‚ä¸ºè·å¾—TR1æä¾›çš„å¥½å¤„ï¼Œéœ€è¦ä¸€ä»½å®ç‰©ã€‚ä¸€ä¸ªå¥½çš„å®ç‰©æ¥æºæ˜¯Boostã€‚ è®©è‡ªå·±ç†Ÿæ‚‰Boost Boostæ˜¯ä¸€ä¸ªç¤¾ç¾¤ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç½‘ç«™ã€‚è‡´åŠ›äºå…è´¹ã€æºç å¼€æ”¾ã€åŒåƒšå¤å®¡çš„C++ç¨‹åºåº“å¼€å‘ã€‚Booståœ¨C++æ ‡å‡†åŒ–è¿‡ç¨‹ä¸­æ‰®æ¼”å…·æœ‰å½±å“åŠ›çš„è§’è‰²ï¼› Boostæä¾›è®¸å¤šTR1ç»„ä»¶å®ç°å“ï¼Œä»¥åŠå…¶ä»–è®¸å¤šç¨‹åºåº“ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_cplus/:9:0","tags":["Effective Cplus"],"title":"C++:Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_cplus/"},{"categories":["cpp"],"content":"Effective Modern Cplus æ‘˜è¦ç¬”è®°","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç±»å‹æ¨å¯¼ auto ç§»æ­¥ç°ä»£C++ æ™ºèƒ½æŒ‡é’ˆ å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨è¯­æ„ï¼Œå®Œç¾è½¬å‘ Lambdaè¡¨è¾¾å¼ å¹¶å‘API å¾®è°ƒ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:0:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"ç±»å‹æ¨å¯¼ ç†è§£æ¨¡æ¿ç±»å‹æ¨å¯¼ ç†è§£autoç±»å‹æ¨å¯¼ ç†è§£decltype å­¦ä¼šæŸ¥çœ‹ç±»å‹æ¨å¯¼ç»“æœ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:1:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"auto ä¼˜å…ˆè€ƒè™‘autoè€Œéæ˜¾å¼ç±»å‹å£°æ˜ autoæ¨å¯¼è‹¥éå·±æ„¿ï¼Œä½¿ç”¨æ˜¾å¼ç±»å‹åˆå§‹åŒ–æƒ¯ç”¨æ³• ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:2:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"ç§»æ­¥ç°ä»£C++ åŒºåˆ«ä½¿ç”¨()å’Œ{}åˆ›å»ºå¯¹è±¡ ä¼˜å…ˆè€ƒè™‘nullptrè€Œé0å’ŒNULL ä¼˜å…ˆè€ƒè™‘åˆ«åå£°æ˜è€Œétypedefs ä¼˜å…ˆè€ƒè™‘é™åŸŸæšä¸¾è€Œéæœªé™åŸŸæšä¸¾ ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨deleteè€Œéä½¿ç”¨æœªå®šä¹‰çš„ç§æœ‰å£°æ˜ ä½¿ç”¨overrideå£°æ˜é‡è½½å‡½æ•° ä¼˜å…ˆè€ƒè™‘const_iteratorè€Œéiterator å¦‚æœå‡½æ•°ä¸æŠ›å‡ºå¼‚å¸¸è¯·ä½¿ç”¨noexcept å°½å¯èƒ½çš„ä½¿ç”¨constexpr ç¡®ä¿constæˆå‘˜å‡½æ•°çº¿ç¨‹å®‰å…¨ ç†è§£ç‰¹æ®Šæˆå‘˜å‡½æ•°å‡½æ•°çš„ç”Ÿæˆ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:3:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"æ™ºèƒ½æŒ‡é’ˆ å¯¹äºå æœ‰æ€§èµ„æºä½¿ç”¨std::unique_ptr å¯¹äºå…±äº«æ€§èµ„æºä½¿ç”¨std::shared_ptr å¯¹äºç±»ä¼¼äºstd::shared_ptrçš„æŒ‡é’ˆä½¿ç”¨std::weak_ptrå¯èƒ½é€ æˆæ‚¬ç½® ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨std::make_uniqueå’Œstd::make_sharedè€Œénew å½“ä½¿ç”¨Pimplæƒ¯ç”¨æ³•ï¼Œè¯·åœ¨å®ç°æ–‡ä»¶ä¸­å®šä¹‰ç‰¹æ®Šæˆå‘˜å‡½æ•° ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:4:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨è¯­æ„ï¼Œå®Œç¾è½¬å‘ ç†è§£std::moveå’Œstd::forward åŒºåˆ«é€šç”¨å¼•ç”¨å’Œå³å€¼å¼•ç”¨ å¯¹äºå³å€¼å¼•ç”¨ä½¿ç”¨std::moveï¼Œå¯¹äºé€šç”¨å¼•ç”¨ä½¿ç”¨std::forward é¿å…é‡è½½é€šç”¨å¼•ç”¨ ç†Ÿæ‚‰é‡è½½é€šç”¨å¼•ç”¨çš„æ›¿ä»£å“ ç†è§£å¼•ç”¨æŠ˜å  è®¤è¯†ç§»åŠ¨æ“ä½œçš„ç¼ºç‚¹ ç†Ÿæ‚‰å®Œç¾è½¬å‘å¤±è´¥çš„æƒ…å†µ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:5:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"Lambdaè¡¨è¾¾å¼ é¿å…ä½¿ç”¨é»˜è®¤æ•è·æ¨¡å¼ ä½¿ç”¨åˆå§‹åŒ–æ•è·æ¥ç§»åŠ¨å¯¹è±¡åˆ°é—­åŒ…ä¸­ å¯¹äºstd::forwardçš„auto\u0026\u0026å½¢å‚ä½¿ç”¨decltype æœ‰é™è€ƒè™‘lambdaè¡¨è¾¾å¼è€Œéstd::bind ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:6:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"å¹¶å‘API ä¼˜å…ˆè€ƒè™‘åŸºäºä»»åŠ¡çš„ç¼–ç¨‹è€ŒéåŸºäºçº¿ç¨‹çš„ç¼–ç¨‹ å¦‚æœæœ‰å¼‚æ­¥çš„å¿…è¦è¯·æŒ‡å®šstd::launch::threads ä»å„ä¸ªæ–¹é¢ä½¿å¾—std::threads unjoinable çŸ¥é“ä¸åŒçº¿ç¨‹å¥æŸ„ææ„è¡Œä¸º è€ƒè™‘å¯¹äºå•æ¬¡äº‹ä»¶é€šä¿¡ä½¿ç”¨void å¯¹äºå¹¶å‘ä½¿ç”¨std::atomicï¼Œvolatileç”¨äºç‰¹æ®Šå†…å­˜åŒº ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:7:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"å¾®è°ƒ å¯¹äºé‚£äº›å¯ç§»åŠ¨æ€»æ˜¯è¢«æ‹·è´çš„å½¢å‚ä½¿ç”¨ä¼ å€¼æ–¹å¼ è€ƒè™‘å°±åœ°åˆ›å»ºè€Œéæ’å…¥ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/effective_modern_cplus/:8:0","tags":["Effective Modern Cplus"],"title":"C++:Effective Modern Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/effective_modern_cplus/"},{"categories":["cpp"],"content":"More Effective Cplus","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ åŸºç¡€è®®é¢˜ è¿ç®—ç¬¦ å¼‚å¸¸ æ•ˆç‡ æŠ€å·§ æ‚é¡¹ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:0:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"åŸºç¡€è®®é¢˜ åŒºåˆ†æŒ‡é’ˆå’Œå¼•ç”¨ ä¼˜å…ˆè€ƒè™‘C++é£æ ¼çš„ç±»å‹è½¬æ¢ å†³ä¸è¦æŠŠå¤šæ€ç”¨äºæ•°ç»„ é¿å…ä¸å¿…è¦çš„é»˜è®¤æ„é€ å‡½æ•° ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:1:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"è¿ç®—ç¬¦ å°å¿ƒç”¨æˆ·è‡ªå®šä¹‰çš„è½¬æ¢å‡½æ•° åŒºåˆ†è‡ªå¢è¿ç®—ç¬¦å’Œè‡ªå‡è¿ç®—ç¬¦çš„å‰ç¼€å½¢å¼ä¸åç¼€å½¢å¼ ä¸è¦é‡è½½\"\u0026\u0026\"||â€œå’Œâ€,\" ç†è§£newå’Œdeleteåœ¨ä¸åŒæƒ…å½¢ä¸‹çš„å«ä¹‰ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:2:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"å¼‚å¸¸ ä½¿ç”¨ææ„å‡½æ•°é˜²æ­¢èµ„æºæ³„æ¼ é˜²æ­¢æ„é€ å‡½æ•°é‡Œçš„èµ„æºæ³„æ¼ é˜»æ­¢å¼‚å¸¸ä¼ é€’åˆ°ææ„å‡½æ•°ä»¥å¤– ç†è§£æŠ›å‡ºå¼‚å¸¸ä¸ä¼ é€’å‚æ•°æˆ–è€…è°ƒç”¨è™šå‡½æ•°ä¹‹é—´çš„ä¸åŒ é€šè¿‡å¼•ç”¨æ•è·å¼‚å¸¸ å®¡æ…åœ°ä½¿ç”¨å¼‚å¸¸è§„æ ¼ ç†è§£å¼‚å¸¸å¤„ç†æ‰€ä»˜å‡ºçš„ä»£ä»· ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:3:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"æ•ˆç‡ è®°ä½80-20å‡†åˆ™ è€ƒè™‘ä½¿ç”¨å»¶è¿Ÿè®¡ç®— åˆ†æœŸæ‘Šè¿˜é¢„æœŸçš„è®¡ç®—å¼€é”€ äº†è§£ä¸´æ—¶å¯¹è±¡çš„æ¥æº ååŠ©ç¼–è¯‘å™¨å®ç°è¿”å›å€¼ä¼˜åŒ– é€šè¿‡å‡½æ•°é‡è½½é¿å…éšå¼ç±»å‹è½¬æ¢ è€ƒè™‘ä½¿ç”¨op=æ¥å–ä»£å•ç‹¬çš„opè¿ç®—ç¬¦ è€ƒè™‘ä½¿ç”¨å…¶ä»–ç­‰ä»·çš„ç¨‹åºåº“ ç†è§£è™šå‡½æ•°ã€å¤šé‡ç»§æ‰¿ã€è™šåŸºç±»ä»¥åŠRTTIæ‰€å¸¦æ¥çš„å¼€é”€ ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:4:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"æŠ€å·§ ä½¿æ„é€ å‡½æ•°å’Œéæˆå‘˜å‡½æ•°å…·æœ‰è™šå‡½æ•°çš„è¡Œä¸º é™åˆ¶ç±»å¯¹è±¡çš„ä¸ªæ•° è¦æ±‚æˆ–ç¦æ­¢å¯¹è±¡åˆ†é…åœ¨å †ä¸Š æ™ºèƒ½(smart)æŒ‡é’ˆ å¼•ç”¨è®¡æ•° ä»£ç†ç±» åŸºäºå¤šä¸ªå¯¹è±¡çš„è™šå‡½æ•° ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:5:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":"æ‚é¡¹ åœ¨å°†æ¥æ—¶æ€ä¸‹å¼€å‘ç¨‹åº å°†éå°¾ç«¯ç±»è®¾è®¡ä¸ºæŠ½è±¡ç±» ç†è§£å¦‚ä½•åœ¨åŒä¸€ç¨‹åºä¸­æ··åˆä½¿ç”¨C è®©è‡ªå·±ç†Ÿæ‚‰C++è¯­è¨€æ ‡å‡† ","date":"2023-01-22","objectID":"/posts/program/cpp/effective_cplus/more_effective_cplus/:6:0","tags":["More Effective Cplus"],"title":"C++:More Effective Cplus æ‘˜è¦ç¬”è®°","uri":"/posts/program/cpp/effective_cplus/more_effective_cplus/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ æ‹·è´æ„é€ å‡½æ•° æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº 1. å½“å‡½æ•°çš„å‚æ•°ä¸ºç±»çš„å¯¹è±¡:ä»¥å€¼ä¼ é€’çš„æ–¹å¼ä¼ å…¥å‡½æ•°ä½“ 2. å‡½æ•°çš„è¿”å›å€¼æ˜¯ç±»çš„å¯¹è±¡:ä»¥å€¼ä¼ é€’çš„æ–¹å¼ä»å‡½æ•°è¿”å› 3. å¯¹è±¡éœ€è¦é€šè¿‡å¦å¤–ä¸€ä¸ªå¯¹è±¡è¿›è¡Œåˆå§‹åŒ– : èµ‹å€¼åˆå§‹åŒ– æµ…æ‹·è´ä¸æ·±æ‹·è´ 1. é»˜è®¤æ‹·è´æ„é€ å‡½æ•° æ‹·è´èµ‹å€¼å‡½æ•° copy constructorä¸copy assignmentçš„åŒºåˆ«ä¸è”ç³» æ‹·è´æ„é€ å‡½æ•° æ‹·è´æ„é€ å‡½æ•°(å¤åˆ¶æ„é€ å‡½æ•°)æ˜¯æ„é€ å‡½æ•°çš„ä¸€ç§ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°ç±»å‹æ˜¯æœ¬ç±»çš„å¼•ç”¨ã€‚å®ƒç”±ç¼–è¯‘å™¨è°ƒç”¨æ¥å®Œæˆä¸€äº›åŸºäºåŒä¸€ç±»çš„å…¶ä»–å¯¹è±¡çš„æ„å»ºåŠåˆå§‹åŒ–ã€‚ å¤åˆ¶æ„é€ å‡½æ•°çš„å‚æ•°å¯ä»¥æ˜¯ const å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯é const å¼•ç”¨ã€‚ ä¸€èˆ¬ä½¿ç”¨å‰è€…ï¼Œè¿™æ ·æ—¢èƒ½ä»¥å¸¸é‡å¯¹è±¡ï¼ˆåˆå§‹åŒ–åå€¼ä¸èƒ½æ”¹å˜çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œä¹Ÿèƒ½ä»¥éå¸¸é‡å¯¹è±¡ä½œä¸ºå‚æ•°å»åˆå§‹åŒ–å…¶ä»–å¯¹è±¡ã€‚ä¸€ä¸ªç±»ä¸­å†™ä¸¤ä¸ªå¤åˆ¶æ„é€ å‡½æ•°ï¼Œä¸€ä¸ªçš„å‚æ•°æ˜¯ const å¼•ç”¨ï¼Œå¦ä¸€ä¸ªçš„å‚æ•°æ˜¯é const å¼•ç”¨ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ å¦‚æœç±»çš„è®¾è®¡è€…ä¸å†™å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨ç”Ÿæˆå¤åˆ¶æ„é€ å‡½æ•°ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶ä½œç”¨æ˜¯å®ç°ä»æºå¯¹è±¡åˆ°ç›®æ ‡å¯¹è±¡é€ä¸ªå­—èŠ‚çš„å¤åˆ¶ï¼Œå³ä½¿å¾—ç›®æ ‡å¯¹è±¡çš„æ¯ä¸ªæˆå‘˜å˜é‡éƒ½å˜å¾—å’Œæºå¯¹è±¡ç›¸ç­‰ã€‚ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å¤åˆ¶æ„é€ å‡½æ•°ç§°ä¸ºâ€œé»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°â€ã€‚ é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå³æ— å‚æ„é€ å‡½æ•°ï¼‰ä¸ä¸€å®šå­˜åœ¨ï¼Œä½†æ˜¯å¤åˆ¶æ„é€ å‡½æ•°æ€»æ˜¯ä¼šå­˜åœ¨ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 #include\u003ciostream\u003e using namespace std; class CExample { private: int a; public: //æ„é€ å‡½æ•° CExample(int b) { a=b; printf(\"constructor is called\\n\"); } //æ‹·è´æ„é€ å‡½æ•° CExample(const CExample \u0026 c) { a=c.a; printf(\"copy constructor is called\\n\"); } //ææ„å‡½æ•° ~CExample() { cout\u003c\u003c\"destructor is called\\n\"; } void Show() { cout\u003c\u003ca\u003c\u003cendl; } }; int main() { CExample A(100); CExample B=A; B.Show(); return 0; } æ‰§è¡Œç»“æœï¼š constructor is called copy constructor is called 100 destructor is called destructor is called æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:0:0","tags":["cpp construct fun"],"title":"C++:æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°","uri":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["cpp"],"content":"1. å½“å‡½æ•°çš„å‚æ•°ä¸ºç±»çš„å¯¹è±¡:ä»¥å€¼ä¼ é€’çš„æ–¹å¼ä¼ å…¥å‡½æ•°ä½“ å¦‚æœå‡½æ•° F çš„å‚æ•°æ˜¯ç±» A çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå½“ F è¢«è°ƒç”¨æ—¶ï¼Œç±» A çš„å¤åˆ¶æ„é€ å‡½æ•°å°†è¢«è°ƒç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä½œä¸ºå½¢å‚çš„å¯¹è±¡ï¼Œæ˜¯ç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ–çš„ï¼Œè€Œä¸”è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ—¶çš„å‚æ•°ï¼Œå°±æ˜¯è°ƒç”¨å‡½æ•°æ—¶æ‰€ç»™çš„å®å‚ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 #include\u003ciostream\u003e using namespace std; class CExample { private: int a; public: CExample(int b) { a=b; printf(\"constructor is called\\n\"); } CExample(const CExample \u0026 c) { a=c.a; printf(\"copy constructor is called\\n\"); } ~CExample() { cout\u003c\u003c\"destructor is called\\n\"; } void Show() { cout\u003c\u003ca\u003c\u003cendl; } }; void g_fun(CExample c) { cout\u003c\u003c\"g_func\"\u003c\u003cendl; } int main() { CExample A(100); CExample B=A; B.Show(); g_fun(A); return 0; } æ‰§è¡Œç»“æœï¼š constructor is called copy constructor is called 100 copy constructor is called g_func destructor is called destructor is called destructor is called è°ƒç”¨g_fun()æ—¶ï¼Œä¼šäº§ç”Ÿä»¥ä¸‹å‡ ä¸ªé‡è¦æ­¥éª¤ï¼š Aå¯¹è±¡ä¼ å…¥å½¢å‚æ—¶ï¼Œä¼šå…ˆä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå°±å« C å§ã€‚ ç„¶åè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°æŠŠAçš„å€¼ç»™Cã€‚ æ•´ä¸ªè¿™ä¸¤ä¸ªæ­¥éª¤æœ‰ç‚¹åƒï¼šCExample C(A); ç­‰g_fun()æ‰§è¡Œå®Œå, ææ„æ‰ C å¯¹è±¡ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:1:0","tags":["cpp construct fun"],"title":"C++:æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°","uri":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["cpp"],"content":"2. å‡½æ•°çš„è¿”å›å€¼æ˜¯ç±»çš„å¯¹è±¡:ä»¥å€¼ä¼ é€’çš„æ–¹å¼ä»å‡½æ•°è¿”å› å¦‚æœå‡½æ•°çš„è¿”å†‹å€¼æ˜¯ç±» A çš„å¯¹è±¡ï¼Œåˆ™å‡½æ•°è¿”å†‹æ—¶ï¼Œç±» A çš„å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚æ¢è¨€ä¹‹ï¼Œä½œä¸ºå‡½æ•°è¿”å›å€¼çš„å¯¹è±¡æ˜¯ç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ– çš„ï¼Œè€Œè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ—¶çš„å®å‚ï¼Œå°±æ˜¯ return è¯­å¥æ‰€è¿”å›çš„å¯¹è±¡ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 #include\u003ciostream\u003e using namespace std; class CExample { private: int a; public: //æ„é€ å‡½æ•° CExample(int b) { a=b; printf(\"constructor is called\\n\"); } //æ‹·è´æ„é€ å‡½æ•° CExample(const CExample \u0026 c) { a=c.a; printf(\"copy constructor is called\\n\"); } //ææ„å‡½æ•° ~CExample() { cout\u003c\u003c\"destructor is called\\n\"; } void Show() { cout\u003c\u003ca\u003c\u003cendl; } }; CExample g_fun() { CExample temp(0); return temp; } int main() { CExample example = g_fun(); example.Show(); return 0; } è¿è¡Œç»“æœï¼š constructor is called copy constructor is called destructor is called copy constructor is called destructor is called 10 destructor is called å½“g_Fun()å‡½æ•°æ‰§è¡Œåˆ°returnæ—¶ï¼Œä¼šäº§ç”Ÿä»¥ä¸‹å‡ ä¸ªé‡è¦æ­¥éª¤ï¼š å…ˆä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå°±å«XXXXå§ã€‚ ç„¶åè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°æŠŠtempçš„å€¼ç»™XXXXã€‚æ•´ä¸ªè¿™ä¸¤ä¸ªæ­¥éª¤æœ‰ç‚¹åƒï¼šCExample XXXX(temp); åœ¨å‡½æ•°æ‰§è¡Œåˆ°æœ€åå…ˆææ„tempå±€éƒ¨å˜é‡ã€‚ ç­‰g_fun()æ‰§è¡Œå®Œåå†ææ„æ‰XXXXå¯¹è±¡ã€‚ è¯´æ˜ï¼Œç”±äºg++ ç¼–è¯‘æ˜¯ä¼šè¿›è¡Œä¼˜åŒ–ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ ï¼š g++ -fno-elide-constructors xx è¿›è¡Œç¼–è¯‘ C++è¿”å›å€¼ä¸ºå¯¹è±¡æ—¶å¤åˆ¶æ„é€ å‡½æ•°ä¸æ‰§è¡Œæ€ä¹ˆç ´ å‘½åè¿”å›å€¼ä¼˜åŒ– ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:2:0","tags":["cpp construct fun"],"title":"C++:æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°","uri":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["cpp"],"content":"3. å¯¹è±¡éœ€è¦é€šè¿‡å¦å¤–ä¸€ä¸ªå¯¹è±¡è¿›è¡Œåˆå§‹åŒ– : èµ‹å€¼åˆå§‹åŒ– å½“ç”¨ä¸€ä¸ªå¯¹è±¡å»åˆå§‹åŒ–åŒç±»çš„å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šå¼•å‘å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚ 1 2 3 CExample A(100); CExample B=A; CExample C(A); æ³¨æ„ï¼šèµ‹å€¼è¯­å¥çš„ç­‰å·å·¦è¾¹æ˜¯ä¸€ä¸ªæ—©å·²æœ‰å®šä¹‰çš„å˜é‡ï¼Œèµ‹å€¼è¯­å¥ä¸ä¼šå¼•å‘å¤åˆ¶æ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚ 1 2 CExample c1, c2; c1 = c2 ; c1=c2; è¿™æ¡è¯­å¥ä¸ä¼šå¼•å‘å¤åˆ¶æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œå› ä¸º c1 æ—©å·²ç”Ÿæˆï¼Œå·²ç»åˆå§‹åŒ–è¿‡äº†ã€‚ æµ…æ‹·è´ä¸æ·±æ‹·è´ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:3:0","tags":["cpp construct fun"],"title":"C++:æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°","uri":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["cpp"],"content":"1. é»˜è®¤æ‹·è´æ„é€ å‡½æ•° å¾ˆå¤šæ—¶å€™åœ¨æˆ‘ä»¬éƒ½ä¸çŸ¥é“æ‹·è´æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œä¼ é€’å¯¹è±¡ç»™å‡½æ•°å‚æ•°æˆ–è€…å‡½æ•°è¿”å›å¯¹è±¡éƒ½èƒ½å¾ˆå¥½çš„è¿›è¡Œï¼Œè¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šç»™æˆ‘ä»¬è‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ï¼Œè¿™å°±æ˜¯â€œé»˜è®¤æ‹·è´æ„é€ å‡½æ•°â€ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°å¾ˆç®€å•ï¼Œä»…ä»…ä½¿ç”¨â€œè€å¯¹è±¡â€çš„æ•°æ®æˆå‘˜çš„å€¼å¯¹â€œæ–°å¯¹è±¡â€çš„æ•°æ®æˆå‘˜ä¸€ä¸€è¿›è¡Œèµ‹å€¼ï¼Œå®ƒä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å½¢å¼ï¼š 1 2 3 4 5 Rect::Rect(const Rect\u0026 r) { width=r.width; height=r.height; } å½“ç„¶ï¼Œä»¥ä¸Šä»£ç ä¸ç”¨æˆ‘ä»¬ç¼–å†™ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆã€‚ä½†æ˜¯å¦‚æœè®¤ä¸ºè¿™æ ·å°±å¯ä»¥è§£å†³å¯¹è±¡çš„å¤åˆ¶é—®é¢˜ï¼Œé‚£å°±é”™äº†ã€‚ c++æ‹·è´æ„é€ å‡½æ•°è¯¦è§£ C++æ‹·è´æ„é€ å‡½æ•°ï¼ˆå¤åˆ¶æ„é€ å‡½æ•°ï¼‰è¯¦è§£ æ‹·è´èµ‹å€¼å‡½æ•° 1 A\u0026 operator= (const A\u0026 a); //èµ‹å€¼æ„é€ å‡½æ•° è¿”å›å€¼çš„å¯¹è±¡ä¸ºå¼•ç”¨æ˜¯ä¸ºäº†å¯ä»¥è¿ç»­èµ‹å€¼ èµ‹å€¼å‡½æ•°ä¸­å¯ä»¥æ—¢å¯ä»¥ä½¿ç”¨å¼•ç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨å€¼ä¼ é€’ï¼Œä¸è¿‡å€¼ä¼ é€’ä¼šå¤šç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œé€ æˆèµ„æºçš„æµªè´¹ 1.å¯¹è±¡ä»¥å€¼ä¼ é€’æ–¹å¼ä»å‡½æ•°è¿”å›ï¼Œä¸”æ¥å—è¿”å›å€¼çš„å¯¹è±¡å·²ç»åˆå§‹åŒ–è¿‡ 1 2 A c; c = f(); 2.å¯¹è±¡ç›´æ¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”æ¥å—å€¼çš„å¯¹è±¡å·²ç»åˆå§‹åŒ–è¿‡ 1 2 3 A a(1); A c; c = a; copy constructorä¸copy assignmentçš„åŒºåˆ«ä¸è”ç³» copy constructorï¼š ä»ä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡æ¥æ„é€ å¦ä¸€ä¸ªå¯¹è±¡ï¼› åŒ…æ‹¬ï¼š ç”¨å·²æœ‰å¯¹è±¡æ¥åˆå§‹åŒ–æ–°å£°æ˜çš„å¯¹è±¡ï¼› å°†å¯¹è±¡æŒ‰å€¼ä¼ é€’ç»™å‡½æ•°ä½œä¸ºå‚æ•°ï¼› å‡½æ•°æŒ‰å€¼è¿”å›å¯¹è±¡ã€‚ copy assignmentï¼š å°†å·²æœ‰çš„å¯¹è±¡èµ‹å€¼ä¸ªå¦ä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡ï¼› å®ä¾‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 Person A(B); // copy constructor Person C=B; //copy constructor Function1(D); //copy constructor B= Function2(â€¦); //copy constructor Person D; D=B; //copy assignment æ³¨æ„äº‹é¡¹ï¼šç¼–è¯‘å™¨é»˜è®¤çš„copy constructorå’Œcopy assignmentæ“ä½œï¼Œæ˜¯æŒ‰ç…§member-wise copyçš„æ–¹å¼é€ä¸ªcopyæ¯ä¸ªmemberï¼Œè¿™ç§æµ…æ‹·è´æ“ä½œåœ¨æœ‰äº›æƒ…å†µä¸‹å¯èƒ½é€ æˆèµ„æºæ³„æ¼/æŒ‡å‘é‡å ã€‚ å¦‚æœçš„ç¡®éœ€è¦deep copyï¼Œéœ€è¦è‡ªå®šä¹‰ç›¸åº”æ“ä½œã€‚è¿™æ—¶éœ€è¦æ¸…æ¥šå“ªäº›åœ°æ–¹ç”¨äº†copy constructorï¼Œå“ªäº›åœ°æ–¹ç”¨äº†copy assignmentï¼Œä»è€Œåˆ†åˆ«è‡ªå®šä¹‰copy constructorå’Œcopy assignmentã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè‡ªå®šä¹‰çš„copy constructorã€destructorå’Œcopy assignmentæ“ä½œå¸¸å¸¸åŒæ—¶å‡ºç°ã€‚ åŒºåˆ«ä¸è”ç³»ï¼š copy constructorä¸ç”¨æ£€æµ‹æ˜¯å¦æ˜¯ç”¨ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–å®ƒè‡ªå·±ï¼› copy constructorä¸ç”¨å¯¹è¢«æ„é€ å¯¹è±¡åšèµ„æºæ¸…ç†æ“ä½œï¼Œå¦‚deleteæ“ä½œï¼› ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:4:0","tags":["cpp construct fun"],"title":"C++:æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°","uri":"/posts/program/cpp/construct/c++%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%92%8C%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ æœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œtime_tï¼ˆ__int64ï¼‰ç±»å‹ä¸floatç±»å‹ç›´æ¥ç›¸åŠ å¾—åˆ°çš„ç»“æœæ˜¯é”™è¯¯çš„ï¼š 1 2 3 time_t curTime = 1563924292; float timeOffset = 3.56951; time_t result = curTime + timeOffset; //ç»“æœä¸º1563924352ï¼Œè®¡ç®—é”™è¯¯ é”™è¯¯åŸå› æ¶‰åŠç®—æœ¯è¿ç®—ä¸­çš„éšå¼è½¬æ¢è§„åˆ™ï¼Œé‚æŸ¥é˜…èµ„æ–™æ•´ç†äº†ç›¸å…³çŸ¥è¯†ã€‚ c++éšå¼è½¬æ¢åˆ†ä¸ºä»¥ä¸‹ç±»å‹ï¼š ç®—æ•°è½¬æ¢ï¼šåœ¨æ··åˆç±»å‹çš„ç®—æ•°è¡¨è¾¾å¼ä¸­ï¼Œæœ€å®½çš„æ•°æ®ç±»å‹æˆä¸ºç›®æ ‡è½¬æ¢ç±»å‹ã€‚ 1 2 3 time_t curTime = 1563924292; float timeOffset = 3.56951; curTime + timeOffset; //time_t(__int64)ç±»å‹éšå¼è½¬æ¢ä¸ºfloatç±»å‹ è¿™å°±é€ æˆä¸€ä¸ªé—®é¢˜ï¼šfloat ç²¾åº¦æœ€é«˜ä¸º7ä½ï¼Œè¿ç®—ç»“æœä¸­æœ€åä¸‰ä½å·²ç»è¶…å‡ºç²¾åº¦èŒƒå›´ã€‚æ‰€ä»¥å³ä½¿å†è½¬æ¢ä¸ºtime_tç±»å‹ï¼Œè®¡ç®—ç»“æœåä¸‰ä½ä¹Ÿä¼šå‡ºé—®é¢˜ã€‚è§£å†³æ–¹æ³•ä¸ºå¯¹floatæ˜¾å¼è½¬æ¢ä¸ºintæˆ–time_tç±»å‹ã€‚ 1 curTime + (int)timeOffset; èµ‹å€¼è½¬æ¢ï¼šå°†ä¸€ç§ç±»å‹èµ‹å€¼ç»™å¦ä¸€ç§ç±»å‹ï¼Œå°†ä¼šè½¬æ¢æˆè¢«èµ‹å€¼ç±»å‹ã€‚ 1 2 float a(5.6); int b = a; //aè½¬æ¢ä¸ºintç±»å‹ å‡½æ•°å½¢å‚å®å‚ä¸ä¸€è‡´è½¬æ¢ï¼šä¼ ç»™å‡½æ•°çš„å®å‚ä¸å‡½æ•°å½¢å‚ç±»å‹ä¸ä¸€è‡´ï¼Œå°†ä¼šæŠŠå®å‚è½¬æ¢ä¸ºå½¢å‚çš„ç±»å‹ã€‚ 1 2 3 double Function(double a); int b(5); double c = Function(b); //æ­¤å¤„bè½¬æ¢ä¸ºdoubleç±»å‹è®¡ç®— å‡½æ•°è¿”å›å€¼ä¸è¿”å›ç±»å‹ä¸ä¸€è‡´ï¼šè¿”å›å€¼è½¬æ¢ä¸ºè¿”å›ç±»å‹ã€‚ 1 2 3 4 doubleâ€‚difference(intâ€‚ival1,â€‚intâ€‚ival2) { returnâ€‚ival1â€‚-â€‚ival2;â€‚//è¿”å›å€¼è½¬æ¢ä¸ºdoubleç±»å‹ } æ„é€ å‡½æ•°éšå¼è½¬æ¢ æŒ‰ç…§é»˜è®¤è§„å®šï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªéšå¼è½¬æ¢ï¼Œå°†è¯¥æ„é€ å‡½æ•°å¯¹åº”æ•°æ®ç±»å‹çš„æ•°æ®è½¬æ¢ä¸ºè¯¥ç±»å¯¹è±¡ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š 1 2 3 4 5 class String { String ( const char* p ); // ç”¨Cé£æ ¼çš„å­—ç¬¦ä¸²pä½œä¸ºåˆå§‹åŒ–å€¼ //â€¦ } String s1 = â€œhelloâ€; //OK éšå¼è½¬æ¢ï¼Œç­‰ä»·äºString s1 = Stringï¼ˆâ€œhelloâ€ï¼‰ ä½†æ˜¯æœ‰çš„æ—¶å€™å¯èƒ½ä¼šä¸éœ€è¦è¿™ç§éšå¼è½¬æ¢ï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 5 class String { String ( int n ); //æœ¬æ„æ˜¯é¢„å…ˆåˆ†é…nä¸ªå­—èŠ‚ç»™å­—ç¬¦ä¸² String ( const char* p ); // ç”¨Cé£æ ¼çš„å­—ç¬¦ä¸²pä½œä¸ºåˆå§‹åŒ–å€¼ //â€¦ } ä¸‹é¢ä¸¤ç§å†™æ³•æ¯”è¾ƒæ­£å¸¸ï¼š 1 2 String s2 ( 10 ); //OK åˆ†é…10ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² String s3 = String ( 10 ); //OK åˆ†é…10ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² ä¸‹é¢ä¸¤ç§å†™æ³•å°±æ¯”è¾ƒç–‘æƒ‘äº†ï¼š 1 2 String s4 = 10; //ç¼–è¯‘é€šè¿‡ï¼Œä¹Ÿæ˜¯åˆ†é…10ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² String s5 = â€˜aâ€™; //ç¼–è¯‘é€šè¿‡ï¼Œåˆ†é…intï¼ˆâ€˜aâ€™ï¼‰ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² s4 å’Œs5 åˆ†åˆ«æŠŠä¸€ä¸ªintå‹å’Œcharå‹ï¼Œéšå¼è½¬æ¢æˆäº†åˆ†é…è‹¥å¹²å­—èŠ‚çš„ç©ºå­—ç¬¦ä¸²ï¼Œå®¹æ˜“ä»¤äººè¯¯è§£ã€‚ ä¸ºäº†é¿å…è¿™ç§é”™è¯¯çš„å‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜æ˜¾ç¤ºçš„è½¬æ¢ï¼Œä½¿ç”¨ explicit å…³é”®å­—ï¼š 1 2 3 4 5 class String { explicit String ( int n ); //æœ¬æ„æ˜¯é¢„å…ˆåˆ†é…nä¸ªå­—èŠ‚ç»™å­—ç¬¦ä¸² String ( const char* p ); // ç”¨Cé£æ ¼çš„å­—ç¬¦ä¸²pä½œä¸ºåˆå§‹åŒ–å€¼ //â€¦ } åŠ ä¸Š explicit ï¼Œå°±æŠ‘åˆ¶äº†String ( int n )çš„éšå¼è½¬æ¢ï¼Œ ä¸‹é¢ä¸¤ç§å†™æ³•ä»ç„¶æ­£ç¡®ï¼š 1 2 String s2 ( 10 ); //OK åˆ†é…10ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² String s3 = String ( 10 ); //OK åˆ†é…10ä¸ªå­—èŠ‚çš„ç©ºå­—ç¬¦ä¸² ä¸‹é¢ä¸¤ç§å†™æ³•å°±ä¸å…è®¸äº†ï¼š 1 2 String s4 = 10; //ç¼–è¯‘ä¸é€šè¿‡ï¼Œä¸å…è®¸éšå¼çš„è½¬æ¢ String s5 = â€˜aâ€™; //ç¼–è¯‘ä¸é€šè¿‡ï¼Œä¸å…è®¸éšå¼çš„è½¬æ¢ å› æ­¤ï¼ŒæŸäº›æ—¶å€™ï¼Œ explicit å¯ä»¥æœ‰æ•ˆå¾—é˜²æ­¢æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢å¸¦æ¥çš„é”™è¯¯æˆ–è€…è¯¯è§£ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/c++%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E9%97%AE%E9%A2%98/:0:0","tags":["cpp"],"title":"c++:éšå¼è½¬æ¢é—®é¢˜","uri":"/posts/program/cpp/c++%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E9%97%AE%E9%A2%98/"},{"categories":["cpp"],"content":"å³å€¼å¼•ç”¨ç§»åŠ¨æ„é€ å®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ C++çš„å·¦å€¼ä¸å³å€¼ é€šç”¨å¼•ç”¨å’Œå³å€¼å¼•ç”¨ å³å€¼å¼•ç”¨ åŒºåˆ†å³å€¼å¼•ç”¨å’Œå·¦å€¼å¼•ç”¨ ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ ç§»åŠ¨æ„é€ å‡½æ•° ç§»åŠ¨æ„é€ å‡½æ•°çš„ä»»åŠ¡ ç§»åŠ¨æ“ä½œå’Œå¼‚å¸¸å®‰å…¨ ç§»åŠ¨æ“ä½œå’Œå‡½æ•°åŒ¹é… ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ ä½•æ—¶è¯¥å®šä¹‰ç§»åŠ¨æ„é€ /èµ‹å€¼ the rule of zero the rule of five std::move å’Œ std::forward std::move ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ std::moveï¼Ÿ ä½¿ç”¨ std::move å¹¶ä¸ä»£è¡¨ç§»åŠ¨æ“ä½œä¸€å®šä¼šå‘ç”Ÿ std::forward å’Œå®Œç¾è½¬å‘ std::forward çš„å®ç° æ€ä¹ˆåˆ¤æ–­è¯¥ç”¨ move è¿˜æ˜¯ forwardï¼Ÿ ä»€ä¹ˆæ—¶å€™ç”¨ move å’Œ forwardï¼Ÿ åå­—æŸ¥æ‰¾å’Œ moveã€forward ç§»åŠ¨å’Œè¿”å›å€¼ä¼˜åŒ– RVO NRVO ç§»åŠ¨å’Œ NRVO C++çš„å·¦å€¼ä¸å³å€¼ åœ¨ C è¯­è¨€ä¸­ï¼Œå·¦å€¼å’Œå³å€¼å³å­—é¢æ„æ€ï¼Œå·¦å€¼æ˜¯è¡¨è¾¾å¼å·¦è¾¹çš„å€¼ï¼Œè€Œå³å€¼æ˜¯è¡¨è¾¾å¼å³è¾¹çš„å€¼ã€‚è€Œ C++ ä¸ºäº†æ”¯æ’‘ç§»åŠ¨è¯­ä¹‰ï¼Œå¯¹å€¼çš„ç±»å‹åšäº†æ–°çš„åˆ’åˆ†ã€‚ åŒºåˆ†å·¦å€¼å’Œå³å€¼ C++ ä¸­å€¼æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„å±æ€§ï¼š æœ‰èº«ä»½ï¼ˆhas identityï¼‰ æˆ–è€…è¯´ï¼Œæœ‰åœ°å€ï¼Œæœ‰æŒ‡å‘å®ƒçš„æŒ‡é’ˆ æœ‰èº«ä»½çš„å€¼ç»Ÿç§°ä¸º glvalue ï¼ˆâ€œgeneralizedâ€ lvalueï¼‰ å¯ä»¥è¢«ç§»åŠ¨ï¼ˆcan be moved fromï¼‰ å¯ä»¥ç§»åŠ¨çš„å€¼ç»Ÿç§°ä¸º rvalue glvalue å’Œ rvalue å°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬è¯´çš„å·¦å€¼å’Œå³å€¼ã€‚ æ ¹æ®æ˜¯å¦æœ‰è¿™ä¸¤ç§å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ C++ ä¸­çš„å€¼åšå¦‚ä¸‹åˆ’åˆ†ï¼ˆi è¡¨ç¤ºæœ‰èº«ä»½ï¼Œm è¡¨ç¤ºå¯ä»¥è¢«ç§»åŠ¨ï¼Œå¤§å†™å­—æ¯è¡¨ç¤ºæ²¡æœ‰è¿™ç§å±æ€§ï¼Œç¬¬å››ç§ç±»å‹ IM åœ¨ C++ä¸­æ²¡æœ‰è¢«ä½¿ç”¨ï¼‰ï¼š lvalueï¼ˆ iM ï¼‰ æœ‰èº«ä»½ï¼Œä¸”ä¸èƒ½è¢«ç§»åŠ¨ åŒ…æ‹¬ å˜é‡ã€å‡½æ•°æˆ–æ•°æ®æˆå‘˜çš„åå­— è¿”å›å·¦å€¼å¼•ç”¨çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚ ++xã€x = 1 å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¦‚ \"hello world\" prvalue(â€œpureâ€ rvalue, Im) ä¸€èˆ¬è¯‘ä½œçº¯å³å€¼ æ²¡æœ‰èº«ä»½ï¼Œå¯ä»¥è¢«ç§»åŠ¨ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œä¸´æ—¶å¯¹è±¡â€ åŒ…æ‹¬ è¿”å›éå¼•ç”¨ç±»å‹çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚ x++ã€x + 1 é™¤å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å¤–çš„å­—é¢é‡ï¼Œæ¯”å¦‚ 42ã€true æœ‰è¶£çš„æ˜¯ this æŒ‡é’ˆæ˜¯ prvalueï¼Œä½ ä¼šå‘ç°æ²¡æ³•å¯¹ this æŒ‡é’ˆæ±‚åœ°å€ xvalue(an â€œeXpiringâ€ value, im) ä¸€èˆ¬è¯‘ä½œå°†äº¡å€¼ æœ‰èº«ä»½ï¼Œä¸”å¯ä»¥è¢«ç§»åŠ¨ åŒ…æ‹¬ å³å€¼å¼•ç”¨ç±»å‹çš„è¿”å›å€¼ï¼Œæ¯”å¦‚ std::move(x) è™½ç„¶è¯´ï¼ŒC++ å¯¹å€¼åšäº†å¾ˆç»†ç²’åº¦çš„åˆ’åˆ†ï¼Œä½†äº‹å®ä¸Šï¼Œå¤§å¤šæ•°æ—¶å€™åªéœ€è¦åŒºåˆ†ä¸€ä¸ªå€¼æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å³å¯ï¼Œå› æ­¤ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªå®è·µä¸Šå¯ä»¥ç”¨æ¥åŒºåˆ†å·¦å³å€¼çš„æ³•åˆ™ï¼š å¦‚æœä½ å¯ä»¥å¯¹æŸä¸ªè¡¨è¾¾å¼å–åœ°å€ï¼Œé‚£ä¹ˆå®ƒæ˜¯å·¦å€¼ å¦‚æœä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹æ˜¯å·¦å€¼å¼•ç”¨ï¼ˆ T\u0026 æˆ– const T\u0026 ç­‰ï¼‰ï¼Œé‚£ä¹ˆå®ƒæ˜¯å·¦å€¼ å¦åˆ™ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æ˜¯å³å€¼ å‡½æ•°çš„è¿”å›å€¼ï¼ˆéå¼•ç”¨ç±»å‹çš„æˆ–å³å€¼å¼•ç”¨ç±»å‹çš„ï¼‰ é€šè¿‡éšå¼ç±»å‹è½¬æ¢åˆ›å»ºçš„å€¼ é™¤å­—ç¬¦ä¸²ä»¥å¤–çš„å­—é¢é‡ï¼ˆæ¯”å¦‚ 10 å’Œ 5.3ï¼‰ å…¶ä»–çš„ç†è§£å¦‚ï¼šåœ¨C++ä¸­å³å€¼æŒ‡çš„çš„ä¸´æ—¶å€¼æˆ–å¸¸é‡ï¼Œæ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ä¿å­˜åœ¨CPUå¯„å­˜å™¨ä¸­çš„å€¼ä¸ºå³å€¼ï¼Œè€Œä¿å­˜åœ¨å†…å­˜ä¸­çš„å€¼ä¸ºå·¦å€¼ã€‚ ä¸€ä¸ªå¸¸æ•°5ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒæ—¶ä¸ä¼šåœ¨å†…å­˜ä¸­ä¸ºå…¶åˆ†é…ä¸€ä¸ªç©ºé—´ï¼Œè€Œæ˜¯ç›´æ¥æŠŠå®ƒæ”¾åˆ°å¯„å­˜å™¨ä¸­ï¼Œæ‰€ä»¥å®ƒåœ¨C++ä¸­å°±æ˜¯ä¸€ä¸ªå³å€¼ã€‚ å†æ¯”å¦‚è¯´æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå˜é‡ aï¼Œå®ƒåœ¨å†…å­˜ä¸­ä¼šåˆ†é…ç©ºé—´ï¼Œå› æ­¤å®ƒåœ¨C++ä¸­å°±æ˜¯å·¦å€¼ã€‚ é‚£ä¹ˆa+5æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å‘¢ï¼Ÿå½“ç„¶æ˜¯å³å€¼å¯¹å§ï¼Œå› ä¸ºa+5çš„ç»“æœå­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œå®ƒå¹¶æ²¡æœ‰åœ¨å†…å­˜ä¸­åˆ†é…æ–°ç©ºé—´ï¼Œæ‰€ä»¥å®ƒæ˜¯å³å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 int main(int argc, char *argv[]){ int \u0026\u0026 a = 5; // æ­£ç¡®ï¼Œ5ä¼šè¢«ç›´æ¥å­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œæ‰€ä»¥å®ƒæ˜¯å³å€¼ int b = 10; int \u0026\u0026 c = b; // é”™è¯¯ï¼Œbåœ¨å†…å­˜ä¸­æœ‰ç©ºé—´ï¼Œæ‰€ä»¥æ˜¯å³å€¼ï¼›å³å€¼ä¸èƒ½èµ‹å€¼ç»™å·¦å€¼ int \u0026\u0026 d = b + 5; // æ­£ç¡®ï¼Œè™½ç„¶ b åœ¨å†…å­˜ä¸­ï¼Œä½† b+5 çš„ç»“æœæ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œå®ƒæ²¡æœ‰åœ¨å†…å­˜ä¸­åˆ†é…ç©ºé—´ï¼Œå› æ­¤æ˜¯å³å€¼ int \u0026\u0026 e = a; // é”™è¯¯ï¼Œå› ä¸ºaæ˜¯å·¦å€¼è€Œeå¿…é¡»æ¥æ”¶å³å€¼ã€‚ int \u0026\u0026 e = std::move(a); // æ­£ç¡®ï¼Œé€šè¿‡std::moveå¯ä»¥å°†ä¸€ä¸ªå·¦å€¼è½¬æˆå³å€¼ã€‚eè™½ç„¶æ¥æ”¶çš„å¿…é¡»æ˜¯å³å€¼ï¼Œä½†å®ƒæœ¬èº«æ˜¯å·¦å€¼ã€‚æ¢å¥è¯è¯´eæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒæ˜¯åªèƒ½æ¥æ”¶å³å€¼çš„å˜é‡ã€‚æˆ‘ä»¬å†ä»å·¦å€¼çš„æœ¬è´¨æ¥çœ‹ï¼Œeä¹Ÿæ˜¯å å†…å­˜ç©ºé—´çš„ï¼Œæ‰€ä»¥å®ƒè‚¯å®šæ˜¯å·¦å€¼ã€‚ } é€šç”¨å¼•ç”¨å’Œå³å€¼å¼•ç”¨ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:0:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"å³å€¼å¼•ç”¨ ä¼´éšç€æ–°çš„å³å€¼å®šä¹‰ï¼ŒC++11 ä¹Ÿå¼•å…¥äº†ä¸€ç§æ–°çš„å¼•ç”¨ç±»å‹â€”â€”å³å€¼å¼•ç”¨ï¼Œæ¯”å¦‚ int \u0026\u0026ï¼Œå³å€¼å¼•ç”¨çš„ç‰¹ç‚¹æ˜¯å®ƒåªèƒ½ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œå› æ­¤ C++11 ä¸­ä¹Ÿå°±æœ‰äº†ä¸‰ç§å¼•ç”¨ç±»å‹ï¼š å³å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œæ¯”å¦‚ int \u0026\u0026 é const çš„å·¦å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°å·¦å€¼ä¸Šï¼Œæ¯”å¦‚ int \u0026 const çš„å·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°å·¦å€¼æˆ–å³å€¼ä¸Šï¼Œæ¯”å¦‚ const int \u0026 ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:1:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"åŒºåˆ†å³å€¼å¼•ç”¨å’Œå·¦å€¼å¼•ç”¨ 04åŒºåˆ†é€šç”¨å¼•ç”¨å’Œå³å€¼å¼•ç”¨ Scott Meyersçš„effective modern c++è®²åº§æ‘˜è¦ æ¡æ¬¾24ï¼šåŒºåˆ†é€šç”¨å¼•ç”¨å’Œå³å€¼å¼•ç”¨ å³å€¼å¼•ç”¨ ä¸€å®šæ˜¯ type\u0026\u0026 type\u0026\u0026 ä¸ä¸€å®šæ˜¯ å³å€¼å¼•ç”¨ï¼ˆè¿˜æœ‰å¯èƒ½æ˜¯é€šç”¨å¼•ç”¨ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 void f(Widget\u0026\u0026 param); // å³å€¼å¼•ç”¨ Widget\u0026\u0026 var1 = Widget(); // å³å€¼å¼•ç”¨ auto\u0026\u0026 var2 = var1; // ä¸æ˜¯å³å€¼å¼•ç”¨ï¼ï¼ï¼ decltype(var1) var3 = var1; // æ— æ³•ç¼–è¯‘é€šè¿‡ Widget\u0026\u0026 var4 = var1; // æ— æ³•ç¼–è¯‘é€šè¿‡ template\u003ctypename T\u003e void f(std::vector\u003cT\u003e\u0026\u0026 param); // å³å€¼å¼•ç”¨ template\u003ctypename T\u003e void f(T\u0026\u0026 param); // ä¸æ˜¯å³å€¼å¼•ç”¨ï¼ï¼ï¼ åœ¨è¿™é‡Œï¼Œâ€œtype\u0026\u0026â€œä¸­çš„â€\u0026\u0026â€œæ„å‘³ç€ï¼š å³å€¼å¼•ç”¨ ç»‘å®šå³å€¼ï¼ˆBinds rvalues only.ï¼‰ ä¿ƒè¿›ç§»åŠ¨ï¼ˆFacilitates moves.ï¼‰ é€šç”¨å¼•ç”¨ å³å€¼å¼•ç”¨æˆ–å·¦å€¼å¼•ç”¨ï¼ˆtype\u0026\u0026 æœ‰å¯èƒ½æ˜¯ type\u0026 æˆ– type\u0026\u0026 ï¼‰ ç»‘å®šæ‰€æœ‰å€¼ï¼Œä¸ç®¡æ˜¯å·¦å€¼ï¼Œå³å€¼ï¼Œconst, éconst... å³ä¿ƒè¿›æ‹·è´ï¼Œä¹Ÿä¿ƒè¿›ç§»åŠ¨ï¼ˆMay facilitate copies, may facilitate movesï¼‰ ä¸è½¬å‘å¼•ç”¨ï¼ˆForwarding Referenceï¼‰ç›¸åŒ å¦‚ä½•åŒºåˆ†ï¼Œç®€å•æ¥è¯´: å¦‚æœä¸€ä¸ªå˜é‡æˆ–å‚æ•°çš„å£°æ˜ç±»å‹æ˜¯T\u0026\u0026ï¼Œå¹¶ä¸”éœ€è¦æ¨å¯¼å‡ºç±»å‹Tï¼Œ è¿™å°±æ˜¯é€šç”¨å¼•ç”¨ï¼Œå¦åˆ™å°±æ˜¯å³å€¼å¼•ç”¨ã€‚ é€šç”¨å¼•ç”¨æ˜¯éœ€è¦åˆå§‹åŒ–çš„ï¼Œå¦‚æœæ˜¯å·¦å€¼ï¼Œé‚£å°±æ˜¯å·¦å€¼å¼•ç”¨ï¼Œå¦‚æœæ˜¯å³å€¼ï¼Œé‚£å°±æ˜¯å³å€¼å¼•ç”¨ã€‚ ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ ä¸ºäº†æ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼ŒC++11 å¼•ç”¨ä¸¤ä¸ªæ–°çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œå®ƒä»¬æ˜¯ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œæƒ³è¦æ”¯æŒç§»åŠ¨æ“ä½œçš„ç±»å¿…é¡»å®šä¹‰å®ƒä»¬ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 class Widget { private: int i{0}; string s{}; unique_ptr\u003cint\u003e pi{}; public: // Move constructor // è¯¥æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ Widget \u0026\u0026wã€‚\u0026\u0026å®ƒè¡¨ç¤ºçš„æ˜¯C++ä¸­çš„å³å€¼ï¼Œä¹Ÿå°±æ˜¯åªæœ‰åˆ›å»ºWidgetå¯¹è±¡æ—¶ä¼ å…¥çš„æ˜¯å³å€¼æ‰ä¼šæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ã€‚ // éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç§»åŠ¨æ„é€ å‡½æ•°æ“ä½œä¹‹ååŸ Widget å¯¹è±¡çš„æŒ‡é’ˆåœ°å€å·²ç»æŒ‡å‘NULLäº†ï¼Œå› æ­¤æ­¤æ—¶å°±ä¸èƒ½å†é€šè¿‡å…¶è®¿é—®ä¹‹å‰çš„å †ç©ºé—´äº† Widget(Widget \u0026\u0026w) = default; // Move assignment operator Widget \u0026operator=(Widget \u0026\u0026w) = default; }; ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:2:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨æ„é€ å‡½æ•° ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:3:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨æ„é€ å‡½æ•°çš„ä»»åŠ¡ å®Œæˆèµ„æºç§»åŠ¨ èµ„æºçš„æ‰€æœ‰æƒç§»äº¤ç»™æ–°åˆ›å»ºçš„å¯¹è±¡ ç¡®ä¿ç§»åŠ¨æ“ä½œå®Œæˆåï¼Œé”€æ¯æºå¯¹è±¡æ˜¯æ— å®³çš„ ä¸å†æŒ‡å‘è¢«ç§»åŠ¨çš„èµ„æº ç¡®ä¿ç§»åŠ¨æ“ä½œå®Œæˆåï¼Œæºå¯¹è±¡ä¾ç„¶æ˜¯æœ‰æ•ˆçš„ å¯ä»¥èµ‹äºˆå®ƒä¸€ä¸ªæ–°å€¼ å¯¹ç•™ä¸‹çš„å€¼æ²¡æœ‰ä»»ä½•è¦æ±‚ ä¹Ÿå°±æ˜¯è¯´ç§»åŠ¨æ“ä½œå®Œæˆåï¼Œå¯ä»¥é”€æ¯ç§»åæºå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥èµ‹äºˆå®ƒä¸€ä¸ªæ–°å€¼ï¼Œä½†ä¸èƒ½ä½¿ç”¨ç§»åæºå¯¹è±¡çš„å€¼ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:3:1","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨æ“ä½œå’Œå¼‚å¸¸å®‰å…¨ ç§»åŠ¨æ“ä½œä¸€èˆ¬ä¸åˆ†é…æ–°èµ„æºï¼Œå› æ­¤ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ å¦‚æœç§»åŠ¨æ“ä½œä¸æŠ›å¼‚å¸¸ï¼Œå¿…é¡»æ³¨æ˜ noexcept å¦‚æœä½ çš„ç§»åŠ¨æ“ä½œä¸æ³¨æ˜ noexcept ï¼Œæ ‡å‡†åº“å°±ä¸æ•¢è°ƒç”¨ä½ çš„ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œè¿™æ˜¯ç”±äºæ ‡å‡†åº“çš„æŸäº›æ¥å£ä¼šåšå‡ºå¼‚å¸¸å®‰å…¨çš„ä¿éšœï¼Œæ¯”å¦‚ vector çš„ push_back æ¥å£åšå‡ºçš„ä¿è¯ä¸ºï¼š If an exception is thrown (which can be due to Allocator::allocate() or element copy/move constructor/assignment), this function has no effect (strong exception guarantee). ä¹Ÿå°±æ˜¯è¯´æœ‰å¼‚å¸¸æŠ›å‡ºæ—¶ï¼ˆå¯èƒ½æ˜¯ç”±äºå†…å­˜åˆ†é…æˆ–å…ƒç´ æ‹·è´/ç§»åŠ¨ï¼‰ï¼Œè¿™ä¸ªè°ƒç”¨ä¸äº§ç”Ÿä»»ä½•æ•ˆæœã€‚ push_back å¯èƒ½ä¼šå¯¼è‡´ vector æ‰©å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šç”³è¯·ä¸€å—æ–°çš„å†…å­˜ç©ºé—´ï¼Œå°†ç°æœ‰çš„å…ƒç´ æ‹·è´/ç§»åŠ¨åˆ°è¿™å—æ–°çš„ç©ºé—´é‡Œã€‚ å¦‚æœæˆ‘ä»¬çš„ç§»åŠ¨æ„é€ å‡½æ•°ä¼šæŠ›å¼‚å¸¸ï¼Œå‡è®¾æ‰©å®¹çš„è¿‡ç¨‹ä¸­ï¼Œåªæœ‰éƒ¨åˆ†å…ƒç´ è¢«ç§»åŠ¨åˆ°äº†æ–°çš„ç©ºé—´é‡Œï¼Œè¿™æ—¶å€™æœ‰å¼‚å¸¸æŠ›å‡ºï¼Œä¸ä»…æ‰©å®¹æ“ä½œæ²¡å®Œæˆï¼Œè€Œä¸”åŸæœ‰ç©ºé—´é‡Œçš„éƒ¨åˆ†å…ƒç´ è¿˜è¢«å·²æ‰§è¡Œçš„ç§»åŠ¨æ“ä½œç ´åæ‰äº†ï¼Œä¸ç¬¦åˆ push_back åšå‡ºçš„å¼‚å¸¸ä¿éšœã€‚å› æ­¤ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œvector åªä¼šä½¿ç”¨æ‹·è´æ“ä½œæ¥å®Œæˆæ‰©å®¹æ“ä½œã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:3:2","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨æ“ä½œå’Œå‡½æ•°åŒ¹é… ç§»åŠ¨å³å€¼ï¼Œæ‹·è´å·¦å€¼ ç§»åŠ¨æ„é€ å‡½æ•°åªèƒ½ç”¨äºå®å‚æ˜¯å³å€¼çš„æƒ…å†µä¸‹ï¼Œå…¶ä»–æƒ…å†µä¸‹ï¼Œéƒ½ä¼šå‘ç”Ÿæ‹·è´ ä½†å¦‚æœæ²¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œåˆ™å³å€¼ä¹Ÿè¢«æ‹·è´ æ‹·è´æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ const çš„å·¦å€¼å¼•ç”¨ï¼Œæ—¢èƒ½æ¥å—å·¦å€¼ä¹Ÿèƒ½æ¥å—å³å€¼ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:3:3","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ å®šä¹‰ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å®šä¹‰ä¸€ä¸ªâ€œæ‹·è´å¹¶äº¤æ¢â€çš„æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¦‚æœä½ åœ¨ç–‘æƒ‘è¯¥æ€æ ·è‡ªå®šä¹‰ swap æ“ä½œï¼Œè¯·çœ‹ Effective C++ Item 25ï¼‰ï¼š 1 2 3 4 5 ClassA\u0026 ClassA::operator=(ClassA rhs) { swap(*this, rhs); return *this; } â€œæ‹·è´å¹¶äº¤æ¢â€èµ‹å€¼è¿ç®—ç¬¦çš„å‚æ•°ä¸å†æ˜¯å¼•ç”¨ï¼Œè€Œæ˜¯ä¼ å€¼ rhs å°†æ˜¯å³ä¾§è¿ç®—å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ï¼› å°† *this ä¸è¿™ä¸ªå‰¯æœ¬äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯å°†å³ä¾§è¿ç®—å¯¹è±¡çš„å€¼èµ‹ç»™äº†å·¦ä¾§è¿ç®—å¯¹è±¡ï¼› å‡½æ•°è¿”å›æ—¶ï¼Œrhs è¢«é”€æ¯ï¼Œææ„å‡½æ•°é”€æ¯ rhs ç°åœ¨æŒ‡å‘çš„å†…å­˜ï¼Œå³å·¦ä¾§è¿ç®—å¯¹è±¡åŸæ¥çš„å†…å­˜ã€‚ â€œ**æ‹·è´å¹¶äº¤æ¢â€**çš„ä¼˜åŠ¿æ˜¯æ­£ç¡®å¤„ç†äº†è‡ªèµ‹å€¼è€Œä¸”æ˜¯å¼‚å¸¸å®‰å…¨çš„ã€‚ èµ‹å€¼è¿ç®—ç¬¦çš„å¼‚å¸¸å®‰å…¨é—®é¢˜ä¸»è¦æ¥è‡ªäºæ‹·è´æ—¶å¯èƒ½ç”³è¯·å†…å­˜ï¼Œå¦‚æœ new æŠ›å¼‚å¸¸äº†ï¼Œè¦ç¡®ä¿å·¦ä¾§è¿ç®—å¯¹è±¡åŸæœ¬çš„æ•°æ®ç»“æ„è¿˜æ²¡æœ‰è¢«ç ´åï¼ˆæ˜¾ç„¶ï¼Œ rhs åšæ‹·è´çš„æ—¶å€™ï¼Œå·¦ä¾§è¿ç®—å¯¹è±¡åŸæœ‰æ•°æ®ç»“æ„è¿˜æ²¡æœ‰åšä»»ä½•ä¿®æ”¹ï¼‰ã€‚ å¦‚æœä½ å®šä¹‰äº†ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‹·è´èµ‹å€¼è¿ç®—ç¬¦åŒæ—¶ä¹Ÿæ˜¯ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼š å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¼šç”¨ç§»åŠ¨æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– rhsï¼› ç›¸åï¼Œå¦‚æœå®å‚æ˜¯å·¦å€¼ï¼Œå°±ä¼šç”¨æ‹·è´æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– rhs ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:4:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ä½•æ—¶è¯¥å®šä¹‰ç§»åŠ¨æ„é€ /èµ‹å€¼ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:5:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"the rule of zero C.20: If you can avoid defining default operations, do ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœé»˜è®¤è¡Œä¸ºå¤Ÿç”¨ï¼Œå°±ä¸è¦å†å»å®šä¹‰è‡ªå·±çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ã€‚ 1 2 3 4 5 6 7 8 9 10 struct Named_map { public: // ... no default operations declared ... private: string name; map\u003cint, int\u003e rep; }; Named_map nm; // default construct Named_map nm2 {nm}; // copy construct map å’Œ string å®šä¹‰äº†æ‰€æœ‰çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤å®ç°å°±å·²ç»å¤Ÿç”¨äº†ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:5:1","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"the rule of five C.21: If you define or =delete any copy, move, or destructor function, define or =delete them all å¦‚æœå®šä¹‰æ‹·è´ã€ç§»åŠ¨æˆ–ææ„ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œæˆ–å°†ä»»æ„ä¸€ä¸ªå£°æ˜ä¸º =delete çš„ï¼›é‚£ä¹ˆå°±éœ€è¦å°†å®ƒä»¬éƒ½å®šä¹‰å‡ºæ¥æˆ–å…¨éƒ¨å£°æ˜ä¸º =delete çš„ã€‚ å®è·µ the rule of five æ—¶ï¼Œæœ€ç®€å•çš„åˆ¤æ–­æ–¹æ³•å°±æ˜¯çœ‹ææ„å‡½æ•°ï¼Œå¦‚æœä½ ææ„å‡½æ•°é‡Œè¦åšäº‹ï¼Œä¸ç®¡æ˜¯é‡Šæ”¾èµ„æºè¿˜æ˜¯å…³é—­æ•°æ®åº“è¿æ¥ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥æŠŠææ„å‡½æ•°çš„è¿™äº›å¥½å…„å¼Ÿéƒ½å®šä¹‰å‡ºæ¥ã€‚ å®šä¹‰è¿™äº›ç‰¹æ®Šæˆå‘˜æ—¶ï¼Œå¦‚æœä½ æƒ³è¦é»˜è®¤å®ç°ï¼Œå°±å°†å®ƒå£°æ˜ä¸º =defaultï¼›å¦‚æœä½ æƒ³è¦ç¦ç”¨æŸä¸ªç‰¹æ®Šæˆå‘˜ï¼Œå°±å°†å®ƒå£°æ˜ä¸º =deleteï¼ˆè¿™ä¸¤ç§æƒ…å†µéƒ½è¢«ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯ç”¨æˆ·å®šä¹‰çš„ï¼‰ã€‚ the rule of five èƒŒåçš„é€»è¾‘æ˜¯è¿™äº›ç‰¹æ®Šæˆå‘˜å‡½æ•°çš„è¯­ä¹‰æ˜¯æ¯æ¯ç›¸å…³çš„ï¼š è§„åˆ™ 1ï¼šå¦‚æœæŸä¸ªç±»æœ‰è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–è€…ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦äº† æ ¹æ®å‡½æ•°åŒ¹é…è§„åˆ™ï¼Œè¿™ç§æƒ…å†µä¸‹ä¼šè°ƒç”¨æ‹·è´æ“ä½œæ¥å¤„ç†å³å€¼ è§„åˆ™ 2ï¼šå¦‚æœæŸä¸ªç±»å®šä¹‰äº†ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆåè€…è¢«ç¼–è¯‘å™¨å®šä¹‰ä¸ºåˆ é™¤çš„ï¼ˆå¯¹äºèµ‹å€¼è¿ç®—ç¬¦ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼‰ å¦‚æœå®šä¹‰äº†è¿™äº›æ“ä½œä¸­çš„æŸä¸€ä¸ªï¼Œå°±åº”è¯¥æŠŠå…¶ä»–çš„æ“ä½œéƒ½å®šä¹‰å‡ºæ¥ï¼Œä»¥é¿å…æ‰€æœ‰ï¼ˆæ½œåœ¨çš„ï¼‰å¯ç§»åŠ¨çš„åœºæ™¯éƒ½å˜æˆæ˜‚è´µçš„æ‹·è´ï¼ˆå¯¹åº”è§„åˆ™ 1ï¼‰æˆ–è€…ä½¿å¾—ç±»å‹å˜æˆä»…èƒ½ç§»åŠ¨çš„ï¼ˆå¯¹åº”è§„åˆ™ 2ï¼‰ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 struct M2 { // bad: incomplete set of copy/move/destructor operations public: // ... // ... no copy or move operations ... ~M2() { delete[] rep; } private: pair\u003cint, int\u003e* rep; // zero-terminated set of pairs }; void use() { M2 x; M2 y; // ... x = y; // the default assignment // ... } è¿™æ®µä»£ç æ²¡èƒ½éµå¾ª the rule of fiveï¼Œé€ æˆçš„åæœæ˜¯ rep è¢« double freeã€‚ std::move å’Œ std::forward è™½ç„¶è¿™ä¸¤ä¸ªå‡½æ•°çš„åå­—å¾ˆæœ‰è¿·æƒ‘æ€§ï¼Œä½†äº‹å®ä¸Šï¼Œä»å®ƒä»¬æ‰€åšçš„äº‹æƒ…ä¸Šæ¥çœ‹ï¼šmove ä¸ç§»åŠ¨ï¼›forward ä¸è½¬å‘ï¼Œå®ƒä»¬åªæ˜¯æ‰§è¡Œäº†ç±»å‹è½¬æ¢æ“ä½œç½¢äº†ï¼š std::move æ— æ¡ä»¶åœ°å°†å®å‚è½¬æ¢ä¸ºå³å€¼ï¼› std::forward åœ¨éƒ¨åˆ†æ¡ä»¶ä¸‹å°†å®å‚è½¬æ¢ä¸ºå³å€¼ ç†Ÿæ‚‰ C++ ç±»å‹è½¬æ¢çš„æœ‹å‹åº”è¯¥çŸ¥é“ static_cast äº‹å®ä¸Šåœ¨è¿è¡Œæ—¶ä»€ä¹ˆä¹Ÿä¸åšï¼Œå› æ­¤è¿™ä¿©å‡½æ•°ä¹Ÿå¹¶ä¸ä¼šåœ¨è¿è¡Œæ—¶åšä»€ä¹ˆäº‹æƒ…ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:5:2","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"std::move c++ ä¹‹ std::move åŸç†å®ç°ä¸ç”¨æ³•æ€»ç»“ ä¸€ä¸ªç®€åŒ–çš„ move å®ç°æ˜¯è¿™æ ·çš„ï¼š 1 2 3 4 5 template \u003ctypename T\u003e typename remove_reference\u003cT\u003e::type \u0026\u0026move(T \u0026\u0026param) { using ReturnType = typename remove_reference\u003cT\u003e::type \u0026\u0026; return static_cast\u003cReturnType\u003e(param); } T\u0026\u0026 æ˜¯é€šç”¨å¼•ç”¨ï¼Œå› æ­¤è¿™ä¸ªå‡½æ•°å‡ ä¹å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„å‚æ•°ã€‚ é€šè¿‡ remove_reference å»æ‰ T çš„å¼•ç”¨æ€§è´¨ï¼ˆå¹¶ä¸ä¼šå»æ‰ cv é™å®šç¬¦ï¼‰ï¼Œç„¶åç»™å®ƒåŠ ä¸Š \u0026\u0026ï¼Œå½¢æˆ ReturnType ç±»å‹ï¼Œç”±äºå³å€¼å¼•ç”¨ç±»å‹çš„è¿”å›å€¼æ˜¯å³å€¼ï¼Œå› æ­¤ç»“æœæ˜¯å®å‚è¢«æ— æ¡ä»¶åœ°è½¬æ¢ä¸ºå³å€¼ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:6:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ std::moveï¼Ÿ æ—¢ç„¶ std::move åªæ˜¯æ— æ¡ä»¶åœ°åš static_castï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥åšç±»å‹è½¬æ¢ï¼Œè€Œè¦è°ƒç”¨ std::move å‘¢ï¼Ÿ std::move å…è®¸æˆ‘ä»¬æˆªæ–­å·¦å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å†ä½¿ç”¨è¯¥å·¦å€¼ï¼Œå¯ä»¥è‡ªç”±ç§»åŠ¨å®ƒæ‰€æ‹¥æœ‰çš„èµ„æºï¼›è¿™æ˜¯éå¸¸ç‰¹æ®Šçš„ç±»å‹æ“ä½œï¼Œé€šè¿‡ä½¿ç”¨ std::move æ–¹ä¾¿æˆ‘ä»¬ç¡®å®šåœ¨å“ªé‡Œå¯¹å·¦å€¼åšäº†æˆªæ–­ï¼Œè¯­ä¹‰ä¸Šæ›´åŠ æ¸…æ™°ã€‚ C++ æ ‡å‡†åº“ä½¿ç”¨æ¯”å¦‚vector::push_back ç­‰è¿™ç±»å‡½æ•°æ—¶,ä¼šå¯¹å‚æ•°çš„å¯¹è±¡è¿›è¡Œå¤åˆ¶,è¿æ•°æ®ä¹Ÿä¼šå¤åˆ¶.è¿™å°±ä¼šé€ æˆå¯¹è±¡å†…å­˜çš„é¢å¤–åˆ›å»º, æœ¬æ¥åŸæ„æ˜¯æƒ³æŠŠå‚æ•°push_backè¿›å»å°±è¡Œäº†,é€šè¿‡std::moveï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„æ‹·è´æ“ä½œã€‚ std::moveæ˜¯å°†å¯¹è±¡çš„çŠ¶æ€æˆ–è€…æ‰€æœ‰æƒä»ä¸€ä¸ªå¯¹è±¡è½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯è½¬ç§»ï¼Œæ²¡æœ‰å†…å­˜çš„æ¬è¿æˆ–è€…å†…å­˜æ‹·è´æ‰€ä»¥å¯ä»¥æé«˜åˆ©ç”¨æ•ˆç‡,æ”¹å–„æ€§èƒ½.ã€‚ å¯¹æŒ‡é’ˆç±»å‹çš„æ ‡å‡†åº“å¯¹è±¡å¹¶ä¸éœ€è¦è¿™ä¹ˆåš. ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:6:1","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ä½¿ç”¨ std::move å¹¶ä¸ä»£è¡¨ç§»åŠ¨æ“ä½œä¸€å®šä¼šå‘ç”Ÿ å¯èƒ½è¿™ä¸ªç±»å‹æ ¹æœ¬æ²¡æœ‰å®šä¹‰ç§»åŠ¨æ“ä½œ std::move å¹¶ä¸ä¼šå»é™¤å®å‚çš„ const æ€§è´¨ï¼Œå› æ­¤æŠŠ const çš„å¯¹è±¡ä¼ ç»™å®ƒï¼Œå¾—åˆ°çš„è¿”å›å€¼ç±»å‹ä¹Ÿæ˜¯ const çš„ï¼Œå¯¹å®ƒçš„æ“ä½œä¼šå˜ä¸ºæ‹·è´æ“ä½œ å› ä¸ºç§»åŠ¨æ“ä½œå¾€å¾€ä¼šä¿®æ”¹æºå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¸Œæœ›åœ¨ const å¯¹è±¡ä¸Šè§¦å‘ç§»åŠ¨æ“ä½œ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:6:2","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"std::forward å’Œå®Œç¾è½¬å‘ æŸäº›å‡½æ•°éœ€è¦å°†å…¶ä¸€ä¸ªæˆ–å¤šä¸ªå®å‚è¿åŒç±»å‹ä¸å˜åœ°è½¬å‘ç»™å…¶ä»–å‡½æ•°ï¼Œè½¬å‘åéœ€è¦ä¿æŒè¢«è½¬å‘å®å‚çš„æ‰€æœ‰æ€§è´¨ï¼ŒåŒ…æ‹¬ å®å‚æ˜¯å¦æ˜¯ const çš„ï¼› å®å‚æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ è¿™ç§åœºæ™¯æˆ‘ä»¬å¾€å¾€ç§°ä¹‹ä¸ºå®Œç¾è½¬å‘ï¼ŒC++11 å¯ä»¥é€šè¿‡ std::forward æ¥å®ç°ã€‚ æ¯”å¦‚å·¥å‚å‡½æ•°éœ€è¦å°†åˆå§‹åŒ–å‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­å°±æ˜¯ make_unique C++14 æ‰æ”¯æŒï¼Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±å†™ä¸€ä¸ª make_unique åº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ 1 2 3 4 template \u003ctypename T, typename... Ts\u003e std::unique_ptr\u003cT\u003e make_unique(Ts \u0026\u0026... params) { return std::unique_ptr\u003cT\u003e(new T(std::forward\u003cTs\u003e(params)...)); } ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:7:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"std::forward çš„å®ç° 1 2 3 4 5 6 7 8 9 template\u003c class T \u003e T\u0026\u0026 forward( typename std::remove_reference\u003cT\u003e::type\u0026 t ) noexcept { return static_cast\u003cT\u0026\u0026\u003e(param); } template\u003c class T \u003e T\u0026\u0026 forward( typename std::remove_reference\u003cT\u003e::type\u0026\u0026 t ) noexcept { return static_cast\u003cT\u0026\u0026\u003e(param); } std::forward çš„æ¨¡æ¿å‚æ•°æ˜¯æ²¡æ³•æ¨å¯¼çš„ï¼Œç§°ä¸ºæ— æ³•æ¨å¯¼çš„ä¸Šä¸‹æ–‡ï¼ˆnondeduced contextï¼‰ã€‚ ç†è§£è¿™ä¸ªå®ç°çš„é‡ç‚¹åœ¨äºå®ƒçš„è¿”å›å€¼ç±»å‹æ˜¯ T\u0026\u0026ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š 1 2 3 4 5 6 7 8 9 void g(int \u0026\u0026i, int\u0026 j); template \u003ctypename F, typename T1, typename T2\u003e void flip3(F f, T1 \u0026\u0026t1, T2 \u0026\u0026t2) { f(std::forward\u003cT2\u003e(t2), std::forward\u003cT1\u003e(t1)); } flip3(g, i, 42); flip3 æ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œä»¥åŠä¸¤ä¸ªé¢å¤–å®å‚ï¼Œå°†å‚æ•°é€†åºä¼ é€’ç»™å¯è°ƒç”¨å¯¹è±¡ã€‚ å¦‚æœå®å‚æ˜¯ int å˜é‡ i T1 çš„ç±»å‹ä¸º int\u0026ï¼Œstd::forward çš„è¿”å›ç±»å‹ä¸º int\u0026 \u0026\u0026ï¼Œæ ¹æ®å¼•ç”¨æŠ˜å ï¼Œç»“æœæ˜¯ int\u0026 t1 çš„ç±»å‹ä¸º int\u0026 å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼çš„ç±»å‹ç›¸åŒï¼Œæ‰€ä»¥è½¬æ¢ä¸ä¼šåšä»»ä½•äº‹ è€Œå¦‚æœå®å‚æ˜¯ 42 T2 çš„ç±»å‹ä¸º intï¼Œstd::forward çš„è¿”å›ç±»å‹æ˜¯ int \u0026\u0026 t2 çš„ç±»å‹ä¸º int \u0026\u0026 ä»å‡½æ•°è¿”å›çš„å³å€¼å¼•ç”¨æ˜¯å³å€¼ï¼Œæ‰€ä»¥ t2 ä¼šè¢«è½¬æ¢ä¸ºå³å€¼ å°±æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿç†è§£äº†ä¸ºä»€ä¹ˆè¯´ forward æ˜¯æœ‰æ¡ä»¶åœ°å°†å®å‚è½¬æ¢ä¸ºå³å€¼ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:7:1","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"æ€ä¹ˆåˆ¤æ–­è¯¥ç”¨ move è¿˜æ˜¯ forwardï¼Ÿ å¯¹å³å€¼å¼•ç”¨ move å³å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œæ‰€ä»¥å¯ä»¥æ— æ¡ä»¶åœ°å°†å®ƒè½¬æ¢ä¸ºå³å€¼ å¯¹é€šç”¨å¼•ç”¨ forward é€šç”¨å¼•ç”¨æ—¢èƒ½ç»‘å®šåˆ°å·¦å€¼ä¸Šï¼Œä¹Ÿèƒ½ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œåœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å°†å®ƒè½¬æ¢ä¸ºå³å€¼ åœ¨å³å€¼å¼•ç”¨ä¸Šè°ƒç”¨ std::forward è¡¨ç°å‡ºçš„è¡Œä¸ºæ˜¯æ­£ç¡®çš„ï¼Œä½†ç”±äº std::forward æ²¡æ³•è‡ªåŠ¨åšç±»å‹æ¨å¯¼ï¼Œå†™å‡ºæ¥çš„ä»£ç ä¼šæ¯”è¾ƒç¹çï¼›ä½†å¦‚æœåœ¨é€šç”¨å¼•ç”¨ä¸Šè°ƒç”¨ std::moveï¼Œå¯èƒ½ä¼šå¯¼è‡´å·¦å€¼è¢«é”™è¯¯åœ°ä¿®æ”¹ï¼Œå¯¼è‡´å¼‚å¸¸çš„è¡Œä¸ºã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:8:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ä»€ä¹ˆæ—¶å€™ç”¨ move å’Œ forwardï¼Ÿ ä½ å¯èƒ½éœ€è¦åœ¨å‡½æ•°ä¸­å¤šæ¬¡ä½¿ç”¨æŸä¸ªå³å€¼å¼•ç”¨æˆ–é€šç”¨å¼•ç”¨ï¼Œé‚£ä¹ˆåªæœ‰åœ¨æœ€åä¸€æ¬¡ä½¿ç”¨å®ƒçš„æ—¶å€™ï¼Œæ‰å¯ä»¥å¯¹å®ƒè°ƒ std::move æˆ– std::forwardï¼Œå› ä¸ºå°†å®ƒè½¬ä¸ºå³å€¼åï¼Œå®ƒçš„å†…å®¹å°±ä¸èƒ½å†è¢«ä½¿ç”¨äº†ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void sink(X\u0026\u0026 x); // sink takes ownership of x void user() { X x; // error: cannot bind an lvalue to a rvalue reference sink(x); // OK: sink takes the contents of x, x must now be assumed to be empty sink(std::move(x)); // ... // probably a mistake use(x); } ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:9:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"åå­—æŸ¥æ‰¾å’Œ moveã€forward std::move å’Œ std::forward çš„å½¢å‚éƒ½æ˜¯é€šç”¨å¼•ç”¨ï¼Œå®ƒä»¬å‡ ä¹å¯ä»¥åŒ¹é…ä»»ä½•ç±»å‹çš„å‚æ•°ã€‚ å› æ­¤å¦‚æœæˆ‘ä»¬å®šä¹‰äº†è‡ªå·±çš„ move æˆ– forward å‡½æ•°ï¼Œå¦‚æœå®ƒæ¥å—å•ä¸€å½¢å‚ï¼Œä¸ç®¡ç±»å‹å¦‚ä½•ï¼Œéƒ½å°†ä¸æ ‡å‡†åº“çš„ç‰ˆæœ¬å†²çªã€‚ åŒæ—¶ï¼Œmove å’Œ forward æ‰§è¡Œçš„æ˜¯éå¸¸ç‰¹æ®Šçš„ç±»å‹æ“ä½œï¼Œç”¨æˆ·ç‰¹æ„å»ä¿®æ”¹å‡½æ•°åŸæœ‰è¡Œä¸ºçš„æ¦‚ç‡éå¸¸å°ï¼Œå› æ­¤æœ€å¥½ä½¿ç”¨å¸¦é™å®šè¯­çš„ç‰ˆæœ¬ std::move å’Œ std::forward æ¥æ˜ç¡®æŒ‡å‡ºä½¿ç”¨æ ‡å‡†åº“çš„ç‰ˆæœ¬ã€‚ ç§»åŠ¨å’Œè¿”å›å€¼ä¼˜åŒ– ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:10:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"RVO å¦‚æœ return è¯­å¥çš„æ“ä½œæ•°æ˜¯ prvalue ï¼Œä¸”å®ƒå’Œè¿”å›å€¼çš„ç±»å‹ç›¸åŒã€‚ 1 2 3 4 5 T f() { return T(); } f(); // only one call to default constructor of T æ­¤æ—¶ï¼Œç¼–è¯‘å™¨å¯ä»¥å®æ–½ copy elisionï¼ˆæ‹·è´çœç•¥ã€æ‹·è´æ¶ˆé™¤ï¼‰ï¼Œå°†å¯¹è±¡ç›´æ¥æ„é€ åˆ°è°ƒç”¨è€…çš„æ ˆä¸Šå»ã€‚ return è¯­å¥æ‰€åœ¨çš„åœ°æ–¹ï¼ŒT çš„ææ„å‡½æ•°å¿…é¡»æ˜¯å¯è®¿é—®çš„ä¸”æ²¡æœ‰è¢«åˆ é™¤ï¼Œå°½ç®¡æ­¤å¤„å¹¶æ²¡æœ‰ T å¯¹è±¡è¢«ææ„æ‰ã€‚ C++17 å¼ºåˆ¶ç¼–è¯‘å™¨åš RVOï¼ŒRVO ä¸å†æ˜¯ä¸€é¡¹å¯é€‰çš„ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œè€Œæ˜¯ C++ å¯¹ prvalue çš„æ–°è§„å®šï¼Œå³è¿”å›å’Œä½¿ç”¨ prvalue æ—¶ä¸å†å»å®ä½“åŒ–ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:11:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"NRVO 1 2 3 4 5 6 X bar() { X xx; // process xx ... return xx; } å¯¹äºä¸Šé¢çš„å‡½æ•° barï¼Œå¦‚æœç›´æ¥ç”¨å‚æ•° __result ä»£æ›¿å‘½åçš„è¿”å›å€¼ xxï¼Œå³æ”¹å†™ä¸ºï¼š 1 2 3 4 5 6 7 8 9 10 11 void bar( X \u0026__result ) { // default constructor invocation // Pseudo C++ Code __result.X::X(); // ... process in __result directly return; } ä¹Ÿå°±æ˜¯è¯´è¿”å›å€¼ä¼šè¢«ç›´æ¥æ„é€ åœ¨è°ƒç”¨è€…çš„æ ˆä¸Šï¼Œå°‘äº†ä¸€æ¬¡æ‹·è´æ“ä½œï¼Œè¿™ç§ä¼˜åŒ–è¢«ç§°ä¸º Named Return Value Optimizationï¼ˆNRVOï¼‰ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:12:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["cpp"],"content":"ç§»åŠ¨å’Œ NRVO C++11 å¼€å§‹ï¼ŒNRVO ä»å¯ä»¥å‘ç”Ÿï¼Œä½†åœ¨æ²¡æœ‰ NRVO çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†è¯•å›¾æŠŠæœ¬åœ°å¯¹è±¡ç§»åŠ¨å‡ºå»ï¼Œè€Œä¸æ˜¯æ‹·è´å‡ºå»ã€‚ è¿™ä¸€ç§»åŠ¨è¡Œä¸ºä¸éœ€è¦ç¨‹åºå‘˜æ‰‹å·¥ç”¨ std::move è¿›è¡Œå¹²é¢„ï¼Œä½¿ç”¨ std::move å¯¹äºç§»åŠ¨è¡Œä¸ºæ²¡æœ‰å¸®åŠ©ï¼Œåè€Œä¼šå½±å“è¿”å›å€¼ä¼˜åŒ–ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œä½ è¿”å›çš„å¹¶ä¸æ˜¯å±€éƒ¨å¯¹è±¡ï¼Œè€Œæ˜¯å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨ã€‚ ","date":"2023-01-22","objectID":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/:13:0","tags":["cpp construct fun"],"title":"C++:å³å€¼å¼•ç”¨ï¼Œç§»åŠ¨æ„é€ ï¼Œå®Œç¾è½¬å‘åŠè¿”å›å€¼ä¼˜åŒ–","uri":"/posts/program/cpp/construct/c++%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91%E7%AD%89/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv7-A ARMv8-A  ARMv9-A","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ARMv7-A æ„æ¶ Cortex-A17 Cortex-A15 Cortex-A9 Cortex-A8 Cortex-A7 Cortex-A5 ARMv8-Aæ„æ¶ Cortex-A32 Cortex-A35 Cortex-A53 Cortex-A57 Cortex-A72 Cortex-A73 Cortex-A78 Cortex-A77 Cortex-A76 ARMv9-A æ„æ¶ ç‰¹æ€§ ARM V8 ARM V7 æŒ‡ä»¤é›† 64ä½æŒ‡ä»¤é›† AArch64ï¼Œ å¹¶ä¸”å…¼å®¹32ä½æŒ‡ä»¤é›† AArch32 32ä½æŒ‡ä»¤é›† A32 å’Œ16ä½æŒ‡ä»¤é›† T16 æ”¯æŒåœ°å€é•¿åº¦ 64ä½ 32ä½ é€šç”¨å¯„å­˜å™¨ 31ä¸ª x0-x30ï¼ˆ64ä½ï¼‰æˆ–è€… w0-w30ï¼ˆ32ä½ï¼‰ 15ä¸ª, r0-r14 (32ä½) å¼‚å¸¸æ¨¡å¼ 4å±‚ç»“æ„ EL0-EL3 2å±‚ç»“æ„vector table NEON é»˜è®¤æ”¯æŒ å¯é€‰æ”¯æŒ LAPE é»˜è®¤æ”¯æŒ å¯é€‰æ”¯æŒ Virtualization é»˜è®¤æ”¯æŒ å¯é€‰æ”¯æŒ big.LITTLE æ”¯æŒ æ”¯æŒ TrustZone é»˜è®¤æ”¯æŒ é»˜è®¤æ”¯æŒ SIMDå¯„å­˜å™¨ 32ä¸ª X 128ä½ 32ä¸ª X 64ä½ ARMv7-A æ„æ¶ The Armv7-A architecture introduces the concept of architecture profiles, a concept that continues in Armv8-A and Armv9-A. The Armv7-A architecture: Implements a traditional Arm architecture with multiple modes Supports a Virtual Memory System Architecture (VMSA) based on a Memory Management Unit (MMU) Supports the Arm (A32) and Thumb (T32) instruction sets This architecture also supports multiple extensions: Security Extensions Multiprocessing Extensions Large Physical Address Extension Virtualization Extensions Generic Timer Extension Performance Monitors Extension All of these extensions are optional and most of the functionality they provide is included in the Armv8-A architecture. ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:0:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A17 A17ä»ç„¶åŸºäº32ä½ARMv7-AæŒ‡ä»¤é›†ï¼ŒåˆæœŸä¼šé‡‡ç”¨28nmå·¥è‰ºï¼ŒåæœŸè¿›åŒ–åˆ°20nmã€‚æœ¬è´¨æ¶æ„å’ŒA12ä¸€æ ·éƒ½æ˜¯åŒå®½åº¦ã€ä¹±åºå‘å°„ï¼Œä»…ä»…æ˜¯æ”¹è¿›äº†å¤–éƒ¨äº’è”ï¼Œå¼•å…¥äº†æ–°çš„ä¸€è‡´æ€§æ€»çº¿AMBA4 ACEï¼Œå¯ä»¥æ›´å¿«é€Ÿåœ°è¿æ¥å†…å­˜æ§åˆ¶å™¨ï¼Œä»è€Œæ”¹å–„æ€§èƒ½å’Œèƒ½æ•ˆã€‚å¾—ç›Šäºè¿™ä¸ªæ–°çš„æ€»çº¿ï¼ŒA17å¯ä»¥æ”¯æŒå¤šæ ¸å¿ƒSoCçš„å®Œæ•´å†…å­˜ä¸€è‡´æ€§æ“ä½œï¼Œèƒ½å¤Ÿå‚ä¸big.LITTLEåŒæ¶æ„æ··åˆæ–¹æ¡ˆï¼Œåœ¨ç‰¹å®šé¢‘ç‡ã€å·¥è‰ºã€å†…å­˜æ¡ä»¶ä¸‹ï¼ŒA17çš„æ€§èƒ½æ¯”A12æå‡å¤§çº¦40%ã€‚åœ¨æŸäº›ç‰¹å®šçš„ç¯å¢ƒä¸­ï¼ŒA17çš„æ€§èƒ½å·²ç»å¯ä»¥å’ŒA15å¤„äºä¸€ä¸ªæ¡£æ¬¡äº†ï¼Œä½†æ˜¯åŠŸè€—æ›´ä½ã€èƒ½æ•ˆæ›´é«˜ã€‚è™½ç„¶åœ¨å‘½åä¸Šæ’åœ¨Cortex-A15ä¹‹ä¸Šï¼Œä½†å…¶å®šä½ä¸­ç«¯ï¼Œè€Œä¸æ˜¯é«˜ç«¯ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:1:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A15 Cortex-A15æœ€æ—©åœ¨2010å¹´å‘å¸ƒï¼ŒåŸºäº32ä½ARMv7-Aæ¶æ„ã€‚A15å’ŒA9åŒæ ·å…·å¤‡ä¹±åºæ‰§è¡Œï¼Œä½†æ˜¯Cortex-A15å…·å¤‡ï¼ˆä¸¤å€ï¼‰çš„æŒ‡ä»¤å‘å°„ç«¯å£å’Œæ‰§è¡Œèµ„æºï¼ŒæŒ‡ä»¤è§£ç èƒ½åŠ›ä¹Ÿè¦é«˜å‡º50%ï¼ŒåŠ¨æ€åˆ†æ”¯é¢„æµ‹èƒ½åŠ›æ›´å¼ºï¼ˆé‡‡ç”¨äº†å¤šå±‚çº§åˆ†æ”¯è¡¨ç¼“å­˜ï¼‰ï¼ŒæŒ‡ä»¤æ‹¾å–å¸¦å®½æ›´å¼ºï¼ˆ128 bit vs 64 bitï¼‰ï¼Œè¿™äº›éƒ½èƒ½è®©A15çš„æµæ°´çº¿æ‰§è¡Œå…·å¤‡æ›´é«˜çš„æ•ˆç‡ã€‚é™¤æ­¤ä»¥å¤–ï¼ŒA15é‡‡ç”¨äº†VFPv4æµ®ç‚¹å•å…ƒè®¾è®¡ï¼Œèƒ½æ‰§è¡ŒFMAæŒ‡ä»¤ä»¥åŠç¡¬ä»¶é™¤æ³•æŒ‡ä»¤ï¼Œç›¸è¾ƒè€Œè¨€A9çš„å³°å€¼å‘é‡æµ®ç‚¹æ€§èƒ½åŸºæœ¬ä¸Šåªæœ‰A15çš„ä¸€åŠã€‚Cortex-A15å¤„ç†å™¨å¯ä»¥åº”ç”¨åœ¨æ™ºèƒ½æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€ç§»åŠ¨è®¡ç®—ã€é«˜ç«¯æ•°å­—å®¶ç”µã€æœåŠ¡å™¨å’Œæ— çº¿åŸºç¡€ç»“æ„ç­‰è®¾å¤‡ä¸Šã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:2:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A9 ARM Cortex-A9é‡‡ç”¨ARMv7-Aæ¶æ„ï¼Œç›®å‰æˆ‘ä»¬èƒ½è§åˆ°çš„å››æ ¸å¤„ç†å™¨å¤§å¤šéƒ½æ˜¯å±äºCortex-A9ç³»åˆ—ã€‚ Cortex-A9 å¤„ç†å™¨çš„è®¾è®¡æ—¨åœ¨æ‰“é€ æœ€å…ˆè¿›çš„ã€é«˜æ•ˆç‡çš„ã€é•¿åº¦åŠ¨æ€å¯å˜çš„ã€å¤šæŒ‡ä»¤æ‰§è¡Œè¶…æ ‡é‡ä½“ç³»ç»“æ„ï¼Œæä¾›é‡‡ç”¨ä¹±åºçŒœæµ‹æ–¹å¼æ‰§è¡Œçš„ 8 é˜¶æ®µç®¡é“å¤„ç†å™¨ï¼Œå‡­å€ŸèŒƒå›´å¹¿æ³›çš„æ¶ˆè´¹ç±»ã€ç½‘ç»œã€ä¼ä¸šå’Œç§»åŠ¨åº”ç”¨ä¸­çš„å‰æ²¿äº§å“æ‰€éœ€çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥å…¼å…·é«˜æ€§èƒ½å’Œé«˜èƒ½æ•ˆã€‚Cortex-A9 å¾®ä½“ç³»ç»“æ„æ—¢å¯ç”¨äºå¯ä¼¸ç¼©çš„å¤šæ ¸å¤„ç†å™¨ï¼ˆCortex-A9 MPCoreå¤šæ ¸å¤„ç†å™¨ï¼‰ï¼Œä¹Ÿå¯ç”¨äºæ›´ä¼ ç»Ÿçš„å¤„ç†å™¨ï¼ˆCortex-A9å•æ ¸å¤„ç†å™¨ï¼‰ã€‚å¯ä¼¸ç¼©çš„å¤šæ ¸å¤„ç†å™¨å’Œå•æ ¸å¤„ç†å™¨æ”¯æŒ 16ã€32 æˆ– 64KB 4 è·¯å…³è”çš„ L1 é«˜é€Ÿç¼“å­˜é…ç½®ï¼Œå¯¹äºå¯é€‰çš„ L2 é«˜é€Ÿç¼“å­˜æ§åˆ¶å™¨ï¼Œæœ€å¤šæ”¯æŒ 8MB çš„ L2 é«˜é€Ÿç¼“å­˜é…ç½®ï¼Œå®ƒä»¬å…·æœ‰æé«˜çš„çµæ´»æ€§ï¼Œå‡é€‚ç”¨äºç‰¹å®šåº”ç”¨é¢†åŸŸå’Œå¸‚åœºã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:3:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A8 ARM Cortex-A8å¤„ç†å™¨ï¼ŒåŸºäºARMv7-Aæ¶æ„ï¼Œæ˜¯ç›®å‰ä½¿ç”¨çš„å•æ ¸æ‰‹æœºä¸­æœ€ä¸ºå¸¸è§çš„äº§å“ã€‚Cortex-A8å¤„ç†å™¨æ˜¯é¦–æ¬¾åŸºäºARMv7ä½“ç³»ç»“æ„çš„äº§å“ï¼Œèƒ½å¤Ÿå°†é€Ÿåº¦ä»600MHzæé«˜åˆ°1GHzä»¥ä¸Šã€‚Cortex-A8å¤„ç†å™¨å¯ä»¥æ»¡è¶³éœ€è¦åœ¨300mWä»¥ä¸‹è¿è¡Œçš„ç§»åŠ¨è®¾å¤‡çš„åŠŸç‡ä¼˜åŒ–è¦æ±‚ï¼›ä»¥åŠéœ€è¦2000 Dhrystone MIPSçš„æ¶ˆè´¹ç±»åº”ç”¨é¢†åŸŸçš„æ€§èƒ½ä¼˜åŒ–è¦æ±‚ã€‚Cortex-A8 é«˜æ€§èƒ½å¤„ç†å™¨ç›®å‰å·²ç»éå¸¸æˆç†Ÿï¼Œä»æ‰‹æœºåˆ°ä¸Šç½‘æœ¬ã€DTVã€æ‰“å°æœºå’Œæ±½è½¦ä¿¡æ¯å¨±ä¹ï¼ŒCortex-A8å¤„ç†å™¨éƒ½æä¾›äº†å¯é çš„é«˜æ€§èƒ½è§£å†³æ–¹æ¡ˆã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:4:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A7 Cortex-A7é‡‡ç”¨ARMv7-Aæ¶æ„ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯åœ¨ä¿è¯æ€§èƒ½çš„åŸºç¡€ä¸Šæä¾›äº†å‡ºè‰²çš„ä½åŠŸè€—è¡¨ç°ã€‚Cortex-A7å¤„ç†å™¨çš„ä½“ç³»ç»“æ„å’ŒåŠŸèƒ½é›†ä¸Cortex-A15 å¤„ç†å™¨å®Œå…¨ç›¸åŒï¼Œä¸åŒè¿™å¤„åœ¨äºï¼ŒCortex-A7 å¤„ç†å™¨çš„å¾®ä½“ç³»ç»“æ„ä¾§é‡äºæä¾›æœ€ä½³èƒ½æ•ˆï¼Œå› æ­¤è¿™ä¸¤ç§å¤„ç†å™¨å¯åœ¨big.LITTLEï¼ˆå¤§å°æ ¸å¤§å°æ ¸å¿ƒä¼´ä¾£ç»“æ„ï¼‰é…ç½®ä¸­ååŒå·¥ä½œï¼Œä»è€Œæä¾›é«˜æ€§èƒ½ä¸è¶…ä½åŠŸè€—çš„ç»ˆæç»„åˆã€‚å•ä¸ªCortex-A7å¤„ç†å™¨çš„èƒ½æºæ•ˆç‡æ˜¯Cortex-A8å¤„ç†å™¨çš„5å€ï¼Œæ€§èƒ½æå‡50%ï¼Œè€Œå°ºå¯¸ä»…ä¸ºåè€…çš„äº”åˆ†ä¹‹ä¸€ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:5:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A5 Cortex-A5å¤„ç†å™¨åŒæ ·åŸºäºARMv7-Aæ¶æ„ï¼Œå®ƒæ˜¯èƒ½æ•ˆæœ€é«˜ã€æˆæœ¬æœ€ä½çš„å¤„ç†å™¨ï¼Œèƒ½å¤Ÿå‘æœ€å¹¿æ³›çš„è®¾å¤‡æä¾›æœ€åŸºç¡€çš„ Internet è®¿é—®ã€‚Cortex-A5 å¤„ç†å™¨åœ¨æŒ‡ä»¤ä»¥åŠåŠŸèƒ½æ–¹é¢ä¸æ›´é«˜æ€§èƒ½çš„ Cortex-A8ã€Cortex-A9 å’Œ Cortex-A15 å¤„ç†å™¨å®Œå…¨å…¼å®¹ - ä¸€ç›´åˆ°æ“ä½œç³»ç»Ÿçº§åˆ«ã€‚Cortex-A5 å¤„ç†å™¨è¿˜ä¿æŒä¸ç»å…¸ ARM å¤„ç†å™¨ï¼ˆåŒ…æ‹¬ ARM926EJ-Sã€ARM1176JZ-S å’Œ ARM7TDMI?ï¼‰çš„å‘ååº”ç”¨ç¨‹åºå…¼å®¹æ€§ã€‚å…¶å®šä½äºä»å…¥é—¨çº§æ™ºèƒ½æ‰‹æœºã€ä½æˆæœ¬æ‰‹æœºå’Œæ™ºèƒ½ç§»åŠ¨è®¾å¤‡ä»¥åŠåŸºç¡€å·¥ä¸šè®¾å¤‡ã€‚ ARMv8-Aæ„æ¶ ARMv8-Aæ˜¯ARMå…¬å¸çš„é¦–æ¬¾æ”¯æŒ64ä½æŒ‡ä»¤é›†çš„å¤„ç†å™¨æ¶æ„ï¼ŒåŒ…æ‹¬ARM TrustZoneæŠ€æœ¯ã€NEONã€è™šæ‹ŸåŒ–å’ŒåŠ å¯†æŠ€æœ¯ã€‚ The Armv8-A architecture introduces the ability to use 64-bit and 32-bit Execution states, known as AArch64 and AArch32 respectively. The AArch64 Execution state supports the A64 instruction set. It holds addresses in 64-bit registers and allows instructions in the base instruction set to use 64-bit registers for their processing. The AArch32 Execution state is a 32-bit Execution state that preserves backwards compatibility with the Armv7-A architecture, enhancing that profile so that it can support some features included in the AArch64 state. It supports the T32 and A32 instruction sets. Armv8-A architecture allows different levels of AArch64 and AArch32 support, for example: AArch64 only designs AArch64 designs that also support AArch32 operating systems and virtual machines AArch64 support with AArch32 at (unprivileged) application level only ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:6:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A32 è¿™æ˜¯ARM æ–°ä¸€ä»£æ„æ¶ä¸­ï¼Œå”¯ä¸€ä¸€ä¸ª 32 ä½ï¼ˆARMv8-A ï¼‰æ¶æ„çš„å¤„ç†å™¨ï¼Œä½† A32 å°±åƒæ˜¯ 32 ä½ç‰ˆçš„ A35ï¼Œç›®æ ‡å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯åœ¨æ•ˆèƒ½æ¯”æœ¬æ¥å°±é€†å¤©çš„ A35 çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ§åˆ¶åŠŸè€—ã€‚A32 æ¶æ„ä¸»æ‰“èŠ¯ç‰‡é¢ç§¯ã€åŠŸè€—æ§åˆ¶å’Œèƒ½è€—æ¯”ï¼Œå…¶åœç•™åœ¨ 32 ä½ï¼ˆARMv7-A æŒ‡ä»¤é›†ï¼‰ï¼ŒæŒ‡ä»¤é¢„å–å•å…ƒé’ˆå¯¹æ•ˆç‡è¿›è¡Œäº†é‡æ–°è®¾è®¡ï¼Œä¸€ã€äºŒçº§æš‚å­˜ã€æµ®ç‚¹å’Œ DSP æ“ä½œæ€§èƒ½åˆ™é’ˆå¯¹é€Ÿåº¦è¿›è¡Œäº†æ”¹è¿›ï¼Œå¹¶å¼•å…¥äº†æ–°çš„ç”µæºç®¡ç†ç‰¹æ€§ã€‚å…¶æ”¯æŒ TrustZone å®‰å…¨åŠ å¯†ã€NEON SIMD æŒ‡ä»¤é›†ã€DSP / SIMD æ‰©å±•ã€VFPv4 æµ®ç‚¹è®¡ç®—ã€è™šæ‹Ÿç¡¬ä»¶ç­‰ã€‚A32 å¯ä»¥åœ¨ 32 ä½ä¸‹æä¾›å’Œ A35 ä¸€æ ·çš„æ€§èƒ½ã€‚ä½†æ›´ä½åŠŸè€—ï¼Œè®©å®ƒçš„æ•ˆèƒ½æ¯”ï¼ˆå•ä½ç”µèƒ½äº§å‡ºçš„æ€§èƒ½ï¼‰æ¯” A35 è¿˜è¦é«˜ 10%ã€æ¯” A5 é«˜ 30%ã€æ¯” A7 é«˜ 25%ã€‚A35 å¯ä»¥é€è¿‡æå‡é¢‘ç‡è¾¾åˆ° A53 80-100% æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒA32 ä¹Ÿå¯ä»¥åœ¨ 32 ä½ä¸‹è¾¾åˆ°åŒæ ·çš„æ€§èƒ½ç­‰çº§ï¼Œè¿™æ—¶å€™çš„èŠ¯ç‰‡é¢ç§¯åªæœ‰ A53 çš„ 68%ï¼Œè€ŒåŠŸè€—åˆ™åªæœ‰ A53 çš„ 61%ã€‚ åœ¨ 64 ä½ä¹‹ä¸‹ï¼ŒA35 éƒ½æœ‰ä»£æ›¿ A53 æ¶æ„çš„å®åŠ›ï¼Œè€Œåœ¨ 32 ä½ä¸­ï¼ŒA32 å°±å·²ç»æ˜¯å®Œèƒœæ‰€æœ‰äººçš„å¢ƒç•Œäº†ï¼Œè€Œä¸”æ¯”èµ· 64 ä½çš„ A35 æ¶æ„ï¼Œ32 ä½çš„ A32 æ›´é€‚åˆç”¨åœ¨ç©¿æˆ´è®¾å¤‡å’Œç‰©è”ç½‘äº§å“ä¸Šã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:7:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A35 Cortex-A35æ˜¯åŸºäºARMv8-A 64ä½æ¶æ„è®¾è®¡çš„ä¸€æ¬¾ä½åŠŸè€—CPUï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å–ä»£æ­¤å‰32ä½Cortex-A7å’ŒCortex-A5ä¸¤é¢—è€æ ¸å¿ƒï¼Œé‡‡ç”¨å’ŒA53/A7ç±»ä¼¼çš„é¡ºåºæœ‰é™åŒå‘å°„è®¾è®¡ï¼ŒåŒæ—¶èå…¥äº†A72çš„ä¸€äº›æ–°ç‰¹æ€§ï¼Œå¹¶åœ¨å‰ç«¯é‡æ–°è®¾è®¡äº†æŒ‡ä»¤é¢„å–å•å…ƒï¼Œæå‡äº†åˆ†æ”¯é¢„æµ‹ç²¾åº¦ã€‚æ­¤å¤–ï¼ŒA35è¿˜é‡‡ç”¨äº†A53çš„ç¼“å­˜ã€å†…å­˜æ¶æ„ï¼Œå¯é…ç½®8-64KBä¸€çº§æŒ‡ä»¤å’Œæ•°æ®ç¼“å­˜ã€128KB-1MBäºŒçº§ç¼“å­˜ï¼ŒåŠ å…¥äº†NEON/FPå•å…ƒï¼Œæ”¹è¿›äº†å­˜å‚¨æ€§èƒ½ï¼Œæ”¯æŒå®Œæ•´æµæ°´çº¿çš„åŒç²¾åº¦ä¹˜æ³•ï¼Œè¿˜ä¸ºCPUæ ¸å¿ƒã€NEONæµæ°´çº¿éƒ½é…å¤‡äº†ç¡¬ä»¶ä¿ç•™çŠ¶æ€(ç‹¬ç«‹ç”µæºåŸŸ)ä»¥æå‡ç”µæºç®¡ç†æ•ˆç‡ã€‚åœ¨åŒæ ·çš„å·¥è‰ºã€é¢‘ç‡ä¸‹ï¼ŒA35çš„åŠŸè€—æ¯”A7ä½å¤§çº¦10%ï¼ŒåŒæ—¶æ€§èƒ½æå‡6-40%ã€‚è€Œå¯¹æ¯”A53ï¼Œå®ƒå¯ä»¥ä¿ç•™80-100%çš„æ€§èƒ½ï¼Œä½†æ˜¯åŠŸè€—é™ä½32%ã€é¢ç§¯ç¼©å°25%ï¼Œèƒ½æ•ˆæå‡25%ã€‚A35è¿˜å¯ä»¥å’ŒA53ã€A57ã€A72ç­‰å¤§æ ¸å¿ƒæ­é…ï¼Œç»„æˆbig.LITTLEæ··åˆæ¶æ„ç³»ç»Ÿï¼Œè¿›ä¸€æ­¥æå‡ç³»ç»Ÿèƒ½æ•ˆã€‚å…¶ä¸»è¦å®šä½äºä½åŠŸè€—çš„ä½ç«¯æ‰‹æœºã€å¯ç©¿æˆ´ã€ç‰©è”ç½‘ç­‰é¢†åŸŸã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:8:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A53 Cortex-A53åŒæ ·æ˜¯é‡‡å–äº†ARMv8-Aæ¶æ„ï¼Œèƒ½å¤Ÿæ”¯æŒ32ä½çš„ARMv7ä»£ç å’Œ64ä½ä»£ç çš„AArch64æ‰§è¡ŒçŠ¶æ€ã€‚A53æ¶æ„ç‰¹ç‚¹æ˜¯åŠŸè€—é™ä½ã€èƒ½æ•ˆæé«˜ã€‚å…¶ç›®æ ‡æ˜¯28nm HPMåˆ¶é€ å·¥è‰ºä¸‹ã€è¿è¡ŒSPECint2000æµ‹è¯•æ—¶ï¼Œå•ä¸ªæ ¸å¿ƒçš„åŠŸè€—ä¸è¶…è¿‡0.13Wã€‚å®ƒæä¾›çš„æ€§èƒ½æ¯”Cortex-A7å¤„ç†å™¨çš„åŠŸç‡æ•ˆç‡æ›´é«˜ï¼Œå¹¶èƒ½å¤Ÿä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ä¸»è¦çš„åº”ç”¨å¤„ç†å™¨ï¼Œæˆ–è€…æ­é…Cortex-A57å¤„ç†å™¨æ„æˆbig.LITTLEé…ç½®ã€‚Cortex-A53åœ¨ç›¸åŒçš„é¢‘ç‡ä¸‹ï¼Œèƒ½æä¾›æ¯”Cortex-A9æ›´é«˜çš„æ•ˆèƒ½ã€‚å…¶ä¸»è¦é¢å¯¹çš„æ˜¯ä¸­é«˜ç«¯ç”µè„‘ï¼Œå¹³æ¿ç”µè„‘ï¼Œæœºé¡¶ç›’ï¼Œæ•°å­—ç”µè§†ç­‰ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:9:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A57 å‘å¸ƒæ—¶é—´ï¼š ï¼Ÿ A57æ˜¯armç¬¬ä¸€ä»£64ä½å¤§æ ¸,é¦–æ¬¡é‡‡ç”¨64ä½ARMv8-Aæ¶æ„CPUï¼Œè€Œä¸”é€šè¿‡Aarch32æ‰§è¡ŒçŠ¶æ€ï¼Œä¿æŒä¸ARMv7æ¶æ„çš„å®Œå…¨åå‘å…¼å®¹æ€§ã€‚é™¤äº†ARMv8çš„æ¶æ„ä¼˜åŠ¿ä¹‹å¤–ï¼ŒCortex-A57è¿˜æé«˜äº†å•ä¸ªæ—¶é’Ÿå‘¨æœŸæ€§èƒ½ï¼Œæ¯”é«˜æ€§èƒ½çš„Cortex-A15 CPUé«˜å‡ºäº†20%è‡³40%ã€‚å®ƒè¿˜æ”¹è¿›äº†äºŒçº§é«˜é€Ÿç¼“å­˜çš„çš„è®¾è®¡ä»¥åŠå†…å­˜ç³»ç»Ÿçš„å…¶ä»–ç»„ä»¶ï¼Œæå¤§çš„æé«˜äº†èƒ½æ•ˆã€‚Cortex-A57å°†ä¸ºç§»åŠ¨ç³»ç»Ÿæä¾›è¶…é«˜èƒ½çš„æ€§èƒ½ï¼Œè€Œå€ŸåŠ©big.LITTLEï¼ŒSoCèƒ½ä»¥å¾ˆä½çš„å¹³å‡åŠŸè€—åšåˆ°è¿™ä¸€ç‚¹ã€‚å…¶ä¸»è¦é¢å¯¹çš„æ˜¯ä¸­é«˜ç«¯ç”µè„‘ï¼Œå¹³æ¿ç”µè„‘ä»¥åŠæœåŠ¡å™¨äº§å“ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:10:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A72 å‘å¸ƒæ—¶é—´ï¼š 2015å¹´å¹´åˆ ARMv8-Aæ„æ¶ é‡‡ç”¨å°ç§¯ç”µ16nm FinFETåˆ¶é€ å·¥è‰ºï¼ŒCortex-A72å¯åœ¨èŠ¯ç‰‡ä¸Šå•ç‹¬å®ç°æ€§èƒ½ï¼Œä¹Ÿå¯ä»¥æ­é…Cortex-A53å¤„ç†å™¨ä¸ARMCoreLinkTMCCIé«˜é€Ÿç¼“å­˜ä¸€è‡´æ€§äº’è¿ï¼ˆCacheCoherentInterconnectï¼‰æ„æˆARMbig.LITTLETMé…ç½®ï¼Œè¿›ä¸€æ­¥æå‡èƒ½æ•ˆã€‚åœ¨ç›¸åŒçš„ç§»åŠ¨è®¾å¤‡ç”µæ± å¯¿å‘½é™åˆ¶ä¸‹ï¼ŒCortex-A72èƒ½ç›¸è¾ƒåŸºäºCortex-A15çš„è®¾å¤‡æä¾›3.5å€çš„æ€§èƒ½è¡¨ç°ï¼Œç›¸æ¯”äºCortex-A57ä¹Ÿæœ‰çº¦1.8å€çš„æ€§èƒ½æå‡ï¼Œå±•ç°å‡ºäº†ä¼˜å¼‚çš„æ•´ä½“åŠŸè€—æ•ˆç‡ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:11:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A73 å‘å¸ƒæ—¶é—´ï¼š 2016 ARMv8-Aæ„æ¶ Cortex-A73éƒ½å¯ä»¥æä¾›é€‚åº”æ€§æœ€å¼ºçš„ç§»åŠ¨åº”ç”¨ç”Ÿæ€å¼€å‘ç¯å¢ƒã€‚Cortex-A73åŒ…æ‹¬128ä½ AMBR 4 ACEæ¥å£å’ŒARMçš„big.LITTLEç³»ç»Ÿä¸€ä½“åŒ–æ¥å£ï¼Œé‡‡ç”¨äº†ç›®å‰æœ€å…ˆè¿›çš„10nmæŠ€æœ¯åˆ¶é€ ï¼Œå¯ä»¥æä¾›æ¯”Cortex-A72é«˜å‡º30%çš„æŒç»­å¤„ç†èƒ½åŠ›ï¼Œéå¸¸é€‚åˆç§»åŠ¨è®¾å¤‡å’Œæ¶ˆè´¹çº§è®¾å¤‡ä½¿ç”¨ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:12:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A78 å‘å¸ƒæ—¶é—´ï¼š 2020 é€‚ç”¨äº5nmå·¥è‰ºï¼Œæ€§èƒ½æå‡20%ï¼ŒåŠŸè€—åˆ™é™ä½äº†50%ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:13:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A77 ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:14:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A76 ARMv9-A æ„æ¶ The Armv9-A architecture builds on and is backwards compatible with the Armv8-A architecture. The Armv9-A architecture forms the foundation for the Arm Base System Architecture â€“ a specification outlining a standard that ensures hardware and firmware compatibility across a wide range of applications at the system level. The Armv9-A architecture introduces some major new features: SVE2: extending the benefit of scalable vectors to many more use cases Realm Management Extension (RME): extending Confidential Compute on Arm platforms to all developers. Read more about Confidential Compute and Arm architecture security features BRBE: providing profiling information, such as Auto FDO Embedded Trace Extension (ETE) and Trace Buffer Extension (TRBE): enhanced trace capabilities for Armv9 TME: hardware transactional memory support for the Arm architecture å‚è€ƒï¼š A-Profile Architectures è¯¦è§£ARM Cortex-A32å¤„ç†å™¨ï¼Œæ‰“é€ è¶…é«˜èƒ½æ•ˆåµŒå…¥å¼ç¯å¢ƒ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a/cortex-a/:15:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:ARMv7-A ARMv8-A  ARMv9-A æ¶æ„","uri":"/posts/basic_knowledge/arm/cortex-a/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv8 æ¶æ„ç¼–ç¨‹æ¢ç´¢","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":" æ•´ç†è‡ªARMv8 æ¶æ„ç¼–ç¨‹æ¢ç´¢,æ„Ÿè°¢åŸä½œè€…åˆ†äº«ã€‚ ARMv8-A æ¶æ„åŸºç¡€ æ‰§è¡ŒçŠ¶æ€ä¸å¼‚å¸¸çº§åˆ« ARMv8 å¯„å­˜å™¨ç»„ é€šç”¨å¯„å­˜å™¨ç»„ ç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨ç»„ NEON ä¸æµ®ç‚¹å¯„å­˜å™¨ æ ‡é‡å¯„å­˜å™¨å¤§å° å‘é‡å¯„å­˜å™¨å¤§å° NEON åœ¨ AArch32 è¿è¡Œæ¨¡å¼ä¸‹ ARMv8 æŒ‡ä»¤é›† A64 æŒ‡ä»¤é›† å†…å­˜ç®¡ç†å•å…ƒ åŸºäºåˆ†é¡µçš„è™šæ‹Ÿå†…å­˜ è™šæ‹Ÿåœ°å€çš„ç¿»è¯‘è¿‡ç¨‹ å®‰å…¨ä¸éå®‰å…¨åœ°å€ Memory Ordering å†…å­˜ç±»å‹ å±éšœæŒ‡ä»¤ å†…å­˜å±æ€§ å®‰å…¨ç³»ç»Ÿ TrustZone ç¡¬ä»¶æ¶æ„ åˆ©ç”¨ä¸­æ–­åˆ‡æ¢å®‰å…¨ä¸–ç•Œ åœ¨å®‰å…¨æ€å’Œéå®‰å…¨æ€åˆ‡æ¢ éšç€å¼€å‘å·¥ä½œé€æ¸è¿ç§»åˆ° ARMv8 çš„ 64 ä½å¹³å°ï¼Œå› æ­¤æœ‰å¿…è¦å°½å¿«ç†Ÿæ‚‰ ARMv8 æ¶æ„ã€‚ARMv8 ä¸å…ˆå‰è¾ƒä¸ºç†Ÿæ‚‰çš„ ARMv7 æ¶æ„æœ‰è¾ƒå¤§å˜åŒ–ï¼Œå…¶ä¸­éå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯æ”¯æŒäº† A64 æŒ‡ä»¤é›†ï¼Œå¤§å¤§æå‡äº†å¤„ç†å™¨çš„æ€§èƒ½ã€‚ä»ç›®å‰çš„çš„äº†è§£æ¥çœ‹ï¼ŒåŸºæœ¬ä¸Š ARMv8 ä¸ä¸Šä»£æ¶æ„çš„å·®åˆ«éå¸¸å¤§çš„ã€‚é™¤äº† A64 æŒ‡ä»¤é›†ä¹‹å¤–ï¼Œè¿˜æœ‰è®¸å¤šåœ°æ–¹éƒ½æœ‰è¾ƒå¤§æ”¹åŠ¨ï¼Œä¸‹é¢åˆ—å‡ºå‡ ä¸ªç›®å‰æ¯”è¾ƒå…³æ³¨çš„ç‚¹ï¼š æ‰§è¡ŒçŠ¶æ€ä¸å¼‚å¸¸çº§åˆ«ï¼ˆå¼‚å¸¸çº§åˆ«ä¸º EL0 - EL3ï¼‰ ARMv8 å¯„å­˜å™¨ç»„ï¼ˆå’Œå…ˆå‰å®Œå…¨ä¸åŒçš„ 64 ä½å¯„å­˜å™¨ï¼‰ A64 æŒ‡ä»¤é›†ï¼ˆæ–°çš„ 64 ä½æŒ‡ä»¤é›†ï¼‰ å†…å­˜ç®¡ç†ï¼ˆæ¯•ç«Ÿåœ°å€ç©ºé—´å˜æˆ 64 ä½äº†ï¼‰ Memory Ordering å®‰å…¨ç³»ç»Ÿï¼ˆä¾‹å¦‚æ™®é€šä¸–ç•Œå’Œå®‰å…¨ä¸–ç•Œçš„åˆ‡æ¢ï¼‰ æœ¬ç¯‡å°±ä¾æ®ä¸Šé¢çš„å…³é”®ç‚¹å¯¹ ARMv8 æ¶æ„è¿›è¡Œä¸€ç•ªæ¢ç´¢ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:0:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv8-A æ¶æ„åŸºç¡€ ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼ŒARMv8 æ¶æ„å…¼å®¹äº† ARMv7 æ¶æ„çš„å…³é”®ç‰¹æ€§ï¼Œä¾‹å¦‚æ”¯æŒ A32 å’Œ T32 æŒ‡ä»¤é›†ï¼Œå•ç²¾åº¦æµ®ç‚¹æ“ä½œä»¥åŠåŸºäºå•ç²¾åº¦æµ®ç‚¹çš„ SIMD æŒ‡ä»¤ã€‚ ARMv7 ä¸ºä»€ä¹ˆä¸æ”¯æŒåŒç²¾åº¦æµ®ç‚¹çš„ SIMD æŒ‡ä»¤å‘¢ï¼Ÿä¹Ÿè®¸æ˜¯å¯ç”¨çš„æµ®ç‚¹å¯„å­˜å™¨ä¸å¤Ÿå§ï¼ŒAArch64 ä½¿ç”¨äº† 32*128-bit çš„æµ®ç‚¹å¯„å­˜å™¨ï¼Œæ¯” ARMv7 è¦å¤šäº†ä¸€å€ã€‚ ä¸‹å›¾å±•ç¤ºäº†åç»­è¦ä½¿ç”¨çš„ Cortex-A53 ä¸ Cortex-A57 å¤„ç†å™¨å±æ€§ï¼š å¯ç”¨çœ‹å‡ºï¼Œæ— è®ºæ˜¯ A53 è¿˜æ˜¯ A57 çš„æ€§èƒ½éƒ½è¿œè¿œè¶…è¿‡å…ˆå‰çš„å¤„ç†å™¨æ€§èƒ½ï¼Œç”šè‡³ A57 æ¶æ„è¿˜é…å¤‡äº†ä¸“ç”¨çš„ GPUã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:1:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"æ‰§è¡ŒçŠ¶æ€ä¸å¼‚å¸¸çº§åˆ« åœ¨ ARMv8 æ¶æ„ä¸­å®šä¹‰äº†ä¸¤ç§æ‰§è¡ŒçŠ¶æ€ï¼ŒAArch64 ä»¥åŠ AArch32ã€‚è¿™ä¸¤ç§æ‰§è¡ŒçŠ¶æ€åˆ†åˆ«ç”¨äºæè¿°æ‰§è¡Œä½¿ç”¨ 64 ä½å®½çš„é€šç”¨å¯„å­˜å™¨æˆ–è€…ä½¿ç”¨ 32 ä½å®½çš„é€šç”¨å¯„å­˜å™¨ã€‚ç„¶è€Œåœ¨ ARMv8 AArch32 ä¸­ä¿ç•™äº† ARMv7 ä¸­å®šä¹‰çš„ç‰¹æƒçº§ï¼Œè€Œåœ¨ AArch64 ä¸­ï¼Œç‰¹æƒçº§é€šè¿‡å¼‚å¸¸ç­‰çº§è¢«å®šä¹‰ã€‚å› æ­¤æ‰§è¡Œåœ¨å¼‚å¸¸ç­‰çº§ ELn å¯¹åº”äºæ‰§è¡Œåœ¨ç‰¹æƒç­‰çº§ PLnã€‚ åœ¨ AArch64 ä¸­ï¼Œå¤„ç†å™¨æ¨¡å¼åœ¨ä¸åŒçš„å¼‚å¸¸ç­‰çº§é—´åˆ‡æ¢ï¼Œå°±åƒæŒ‡åœ¨ ARMv7ï¼ˆAArch32ï¼‰ ä¸­å½“å¼‚å¸¸è¢«å¤„ç†æ—¶ï¼Œå¤„ç†å™¨åˆ‡æ¢åˆ°ç›¸åº”çš„å¼‚å¸¸ç­‰çº§æ¥å¤„ç†å¼‚å¸¸ã€‚ä¸‹å›¾å±•ç¤ºäº†ä¸¤ç§æ¶æ„åœ¨å¼‚å¸¸å¤„ç†æ—¶çš„æ˜ å°„å…³ç³»ï¼š å¯ä»¥çœ‹å‡ºå…ˆå‰åœ¨ ARMv7 æ—¶æœ‰å„ç§å¼‚å¸¸æ¨¡å¼ï¼Œè€Œåœ¨ ARMv8 ä¸­ï¼Œè¿™äº›æ¨¡å¼ç»Ÿç»Ÿéƒ½å±äº EL1 çº§åˆ«ï¼Œå¤„ç†çš„æ—¶å€™å…ˆè¿›å…¥ EL1 çš„å¤„ç†å‡½æ•°ï¼Œç„¶åå†é€šè¿‡å¯„å­˜å™¨ä¿¡æ¯åˆ¤æ–­ç°åœ¨å‘ç”Ÿäº†å“ªç§å¼‚å¸¸ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:2:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv8 å¯„å­˜å™¨ç»„ AArch64 æ‰§è¡ŒçŠ¶æ€åœ¨æ‰€æœ‰çš„å¼‚å¸¸çº§åˆ«ä¸‹æä¾›äº† 31 ä¸ª 64 ä½é€šç”¨å¯„å­˜å™¨ï¼Œæ¯ä¸€ä¸ªå¯„å­˜å™¨æœ‰ 64 ä½å®½ï¼Œä» X0-X30ã€‚ ä¸‹å›¾å±•ç¤ºäº† AArch64 çš„ é€šç”¨å¯„å­˜å™¨ç»„ä¸ç‰¹æ®Šå¯„å­˜å™¨ï¼š ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:3:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"é€šç”¨å¯„å­˜å™¨ç»„ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:3:1","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨ç»„ å¯ä»¥çœ‹å‡º AArch64 ä¸å…ˆå‰çš„å¯„å­˜å™¨ç»„æœ‰äº†éå¸¸å¤§çš„å˜åŒ–ï¼Œä¸ä»…é€šç”¨å¯„å­˜å™¨ç»„çš„å®½åº¦å’Œä¸ªæ•°å˜å¤šäº†ï¼Œç‰¹æ®Šå¯„å­˜å™¨ç»„ä¹Ÿéå¸¸ä¸åŒã€‚ç‰¹æ®Šå¯„å­˜å™¨ç»„æœ€å¤§çš„å˜åŒ–æ˜¯ï¼Œå…ˆå‰åœ¨ ARMv7 ä¸‹å„ç§ä¸åŒæ¨¡å¼ä¸‹çš„ BANK å¯„å­˜å™¨ç»„éƒ½æ²¡æœ‰äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸åŒçº§åˆ«å¼‚å¸¸ä¸‹çš„ SP æŒ‡é’ˆã€SPSR ä»¥åŠå¼‚å¸¸è¿”å›å¯„å­˜å™¨ç»„ã€‚ åŒæ—¶ä¸ºäº†å…¼å®¹å…ˆå‰ ARMv7 ä¸‹ AArch32 æ‰§è¡ŒçŠ¶æ€ï¼Œæ”¯æŒä» AArch64 åˆ° AArch32 å¯„å­˜å™¨ç»„çš„æ˜ å°„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š PSTATE at AArch32 åœ¨ AArch64 ä¸­ï¼Œä¼ ç»Ÿçš„ CPSR å¯„å­˜å™¨è¢« PSTATE å–ä»£ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:3:2","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"NEON ä¸æµ®ç‚¹å¯„å­˜å™¨ é™¤äº†é€šç”¨å¯„å­˜å™¨ç»„ä¹‹å¤–ï¼Œ ARMv8 ä¹Ÿæä¾›äº† 32 ä¸ª 128 ä½çš„æµ®ç‚¹å¯„å­˜å™¨ç»„ï¼ŒV0-V31ã€‚è¿™ 32 ä¸ªå¯„å­˜å™¨ç”¨æˆ·ä¿å­˜æµ®ç‚¹æ“ä½œæ•°ç”¨äºæ ‡é‡æµ®ç‚¹æ‰§è¡Œæˆ–è€…æ ‡é‡å’Œå‘é‡æ“ä½œæ•°ç”¨äº NEON æ“ä½œã€‚ æ ‡é‡å¯„å­˜å™¨å¤§å° å‘é‡å¯„å­˜å™¨å¤§å° é’ˆå¯¹ä¸åŒå¤§å°çš„å‘é‡æ“ä½œï¼š NEON åœ¨ AArch32 è¿è¡Œæ¨¡å¼ä¸‹ åœ¨ AArch32 ä¸­ï¼Œå°çš„å¯„å­˜å™¨è¢«æ‰“åŒ…æˆæ›´å¤§çš„å¯„å­˜å™¨ï¼Œä¾‹å¦‚ D0 å’Œ D1 è¢«ç»„åˆæˆ Q1ã€‚è¿™å°±å¼•å…¥äº†ä¸€äº›å¤æ‚çš„å¾ªç¯ä¾èµ–å…³ç³»ï¼Œä¼šé™ä½ç¼–è¯‘å™¨å‘é‡åŒ–å¾ªç¯ç»“æ„çš„èƒ½åŠ›ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:3:3","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv8 æŒ‡ä»¤é›† ARMv8 æ¶æ„æœ€å¤§çš„å˜åŒ–ä¹‹ä¸€å°±æ˜¯å¼•å…¥äº†é¢å¤–çš„ 64 ä½æŒ‡ä»¤é›†ï¼Œè¡¥å……äº†ç°æœ‰çš„ 32 ä½æŒ‡ä»¤é›†æ¶æ„ã€‚è¿™ä¸€æ·»åŠ æä¾›äº†è®¿é—® 64 ä½å®½çš„æ•´æ•°å¯„å­˜å™¨å’Œæ•°æ®æ“ä½œï¼Œä»¥åŠä½¿ç”¨ 64 ä½å¤§å°çš„æŒ‡é’ˆè®¿é—®å†…å­˜çš„èƒ½åŠ›ã€‚æ–°çš„æŒ‡ä»¤é›†ç§°ä¸º A64ï¼Œè¿è¡Œåœ¨ AArch64 æ‰§è¡ŒçŠ¶æ€ã€‚ARMv8 ä¹ŸåŒ…æ‹¬å…ˆå‰çš„ ARM æŒ‡ä»¤é›†ï¼Œç°åœ¨å«åš A32 å’Œ T32 æŒ‡ä»¤é›†ï¼Œè¿™ä¸¤ç§æŒ‡ä»¤é›†éƒ½è¿è¡Œåœ¨ AArch32 çŠ¶æ€ï¼Œæä¾›å¯¹ ARMv7 çš„å…ˆåå…¼å®¹ã€‚ å¦å¤–æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒA64 æŒ‡ä»¤é›†çš„æ“ä½œç çš„é•¿åº¦ä»ç„¶æ˜¯ 32 ä½ï¼Œè€Œä¸æ˜¯ 64 ä½ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:4:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"A64 æŒ‡ä»¤é›† A64 çš„æŒ‡ä»¤åŠ©è®°ç¬¦ä¸ ARMv7 æ²¡æœ‰å¤ªå¤§å˜åŒ–ï¼Œåªæ˜¯æ‰€æ“ä½œçš„å¯„å­˜å™¨å½¢å¼ä¸åŒï¼Œ AArch64 å¯„å­˜å™¨æœ‰ä¸åŒçš„ä½å®½ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦è®°ä½ä¸åŒå½¢å¼çš„æŒ‡ä»¤ï¼Œæ±‡ç¼–å™¨ä¼šæ ¹æ®æˆ‘ä»¬æ“ä½œçš„å¯„å­˜å™¨åç§°è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç¼–ç ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:4:1","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"å†…å­˜ç®¡ç†å•å…ƒ MMU çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯ä½¿å¾—ç³»ç»Ÿå¯ä»¥è¿è¡Œå¤šä»»åŠ¡ï¼Œä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè¿è¡Œåœ¨å®ƒçš„ç§æœ‰è™šæ‹Ÿåœ°å€ç©ºé—´ä¸Šã€‚è¿™äº›ç‹¬ç«‹ç¨‹åºä¸éœ€è¦çŸ¥é“ç³»ç»Ÿçš„ç‰©ç†å†…å­˜æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯é‚£äº›å®é™…è¢«ç¡¬ä»¶ä½¿ç”¨çš„åœ°å€ï¼Œä¹Ÿä¸ç”¨å…³å¿ƒå…¶ä»–ç¨‹åºæ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚ æœ‰äº† MMU ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿å¾—æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨ç›¸åŒçš„è™šæ‹Ÿåœ°å€ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨è¿ç»­çš„è™šæ‹Ÿåœ°å€æ˜ å°„ï¼Œå³ä½¿è¿™äº›ç‰©ç†å†…å­˜æ˜¯åˆ†ç¦»çš„ã€‚å½“å°†ä»£ç æ”¾ç½®åœ¨å†…å­˜ä¸­æ—¶ï¼Œè™šæ‹Ÿåœ°å€æ˜¯é‚£äº›è¢«ç¨‹åºå‘˜ã€ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ä½¿ç”¨çš„åœ°å€ç©ºé—´ã€‚è€Œç‰©ç†åœ°å€æ˜¯é‚£äº›è¢«å®é™…ç¡¬ä»¶ç³»ç»Ÿä½¿ç”¨çš„åœ°å€ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:5:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"åŸºäºåˆ†é¡µçš„è™šæ‹Ÿå†…å­˜ åœ¨ RT-Smart æ“ä½œç³»ç»Ÿä¸­é‡‡ç”¨äº†åŸºäºåˆ†é¡µæœºåˆ¶çš„å†…å­˜è®¾è®¡ä¸å®ç°ï¼Œè€Œé¡µè¡¨æ˜¯åˆ†é¡µæœºåˆ¶ä¸­çš„å…³é”®éƒ¨åˆ†ï¼Œè´Ÿè´£è®°å½•è™šæ‹Ÿé¡µåˆ°ç‰©ç†é¡µçš„æ˜ å°„å…³ç³»ï¼Œæ“ä½œç³»ç»Ÿè´Ÿè´£å¯¹é¡µè¡¨è¿›è¡Œé…ç½®ã€‚ åœ¨ä»¥å¾€è¾ƒç®€å•çš„å®å†…æ ¸ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€å°†è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€é…ç½®æˆä¸€ä¸€æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯è¯´ CPU å°è¯•è®¿é—®æŒ‡å®šä½ç½®çš„è™šæ‹Ÿåœ°å€ï¼Œç»è¿‡ MMU ç¿»è¯‘ï¼Œå®é™…ä¸Šä¹Ÿè®¿é—®äº†å®é™…çš„ç‰©ç†åœ°å€ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åœ¨æ”¯æŒå¤šè¿›ç¨‹çš„ RT-Smart ä¸­æ˜¯ä¸å¤Ÿçš„ï¼Œè¦æƒ³æ”¯æŒå¤šè¿›ç¨‹ï¼Œå°±éœ€è¦è®©ä¸åŒè¿›ç¨‹åœ¨è®¿é—®ç›¸åŒè™šæ‹Ÿåœ°å€æ—¶ï¼Œå®é™…ä¸Šè®¿é—®äº†ä¸åŒçš„ç‰©ç†åœ°å€ã€‚ åœ¨ AArch64 æ¶æ„ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤šçº§é¡µè¡¨çš„æ–¹å¼æ¥è§£å†³å¤šè¿›ç¨‹çš„å†…å­˜åˆ†é…é—®é¢˜ï¼Œå¸¸è§çš„è®¾ç½®æ˜¯è™šæ‹Ÿåœ°å€ä½ 48 ä½å‚ä¸åœ°å€ç¿»è¯‘ï¼Œé¡µè¡¨çº§æ•°ä¸º 4 çº§ï¼Œè™šæ‹Ÿé¡µå¤§å°ä¸º 4 KBã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç‰©ç†å†…å­˜è¢«åˆ’åˆ†ä¸ºè¿ç»­çš„ã€4 KB å¤§å°çš„ç‰©ç†é¡µï¼Œä¸€ä¸ªè™šæ‹Ÿé¡µå¯ä»¥æ˜ å°„å¯¹åº”ä¸€ä¸ªç‰©ç†é¡µã€‚æ­£å› ä¸ºé¡µçš„å¤§å°ä¸º 4 KBï¼Œæ‰€ä»¥è™šæ‹Ÿåœ°å€çš„ä½ 12 ä½å¯¹åº”äºé¡µå†…åç§»é‡ã€‚ è™šæ‹Ÿåœ°å€çš„ç¿»è¯‘è¿‡ç¨‹ å»ºç«‹é¡µè¡¨æ˜¯å†…å­˜ç®¡ç†çš„ä¸€ä¸ªå…³é”®è¿‡ç¨‹ï¼Œåç»­ç”¨ä¸€ä¸ªä¸“é¢˜æ¥ä»”ç»†ç ”ç©¶ä¸€ä¸‹ ARMv8 ä¸‹å¤šçº§é¡µè¡¨çš„å»ºç«‹è¿‡ç¨‹ï¼Œä¸‹å›¾å±•ç¤ºäº†å¦‚ä½•é€çº§æŸ¥è¯¢é¡µè¡¨æœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªæ­£å¸¸çš„ 64KB ç‰©ç†é¡µçš„è¿‡ç¨‹ã€‚ æ¯ä¸€ä¸ªäºŒçº§é¡µè¡¨å¯ä»¥ä¸ä¸€ä¸ªæˆ–è€…å¤šä¸ªä¸€çº§é¡µè¡¨æ‰€å…³è”ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¤šä¸ªä¸€çº§é¡µè¡¨æè¿°ç¬¦æŒ‡å‘åŒä¸€ä¸ªäºŒçº§è¡¨ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´å¯ä»¥è®©å¤šä¸ªè™šæ‹Ÿåœ°å€æŒ‡å‘ç›¸åŒçš„ç‰©ç†åœ°å€ã€‚ å®‰å…¨ä¸éå®‰å…¨åœ°å€ ä»ç†è®ºä¸Šæ¥è¯´ï¼Œå®‰å…¨å’Œéå®‰å…¨çš„ç‰©ç†åœ°å€ç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹ä¸”åŒæ—¶å­˜åœ¨çš„ã€‚ä¸€ä¸ªç³»ç»Ÿå¯ä»¥è¢«è®¾è®¡æˆæœ‰ä¸¤ä¸ªå®Œå…¨åˆ†ç¦»çš„å†…å­˜ç³»ç»Ÿã€‚ç„¶è€Œå¤§éƒ¨åˆ†å®é™…çš„ç³»ç»Ÿå°†å®‰å…¨å’Œéå®‰å…¨å½“åšä¸€ä¸ªè®¿é—®æ§åˆ¶çš„å±æ€§ã€‚æ™®é€šä¸–ç•Œåªèƒ½è®¿é—®éå®‰å…¨çš„ç‰©ç†åœ°å€ç©ºé—´ã€‚å®‰å…¨ä¸–ç•Œå¯ä»¥è®¿é—®ä¸¤ç§ç‰©ç†åœ°å€ç©ºé—´ã€‚è¿™äº›è®¿é—®æƒé™æ˜¯è¢«è½¬æ¢è¡¨é…ç½®æ§åˆ¶çš„ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:5:1","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Memory Ordering åœ¨æ“ä½œç³»ç»Ÿçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç¼–å†™ä¸€äº›ä¸ç¡¬ä»¶äº¤äº’æˆ–è€…æ‰§è¡Œåœ¨å…¶ä»–æ ¸ä¸Šçš„ä»£ç ï¼Œæˆ–è€…ç›´æ¥åŠ è½½æˆ–è€…å†™å…¥è¦è¢«æ‰§è¡Œçš„æŒ‡ä»¤ï¼ˆä¾‹å¦‚åŠ è½½åº”ç”¨ç¨‹åºï¼‰ï¼Œæˆ–è€…ä¿®æ”¹é¡µè¡¨ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹éƒ½éœ€è¦è€ƒè™‘å†…å­˜è®¿é—®é¡ºåºé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºè§‚å¯Ÿå€¼å’Œå®é™…æ‰§è¡Œæƒ…å†µçš„é¡ºåºå·®ã€‚ åœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜å¿…é¡»ä¿è¯ç¼–å†™çš„ä»£ç æœ‰ç€æ¸…æ™°çš„å†…å­˜è®¿é—®é¡ºåºï¼Œå¯ä»¥é€šè¿‡æ­£ç¡®åœ°åˆ©ç”¨å±éšœï¼ˆbarriersï¼‰æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚ åœ¨ ARMv8 æ¶æ„ä¸­ä½¿ç”¨äº†å†…å­˜å¼±åºæ¨¡å‹ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™å°±æ„å‘³ç€å†…å­˜è®¿é—®çš„é¡ºåºå¹¶ä¸ç”¨è¦æ±‚ä¸ç¨‹åºçš„åŠ è½½ï¼ˆloadï¼‰å’Œå­˜å‚¨ï¼ˆstoreï¼‰æ“ä½œä¸€è‡´ã€‚å¤„ç†å™¨å¯ä»¥é‡æ–°è°ƒæ•´å†…å­˜è¯»ã€å†™æ“ä½œã€‚è¿™æ ·åšçš„ç»“æœæ˜¯ï¼Œä½¿ç”¨ä¸€äº›ç¡¬ä»¶ä¼˜åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚ cache å’Œå†™ç¼“å†²åŒºå¯ä»¥ä¼˜åŒ–å¤„ç†å™¨çš„æ€§èƒ½ï¼Œè¿™å°±æ„å‘³ç€å¤„ç†å™¨å’Œå¤–éƒ¨å†…å­˜ä¹‹é—´çš„å¸¦å®½è¦æ±‚å¯ä»¥é™ä½ï¼Œè€Œä¸”ä¸å¤–éƒ¨å†…å­˜è®¿é—®ç›¸å…³çš„å»¶æ—¶å¯ä»¥è¢«éšè—ã€‚ å¯¹æ™®é€šå†…å­˜çš„è¯»å†™å¯ä»¥è¢«ç¡¬ä»¶é‡æ–°æ’åºï¼Œåªå—æ•°æ®ä¾èµ–å’Œæ˜¾ç¤ºçš„å†…å­˜å±éšœæŒ‡ä»¤çš„å½±å“ã€‚åœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦æ›´å¼ºçš„æ’åºè§„åˆ™ã€‚ç¨‹åºå‘˜å¯ä»¥é€šé€šè¿‡æè¿°è¯¥å†…å­˜çš„è½¬æ¢è¡¨é¡¹çš„å†…å­˜ç±»å‹å±æ€§ï¼Œå‘å¤„ç†å™¨æ ¸å¿ƒæä¾›ç›¸å…³ä¿¡æ¯ã€‚ ä¸€äº›éå¸¸é«˜æ€§èƒ½çš„ç³»ç»Ÿæ”¯æŒåŒ…æ‹¬å†…å­˜è¯»æ¨æµ‹ã€å¤šå‘æŒ‡ä»¤æˆ–è€…ä¹±åºæ‰§è¡Œä»¥åŠå…¶ä»–æŠ€æœ¯ï¼Œæä¾›äº†æ›´è¿›ä¸€æ­¥çš„å¯èƒ½æ€§ä½¿å¾—ç¡¬ä»¶é‡æ–°è°ƒæ•´å†…å­˜è®¿é—®é¡ºåºã€‚ å¤šæ¡æŒ‡ä»¤äº§ç”Ÿ ä¹±åºæ‰§è¡Œ æ‰§è¡Œé¢„æµ‹ é¢„æµ‹åŠ è½½ åŠ è½½å’Œå­˜å‚¨ä¼˜åŒ– å¤–éƒ¨å†…å­˜ç³»ç»Ÿ ç¼“å­˜ä¸€è‡´æ€§ä¸å¤šæ ¸å¤„ç† ç¼–è¯‘å™¨ä¼˜åŒ– ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:6:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"å†…å­˜ç±»å‹ æ‰€æœ‰çš„å†…å­˜åŒºåŸŸéƒ½è¢«é…ç½®æˆä¸¤ç§ç±»å‹ä¹‹ä¸€ï¼Œæ™®é€šå†…å­˜å’Œè®¾å¤‡å†…å­˜ã€‚ç¬¬ä¸‰ç§å†…å­˜ç±»å‹ï¼Œå¼ºåºå†…å­˜ï¼Œæ˜¯ ARMv7 æ¶æ„çš„ä¸€éƒ¨åˆ†ã€‚å¼ºåºå†…å­˜ä¸è®¾å¤‡å†…å­˜çš„åŒºåˆ«å¾ˆå°ï¼Œå› æ­¤åœ¨ ARMv8 ä¸­è¢«çœç•¥äº†ã€‚ é™¤äº†å†…å­˜ç±»å‹ï¼Œå±æ€§è¿˜æä¾›äº†å¯¹ cacheabilityã€shareabilityã€access å’Œæ‰§è¡Œæƒé™çš„æ§åˆ¶ã€‚å¯å…±äº«å’Œå¯ç¼“å­˜å±æ€§ä»…é€‚ç”¨äºæ™®é€šå†…å­˜ã€‚è®¾å¤‡åŒºåŸŸæ°¸è¿œæ˜¯ä¸èƒ½ç¼“å­˜å’Œä¸èƒ½å…±äº«çš„ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:6:1","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"å±éšœæŒ‡ä»¤ ARM æ¶æ„åœ¨ç‰¹å®šç‚¹ä½¿ç”¨å±éšœæŒ‡ä»¤æ¥å¼ºåˆ¶æŒ‡å®šè®¿é—®é¡ºåºå’Œè®¿é—®å®Œæˆã€‚åœ¨ä¸€äº›å…¶ä»–æ¶æ„ä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„æŒ‡ä»¤è¢«ç§°ä¸º fenceã€‚ ARMv8 æ¶æ„æä¾›äº†ä¸‰ç§ç±»å‹çš„å±éšœæŒ‡ä»¤ï¼š æŒ‡ä»¤åŒæ­¥å±éšœï¼ˆISBï¼‰ æ•°æ®å†…å­˜å±éšœï¼ˆDMBï¼‰ æ•°æ®åŒæ­¥å±éšœï¼ˆDSBï¼‰ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:6:2","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"å†…å­˜å±æ€§ ç³»ç»Ÿçš„å†…å­˜å†…å­˜æ˜ å°„è¢«åˆ†ä¸ºè®¸å¤šåŒºåŸŸï¼Œæ¯ä¸€ä¸ªåŒºåŸŸéƒ½éœ€è¦ä¸åŒçš„å†…å­˜å±æ€§ï¼Œä¾‹å¦‚å¯¹ä¸åŒä¼˜å…ˆçº§ã€å†…å­˜ç±»å‹ã€ç¼“å­˜ç­–ç•¥çš„è¯»å†™è®¿é—®æƒé™ã€‚ å†…å­˜å±æ€§è¿˜åŒ…æ‹¬ cacheable å’Œ shareableï¼Œå…³äº shareable ç»†åˆ†ä¸‹æ¥è¿˜æœ‰ Non-shareableã€Inner shareableã€Outer shareable ä»¥åŠ full systemã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:6:3","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"å®‰å…¨ç³»ç»Ÿ ä¸€ä¸ªç³»ç»Ÿæä¾›ä¸€ä¸ªç‰¹å®šçš„å®‰å…¨ç­‰çº§ï¼Œä¸€ä¸ªå—ä¿¡çš„ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªç”¨æ¥ä¿æŠ¤æœ‰ä»·å€¼çš„æ•°æ®ï¼Œä¾‹å¦‚å¯†ç å’ŒåŠ å¯†ç§˜é’¥ï¼Œä¿¡ç”¨å¡æ•°æ®ï¼Œé¿å…å—åˆ°æ”»å‡»ï¼Œé¿å…ä»–ä»¬è¢«å¤åˆ¶ã€æ¯åæˆ–è€…ä¸¢å¤±ã€‚ åœ¨ä¸€ä¸ªå¼€æ”¾çš„ç³»ç»Ÿä¸­å¾ˆéš¾ä¿è¯å®‰å…¨ï¼Œå› ä¸ºåœ¨å¹³å°ä¸Šä¼šè¿è¡Œå„ç§å„æ ·çš„è½¯ä»¶ï¼Œä¹Ÿä¼šä¸‹è½½ä¸€äº›æ¶æ„çš„ç¨‹åºï¼Œè¿™äº›ç¨‹åºå¯èƒ½ä¼šç¯¡æ”¹ç³»ç»Ÿã€‚ ARM å¤„ç†å™¨åŒ…æ‹¬ç‰¹æ®Šçš„ç¡¬ä»¶æ‰©å±•æ¥æ„å»ºä¸€ä¸ªå—ä¿¡çš„ç³»ç»Ÿã€‚è½¯ä»¶ä»¥åŠç¡¬ä»¶å·¥å…·å¯ä»¥è¢«åˆ†ä¸ºå¦‚ä¸‹ä¸‰ç±»ï¼š è½¯ä»¶æ”»å‡» ç®€å•ç¡¬ä»¶æ”»å‡» å®éªŒå®¤ç¡¬ä»¶æ”»å‡» Trust Zone æŠ€æœ¯å°±æ˜¯è¢«è®¾è®¡ç”¨äºä¿æŠ¤è½¯ä»¶å’Œç®€å•ç¡¬ä»¶æ”»å‡»ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:7:0","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"TrustZone ç¡¬ä»¶æ¶æ„ TrustZone æ¶æ„ä¸ºç³»ç»Ÿè®¾è®¡è€…æä¾›ä¸€ç§æ–¹æ³•æ¥å¸®åŠ©å®‰å…¨ç³»ç»Ÿï¼Œä½¿ç”¨ TrustZone å®‰å…¨æ‰©å±•å’Œå®‰å…¨å¤–è®¾ã€‚ARM å®‰å…¨æ¨¡å‹åˆ†ä¸ºè®¾å¤‡ç¡¬ä»¶å’Œè½¯ä»¶èµ„æºï¼Œä»–ä»¬å­˜åœ¨äºå®‰å…¨ä¸–ç•Œä¸ºå®‰å…¨å­ç³»ç»Ÿï¼Œæˆ–è€…æ™®é€šä¸–ç•Œä¸ºéå®‰å…¨ç³»ç»Ÿã€‚ç³»ç»Ÿç¡¬ä»¶å¯ä»¥ä¿è¯å®‰å…¨ä¸–ç•Œçš„æ•°æ®éƒ½ä¸å¯ä»¥è¢«æ™®é€šä¸–ç•Œè®¿é—®åˆ°ã€‚ä¸€ä¸ªå®‰å…¨çš„è®¾è®¡ä¼šå°†æ‰€æœ‰æ•æ„Ÿçš„èµ„æºæ”¾åœ¨å®‰å…¨ä¸–ç•Œã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:7:1","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"åˆ©ç”¨ä¸­æ–­åˆ‡æ¢å®‰å…¨ä¸–ç•Œ å› ä¸ºä»£ç ä¼šåœ¨ä¸¤ä¸ªä¸–ç•Œä¸­æ‰§è¡Œï¼Œå› æ­¤éœ€è¦åˆ©ç”¨ç¡¬ä»¶çš„å¼‚å¸¸æœºåˆ¶ï¼Œé€šè¿‡ SMC æŒ‡ä»¤æ¥è¿›è¡Œç¯å¢ƒåˆ‡æ¢ã€‚ä¸‹å›¾å±•ç¤ºäº†åœ¨éå®‰å…¨ä¸–ç•Œçš„ä¸Šä¸‹æ–‡åˆ‡æ¢è¿‡ç¨‹ï¼š ä¸‹å›¾å±•ç¤ºå®‰å…¨ä¸–ç•Œä¸­çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è¿‡ç¨‹ï¼š ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:7:2","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"åœ¨å®‰å…¨æ€å’Œéå®‰å…¨æ€åˆ‡æ¢ ä½¿ç”¨ ARMv7 å®‰å…¨æ‰©å±•ï¼Œmonitor æ¨¡å¼è¢«è½¯ä»¶ä½¿ç”¨ä¸åœ¨å®‰å…¨å’Œéå®‰å…¨æ€è¿›è¡Œåˆ‡æ¢ã€‚è¿™ä¸ªæ¨¡å¼ä¸å…¶ä»–æ¨¡å¼åœ¨å®‰å…¨æ€ä¸‹æœ‰ç€åŒç­‰çš„ä¼˜å…ˆçº§ã€‚ å¯¹äº ARMv8 æ¶æ„ï¼Œå½“ EL3 åœ¨ä½¿ç”¨ AArch32 ç³»ç»Ÿæ—¶ä¸ ARMv7 å®Œå…¨å…¼å®¹ï¼Œå®‰å…¨çŠ¶æ€çš„ç‰¹æƒæ¨¡å¼è¿è¡Œåœ¨ EL3ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸‹å›¾å±•ç¤ºäº†åœ¨ AArch64 æ¶æ„ä¸‹ä½¿ç”¨ EL3 æä¾›å®‰å…¨ç›‘è§†å™¨çš„æƒ…å†µã€‚åœ¨ EL3 æ€ä¸‹æ˜¯ä¸èƒ½è¿è¡Œ AArch32 çš„ï¼ŒæŒ‰æ—¶ EL1 å¯ä»¥ç”¨ä½œå®‰å…¨æ“ä½œç³»ç»Ÿã€‚å½“ EL3 åœ¨ä½¿ç”¨ AArch64ï¼ŒEL3 çº§åˆ«è¢«ç”¨äºæ‰§è¡Œåˆ‡æ¢å®‰å…¨æ€ä¸éå®‰å…¨æ€çš„ä»£ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…³äº ARM çš„å®‰å…¨çŠ¶æ€ï¼Œåç»­è¿˜æ˜¯è¦ä»”ç»†ç ”ç©¶çš„ï¼Œå› ä¸ºé€šè¿‡ ATF å°†ç³»ç»Ÿä» EL3 åˆ‡æ¢åˆ° EL1 çš„éå®‰å…¨çŠ¶æ€åï¼Œæ‰å¯ä»¥æ­£å¸¸çš„è¿è¡Œ RT-Smart æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥å¯¹ ATF çš„ç ”ç©¶æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/:7:3","tags":["ARMv8"],"title":"arm:ARMv8æ¶æ„ç¼–ç¨‹æ¢ç´¢","uri":"/posts/basic_knowledge/arm/armv8/armv8_%E6%9E%B6%E6%9E%84%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"ARMv7-A ARMv8-A  ARMv9-A","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/:0:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A characteristics - Cortex-A ç‰¹æ€§ æ‰€æœ‰Cortex-Aå¤„ç†å™¨ä»¬éƒ½æœ‰ç›¸åŒçš„æ¶æ„å’Œç‰¹æ€§ã€‚ ä½¿ç”¨ARMv7-Aæ¶æ„çš„Cortex-Aå¤„ç†å™¨æ”¯æŒ32bitçš„ARMæŒ‡ä»¤å’Œå¯»å€ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ16/32æ··åˆçš„ThumbæŒ‡ä»¤ã€‚ ARMv8-Aæ¶æ„çš„Cortex-Aå¤„ç†å™¨æ”¯æŒ64bitçš„å¯»å€å’ŒAArch64æ‰§è¡ŒçŠ¶æ€ï¼ŒåŒæ—¶ä¹Ÿå‘åå…¼å®¹AArch32æ‰§è¡ŒçŠ¶æ€ã€‚ Cortex-A ç³»åˆ—å¤„ç†å™¨æœ‰ä»¥ä¸‹æ‰©å±•æ¶æ„ ARM TrustZoneÂ®, to provide support for security SIMD and Advanced SIMD (NEON) technologies ARM Floating Point architecture (VFP) big.LITTLE technology Large Physical Address Extension (LPAE) addressing up to 1TB of physical memory on some of the 32-bit ARMv7-A processors. ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/:1:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Multicore technology - å¤šæ ¸æŠ€æœ¯ ä»å•æ ¸åˆ°4æ ¸å…·æœ‰ç¡¬ä»¶ä¸€è‡´æ€§ æ”¯æŒâ€œå¯¹ç§°å¤šå¤„ç†æŠ€æœ¯â€å’Œâ€œéå¯¹ç§°å¤šå¤„ç†æŠ€æœ¯â€ é€šè¿‡Accelerator Coherency Port (ACP)æŠ€æœ¯ï¼Œå¯ä»¥è®©å¤–éƒ¨æ— ç¼“å­˜æ€»çº¿ä¸»æ§å™¨è¾¾åˆ°ä¸€è‡´æ€§ é€šè¿‡AMBAÂ® 4 ACE(AMBA Coherency Extension) å’Œ AMBA 5 CHI(Coherent Hub Interface)ï¼Œå¯ä»¥ä¿è¯éåŒæ—é—´çš„CPUçš„ä½¿ç”¨ä¹Ÿå¯ä»¥ä¿æŒä¸€è‡´æ€§ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/:2:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Industry standard - è¡Œä¸šæ ‡å‡† Cortex-A å¤„ç†å™¨æ˜¯è¡Œä¸šæ ‡å‡†ï¼ŒæˆåŠŸå½’åŠŸäºARMçš„åˆä½œä¼™ä¼´ã€‚ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/:3:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["èŠ¯ç‰‡æ¶æ„"],"content":"Cortex-A çš„åº”ç”¨ ","date":"2023-01-22","objectID":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/:4:0","tags":["ARMv7-A","ARMv8-A","ARMv9-A"],"title":"arm:Cortex-Aæ€§èƒ½å¯¹æ¯”","uri":"/posts/basic_knowledge/arm/cortex-a9/cortex-a/"},{"categories":["ros"],"content":"æ ‘è“æ´¾4Bå®‰è£…ROS2","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/","tags":["ros"],"title":"ros:æ ‘è“æ´¾4Bå®‰è£…ROS2","uri":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/"},{"categories":["ros"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ä½¿ç”¨å®‰è£…è„šæœ¬æŒ‰è£…ros2 ROS2æ„å»ºå·¥å…·colcon å®‰è£…colconå·¥å…· æ„å»ºç›®å½• å¸¸ç”¨å‘½ä»¤ å‚è€ƒ ä½¿ç”¨å®‰è£…è„šæœ¬æŒ‰è£…ros2 è¿™é‡Œä½¿ç”¨é±¼é¦™ç¤¾åŒºæä¾›çš„ä¸€é”®å®‰è£…è„šæœ¬ï¼Œè„šæœ¬å¼€æºåœ°å€å¦‚ä¸‹ ï¼š 1 https://github.com/fishros/install ä½¿ç”¨å‘½ä»¤å®‰è£… 1 wget http://fishros.com/install -O fishros \u0026\u0026 . fishros æŒ‰ç…§æç¤ºæŒ‰è½¬å³å¯ã€‚ ROS2æ„å»ºå·¥å…·colcon ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/:0:0","tags":["ros"],"title":"ros:æ ‘è“æ´¾4Bå®‰è£…ROS2","uri":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/"},{"categories":["ros"],"content":"å®‰è£…colconå·¥å…· 1 sudo apt install python3-colcon-common-extensions ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/:1:0","tags":["ros"],"title":"ros:æ ‘è“æ´¾4Bå®‰è£…ROS2","uri":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/"},{"categories":["ros"],"content":"æ„å»ºç›®å½• ä¸€èˆ¬æƒ…å†µä¸‹åœ¨å·¥ä½œç©ºé—´ç›®å½•ä¸‹æ„å»ºï¼Œå®ƒä¼šåˆ›å»ºä¸srcç›®å½•å¹³çº§çš„ä¸‹åˆ—ç›®å½•ï¼š buildç›®å½•ï¼šæ˜¯å­˜å‚¨ä¸­é—´æ–‡ä»¶çš„ç›®å½•ï¼Œä¼šä¸ºæ¯ä¸ªè½¯ä»¶åŒ…åœ¨buildç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­ç›®å½•ï¼Œåœ¨è¯¥å­ç›®å½•ä¸­ï¼› installç›®å½•ï¼šè¿™æ˜¯æ¯ä¸ªè½¯ä»¶åŒ…å°†è¢«å®‰è£…çš„ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè½¯ä»¶åŒ…éƒ½å°†ä¼šè¢«å®‰è£…åˆ°ä¸€ä¸ªå•ç‹¬çš„å­ç›®å½•ä¸­ï¼› logç›®å½•ï¼šè¯¥ç›®å½•åŒ…å«æœ‰å…³æ¯ä¸ªcolconè°ƒç”¨çš„å„ç§æ—¥å¿—ä¿¡æ¯ï¼› ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/:2:0","tags":["ros"],"title":"ros:æ ‘è“æ´¾4Bå®‰è£…ROS2","uri":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/"},{"categories":["ros"],"content":"å¸¸ç”¨å‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # å…¨éƒ¨ç¼–è¯‘ colcon build # packages-select å‘½ä»¤ colcon build --packages-select YOUR_PKG_NAME # ç¼–è¯‘æŒ‡å®šåŒ…ï¼Œå¯ä»¥å¤šä¸ª # packages-ignore å‘½ä»¤ colcon build --packages-ignore YOUR_PKG_NAME # å¿½ç•¥æŒ‡å®šåŒ…ï¼Œå¯ä»¥å¤šä¸ª # continue-on-error å‘½ä»¤ colcon build --continue-on-error # åœ¨ç¼–è¯‘å‡ºé”™ä¹‹åç»§ç»­ç¼–è¯‘å…¶ä»–æ¨¡å— # symlink-install å‘½ä»¤ colcon build --symlink-install # è¡¨ç¤ºç¼–è¯‘æ—¶å¦‚æœ install ä¸­æ–‡ä»¶å·²ç»å­˜åœ¨äº src æˆ–è€… build æ–‡ä»¶å¤¹ä¸­ï¼Œå°±ç”¨è¶…é“¾æ¥æŒ‡å‘è¯¥æ–‡ä»¶ï¼Œé¿å…æµªè´¹ç©ºé—´ï¼Œä¹Ÿå¯ä»¥å®ç°åŒæ­¥æ›´æ–° # merge-install å‘½ä»¤ colcon build --merge-install # é»˜è®¤ä¼šä½¿ç”¨installä½¿ç”¨ä½œä¸ºæ‰€æœ‰è½¯ä»¶åŒ…çš„å®‰è£…å‰ç¼€ï¼Œè€Œä¸æ˜¯ å®‰è£…åº“ä¸­ç‰¹å®šäºè½¯ä»¶åŒ…çš„å­ç›®å½•ï¼› å¦‚æœæ²¡æœ‰è¿™ä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªåŒ…éƒ½ä¼šè´¡çŒ®è‡ªå·±çš„ç¯å¢ƒè·¯å¾„ï¼Œå¯¼è‡´ç¯å¢ƒå˜é‡ç‰¹åˆ«é•¿ï¼›ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œç¯å¢ƒå˜é‡æ›´çŸ­ï¼› # parallel-workers å‘½ä»¤ colcon build --parallel-workers NUMBER # è¦å¹¶è¡Œå¤„ç†çš„æœ€å¤§ä½œä¸šæ•°ï¼Œ é»˜è®¤å€¼æ˜¯é€»è¾‘ CPU å†…æ ¸æ•° # cmake-args å‘½ä»¤ colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release # è¡¨ç¤ºä¼ å…¥cmakeç¼–è¯‘é€‰é¡¹å‚æ•° å‚è€ƒ originbot é±¼é¦™ç¤¾åŒº ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/:3:0","tags":["ros"],"title":"ros:æ ‘è“æ´¾4Bå®‰è£…ROS2","uri":"/posts/basic_knowledge/ros/%E6%A0%91%E8%8E%93%E6%B4%BE4b%E5%AE%89%E8%A3%85ros2/"},{"categories":["ros"],"content":"ubuntu 18.04 å®‰è£… ROS Melodic","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ èµ„æ–™ ubuntu 18.04 å®‰è£…ROS è®¾ç½®å®‰è£…æº æ·»åŠ ç§˜é’¥ å®‰è£…ROS æ›´æ–°åˆ—è¡¨ ä¾èµ–åº“ å®‰è£…ROS Melodic å®‰è£…ç‰¹å®šçš„ROSç¨‹åºåŒ… å®‰è£…æ ¸å¿ƒç»„ä»¶rosdep é…ç½®ROSç¯å¢ƒå˜é‡ å®‰è£…rosinstall å­¦ä¹ ROSæºç  èµ„æ–™ roså°è¯¾å ‚ ROSæœºå™¨äººæ“ä½œç³»ç»Ÿ github ubuntu 18.04 å®‰è£…ROS ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:0:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"è®¾ç½®å®‰è£…æº ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦çš„å®‰è£…æº 1 sudo sh -c '. /etc/lsb-release \u0026\u0026 echo \"deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main\" \u003e /etc/apt/sources.list.d/ros-latest.list' ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:1:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"æ·»åŠ ç§˜é’¥ æ·»åŠ ç§˜é’¥åˆ°æœ¬åœ°çš„trustedæ•°æ®åº“ä¸­å¹¶åŠ ä»¥éªŒè¯ï¼Œæ–¹æ³•å¦‚ä¸‹ 1 sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116 è‹¥å¯†é’¥æœåŠ¡å™¨hkp://ha.pool.sks-keyservers.net:80æ— æ³•æ·»åŠ æˆåŠŸï¼Œåˆ™å¯ä»¥å°è¯•hkp://pgp.mit.edu:80æˆ–è€…hkp://keyserver.ubuntu.com:80ã€‚ åœ¨æ›´æ–°ä¹‹å‰ï¼Œéœ€è¦å®‰è£…å…¬é’¥ï¼Œå¦åˆ™æ— æ³•éªŒè¯ç­¾åï¼Œè¿™ä¸€æ­¥ä¹Ÿæ˜¯åŸä¹¦æ²¡æœ‰çš„ï¼Œéœ€è¦æœ‹å‹ä»¬æ³¨æ„ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1 sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys F42ED6FBAB17C654 ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:2:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"å®‰è£…ROS ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"æ›´æ–°åˆ—è¡¨ 1 sudo apt update ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:1","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"ä¾èµ–åº“ 1 2 sudo apt install libvtk6-jni libvtk6-java libvtk6-dev libvtk6-qt-dev libpcl-dev sudo apt install ros-melodic-pcl-conversions ros-melodic-pcl-ros ros-melodic-perception-pcl ros-melodic-perception ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:2","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"å®‰è£…ROS Melodic 1 sudo apt install ros-melodic-desktop-full ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:3","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"å®‰è£…ç‰¹å®šçš„ROSç¨‹åºåŒ… å¦‚æœå¸Œæœ›å®‰è£…ç‰¹å®šçš„ROSç¨‹åºåŒ…ï¼Œåˆ™å¯ä»¥é¦–å…ˆæŸ¥çœ‹å½“å‰å¯ç”¨çš„ç¨‹åºåŒ…åˆ—è¡¨ï¼Œç„¶åé€‰æ‹©è‡ªå·±éœ€è¦çš„ç¨‹åºåŒ…è¿›è¡Œå®‰è£…ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 1 2 apt-cache search ros-melodic sudo apt install ros-melodic-slam-gmapping ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:4","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"å®‰è£…æ ¸å¿ƒç»„ä»¶rosdep rosdepæ˜¯ROSä¸€äº›æ ¸å¿ƒç»„ä»¶çš„è¿è¡ŒåŸºç¡€ï¼Œä¼šåœ¨ç¼–è¯‘ROSæºç æ—¶æ£€æŸ¥å’Œå®‰è£…ç¨‹åºåŒ…ä¾èµ–ã€‚å®‰è£…ROSæ–¹æ³•å¦‚ä¸‹ï¼š 1 2 3 4 5 sudo rosdep init # fix-permissioné™åˆ¶æƒé™ä¸ºå½“å‰ç”¨æˆ· sudo rosdep fix-permissions # å¯èƒ½ç”±äºç½‘ç»œåŸå› ä¼šå¤±è´¥ï¼Œå¤šè¿è¡Œå‡ æ¬¡å³å¯ rosdep update ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:3:5","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"é…ç½®ROSç¯å¢ƒå˜é‡ é»˜è®¤æƒ…å†µä¸‹ï¼ŒROS_HOMEçš„è·¯å¾„ä¸º\"~/.ros\"ï¼Œè¯¥ç›®å½•ä¿å­˜ç€æ—¥å¿—æ–‡ä»¶å’Œæµ‹è¯•ç»“æœæ–‡ä»¶ã€‚å¦å¤–ï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨ROSæ—¶ï¼Œéœ€è¦è¿›è¡Œç¯å¢ƒå˜é‡é…ç½®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1 2 echo \"source /opt/ros/melodic/setup.bash\" \u003e\u003e ~/.bashrc source ~/.bashrc æŸ¥çœ‹ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®æ­£ç¡®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1 env | grep ROS è¾“å‡ºï¼š 1 2 3 4 5 6 7 8 ROS_ETC_DIR=/opt/ros/melodic/etc/ros ROS_ROOT=/opt/ros/melodic/share/ros ROS_MASTER_URI=http://localhost:11311 ROS_VERSION=1 ROS_PYTHON_VERSION=2 ROS_PACKAGE_PATH=/opt/ros/melodic/share ROSLISP_PACKAGE_DIRECTORIES= ROS_DISTRO=melodic ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:4:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["ros"],"content":"å®‰è£…rosinstall ä¸ºäº†æ„å»ºå’Œç®¡ç†å¼€å‘è€…è‡ªå·±çš„ROSå·¥ä½œç©ºé—´ï¼Œè¿˜éœ€è¦å®‰è£…rosinstallï¼Œæ–¹æ³•å¦‚ä¸‹ 1 sudo apt-get install python-rosinstall python-rosinstall-generator python-wstool build-essential å­¦ä¹ ROSæºç  å¦‚æœå¸Œæœ›åŸºäºROSæºä»£ç è¿›è¡Œå­¦ä¹ ï¼Œåˆ™å¯ä»¥ä¸‹è½½å®Œæ•´çš„ROSæºä»£ç ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š 1 2 3 4 sudo apt-get install python-rosdep python-rosinstall-generator python-rosinstall python-wstool build-essential mkdir ~/ros_catkin_ws/ \u0026\u0026 cd ~/ros_catkin_ws/ rosinstall_generator desktop_full --rosdistro melodic --deps --tar \u003e melodic-desktop-full.rosinstall wstool init -j8 src melodic-desktop-full.rosinstall ROSå°†ä½¿ç”¨wstoolè¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚å¦‚æœå¸Œæœ›åœ¨ç½‘ç»œå‘ç”Ÿä¸­æ–­åå¯ä»¥ä»¥æ–­ç‚¹ç»­ä¼ çš„æ–¹å¼ç»§ç»­ä¸‹è½½ï¼Œé‚£ä¹ˆå‘½ä»¤å¦‚ä¸‹ï¼š 1 wstool update -j 8 -t src ","date":"2023-01-22","objectID":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/:5:0","tags":["ros"],"title":"ros:ubuntu 18.04 å®‰è£… ROS Melodic","uri":"/posts/basic_knowledge/ros/ubuntu-18.04-%E5%AE%89%E8%A3%85-ros-melodic-/"},{"categories":["java"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. VSCODE æ’ä»¶ 2. ubuntu20.04å®‰è£…Java 3. java ç¼–è¯‘ 4. JNI 4.1. JAVAè°ƒç”¨C++ 4.2. ç”Ÿæˆ å¤´æ–‡ä»¶ com_huhu_test_JNIDemo 4.3. å®ç° com_huhu_test_JNIDemo 4.4. ç¼–è¯‘ com_huhu_test_JNIDemo.cpp 4.5. ç¼–è¯‘è¿è¡Œ java 4.6. JNI GetFieldIDå’ŒGetMethodID æ‰€éœ€ç­¾åå‚æ•° 1. VSCODE æ’ä»¶ Code Runner Extension Pack for Java Maven for Java Debugger for Java Test Runner for Java Project Manager for Java Language Support for Java(TM) by Red Hat Java Debugger 2. ubuntu20.04å®‰è£…Java â€‹ é»˜è®¤çš„ubuntu20.04æºä»“åº“åŒ…å«äº†ä¸¤ä¸ªopenJDKè½¯ä»¶åŒ…ï¼ŒJava Runtime Environment(JRE)å’ŒJava Development Kit(JDK)ã€‚JREä¸»è¦åŒ…å«äº†Javaè™šæ‹Ÿæœº(JVM),ç±»å’Œå…è®¸ä½ å…è®¸Javaç¨‹åºçš„äºŒè¿›åˆ¶åŒ…ã€‚JDKåŒ…å«JREå’Œç”¨äºæ„å»ºJavaåº”ç”¨çš„å¼€å‘/è°ƒè¯•å·¥å…·å’Œåº“æ–‡ä»¶. Java11s javaçš„ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿæ˜¯Ubuntu20.04çš„é»˜è®¤Javaå¼€å‘å’Œè¿è¡Œç¯å¢ƒã€‚ å®‰è£… 1 2 3 sudo apt-get update sudo apt-get -y install openjdk-11-jdk java --version è®¾ç½®Javaé»˜è®¤ç‰ˆæœ¬ 1 2 java --version sudo update-alternatives --config java å·²ç»å®‰è£…çš„Javaç‰ˆæœ¬éƒ½ä¼šè¾“å‡ºï¼Œè¾“å…¥æƒ³è¦è®¾ç½®ä¸ºé»˜è®¤çš„åºåˆ—åŒ–ï¼ŒæŒ‰enterå³å¯ Java_HOMEç¯å¢ƒå˜é‡ 1 2 3 4 5 6 7 8 9 10 11 12 13 # é¦–å…ˆæŸ¥çœ‹Javaçš„å®‰è£…ä½ç½® update-alternatives --config java # æ‰“å¼€/etc/environmentæ–‡ä»¶ sudo vim /etc/environment # å°†JAVA_HOMEæŒ‡å®šåˆ°OpenJDK11ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\" # è¿è¡Œä¸‹è¿°å‘½ä»¤è®©shellç”Ÿæ•ˆ source /etc/environment # éªŒè¯JAVA_HOMEç¯å¢ƒå˜é‡ echo $JAVA_HOME vscode Java_HOMEç¯å¢ƒå˜é‡é…ç½® settings.json 1 \"java.jdt.ls.java.home\": \"/usr/lib/jvm/java-11-openjdk-amd64\", 3. java ç¼–è¯‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # ç¼–è¯‘å•ä¸ªæ–‡ä»¶ javac test.java javac test # package javac -d . *.java java animals/MammalInt javac -d ../ JNIDemo.java Java2Cplusplus.java BaseClass.java javac test.java java -Djava.library.path=./JNIDemo test # JNI javac -h . JNIDemo.java javap -s -p Java2Cplusplus.class # cpp g++ -fPIC -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/ -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux/ -shared -o libcom_huhu_test_JNIDemo.so com_huhu_test_JNIDemo.cpp 4. JNI ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:0:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.1. JAVAè°ƒç”¨C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import com.huhu.test.*; /* æ–‡ä»¶å : MammalInt.java */ public class test { public static void main(String[] args) { //åŠ è½½Cæ–‡ä»¶ System.loadLibrary(\"com_huhu_test_JNIDemo\"); JNIDemo jniDemo = new JNIDemo(); jniDemo.testHello(); int[] data = {1, 2, 3}; float[] f = jniDemo.execute(data, 1, 2, 3); System.out.println(f[0]); System.out.println(f[1]); System.out.println(f[2]); } } ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:1:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.2. ç”Ÿæˆ å¤´æ–‡ä»¶ com_huhu_test_JNIDemo 1 javac -h . JNIDemo.java JNIDemo.java ï¼š 1 2 3 4 5 6 7 8 package com.huhu.test; public class JNIDemo { //å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨Cä¸­å®ç° public native void testHello(); public native float[] execute(int[] data, int width, int height, float ep); } com_huhu_test_JNIDemo.h : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 /* DO NOT EDIT THIS FILE - it is machine generated */ #include \u003cjni.h\u003e /* Header for class com_huhu_test_JNIDemo */ #ifndef _Included_com_huhu_test_JNIDemo #define _Included_com_huhu_test_JNIDemo #ifdef __cplusplus extern \"C\" { #endif /* * Class: com_huhu_test_JNIDemo * Method: testHello * Signature: ()V */ JNIEXPORT void JNICALL Java_com_huhu_test_JNIDemo_testHello (JNIEnv *, jobject); /* * Class: com_huhu_test_JNIDemo * Method: execute * Signature: ([IIIF)[F */ JNIEXPORT jfloatArray JNICALL Java_com_huhu_test_JNIDemo_execute (JNIEnv *, jobject, jintArray, jint, jint, jfloat); #ifdef __cplusplus } #endif #endif ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:2:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.3. å®ç° com_huhu_test_JNIDemo com_huhu_test_JNIDemo.cpp: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // g++ -fPIC -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/ -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux/ -shared -o libTestJni.so // TestJni.cpp #include \"com_huhu_test_JNIDemo.h\" #include \u003cjni.h\u003e #include \u003ccstdio\u003e #include \u003ciostream\u003e #include \u003cvector\u003e #define JNI_JAVA2C_PATH \"com/huhu/test/Java2Cplusplus\" #define JNI_BASE_CLASS_PATH \"com/huhu/test/BaseClass\" JNIEXPORT void JNICALL Java_com_huhu_test_JNIDemo_testHello(JNIEnv *env, jobject thiz) { std::cout \u003c\u003c \"this is Java_com_huhu_test_JNIDemo_testHello C++ print\" \u003c\u003c std::endl; } JNIEXPORT jfloatArray JNICALL Java_com_huhu_test_JNIDemo_execute(JNIEnv *env, jobject thiz, jintArray data, jint width, jint height, jfloat ep) { std::cout \u003c\u003c \"this is Java_com_huhu_test_JNIDemo_execute C++ print\" \u003c\u003c std::endl; unsigned char *data_src = (unsigned char *)env-\u003eGetIntArrayElements(data, NULL); std::cout \u003c\u003c \"data_src \" \u003c\u003c data_src[0] \u003c\u003c \" \" \u003c\u003c data_src[1] \u003c\u003c \" \" \u003c\u003c data_src[2] \u003c\u003c \" \" \u003c\u003c std::endl; std::cout \u003c\u003c \"width height ep \" \u003c\u003c width \u003c\u003c \" \" \u003c\u003c height \u003c\u003c \" \" \u003c\u003c ep \u003c\u003c \" \" \u003c\u003c std::endl; std::vector\u003cfloat\u003e result{0.1, 0.2, 0.3}; jfloatArray resultArray = env-\u003eNewFloatArray(result.size()); env-\u003eSetFloatArrayRegion(resultArray, 0, result.size(), \u0026result[0]); /* ------------------ */ //æ­¥éª¤1ï¼š jclass clazz = env-\u003eFindClass(JNI_JAVA2C_PATH); //æ­¥éª¤2ï¼š\u003cinit\u003eæ˜¯javaçš„æ„é€ å‡½æ•°åï¼Œè¿™ä¸ªæœ‰ç‚¹ç‰¹æ®Šã€‚åœ¨æˆ‘çš„ä¸€ç¯‡æ–‡ç« jetpackä¸­çš„é—®é¢˜ä¸­ç¢°è§è¿‡å®ƒã€‚ //æ„é€ å‡½æ•°æ²¡è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œæ‰€ä»¥è¿™é‡Œçš„signatureå¡«å†™ä¸º()V jmethodID method_init_id = env-\u003eGetMethodID(clazz, \"\u003cinit\u003e\", \"()V\"); jmethodID method_set_id = env-\u003eGetMethodID(clazz, \"setNum\", \"(I)V\"); jmethodID method_get_id = env-\u003eGetMethodID(clazz, \"getNum\", \"()I\"); jclass base = env-\u003eFindClass(JNI_BASE_CLASS_PATH); jmethodID method_base_init_id = env-\u003eGetMethodID(base, \"\u003cinit\u003e\", \"()V\"); jobject objbase = env-\u003eNewObject(base, method_base_init_id); jmethodID method_get_jobject_id = env-\u003eGetMethodID(clazz, \"getNum\", \"(Lcom/huhu/test/BaseClass;)I\"); //æ­¥éª¤3ï¼š //åˆ›å»ºäº† Java2Cplusplus å¯¹è±¡ jobject obj = env-\u003eNewObject(clazz, method_init_id); //æ­¥éª¤4:è°ƒç”¨ç›¸åº”çš„æ–¹æ³• env-\u003eCallVoidMethod(obj, method_set_id, 21); // setå‡½æ•°æ²¡è¿”å›å€¼ int year = env-\u003eCallIntMethod(obj, method_get_id); // getYearæœ‰è¿”å›å€¼ int year2 = env-\u003eCallIntMethod(obj, method_get_jobject_id,objbase); // getYearæœ‰è¿”å›å€¼ std::cout \u003c\u003c \"year \" \u003c\u003c year \u003c\u003c std::endl; std::cout \u003c\u003c \"year2 \" \u003c\u003c year2 \u003c\u003c std::endl; /* ------------------ */ return resultArray; } ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:3:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.4. ç¼–è¯‘ com_huhu_test_JNIDemo.cpp 1 2 3 4 5 6 g++ -fPIC -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/ -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux/ -shared -o libcom_huhu_test_JNIDemo.so com_huhu_test_JNIDemo.cpp g++ -fPIC -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/ -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux/ -shared -o libcom_huhu_test_UfcwStrategy.so com_huhu_test_UfcwStrategy.cpp g++ -fPIC -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/ -I /usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux/ -shared -o libcom_ufcw_strategy_UfcwStrategy.so com_ufcw_strategy_UfcwStrategy.cpp ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:4:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.5. ç¼–è¯‘è¿è¡Œ java 1 2 3 4 5 6 7 8 9 javac -d ../ JNIDemo.java Java2Cplusplus.java BaseClass.java cd ../ javac test.java java -Djava.library.path=./JNIDemo test ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:5:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["java"],"content":"4.6. JNI GetFieldIDå’ŒGetMethodID æ‰€éœ€ç­¾åå‚æ•° è°ƒç”¨JNIçš„GetMethodIDå‡½æ•°è·å–ä¸€ä¸ªjmethodIDæ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ–¹æ³•åç§°å’Œæ–¹æ³•ç­¾åï¼Œæ–¹æ³•åç§°å°±æ˜¯åœ¨Javaä¸­å®šä¹‰çš„æ–¹æ³•åï¼Œæ–¹æ³•ç­¾åçš„æ ¼å¼ä¸ºï¼š(å½¢å‚å‚æ•°ç±»å‹åˆ—è¡¨)è¿”å›å€¼ã€‚ 1.åŸºæœ¬ç±»å‹ç­¾å Java Native Signature byte jbyte B char jchar C double jdouble D float jfloat F int jint I short jshort S long jlong J boolean jboolean Z void void V 2.å¼•ç”¨æ•°æ®ç±»å‹çš„è½¬æ¢. Java Native Signature æ‰€æœ‰å¯¹è±¡ jobject L+classname +; Class jclass Ljava/lang/Class; String jstring Ljava/lang/String; Throwable jthrowable Ljava/lang/Throwable; Object[] jobjectArray [L+classname +; byte[] jbyteArray [B char[] jcharArray [C double[] jdoubleArray [D float[] jfloatArray [F int[] jintArray [I short[] jshortArrsy [S long[] jlongArray [J boolean[] jbooleanArray [Z è·å–ç­¾åæ–¹å¼ï¼š è‡ªå·±æ‹¼å†™ â€‹ æ–¹æ³•ï¼šint (int param); â€‹ ç­¾åï¼š(I)I å‘½ä»¤è¡Œç”Ÿæˆ â€‹ 1ã€ä½¿ç”¨javacï¼Œç”Ÿæˆå¯¹åº”javaæ–‡ä»¶çš„classæ–‡ä»¶ï¼› â€‹ 2ã€ä½¿ç”¨ javap -s -p å‘½ä»¤è·å–å¯¹åº”ç­¾åä¿¡æ¯ï¼Œå¦‚å›¾ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Compiled from \"Java2Cplusplus.java\" public class com.huhu.test.Java2Cplusplus { private int num; descriptor: I public com.huhu.test.Java2Cplusplus(); descriptor: ()V public void setNum(int); descriptor: (I)V public int getNum(); descriptor: ()I public int getBaseClassNum(com.huhu.test.BaseClass); descriptor: (Lcom/huhu/test/BaseClass;)I } ","date":"2023-01-18","objectID":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:6:0","tags":["java","ubuntu"],"title":"ubuntuä¸­javaå¼€å‘ç¯å¢ƒæ­å»º","uri":"/posts/program/java/ubuntu%E4%B8%ADjava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç®€ä»‹ èµ„æºç®¡ç† çŠ¶æ€ç®¡ç† ç®€ä»‹ RAII RAIIæ˜¯C++çš„å‘æ˜è€…Bjarne Stroustrupæå‡ºçš„æ¦‚å¿µï¼Œ â€œResource Acquisition is Initializationâ€ ï¼š â€œèµ„æºè·å–å³åˆå§‹åŒ–â€ ã€‚ RAIIæŠ€æœ¯è¢«è®¤ä¸ºæ˜¯C++ä¸­ç®¡ç†èµ„æºçš„æœ€ä½³æ–¹æ³•ï¼Œè¿›ä¸€æ­¥å¼•ç”³ï¼Œä½¿ç”¨RAIIæŠ€æœ¯ä¹Ÿå¯ä»¥å®ç°å®‰å…¨ã€ç®€æ´çš„çŠ¶æ€ç®¡ç†ï¼Œç¼–å†™å‡ºä¼˜é›…çš„å¼‚å¸¸å®‰å…¨çš„ä»£ç ã€‚ åœ¨æ„é€ å‡½æ•°ä¸­ç”³è¯·åˆ†é…èµ„æºï¼Œåœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾èµ„æºã€‚ C++çš„è¯­è¨€æœºåˆ¶ä¿è¯äº†ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºçš„æ—¶å€™ï¼Œè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå½“å¯¹è±¡è¶…å‡ºä½œç”¨åŸŸçš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ã€‚åœ¨RAIIçš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ç±»æ¥ç®¡ç†èµ„æºï¼Œå°†èµ„æºå’Œå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚ æ™ºèƒ½æŒ‡é’ˆï¼ˆstd::shared_ptrå’Œstd::unique_ptrï¼‰å³RAIIæœ€å…·ä»£è¡¨çš„å®ç°ï¼Œä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œå¯ä»¥å®ç°è‡ªåŠ¨çš„å†…å­˜ç®¡ç†ï¼Œå†ä¹Ÿä¸éœ€è¦æ‹…å¿ƒå¿˜è®°deleteé€ æˆçš„å†…å­˜æ³„æ¼ã€‚æ¯«ä¸å¤¸å¼ çš„æ¥è®²ï¼Œæœ‰äº†æ™ºèƒ½æŒ‡é’ˆï¼Œä»£ç ä¸­å‡ ä¹ä¸éœ€è¦å†å‡ºç°deleteäº†ã€‚ èµ„æºç®¡ç† å†…å­˜åªæ˜¯èµ„æºçš„ä¸€ç§ï¼Œå¹¿ä¹‰çš„èµ„æºç®¡ç†,æ¯”å¦‚è¯´æ–‡ä»¶çš„æ‰“å¼€ä¸å…³é—­ã€windowsä¸­å¥æŸ„çš„è·å–ä¸é‡Šæ”¾ç­‰ç­‰ã€‚æŒ‰ç…§å¸¸è§„çš„RAIIæŠ€æœ¯éœ€è¦å†™ä¸€å †ç®¡ç†å®ƒä»¬çš„ç±»ï¼Œæœ‰çš„æ—¶å€™æ˜¾å¾—æ¯”è¾ƒéº»çƒ¦ã€‚ä½†æ˜¯å¦‚æœæ‰‹åŠ¨é‡Šæ”¾ï¼Œé€šå¸¸è¿˜è¦è€ƒè™‘å„ç§å¼‚å¸¸å¤„ç†ï¼Œæ¯”å¦‚è¯´ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 void function() { FILE *f = fopen(\"test.txt\", 'r'); if (.....) { fclose(f); return; } else if(.....) { fclose(f); return; } fclose(f); ...... } å®ç°ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 #define SCOPEGUARD_LINENAME_CAT(name, line) name##line #define SCOPEGUARD_LINENAME(name, line) SCOPEGUARD_LINENAME_CAT(name, line) #define ON_SCOPE_EXIT(callback) ScopeGuard SCOPEGUARD_LINENAME(EXIT, __LINE__)(callback) class ScopeGuard { public: explicit ScopeGuard(std::function\u003cvoid()\u003e f) : handle_exit_scope_(f){}; ~ScopeGuard(){ handle_exit_scope_(); } private: std::function\u003cvoid()\u003e handle_exit_scope_; }; int main() { { A *a = new A(); ON_SCOPE_EXIT([\u0026] {delete a; }); ...... } { std::ofstream f(\"test.txt\"); ON_SCOPE_EXIT([\u0026] {f.close(); }); ...... } system(\"pause\"); return 0; } çŠ¶æ€ç®¡ç† RAIIå¦ä¸€ä¸ªå¼•ç”³çš„åº”ç”¨æ˜¯å¯ä»¥å®ç°å®‰å…¨çš„çŠ¶æ€ç®¡ç†ã€‚ ä¸€ä¸ªå…¸å‹çš„åº”ç”¨å°±æ˜¯åœ¨çº¿ç¨‹åŒæ­¥ä¸­ï¼Œä½¿ç”¨std::unique_lockæˆ–è€…std::lock_guardå¯¹äº’æ–¥é‡std:: mutexè¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚ 1 2 3 4 5 6 7 8 std::mutex mutex_; void function() { mutex_.lock(); ...... ...... mutex_.unlock(); } åœ¨äº’æ–¥é‡lockå’Œunlockä¹‹é—´çš„ä»£ç å¾ˆå¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼Œæˆ–è€…æœ‰returnè¯­å¥ï¼Œè¿™æ ·çš„è¯ï¼Œäº’æ–¥é‡å°±ä¸ä¼šæ­£ç¡®çš„unlockï¼Œä¼šå¯¼è‡´çº¿ç¨‹çš„æ­»é”ã€‚æ‰€ä»¥æ­£ç¡®çš„æ–¹å¼æ˜¯ä½¿ç”¨std::unique_lockæˆ–è€…std::lock_guardå¯¹äº’æ–¥é‡è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š 1 2 3 4 5 6 7 std::mutex mutex_; void function() { std::lock_guard\u003cstd::mutex\u003e lock(mutex_); ...... ...... } åœ¨åˆ›å»ºstd::lock_guardå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šå¯¹std::mutexå¯¹è±¡è¿›è¡Œlockï¼Œå½“std::lock_guardå¯¹è±¡åœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶ï¼Œä¼šè‡ªåŠ¨std::mutexå¯¹è±¡è¿›è¡Œè§£é”ï¼Œè¿™æ ·çš„è¯ï¼Œå°±ä¸ç”¨æ‹…å¿ƒä»£ç å¼‚å¸¸é€ æˆçš„çº¿ç¨‹æ­»é”ã€‚ ","date":"2023-01-18","objectID":"/posts/program/cpp/c++raii%E8%B5%84%E6%BA%90%E8%8E%B7%E5%8F%96%E5%8D%B3%E5%88%9D%E5%A7%8B%E5%8C%96/:0:0","tags":["cpp"],"title":"C++:RAII(èµ„æºè·å–å³åˆå§‹åŒ–)","uri":"/posts/program/cpp/c++raii%E8%B5%84%E6%BA%90%E8%8E%B7%E5%8F%96%E5%8D%B3%E5%88%9D%E5%A7%8B%E5%8C%96/"},{"categories":["makefile"],"content":"makefile","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ è¯­æ³• target : dependencies CC CFLAGS LFLAGS $@ ï¼Œ$\u003cï¼Œ$^ patsubst å’Œ wildcard Static Pattern Rule LIBS = -lm è¯­æ³• ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:0:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"target : dependencies 1 \u003ctarget\u003e:\u003cdependencies\u003eã€‚å³ï¼Œç›®æ ‡ï¼šç›®æ ‡ä¾èµ–çš„æ–‡ä»¶ã€‚ ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:1:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"CC CFLAGS LFLAGS CC è¡¨ç¤ºé€‰æ‹©çš„ç¼–è¯‘å™¨ï¼ˆä¹Ÿå¯ä»¥æ”¹æˆ gccï¼‰ CFLAGS è¡¨ç¤ºç¼–è¯‘é€‰é¡¹ï¼Œ-c å³ g++ ä¸­çš„ -cï¼Œ-Wall è¡¨ç¤ºæ˜¾ç¤ºç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°çš„æ‰€æœ‰ warning LFLAGS è¡¨ç¤ºé“¾æ¥é€‰é¡¹ $() å°†å…¶æ‹¬èµ·æ¥ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå˜é‡å ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:2:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"$@ ï¼Œ$\u003cï¼Œ$^ target: dependencies å¯¹ï¼šall: library.cpp main.cpp $@ æŒ‡ä»£ all ï¼Œå³ target $\u003c æŒ‡ä»£ library.cppï¼Œ å³ç¬¬ä¸€ä¸ª dependency $^ æŒ‡ä»£ library.cpp å’Œ main.cppï¼Œå³æ‰€æœ‰çš„ dependencies ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:3:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"patsubst å’Œ wildcard wildcard ç”¨äºè·å–ç¬¦åˆç‰¹å®šè§„åˆ™çš„æ–‡ä»¶å 1 2 3 4 SOURCE_DIR = . # å¦‚æœæ˜¯å½“å‰ç›®å½•ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®š SOURCE_FILE = $(wildcard $(SOURCE_DIR)/*.cpp) target: @echo $(SOURCE_FILE) è¾“å‡ºçš„ä¸ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ .cpp æ–‡ä»¶ï¼š ./function1.cpp ./function2.cpp ./main.cpp patsubst åº”è¯¥æ˜¯ pattern substitution çš„ç¼©å†™ã€‚ç”¨å®ƒå¯ä»¥æ–¹ä¾¿åœ°å°† .cpp æ–‡ä»¶çš„åç¼€æ¢æˆ .oã€‚ $(patsubst åŸæ¨¡å¼ï¼Œç›®æ ‡æ¨¡å¼ï¼Œæ–‡ä»¶åˆ—è¡¨) 1 2 3 4 5 SOURCES = main.cpp function1.cpp function2.cpp OBJS = $(patsubst %.cpp, %.o, $(SOURCES)) target: @echo $(SOURCES) @echo $(OBJS) è¾“å‡ºç»“æœï¼š 1 2 main.cpp function1.cpp function2.cpp main.o function1.o function2.o ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:4:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"Static Pattern Rule targets: target-pattern: prereq-patterns å…¶ä¸­ targets ä¸å†æ˜¯ä¸€ä¸ªç›®æ ‡æ–‡ä»¶äº†ï¼Œè€Œæ˜¯ä¸€ç»„ç›®æ ‡æ–‡ä»¶ã€‚è€Œ target-pattern åˆ™è¡¨ç¤ºç›®æ ‡æ–‡ä»¶çš„ç‰¹å¾ã€‚ä¾‹å¦‚ç›®æ ‡æ–‡ä»¶éƒ½æ˜¯ .o ç»“å°¾çš„ï¼Œé‚£ä¹ˆå°±å°†å…¶è¡¨ç¤ºä¸º %.oï¼Œprereq-patterns (prerequisites) è¡¨ç¤ºä¾èµ–æ–‡ä»¶çš„ç‰¹å¾ï¼Œä¾‹å¦‚ä¾èµ–æ–‡ä»¶éƒ½æ˜¯ .cpp ç»“å°¾çš„ï¼Œé‚£ä¹ˆå°±å°†å…¶è¡¨ç¤ºä¸º %.cppã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 OBJS = $(patsubst %.cpp, %.o, $(wildcard *.cpp)) CC = g++ CFLAGS = -c -Wall LFLAGS = -Wall all: hello hello: $(OBJS) $(CC) $(LFLAGS) $^ -o $@ $(OBJS):%.o:%.cpp $(CC) $(CFLAGS) $\u003c -o $@ clean: rm -rf *.o hello ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:5:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["makefile"],"content":"LIBS = -lm -lm è¡¨ç¤ºè¿è¡— math åº“ 1 2 3 4 CC = g++ LIBS = -lm out: fun.cpp $(CC) -o $@ $^ $(LIBS) ","date":"2023-01-18","objectID":"/posts/program/makefile/makefile/:6:0","tags":["makefile"],"title":"makefile","uri":"/posts/program/makefile/makefile/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"æ­£åˆ™è¡¨è¾¾å¼","date":"2023-01-18","objectID":"/posts/program/regex/regex/","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ #è¯´æ˜ #ç›®å½• ä¸€ã€æ­£åˆ™åŸºç¡€æ¦‚è¿° 1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼? 2ã€åŸºç¡€è¯­æ³•å›¾è¡¨ â…  - åŸºç¡€è¯­æ³•è¡¨æ ¼ â…¡ - å¸¸ç”¨è¯­æ³•ç¤ºä¾‹å›¾è§£æ a) é€šç”¨æ­£åˆ™è¡¨è¾¾å¼ b) æ‰‹æœºå·æ­£åˆ™ c) æ—¥æœŸåŒ¹é…ä¸åˆ†ç»„æ›¿æ¢ 3ã€åŸºæœ¬åŒ¹é… äºŒã€å…ƒå­—ç¬¦ 1ã€å…ƒå­—ç¬¦åˆ—ä¸¾ 2ã€ç‚¹è¿ç®—ç¬¦ â€“\u003e . 3ã€å­—ç¬¦é›† â… - å­—ç¬¦é›†ä¸­åŒ¹é…å¥å·. â€“\u003e\u003e [.] â…¡ - å¦å®šå­—ç¬¦é›† â€“\u003e\u003e [^] a) ä¸€ä¸ªç‰¹æ®Šçš„ç”¨æ³• â…¢ - é‡å¤æ¬¡æ•° â€“\u003e\u003e *ã€+ã€? a) * å· b) +å· c) ? å· â…£ - é‡è¯ â€“\u003e\u003e {} a) æ­£å¸¸ä½¿ç”¨ç¤ºä¾‹ b) çœç•¥ç¬¬äºŒä¸ªå‚æ•°,å¸¦é€—å· c) é€—å·ä¹Ÿçœç•¥ â…¤- ç‰¹å¾æ ‡ç¾¤ â€“\u003e\u003e (...) â…¥ - æˆ–è¿ç®—ç¬¦ â€“\u003e\u003e | â…¦ - è½¬ç ç‰¹æ®Šå­—ç¬¦ â€“\u003e\u003e \\ â…§ - é”šç‚¹(è¾¹ç•Œ) â€“\u003e\u003e ^ã€$ã€\\bã€\\B a) ^ å· b) $ å· c) å•è¯è¾¹ç•Œ \\b d) éå•è¯è¾¹ç•Œ \\B ä¸‰ã€ç®€å†™å­—ç¬¦é›† å››ã€é›¶å®½åº¦æ–­è¨€ (å‰åé¢„æŸ¥) 1ã€ æ­£å…ˆè¡Œæ–­è¨€ â€“\u003e\u003e ?=... 2ã€è´Ÿå…ˆè¡Œæ–­è¨€ â€“\u003e\u003e ?!... 3ã€ æ­£åå‘æ–­è¨€ â€“\u003e\u003e ?\u003c= ... 4ã€è´Ÿåå‘æ–­è¨€ â€“\u003e\u003e ?\u003c!... äº”ã€æ ‡å¿—(ä¿®é¥°ç¬¦) 1ã€å…¨å±€æœç´¢ (Global search) â€“\u003e\u003e \\g 2ã€å¿½ç•¥å¤§å°å†™ (Case Insensitive) â€“\u003e\u003e /i 3ã€ å¤šè¡Œæ³¨é‡Šç¬¦ å…­ ã€è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é… (Greedy vs lazy matching) 1ã€è´ªå©ªåŒ¹é… 2ã€ æƒ°æ€§åŒ¹é… ä¸ƒã€æ­£åˆ™å¸¸ç”¨æ–¹æ³• 1ã€ RegExpå¯¹è±¡æ–¹æ³•: â… - exce()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» b) å½“æ­£åˆ™åŒ¹é…ä¸­æ²¡æœ‰åˆ†ç»„æ—¶ c ) å½“æ­£åˆ™åŒ¹é…ä¸­æœ‰åˆ†ç»„ä¸”åˆ†ç»„å­˜åœ¨åå­—æ—¶ d) æ²¡æœ‰åŒ¹é…åˆ°ç¬¦åˆæ­£åˆ™çš„å­—ç¬¦æ—¶ â…¡ - test()æ–¹æ³• â…¢ - compile()æ–¹æ³• 2ã€æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„Stringå¯¹è±¡çš„æ–¹æ³•: â… - search()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» b) ä¸¾ä¸ªæ —å­ â…¡ - replace()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» b) æ›¿æ¢ç¬¬ä¸€ä¸ª c) æ›¿æ¢å…¨éƒ¨ â…¢ - split()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» b) ä¸¾ä¸ªæ —å­ â…£- match()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» b) æ²¡æœ‰gçš„æ­£åˆ™åŒ¹é… c) æœ‰gçš„æ­£åˆ™åŒ¹é… d) æ²¡æœ‰åŒ¹é…åˆ°å­å­—ç¬¦ä¸² å…«ã€ESç³»åˆ—ä¸­æ­£åˆ™çš„æ‹“å±• 1ã€æ¦‚æ‹¬ä¸æ€»ç»“ 2ã€ RegExp æ„é€ å‡½æ•° 3ã€å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³• 4ã€ u ä¿®é¥°ç¬¦ â… - ç‚¹å­—ç¬¦ â…¡ - Unicode å­—ç¬¦è¡¨ç¤ºæ³• â…¢ - é‡è¯ â…£ - é¢„å®šä¹‰æ¨¡å¼ â…¤ - i ä¿®é¥°ç¬¦ â…¥ - è½¬ä¹‰ â…¦- RegExp.prototype.unicode å±æ€§ 5ã€ y ä¿®é¥°ç¬¦ â…  - æ­£å¸¸ä½¿ç”¨ä¸¾ä¾‹è¯´æ˜ â…¡ - ä½¿ç”¨lastIndexå±æ€§è¿›è¡Œè¯´æ˜ â…¢ - ä½¿ç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„replaceæ–¹æ³•çš„ä¸¾ä¾‹ â…£ - RegExp.prototype.sticky å±æ€§ 6ã€s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼ 7ã€ RegExp.prototype.flags å±æ€§ 8ã€ Unicode å±æ€§ç±» 9ã€ å…·åç»„åŒ¹é… â… - ç®€ä»‹ â…¡ - è§£æ„èµ‹å€¼å’Œæ›¿æ¢ â…¢ - å¼•ç”¨ 10ã€String.prototype.matchAll() ä¹ã€å¸¸ç”¨æ­£åˆ™æ”¶å½• 1ã€æ­£åˆ™è¡¨è¾¾å¼åªä¿ç•™æ•°å­— 2ã€é™åˆ¶ä¸èƒ½ä¸ºç©ºä»¥åŠä¸­æ–‡ 3ã€å…³äºæ•°å­—å¸¸è§æ­£åˆ™ 4ã€å…³äºç‰¹æ®Šç¬¦å· #è¯´æ˜ æ­£åˆ™å¯ä»¥è¯´æ˜¯æ“ä½œ [ å­—ç¬¦ä¸² ] æœ€å¼ºå¤§çš„å·¥å…·äº†,æ²¡æœ‰ä¹‹ä¸€,ç‰¹åˆ«æ˜¯åœ¨è¿›è¡Œçˆ¬è™«æŠ€æœ¯æˆ– å‰ç«¯å­—ç¬¦ä¸²å¤„ç†æ—¶ç®€ç›´å¿…å¤‡æŠ€èƒ½,ç„¶é¹…æ­£åˆ™æ€»æ˜¯å­¦äº†å¿˜ã€å¿˜äº†å­¦,ç”¨æ—¶è¿˜éœ€è¦å»ç™¾åº¦ç¿»èµ„æ–™,ä¹Ÿæ˜¯ä¸¥é‡å½±å“äº†å·¥ä½œæ•ˆç‡,æ‰€ä»¥æˆ‘ä¹Ÿè®¤çœŸæŸ¥é˜…è®¸å¤šèµ„æ–™è®¤çœŸå­¦ä¹ æ¢³ç†æˆæ­¤ç¬”è®°. åœ¨æ­¤æˆ‘ä¼šå°½é‡è¯¦ç»†åœ°å¯¹æŸ¥é˜…çš„èµ„æ–™è¿›è¡Œæ‘˜å½•æ¢³ç†å¹¶åŠ å…¥è‡ªå·±ç†è§£,ç›¸ä¿¡çœ‹å®Œè¿™ä¸ªç¬”è®°ååŒå­¦ä»¬èƒ½å¿«é€ŸæŒæ¡æˆ–è€…å®šä½çŸ¥è¯†ç‚¹ æŸ¥é˜…çš„èµ„æ–™æˆ–åšå®¢:ã€éŸ©é¡ºå¹³è®²Javaã€‘Java æ­£åˆ™è¡¨è¾¾å¼ä¸“é¢˜ -æ­£åˆ™ æ­£åˆ™è¡¨è¾¾å¼ å…ƒå­—ç¬¦ é™å®šç¬¦ Pattern Matcher åˆ†ç»„ æ•è· åå‘å¼•ç”¨ç­‰ ;[comerçš„60åˆ†é’Ÿæ­£åˆ™ä»å…¥é—¨åˆ°æ·±å…¥]ã€[Vincent Koçš„å¯èƒ½æ˜¯æœ€å¥½çš„æ­£åˆ™è¡¨è¾¾å¼çš„æ•™ç¨‹ç¬”è®°äº†å§â€¦]ã€[gitHubçš„learn-regex]ã€é˜®ä¸€å³°çš„ES6æ–‡æ¡£ã€deerchaoçš„æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ ã€åšå®¢å›­çš„ åªäº‰æœå¤•ï¼Œä¸è´ŸéŸ¶åçš„æ­£åˆ™å¸¸ç”¨çš„å…­ç§æ–¹æ³• é™¤æ­¤ç¬”è®°å¤–å¤§å®¶å¯ä»¥çœ‹æˆ‘å…¶ä»–ç¬”è®° :å…¨æ ˆç¬”è®°ã€ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°ã€Vueç¬”è®°æ•´åˆ ã€Reactç¬”è®°ã€ ReactHooksç¬”è®° ã€å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ã€Chromeå¼€å‘ä½¿ç”¨åŠå­¦ä¹ ç¬”è®° ä»¥åŠè®¸å¤šå…¶ä»–ç¬”è®°å°±ä¸ä¸€ä¸€ä¾‹ä¸¾äº† #ç›®å½• [TOC] ä¸€ã€æ­£åˆ™åŸºç¡€æ¦‚è¿° é¦–å…ˆç»™å‡ºæ­£åˆ™æœ€åŸºç¡€çš„çŸ¥è¯†ç‚¹æ¦‚è¿°,å¥½è®©åŒå­¦ä»¬èƒ½å›æƒ³èµ·ä¸€äº›ä¹‹å‰å­¦è¿‡çš„çŸ¥è¯†ç‚¹,èƒ½æ›´å¥½åœ°è¿›è¡Œé˜…è¯» è¿™é‡Œåˆ†äº«ä¸€ä¸ªåœ¨çº¿ç»ƒä¹ æ­£åˆ™çš„ç½‘ç«™,åŒå­¦ä»¬å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç»ƒä¹  â€“\u003e [ åœ¨çº¿ç»ƒä¹  ] ç¬”è®°ä¸­ä¾‹å­ä¸­å¦‚ç‰¹æ®Šæ²¡æœ‰æŒ‡å‡º,åˆ™é»˜è®¤ä½¿ç”¨ /g æ ‡å¿—(ä¿®é¥°ç¬¦)å…¨å±€æœç´¢ä½œä¸ºç¤ºèŒƒ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:0:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼? æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç»„ç”±å­—æ¯å’Œç¬¦å·ç»„æˆçš„ç‰¹æ®Šæ–‡æœ¬ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æ‰¾å‡ºæ»¡è¶³ä½ æƒ³è¦çš„æ ¼å¼çš„å¥å­ã€‚é€šä¿—çš„è®²å°±æ˜¯æŒ‰ç…§æŸç§è§„åˆ™å»åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸² ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ä»å·¦åˆ°å³åŒ¹é…ä¸»ä½“å­—ç¬¦ä¸²çš„æ¨¡å¼ã€‚ â€œRegular expressionâ€è¿™ä¸ªè¯æ¯”è¾ƒæ‹—å£ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨ç¼©å†™çš„æœ¯è¯­â€œregexâ€æˆ–â€œregexpâ€ã€‚ æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä»ä¸€ä¸ªåŸºç¡€å­—ç¬¦ä¸²ä¸­æ ¹æ®ä¸€å®šçš„åŒ¹é…æ¨¡å¼æ›¿æ¢æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ã€éªŒè¯è¡¨å•ã€æå–å­—ç¬¦ä¸²ç­‰ç­‰ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:1:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€åŸºç¡€è¯­æ³•å›¾è¡¨ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:2:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…  - åŸºç¡€è¯­æ³•è¡¨æ ¼ é¦–å…ˆå…ˆç»™å‡ºæœ€æœ€åŸºç¡€éƒ¨åˆ†çš„åŒ¹é…è§„åˆ™,è¿™ä¸ªæ˜¯è‚¯å®šè¦ä¼šçš„ single char (å•å­—ç¬¦) quantifiers(æ•°é‡) position(ä½ç½®) \\d åŒ¹é…æ•°å­— * 0ä¸ªæˆ–è€…æ›´å¤š ^ä¸€è¡Œçš„å¼€å¤´ \\w åŒ¹é…word(æ•°å­—ã€å­—æ¯) + 1ä¸ªæˆ–æ›´å¤šï¼Œè‡³å°‘1ä¸ª $ä¸€è¡Œçš„ç»“å°¾ \\W åŒ¹é…éword(æ•°å­—ã€å­—æ¯) ? 0ä¸ªæˆ–1ä¸ª,ä¸€ä¸ªOptional \\b å•è¯\"ç»“ç•Œ\"(word bounds) \\s åŒ¹é…white space(åŒ…æ‹¬ç©ºæ ¼ã€tabç­‰) {min,max}å‡ºç°æ¬¡æ•°åœ¨ä¸€ä¸ªèŒƒå›´å†… \\S åŒ¹é…éwhite space(åŒ…æ‹¬ç©ºæ ¼ã€tabç­‰) {n}åŒ¹é…å‡ºç°næ¬¡çš„ . åŒ¹é…ä»»ä½•ï¼Œä»»ä½•çš„å­—ç¬¦ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:2:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - å¸¸ç”¨è¯­æ³•ç¤ºä¾‹å›¾è§£æ æ­¤å¤„æš‚æ—¶çœ‹ä¸æ‡‚æ²¡å…³ç³»,åé¢ä¼šè¿›è¡Œè¯¦ç»†çš„è¯­æ³•ä»‹ç»,æ­¤å¤„åªæ˜¯è®©æˆ‘ä»¬å¯¹æ­£åˆ™è¡¨è¾¾å¼æ›´æœ‰æ¦‚å¿µ,æ„Ÿè§‰ä¸å¥½ç†è§£å¯ä»¥è·³è¿‡,å­¦å®Œå†å›æ¥çœ‹ æ­¤ç¤ºä¾‹å›¾è§£æéƒ¨åˆ†ä¸»è¦æ‘˜å½•è‡ª comerçš„60åˆ†é’Ÿæ­£åˆ™ä»å…¥é—¨åˆ°æ·±å…¥,æœ¬äººè§‰å¾—å…¶å›¾ç”»çš„æŒºå¥½çš„,ä¸”ç¡®å®åˆšå¼€å§‹å¯ä»¥ç¨å¾®çœ‹ä¸‹æ­£åˆ™å…·ä½“åº”ç”¨,æ–¹ä¾¿åç»­ç†è§£,ä¾¿æ‘˜å½•ä¸‹æ¥ a) é€šç”¨æ­£åˆ™è¡¨è¾¾å¼ b) æ‰‹æœºå·æ­£åˆ™ 1 /^1[34578][0-9]{9}$/ c) æ—¥æœŸåŒ¹é…ä¸åˆ†ç»„æ›¿æ¢ 1 /^\\d{4}[/-]d{1,2}[/-]\\d{1,2}$/ è¿™ä¸ªæ­£åˆ™æ¯”è¾ƒå¤æ‚ï¼Œç”»ç¬¦å¿µå’’çš„åœ°æ–¹å¤ªå¤šäº†ï¼Œä¸€ä¸€åˆ†æï¼š Start of line æ˜¯ç”±^ç”Ÿæ•ˆçš„è¡¨ç¤ºä»¥æ­¤å¼€å¤´ å¯¹åº”ç»“å°¾End of line ç”±$ç”Ÿæ•ˆè¡¨ç¤ºä»¥æ­¤ç»“å°¾ æ¥ç€çœ‹digit ç”± d ç”Ÿæ•ˆè¡¨ç¤ºæ•°å­— 3times ç”±{4} ç”Ÿæ•ˆè¡¨ç¤ºé‡å¤4æ¬¡ï¼Œå¼€å§‹çš„æ—¶å€™æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ 4times ã€‚åæ¥æ˜ç™½ä½œè€…çš„ç”¨æ„ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªè§„åˆ™ï¼Œç”¨è¿™ä¸ªè§„åˆ™å»ä»å­—ç¬¦ä¸²å¼€å§‹åŒ¹é…åˆ°ç»“æŸï¼ˆæ³¨æ„è®¡ç®—æœºè¯»å­—ç¬¦ä¸²å¯æ˜¯ä¸ä¼šåˆ†è¡Œçš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªä¸²ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„å¤šè¡Œï¼Œäººå®¶ä¼šè®¤ä¸ºæ˜¯ä¸ª t ï¼‰è¿™é‡Œè®¾è®¡å¥½åƒå°ç«è½¦çš„è½¨é“ä¸€ç›´å¼€åˆ°æœ«å°¾ã€‚digit ä¼ è¿‡ä¸€æ¬¡ï¼Œ3timesè¡¨ç¤ºå†æ¥ä¸‰æ¬¡å¾ªç¯ï¼Œå…±4æ¬¡ï¼Œåé¢çš„onceåŒç†ã€‚ è‡ªå·±è¢«è‡ªå·±å•°å—¦åˆ°äº†ã€‚ æ¥ä¸‹æ¥ï¼Œæ˜¯ one of åœ¨æ‰‹æœºæ­£åˆ™é‡Œé¢å·²ç»å‡ºç°äº†ã€‚è¡¨ç¤ºä»€ä¹ˆéƒ½è¡Œã€‚åªè¦ç¬¦åˆè¿™ä¸¤ä¸ªéƒ½è®©é€šè¿‡ã€‚ å¥½äº†è¿™ä¸ªæ­£åˆ™è§£é‡Šå®Œäº†ï¼Œæ¥ä¸‹æ¥ç”¨å®ƒåšä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥éªŒè¯æ—¥æœŸçš„åˆæ³•æ€§ ç»“åˆURLåˆ†ç»„æ›¿æ¢æ‰€ç”¨åˆ°çš„åˆ†ç»„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å†™å‡ºæ—¥æœŸæ ¼å¼åŒ–çš„æ–¹æ³• æ”¹é€ ä¸‹è¿™ä¸ªæ­£åˆ™ 1 /^(\\d{4})[/-](\\d{1,2})[/-](\\d{1,2})$/ è½»æ¾çš„å¯ä»¥æ‹¿åˆ° group#1 #2 #3 çš„å†…å®¹ï¼Œå¯¹åº” $1 $2 $3 ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:2:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€åŸºæœ¬åŒ¹é… æ­£åˆ™è¡¨è¾¾å¼å…¶å®å°±æ˜¯åœ¨æ‰§è¡Œæœç´¢æ—¶çš„æ ¼å¼ï¼Œå®ƒç”±ä¸€äº›å­—æ¯(ä¹Ÿå¯ä»¥æ˜¯æ±‰å­—)å’Œæ•°å­—ç»„åˆè€Œæˆã€‚ ä¾‹å¦‚ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ å­¦ä¹ çš„æ±ª Hï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªè§„åˆ™ï¼šç”±å­¦å¼€å§‹ï¼Œæ¥ç€æ˜¯ä¹ ,â€¦æœ€åHã€‚å®ƒæ˜¯ç»„ä¸ªå­—ç¬¦ä¸è¾“å…¥çš„æ­£åˆ™è¡¨è¾¾å¼ä½œæ¯”è¾ƒ,åŒæ—¶å¤§å°å†™æ•æ„Ÿ 1 2 3 \"å­¦ä¹ çš„æ±ª H\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilin //æ— ç¬¦åˆåŒ¹é…å­—ç¬¦ä¸² åŠªåŠ›å­¦ä¹ çš„æ±ª Hongjilin //å…¶ä¸­çš„ [ å­¦ä¹ çš„æ±ª H ] é«˜äº® ç»“æœç¤ºä¾‹: è¿™é‡Œåˆ†äº«ä¸€ä¸ªåœ¨çº¿ç»ƒä¹ æ­£åˆ™çš„ç½‘ç«™,åŒå­¦ä»¬å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç»ƒä¹  â€“\u003e [ åœ¨çº¿ç»ƒä¹  ] äºŒã€å…ƒå­—ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ä¸»è¦ä¾èµ–äºå…ƒå­—ç¬¦ã€‚ å…ƒå­—ç¬¦ä¸ä»£è¡¨ä»–ä»¬æœ¬èº«çš„å­—é¢æ„æ€ï¼Œä»–ä»¬éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ä¸€äº›å…ƒå­—ç¬¦å†™åœ¨æ–¹æ‹¬å·ä¸­çš„æ—¶å€™æœ‰ä¸€äº›ç‰¹æ®Šçš„æ„æ€ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:3:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€å…ƒå­—ç¬¦åˆ—ä¸¾ ä»¥ä¸‹æ˜¯ä¸€äº›å…ƒå­—ç¬¦çš„åˆ—ä¸¾ï¼š å…ƒå­—ç¬¦ æè¿° . å¥å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦é™¤äº†æ¢è¡Œç¬¦ã€‚ [ ] å­—ç¬¦ç§ç±»ã€‚åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ã€‚ [^ ] å¦å®šçš„å­—ç¬¦ç§ç±»ã€‚åŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„ä»»æ„å­—ç¬¦ * åŒ¹é…\u003e=0ä¸ªé‡å¤çš„åœ¨*å·ä¹‹å‰çš„å­—ç¬¦ã€‚ + åŒ¹é…\u003e=1ä¸ªé‡å¤çš„+å·å‰çš„å­—ç¬¦ã€‚ ? æ ‡è®°?ä¹‹å‰çš„å­—ç¬¦ä¸ºå¯é€‰. {n,m} åŒ¹é…numä¸ªå¤§æ‹¬å·ä¹‹å‰çš„å­—ç¬¦æˆ–å­—ç¬¦é›† (n \u003c= num \u003c= m). (xyz) å­—ç¬¦é›†ï¼ŒåŒ¹é…ä¸ xyz å®Œå…¨ç›¸ç­‰çš„å­—ç¬¦ä¸². | æˆ–è¿ç®—ç¬¦ï¼ŒåŒ¹é…ç¬¦å·å‰æˆ–åçš„å­—ç¬¦. \\ è½¬ä¹‰å­—ç¬¦,ç”¨äºåŒ¹é…ä¸€äº›ä¿ç•™çš„å­—ç¬¦ `[ ] ( ) { } . * + ? ^ $ \\ ^ ä»å¼€å§‹è¡Œå¼€å§‹åŒ¹é…. $ ä»æœ«ç«¯å¼€å§‹åŒ¹é…. ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:4:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€ç‚¹è¿ç®—ç¬¦ â€“\u003e . .æ˜¯å…ƒå­—ç¬¦ä¸­æœ€ç®€å•çš„ä¾‹å­ã€‚ .åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œä½†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ [...o ] åŒ¹é…3ä¸ª(å‡ ä¸ªç‚¹å°±å‡ ä½)ä»»æ„å­—ç¬¦åé¢è·Ÿç€æ˜¯ [ o ] çš„å­—ç¬¦ä¸²ã€‚ 1 2 3 '...o' =\u003e //æ­¤å¤„ç»™å‡ºä¸‰ä¸ªç‚¹ å°±æ˜¯å‰ä¸‰ä½ä¸ºä»»æ„ åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilin //å…¶ä¸­çš„ [ æ±ª ho ] é«˜äº® åŠªåŠ›å­¦ä¹ çš„æ±ª Hongjilin //å…¶ä¸­çš„ [ æ±ª Ho ] é«˜äº® è¿™æ—¶,æŸä¸ªè®¤çœŸçœ‹ç¬”è®°çš„åŒå­¦æé—®: . ç”¨æ¥åŒ¹é…ä»»æ„å­—ç¬¦ é‚£ä¹ˆå­—ç¬¦ä¸²ä¸­çš„å¥å·.,æˆ‘ä»¬åˆæ€ä¹ˆåŒ¹é…å‘¢?åˆ«æ€¥,å¸¦ç€è¿™ä¸ªç–‘é—®ç»§ç»­å¾€ä¸‹çœ‹,ç­”æ¡ˆå°±åœ¨ä¸‹æ–¹å­—ç¬¦é›†ä¸­ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:5:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€å­—ç¬¦é›† å­—ç¬¦é›†ä¹Ÿå«åšå­—ç¬¦ç±»ã€‚ æ–¹æ‹¬å·ç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ã€‚ åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨è¿å­—ç¬¦æ¥æŒ‡å®šå­—ç¬¦é›†çš„èŒƒå›´ã€‚ åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦é›†ä¸å…³å¿ƒé¡ºåºã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ [ å­¦ä¹ çš„æ±ª [Hh] ] åŒ¹é… [ å­¦ä¹ çš„æ±ª h ] å’Œ [ å­¦ä¹ çš„æ±ª H ] ã€‚ 1 2 3 \"å­¦ä¹ çš„æ±ª [Hh]\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilin //å…¶ä¸­çš„ [ å­¦ä¹ çš„æ±ª h ] é«˜äº® åŠªåŠ›å­¦ä¹ çš„æ±ª Hongjilin //å…¶ä¸­çš„ [ å­¦ä¹ çš„æ±ª H ] é«˜äº® ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â… - å­—ç¬¦é›†ä¸­åŒ¹é…å¥å·. â€“Â» [.] å‰é¢æˆ‘ä»¬è¯´è¿‡ç‚¹è¿ç®—ç¬¦,é‚£åŒå­¦ä»¬æ˜¯å¦ä¼šæœ‰ä¸ªç–‘æƒ‘, . è¢«ç”¨æ¥åŒ¹é…ä»»æ„å­—ç¬¦,é‚£ä¹ˆä½œä¸ºå­—ç¬¦ä¸²ä¸­çš„å¥å·.,åˆè¯¥ç”¨ä»€ä¹ˆåŒ¹é…å‘¢? æ–¹æ‹¬å·çš„å¥å·å°±è¡¨ç¤ºå¥å·ã€‚ è¡¨è¾¾å¼ lin[.] åŒ¹é… lin.å­—ç¬¦ä¸² 1 2 3 \"lin[.]\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilins åŠªåŠ›å­¦ä¹ çš„æ±ª Hongjilin. ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - å¦å®šå­—ç¬¦é›† â€“Â» [^] ä¸€èˆ¬æ¥è¯´ ^ è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œä½†å®ƒç”¨åœ¨ä¸€ä¸ªæ–¹æ‹¬å·çš„å¼€å¤´çš„æ—¶å€™ï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦é›†æ˜¯å¦å®šçš„ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼[^åœ°]å­¦ä¹ çš„[^å¸…] åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ä¸º [ å­¦ä¹ çš„ ]çš„, åŒæ—¶å‰é¢ä¸€ä½å­—ç¬¦ä¸²ä¸èƒ½ä¸ºåœ°,åé¢ä¸€ä½å­—ç¬¦ä¸²ä¸èƒ½ä¸ºå¸… 1 2 3 4 \"[^åœ°]å­¦ä¹ çš„[^å¸…]\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilins //åªæœ‰æ­¤å¤„é«˜äº® åŠªåŠ›å­¦ä¹ çš„å¸…æ±ª Hongjilin. å¸…æ°”åœ°å­¦ä¹ çš„ a) ä¸€ä¸ªç‰¹æ®Šçš„ç”¨æ³• æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç‚¹ï¼ˆ.ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚ä¸€ä¸ªæ˜¯å››ä¸ªå­—èŠ‚çš„ UTF-16 å­—ç¬¦ï¼Œè¿™ä¸ªå¯ä»¥ç”¨uä¿®é¥°ç¬¦è§£å†³ï¼›å¦ä¸€ä¸ªæ˜¯è¡Œç»ˆæ­¢ç¬¦ï¼ˆline terminator characterï¼‰ã€‚ æ‰€è°“è¡Œç»ˆæ­¢ç¬¦ï¼Œå°±æ˜¯è¯¥å­—ç¬¦è¡¨ç¤ºä¸€è¡Œçš„ç»ˆç»“ã€‚ä»¥ä¸‹å››ä¸ªå­—ç¬¦å±äºâ€œè¡Œç»ˆæ­¢ç¬¦â€ã€‚ U+000A æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ U+000D å›è½¦ç¬¦ï¼ˆ\\rï¼‰ U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰ U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰ 1 /foo.bar/.test('foo\\nbar') // false ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸º.ä¸åŒ¹é…\\nï¼Œæ‰€ä»¥æ­£åˆ™è¡¨è¾¾å¼è¿”å›falseã€‚ ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›åŒ¹é…çš„æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œè¿™æ—¶æœ‰ä¸€ç§å˜é€šçš„å†™æ³•ã€‚ 1 /foo[^]bar/.test('foo\\nbar') // true å½“ç„¶,è¿™ç§è§£å†³æ–¹æ¡ˆæ¯•ç«Ÿä¸å¤ªç¬¦åˆç›´è§‰ï¼Œ ES2018 å¼•å…¥sä¿®é¥°ç¬¦ï¼Œä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ 1 /foo.bar/s.test('foo\\nbar') // true è¯¦è§ESç³»åˆ—ç¬”è®°æ­£åˆ™éƒ¨åˆ† â€“\u003e ES6åŠåç»­ç‰ˆæœ¬å­¦ä¹ ç¬”è®° ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - é‡å¤æ¬¡æ•° â€“Â» *ã€+ã€? åé¢è·Ÿç€å…ƒå­—ç¬¦ +ï¼Œ* or ? çš„ï¼Œç”¨æ¥æŒ‡å®šåŒ¹é…å­æ¨¡å¼çš„æ¬¡æ•°ã€‚ è¿™äº›å…ƒå­—ç¬¦åœ¨ä¸åŒçš„æƒ…å†µä¸‹æœ‰ç€ä¸åŒçš„æ„æ€ã€‚ a) * å· *å·åŒ¹é… åœ¨*ä¹‹å‰çš„å­—ç¬¦å‡ºç°å¤§äºç­‰äº0æ¬¡ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ a* åŒ¹é…0æˆ–æ›´å¤šä¸ªä»¥aå¼€å¤´çš„å­—ç¬¦ã€‚è¡¨è¾¾å¼[a-z]* åŒ¹é…ä¸€ä¸ªè¡Œä¸­æ‰€æœ‰ä»¥å°å†™å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚ 1 2 3 4 \"[a-z]*\" =\u003e Hong ji lin VERY shuai //éƒ¨åˆ†é«˜äº® HONGJILINHAOSHUAI //å…¨éƒ¨ä¸äº® hongjilinhaoshuai //å…¨éƒ¨é«˜äº® *å·æ­é… .å· *å­—ç¬¦å’Œ.å­—ç¬¦æ­é…å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦.*ã€‚ *å’Œè¡¨ç¤ºåŒ¹é…ç©ºæ ¼çš„ç¬¦å·\\sè¿èµ·æ¥ç”¨ï¼Œå¦‚è¡¨è¾¾å¼\\s*å­¦ä¹ \\s*åŒ¹é…0æˆ–æ›´å¤šä¸ªç©ºæ ¼å¼€å¤´å’Œ0æˆ–æ›´å¤šä¸ªç©ºæ ¼ç»“å°¾çš„catå­—ç¬¦ä¸²ã€‚ 1 2 3 4 \"\\s*å­¦ä¹ \\s*\" =\u003e //0~æ— é™æ¬¡,æ‰€ä»¥åªè¦æœ‰[ å­¦ä¹  ]éƒ½ä¼šè¢«åŒ¹é…,åŒæ—¶ä¼šè¢«åŒ¹é…çš„è¿˜æœ‰å…¶ç´§é çš„æ— é™æ¬¡çš„ç©ºæ ¼ åŠªåŠ› å­¦ä¹ çš„æ±ª hongjilins //[ å­¦ä¹  ]å‰ä¸€ä¸ªç©ºæ ¼,åé¢æ— ç©ºæ ¼ åŠªåŠ› å­¦ä¹  çš„æ±ªhongjilins //[ å­¦ä¹  ]å‰åå¤šä¸ªç©ºæ ¼ åŠªåŠ›å­¦ä¹ çš„å¸…æ±ª Hongjilin. //[ å­¦ä¹  ] å‰åæ— ç©ºæ ¼ b) +å· +å·åŒ¹é…+å·ä¹‹å‰çš„å­—ç¬¦å‡ºç° \u003e=1 æ¬¡ã€‚ ä¾‹å¦‚è¡¨è¾¾å¼å­¦ä¹ .+æ±ª åŒ¹é…ä»¥ä¸­æ–‡(ä¹Ÿå¯ä»¥æ˜¯å­—æ¯)å­¦ä¹ å¼€å¤´ä»¥ [æ±ª] ç»“å°¾ï¼Œä¸­é—´è·Ÿç€è‡³å°‘ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚ 1 2 3 4 5 \"å­¦ä¹ .+æ±ª\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilins åŠªåŠ›å­¦ä¹ çš„å¸…æ±ª Hongjilin. åŠªåŠ›å­¦ä¹  66 æ±ª Hongjilin. åŠªåŠ›çš„å­¦ä¹ æ±ª //æ­¤è¡Œæ— åŒ¹é…ç»“æœ c) ? å· åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦ ? æ ‡è®°åœ¨ç¬¦å·å‰é¢çš„å­—ç¬¦ä¸ºå¯é€‰ï¼Œå³å‡ºç° 0 æˆ– 1 æ¬¡ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ å­¦ä¹ çš„[å¸…]?æ±ª åŒ¹é…å­—ç¬¦ä¸² å­¦ä¹ çš„æ±ª å’Œ å­¦ä¹ çš„å¸…æ±ªã€‚ 1 2 3 4 5 \"å­¦ä¹ çš„[å¸…]?æ±ª\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilins åŠªåŠ›å­¦ä¹ çš„å¸…æ±ª Hongjilin. åŠªåŠ›çš„å­¦ä¹ æ±ª //æ— åŒ¹é…ç»“æœ åŠªåŠ›å­¦ä¹ çš„å¸…æ°”æ±ª Hongjilin. //æ— åŒ¹é…ç»“æœ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…£ - é‡è¯ â€“Â» {} a) æ­£å¸¸ä½¿ç”¨ç¤ºä¾‹ åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ {} æ˜¯ä¸€ä¸ªé‡è¯ï¼Œå¸¸ç”¨æ¥é™å®šä¸€ä¸ªæˆ–ä¸€ç»„å­—ç¬¦å¯ä»¥é‡å¤å‡ºç°çš„æ¬¡æ•°ã€‚ ä¾‹å¦‚ï¼Œ è¡¨è¾¾å¼ [0-9]{2,3} åŒ¹é…æœ€å°‘ 2 ä½æœ€å¤š 3 ä½ 0~9 çš„æ•°å­—ã€‚ 1 2 3 4 5 \"[0-9]{2,3}\" =\u003e åŠªåŠ›å­¦ä¹ çš„1æ±ª1 åŠªåŠ›å­¦ä¹ çš„233æ±ª åŠªåŠ›å­¦ä¹ çš„4ä¸ª4444æ±ª åŠªåŠ›å­¦ä¹ çš„5ä¸ª55555æ±ª b) çœç•¥ç¬¬äºŒä¸ªå‚æ•°,å¸¦é€—å· æˆ‘ä»¬å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚ ä¾‹å¦‚ï¼Œ[0-9]{2,} åŒ¹é…è‡³å°‘ä¸¤ä½ 0~9 çš„æ•°å­—ã€‚ 1 2 3 4 5 \"[0-9]{2,}\" =\u003e åŠªåŠ›å­¦ä¹ çš„1æ±ª1 åŠªåŠ›å­¦ä¹ çš„233æ±ª åŠªåŠ›å­¦ä¹ çš„4ä¸ª4444æ±ª åŠªåŠ›å­¦ä¹ çš„5ä¸ª55555æ±ª c) é€—å·ä¹Ÿçœç•¥ å¦‚æœé€—å·ä¹Ÿçœç•¥æ‰åˆ™è¡¨ç¤ºé‡å¤å›ºå®šçš„æ¬¡æ•°ã€‚ ä¾‹å¦‚ï¼Œ[0-9]{2} åŒ¹é…2ä½æ•°å­— 1 2 3 4 5 \"[0-9]{2}\" =\u003e åŠªåŠ›å­¦ä¹ çš„1æ±ª1 åŠªåŠ›å­¦ä¹ çš„233æ±ª åŠªåŠ›å­¦ä¹ çš„4ä¸ª4444æ±ª åŠªåŠ›å­¦ä¹ çš„5ä¸ª55555æ±ª ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:4","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¤- ç‰¹å¾æ ‡ç¾¤ â€“Â» (...) ç‰¹å¾æ ‡ç¾¤æ˜¯ä¸€ç»„å†™åœ¨ (...) ä¸­çš„å­æ¨¡å¼ã€‚(...) ä¸­åŒ…å«çš„å†…å®¹å°†ä¼šè¢«çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œå’Œæ•°å­¦ä¸­å°æ‹¬å·ï¼ˆ ï¼‰çš„ä½œç”¨ç›¸åŒã€‚ä¾‹å¦‚, è¡¨è¾¾å¼ (ab)* åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª abã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ (...) ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼ ab* å°†åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª b ã€‚å†æ¯”å¦‚ä¹‹å‰è¯´çš„ {} æ˜¯ç”¨æ¥è¡¨ç¤ºå‰é¢ä¸€ä¸ªå­—ç¬¦å‡ºç°æŒ‡å®šæ¬¡æ•°ã€‚ä½†å¦‚æœåœ¨ {} å‰åŠ ä¸Šç‰¹å¾æ ‡ç¾¤ (...) åˆ™è¡¨ç¤ºæ•´ä¸ªæ ‡ç¾¤å†…çš„å­—ç¬¦é‡å¤ N æ¬¡ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ () ä¸­ç”¨æˆ–å­—ç¬¦ | è¡¨ç¤ºæˆ–ã€‚ä¾‹å¦‚ï¼Œ(å­¦ä¹ |æ‰“å·¥)çš„æ±ª åŒ¹é… å­¦ä¹ çš„æ±ª æˆ– æ‰“å·¥çš„æ±ª . 1 2 3 4 5 \"(å­¦ä¹ |æ‰“å·¥)çš„æ±ª (hong){2}\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hongjilins åŠªåŠ›å­¦ä¹ æ‰“å·¥çš„æ±ª hongjilins åŠªåŠ›æ‰“å·¥çš„æ±ª honghongjilins åŠªåŠ›å­¦ä¹ æ‰“å·¥çš„æ±ª honghongjilins ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:5","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¥ - æˆ–è¿ç®—ç¬¦ â€“Â» | æˆ–è¿ç®—ç¬¦å°±è¡¨ç¤ºæˆ–ï¼Œç”¨ä½œåˆ¤æ–­æ¡ä»¶ã€‚ ä¸¾ä¸ªæ —å­: (å­¦ä¹ |æ‰“å·¥)çš„(æ±ª|æ‰“å·¥äºº) è¿›è¡ŒåŒ¹é… 1 2 3 4 \"(å­¦ä¹ |æ‰“å·¥)çš„(æ±ª|æ‰“å·¥äºº)\" =\u003e åŠªåŠ›æ‰“å·¥çš„æ±ª hongjilins åŠªåŠ›å­¦ä¹ çš„æ‰“å·¥äºº honghongjilins åŠªåŠ›å­¦ä¹ æ‰“å·¥çš„æ‰“å·¥äººæ±ª hongjilins ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:6","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¦ - è½¬ç ç‰¹æ®Šå­—ç¬¦ â€“Â» \\ åæ–œçº¿ \\ åœ¨è¡¨è¾¾å¼ä¸­ç”¨äºè½¬ç ç´§è·Ÿå…¶åçš„å­—ç¬¦ã€‚ç”¨äºæŒ‡å®š { } [ ] / \\ + * . $ ^ | ? è¿™äº›ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœæƒ³è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦åˆ™è¦åœ¨å…¶å‰é¢åŠ ä¸Šåæ–œçº¿ \\ã€‚ ä¾‹å¦‚ . æ˜¯ç”¨æ¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦çš„ã€‚å¦‚æœæƒ³è¦åŒ¹é…å¥å­ä¸­çš„ . åˆ™è¦å†™æˆ \\. ä»¥ä¸‹è¿™ä¸ªä¾‹å­ \\.?æ˜¯é€‰æ‹©æ€§åŒ¹é…. 1 2 3 4 \"(å­¦ä¹ |æ‰“å·¥)çš„æ±ª\\.? hong\\??\" =\u003e åŠªåŠ›æ‰“å·¥çš„æ±ª. hong åŠªåŠ›å­¦ä¹ çš„æ±ª? hong åŠªåŠ›å­¦ä¹ çš„æ±ª hong? ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:7","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…§ - é”šç‚¹(è¾¹ç•Œ) â€“Â» ^ã€$ã€\\bã€\\B åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæƒ³è¦åŒ¹é…æŒ‡å®šå¼€å¤´æˆ–ç»“å°¾çš„å­—ç¬¦ä¸²å°±è¦ä½¿ç”¨åˆ°é”šç‚¹ã€‚^ æŒ‡å®šå¼€å¤´ï¼Œ$ æŒ‡å®šç»“å°¾ã€‚ é€šå¸¸ä¹Ÿä¼šæ­é…æ ‡å¿—(ä¿®é¥°ç¬¦)ç›¸å…³çŸ¥è¯†ç‚¹ä½¿ç”¨ ç”±äºè¿˜æœªè¯´åˆ°æ ‡å¿—ç›¸å…³çŸ¥è¯†,æ­¤å¤„ä¾‹å­ä»ä½¿ç”¨ [ /g ]å…¨å±€æœç´¢,å¦‚æœå¯¹æ­¤æœ‰ç–‘æƒ‘çš„å¯ä»¥ç•™ç€ç–‘é—®çœ‹ä¸‹æ–¹çš„ äº”ã€æ ‡å¿— a) ^ å· ^ ç”¨æ¥æ£€æŸ¥åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æ‰€åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚ ä¾‹å¦‚ï¼Œåœ¨ abc ä¸­ä½¿ç”¨è¡¨è¾¾å¼ ^a ä¼šå¾—åˆ°ç»“æœ aã€‚ä½†å¦‚æœä½¿ç”¨ ^b å°†åŒ¹é…ä¸åˆ°ä»»ä½•ç»“æœã€‚å› ä¸ºåœ¨å­—ç¬¦ä¸² abc ä¸­å¹¶ä¸æ˜¯ä»¥ b å¼€å¤´ã€‚ ä¾‹å¦‚ï¼Œ^(å­¦ä¹ |æ‰“å·¥)çš„æ±ª è¿›è¡ŒåŒ¹é… 1 2 3 4 5 6 \"^(å­¦ä¹ |æ‰“å·¥)çš„æ±ª\" =\u003e //æ³¨æ„:ä¸‹åˆ—å­—ç¬¦ä¸²è¦åˆ†å››æ¬¡åŒ¹é…,å› ä¸ºå³ä½¿æ¢è¡Œäº†,åä¸‰è¡Œå­—ç¬¦ä¸²æœ¬è´¨ä¸Šéƒ½ä¸åœ¨å­—ç¬¦ä¸²å¼€å¤´ //æˆ–è€…æ ‡å¿—æ¢æˆ /m è€Œä¸æ˜¯ /g å› ä¸ºæ­¤å¤„è¿˜æœªè¯´åˆ°æ ‡å¿—,æ‰€ä»¥é»˜è®¤å¤§å®¶ä½¿ç”¨/gå…¨å±€æœç´¢ å­¦ä¹ çš„æ±ª hong æ‰“å·¥çš„æ±ª hong åŠªåŠ›æ‰“å·¥çš„æ±ª hong åŠªåŠ›å­¦ä¹ çš„æ±ª b) $ å· åŒç†äº ^ å·ï¼Œ$ å·ç”¨æ¥åŒ¹é…å­—ç¬¦æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªã€‚ ä¾‹å¦‚ï¼Œå­¦ä¹ çš„(æ±ª|æ‰“å·¥äºº)$ åŒ¹é…ä»¥ [ æ±ª ] æˆ–è€… [ æ‰“å·¥äºº ] ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚ 1 2 3 4 5 6 \"å­¦ä¹ çš„(æ±ª|æ‰“å·¥äºº)$\" =\u003e //æ³¨æ„:ä¸‹åˆ—å­—ç¬¦ä¸²è¦åˆ†å››æ¬¡åŒ¹é…,å› ä¸ºå³ä½¿æ¢è¡Œäº†,å‰ä¸‰è¡Œå­—ç¬¦ä¸²æœ¬è´¨ä¸Šéƒ½ä¸åœ¨å­—ç¬¦ä¸²ç»“å°¾ //æˆ–è€…æ ‡å¿—æ¢æˆ /m è€Œä¸æ˜¯ /g å› ä¸ºæ­¤å¤„è¿˜æœªè¯´åˆ°æ ‡å¿—,æ‰€ä»¥é»˜è®¤å¤§å®¶ä½¿ç”¨/gå…¨å±€æœç´¢ åŠªåŠ›å­¦ä¹ çš„æ±ª åŠªåŠ›å­¦ä¹ çš„æ‰“å·¥äºº åŠªåŠ›å­¦ä¹ çš„æ‰“å·¥äºº hongjilins åŠªåŠ›å­¦ä¹ çš„æ±ª_ //æ­¤å¤„ _ æ¨¡æ‹Ÿè¡¨ç¤ºç©ºæ ¼ c) å•è¯è¾¹ç•Œ \\b \\b : å•è¯è¾¹ç•Œ:æŒ‡[a-zA-z0-9]ä¹‹å¤–çš„å­—ç¬¦,ä¸¾ä¸ªæ —å­:\\bis\\b 1 2 3 4 5 '\\bis\\b'=\u003e My name is hongjilin my name@is@hong jilin mynameå­¦isä¹ hongjilin mynameishongjilin //åªæœ‰æ­¤å¤„ä¸è¢«åŒ¹é… d) éå•è¯è¾¹ç•Œ \\B 1 2 3 4 5 '\\Bis\\B'=\u003e My name is hongjilin my name@is@hong jilin mynameå­¦isä¹ hongjilin mynameishongjilin //åªæœ‰æ­¤å¤„è¢«åŒ¹é…,ä¸å•è¯è¾¹ç•Œåˆ‡å¥½ç›¸å ä¸‰ã€ç®€å†™å­—ç¬¦é›† è¿™äº›ç®€å†™å­—ç¬¦é›†,ç®€æ´æ˜äº†ä¸”éå¸¸å¸¸ç”¨,ä½†æ˜¯ä¹Ÿå› ä¸ºè¿™æ ·å½“åˆæ²¡æœ‰ä»”ç»†å»è®°,ç”¨æ—¶è¿˜å¾—æŸ¥é˜…èµ„æ–™ååˆ†ä¸ä¾¿,å»ºè®®èƒŒä¸‹æ¥ æ­£åˆ™è¡¨è¾¾å¼æä¾›ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦é›†ç®€å†™ã€‚å¦‚ä¸‹: ç®€å†™ æè¿° . é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦ \\w åŒ¹é…æ‰€æœ‰å­—æ¯æ•°å­—ï¼Œç­‰åŒäº [a-zA-Z0-9_] \\W åŒ¹é…æ‰€æœ‰éå­—æ¯æ•°å­—ï¼Œå³ç¬¦å·ï¼Œç­‰åŒäºï¼š [^\\w] \\d åŒ¹é…æ•°å­—ï¼š [0-9] \\D åŒ¹é…éæ•°å­—ï¼š [^\\d] \\s åŒ¹é…æ‰€æœ‰ç©ºæ ¼å­—ç¬¦ï¼Œç­‰åŒäºï¼š [\\t\\n\\f\\r\\p{Z}] \\S åŒ¹é…æ‰€æœ‰éç©ºæ ¼å­—ç¬¦ï¼š [^\\s] \\f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ \\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ \\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ \\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ \\v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ \\p åŒ¹é… CR/LFï¼ˆç­‰åŒäº \\r\\nï¼‰ï¼Œç”¨æ¥åŒ¹é… DOS è¡Œç»ˆæ­¢ç¬¦ å››ã€é›¶å®½åº¦æ–­è¨€ (å‰åé¢„æŸ¥) å…ˆè¡Œæ–­è¨€å’Œåå‘æ–­è¨€éƒ½å±äºéæ•è·ç°‡ï¼ˆä¸æ•è·æ–‡æœ¬ ï¼Œä¹Ÿä¸é’ˆå¯¹ç»„åˆè®¡è¿›è¡Œè®¡æ•°ï¼‰ã€‚ å…ˆè¡Œæ–­è¨€ç”¨äºåˆ¤æ–­æ‰€åŒ¹é…çš„æ ¼å¼æ˜¯å¦åœ¨å¦ä¸€ä¸ªç¡®å®šçš„æ ¼å¼ä¹‹å‰ï¼ŒåŒ¹é…ç»“æœä¸åŒ…å«è¯¥ç¡®å®šæ ¼å¼ï¼ˆä»…ä½œä¸ºçº¦æŸï¼‰ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è·å¾—æ‰€æœ‰è·Ÿåœ¨ $ ç¬¦å·åçš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åå‘æ–­è¨€ (?\u003c=\\$)[0-9\\.]*ã€‚ è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é… $ å¼€å¤´ï¼Œåé¢å¯ä»¥è·Ÿç€å•ä¸ªå­—ç¬¦:[0~9]ã€[.]ã€[?],è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°å¤§äºç­‰äº 0 æ¬¡ã€‚ 1 2 3 \"(?\u003c=\\$)[0-9\\.\\?]*\" =\u003e $0.,1,2,3,$4,5,6,$?7,8,$..9.9? //0. //4 //?7 //..9.9? é›¶å®½åº¦æ–­è¨€å¦‚ä¸‹ï¼š ç¬¦å· æè¿° ?= æ­£å…ˆè¡Œæ–­è¨€-å­˜åœ¨ ?! è´Ÿå…ˆè¡Œæ–­è¨€-æ’é™¤ ?\u003c= æ­£åå‘æ–­è¨€-å­˜åœ¨ ?\u003c! è´Ÿåå‘æ–­è¨€-æ’é™¤ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:6:8","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€ æ­£å…ˆè¡Œæ–­è¨€ â€“Â» ?=... ?=... æ­£å…ˆè¡Œæ–­è¨€ï¼Œè¡¨ç¤ºç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ä¹‹åå¿…é¡»è·Ÿç€ ?=...å®šä¹‰çš„è¡¨è¾¾å¼ã€‚ è¿”å›ç»“æœåªåŒ…å«æ»¡è¶³åŒ¹é…æ¡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼(å³ä¸ä¼šè¿”å›å…ˆè¡Œæ–­è¨€åŒ¹é…éƒ¨åˆ†çš„å†…å®¹)ã€‚ å®šä¹‰ä¸€ä¸ªæ­£å…ˆè¡Œæ–­è¨€è¦ä½¿ç”¨ ()ã€‚åœ¨æ‹¬å·å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªé—®å·å’Œç­‰å·ï¼š (?=...)ã€‚ æ­£å…ˆè¡Œæ–­è¨€çš„å†…å®¹å†™åœ¨æ‹¬å·ä¸­çš„ç­‰å·åé¢ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ å­¦ä¹ çš„æ±ª(?=\\shong) é¦–å…ˆåŒ¹é… [ å­¦ä¹ çš„æ±ª ]ï¼Œç„¶ååœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†æ­£å…ˆè¡Œæ–­è¨€ (?=\\shong) ï¼Œå³ [ å­¦ä¹ çš„æ±ª ]åé¢ç´§è·Ÿç€ [ (ç©ºæ ¼)hong ]ã€‚ 1 2 3 4 \"å­¦ä¹ çš„æ±ª(?=\\shong)\" =\u003e //æ­¤å¤„æ–­è¨€ä¸­çš„å¯ä»¥å†åŠ å¦‚`+` ã€`*` ......,æ­¤å¤„ä¸¾å…¶ä¸­ä¸€ä¸ªæ —å­è¯´æ˜ åŠªåŠ›å­¦ä¹ çš„æ±ª hong //åªæœ‰æ­¤å¤„è¢«åŒ¹é…åˆ° è¿”å›: [å­¦ä¹ çš„æ±ª] --\u003eæ–­è¨€ä¸­çš„åŒ¹é…é¡¹ä½œä¸ºçº¦æŸä¸ä¼šè¿”å› åŠªåŠ›å­¦ä¹ çš„æ±ª å¸… åŠªåŠ›å­¦ä¹ çš„æ±ªhong //æ­¤å¤„åé¢æ²¡æœ‰ç©ºæ ¼ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:7:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€è´Ÿå…ˆè¡Œæ–­è¨€ â€“Â» ?!... è´Ÿå…ˆè¡Œæ–­è¨€ ?! ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶åä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚ æ­£å…ˆè¡Œæ–­è¨€ å®šä¹‰å’Œ è´Ÿå…ˆè¡Œæ–­è¨€ ä¸€æ ·ï¼ŒåŒºåˆ«å°±æ˜¯ = æ›¿æ¢æˆ ! ä¹Ÿå°±æ˜¯ (?!...)ã€‚ è¡¨è¾¾å¼ å­¦ä¹ çš„æ±ª(?!\\s+hong) é¦–å…ˆåŒ¹é… [ å­¦ä¹ çš„æ±ª ]ï¼Œç„¶ååœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†è´Ÿå…ˆè¡Œæ–­è¨€ (?!\\shong) ,å³ [ å­¦ä¹ çš„æ±ª ]åé¢ä¸è·Ÿç€ [ (ç©ºæ ¼)hong ]ã€‚ 1 2 3 4 \"å­¦ä¹ çš„æ±ª(?!\\s+hong)\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª hong //åªæœ‰æ­¤å¤„ä¸è¢«åŒ¹é…åˆ° åŠªåŠ›å­¦ä¹ çš„æ±ª å¸… åŠªåŠ›å­¦ä¹ çš„æ±ªhong ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:8:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€ æ­£åå‘æ–­è¨€ â€“Â» ?\u003c= ... æ­£åå‘æ–­è¨€ è®°ä½œ(?\u003c=...) ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ (?\u003c=[å­¦ä¹ |æ‰“å·¥])çš„(æ±ª|æ‰“å·¥äºº) åŒ¹é… [æ±ª] å’Œ [æ‰“å·¥äºº] ï¼Œä¸”éœ€è¦å…¶å‰æ–¹è·Ÿç€ [å­¦ä¹ ] æˆ– [æ‰“å·¥] ã€‚ 1 2 3 4 \"(?\u003c=[å­¦ä¹ |æ‰“å·¥])çš„(æ±ª|æ‰“å·¥äºº)\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª åŠªåŠ›æ‰“å·¥çš„æ‰“å·¥äºº åŠªåŠ›å­¦ä¹ æ±ª ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:9:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"4ã€è´Ÿåå‘æ–­è¨€ â€“Â» ?\u003c!... è´Ÿåå‘æ–­è¨€ è®°ä½œ (?\u003c!...) ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰ ä¸ è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ (?\u003c![å­¦ä¹ |æ‰“å·¥])çš„(æ±ª|æ‰“å·¥äºº) åŒ¹é… [æ±ª] å’Œ [æ‰“å·¥äºº] ï¼Œä¸”éœ€è¦å…¶å‰æ–¹ ä¸ è·Ÿç€ [å­¦ä¹ ] æˆ– [æ‰“å·¥] ã€‚ 1 2 3 4 \"/(?\u003c![å­¦ä¹ |æ‰“å·¥])çš„(æ±ª|æ‰“å·¥äºº)/g\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª åŠªåŠ›æ‰“å·¥çš„æ‰“å·¥äºº åŠªåŠ›å­¦ä¹ æ±ª äº”ã€æ ‡å¿—(ä¿®é¥°ç¬¦) æ ‡å¿—ä¹Ÿå«æ¨¡å¼ä¿®æ­£ç¬¦ï¼Œå› ä¸ºå®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹è¡¨è¾¾å¼çš„æœç´¢ç»“æœã€‚ è¿™äº›æ ‡å¿—å¯ä»¥ä»»æ„çš„ç»„åˆä½¿ç”¨ï¼Œå®ƒä¹Ÿæ˜¯æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚ æ ‡å¿— æè¿° i å¿½ç•¥å¤§å°å†™ã€‚ g å…¨å±€æœç´¢ã€‚ m å¤šè¡Œä¿®é¥°ç¬¦ï¼šé”šç‚¹å…ƒå­—ç¬¦ ^ $ å·¥ä½œèŒƒå›´åœ¨æ¯è¡Œçš„èµ·å§‹ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:10:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€å…¨å±€æœç´¢ (Global search) â€“Â» \\g ä¿®é¥°ç¬¦ g å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå…¨å±€æœç´¢åŒ¹é…ï¼Œå³ï¼ˆä¸ä»…ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ï¼Œè€Œæ˜¯è¿”å›å…¨éƒ¨ï¼‰ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ /å­¦ä¹ çš„æ±ª/g è¡¨ç¤ºæœç´¢ ä»»æ„å­—ç¬¦ï¼ˆé™¤äº†æ¢è¡Œï¼‰+ å­¦ä¹ çš„æ±ªï¼Œå¹¶è¿”å›å…¨éƒ¨ç»“æœã€‚ 1 2 3 4 \"/å­¦ä¹ çš„æ±ª/g\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª åŠªåŠ›å­¦ä¹ çš„æ±ª éå¸¸åŠªåŠ›å­¦ä¹ çš„æ±ª ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:11:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€å¿½ç•¥å¤§å°å†™ (Case Insensitive) â€“Â» /i ä¿®é¥°è¯­ i ç”¨äºå¿½ç•¥å¤§å°å†™ã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ /Hong/gi è¡¨ç¤ºåœ¨å…¨å±€æœç´¢ Hongï¼Œåœ¨åé¢çš„ i å°†å…¶æ¡ä»¶ä¿®æ”¹ä¸ºå¿½ç•¥å¤§å°å†™ï¼Œåˆ™å˜æˆæœç´¢ [hong(å¿½ç•¥å¤§å°å†™)]ï¼Œg è¡¨ç¤ºå…¨å±€æœç´¢ã€‚ 1 2 3 4 5 \"/Hong/gi\" =\u003e //é»˜è®¤æƒ…å†µä¸‹æ˜¯å¤§å°å†™æ•æ„Ÿçš„,ä½†æ­¤å¤„è¿™æ ·æ ‡å¿—å,å°±æˆä¸ºå¿½ç•¥å¤§å°å†™ hongjilin Hongjilin HONGJILIN hOngjilin ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:12:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€ å¤šè¡Œæ³¨é‡Šç¬¦ å¤šè¡Œä¿®é¥°ç¬¦ m å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå¤šè¡ŒåŒ¹é…ã€‚ åƒä¹‹å‰ä»‹ç»çš„ (^,$) ç”¨äºæ£€æŸ¥æ ¼å¼æ˜¯å¦æ˜¯åœ¨å¾…æ£€æµ‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ä½†æˆ‘ä»¬å¦‚æœæƒ³è¦å®ƒåœ¨æ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¤šè¡Œä¿®é¥°ç¬¦ mã€‚ ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ /å­¦ä¹ çš„(æ±ª|æ‰“å·¥äºº)$/gm è¡¨ç¤º [å­¦ä¹ çš„] åé¢è·Ÿç€ [æ±ª] æˆ– [æ‰“å·¥äºº] ï¼Œæœ«å°¾å¯é€‰é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦ã€‚æ ¹æ® m ä¿®é¥°ç¬¦ï¼Œç°åœ¨è¡¨è¾¾å¼åŒ¹é…æ¯è¡Œçš„ç»“å°¾ã€‚â€“\u003eæ­¤å¤„ä¸¾å‡ºä¸Šæ–¹é”šç‚¹çš„ä¾‹å­ 1 2 3 4 5 \"/å­¦ä¹ çš„(æ±ª|æ‰“å·¥äºº)$/gm\" =\u003e //åœ¨ä¹‹å‰è¯´åˆ° é”šç‚¹ æ—¶æåˆ°,å¦‚æœæ˜¯ /g åªèƒ½ä¸€è¡Œä¸€è¡ŒåŒ¹é…,è€Œå¦‚æœæ¢æˆè¿™ä¸ªå°±å¯ä»¥ç›´æ¥åŒ¹é… åŠªåŠ›å­¦ä¹ çš„æ±ª åŠªåŠ›å­¦ä¹ çš„æ‰“å·¥äºº åŠªåŠ›å­¦ä¹ çš„æ‰“å·¥äºº hongjilins åŠªåŠ›å­¦ä¹ çš„æ±ª_ //æ­¤å¤„ _ æ¨¡æ‹Ÿè¡¨ç¤ºç©ºæ ¼ å…­ ã€è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é… (Greedy vs lazy matching) ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:13:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€è´ªå©ªåŒ¹é… æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ„å‘³ç€ä¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­ä¸²ã€‚ 1 2 \"/(.*æ±ª)/\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª éå¸¸è®¤çœŸè¯»ä¹¦çš„æ±ª çš„æ±ª çš„æ±ª ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:14:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€ æƒ°æ€§åŒ¹é… æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ? å°†è´ªå©ªåŒ¹é…æ¨¡å¼è½¬åŒ–ä¸ºæƒ°æ€§åŒ¹é…æ¨¡å¼ã€‚ 1 2 \"/(.*?æ±ª)/\" =\u003e åŠªåŠ›å­¦ä¹ çš„æ±ª éå¸¸è®¤çœŸè¯»ä¹¦çš„æ±ª çš„æ±ª çš„æ±ª ä¸ƒã€æ­£åˆ™å¸¸ç”¨æ–¹æ³• æ­£åˆ™ä¸­å¸¸ç”¨æ–¹æ³•ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ï¼šRegExpå¯¹è±¡æ–¹æ³•ï¼›ä¸€ç±»æ˜¯ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„Stringå¯¹è±¡çš„æ–¹æ³•ã€‚ æ­¤å¤„ä¸»è¦åˆ—ä¸¾å¸¸ç”¨çš„ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:15:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€ RegExpå¯¹è±¡æ–¹æ³•: RegExpå¯¹è±¡æ–¹æ³•:exce()ã€test() ã€compile() ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:16:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â… - exce()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» exec() æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰åŒ¹é…çš„å€¼è¿”å›è¯¥åŒ¹é…å€¼æ„æˆçš„æ•°ç»„ ï¼Œ è¯¥æ•°ç»„è¿˜æœ‰ç»§æ‰¿çš„å±æ€§ï¼š indexï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œ input:è¡¨ç¤ºåŸå­—ç¬¦ä¸²ï¼Œ groupsï¼šè¡¨ç¤ºå½“åˆä¸­å‘½åçš„åˆ†ç»„æ—¶åŒ¹é…åˆ°çš„åˆ†ç»„å¯¹è±¡ï¼› exec()æ–¹æ³•æ²¡æœ‰åŒ¹é…åˆ°æ•°æ®æ—¶è¿”å› nullã€‚ b) å½“æ­£åˆ™åŒ¹é…ä¸­æ²¡æœ‰åˆ†ç»„æ—¶ 1 2 3 4 const str=\"åŠªåŠ›666 123 å­¦ä¹ ! 456 çš„æ‰“å·¥äºº! qrw\"; const patt=/\\d+/; const result=patt.exec(str); console.log(result) c ) å½“æ­£åˆ™åŒ¹é…ä¸­æœ‰åˆ†ç»„ä¸”åˆ†ç»„å­˜åœ¨åå­—æ—¶ 1 2 3 4 const str=\"åŠªåŠ›666 123 å­¦ä¹ ! 456 çš„æ‰“å·¥äºº! qrw\"; const patt=/(?\u003cåŠªåŠ›\u003e\\d)+/; const result=patt.exec(str); console.log(result) d) æ²¡æœ‰åŒ¹é…åˆ°ç¬¦åˆæ­£åˆ™çš„å­—ç¬¦æ—¶ 1 2 3 4 const str=\"åŠªåŠ›å­¦ä¹ çš„æ±ª\"; const patt=/\\d+/; const result=patt.exec(str); console.log(result) //è¿”å› null ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:16:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - test()æ–¹æ³• ä»‹ç»ï¼šæ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªæ¨¡å¼ï¼›å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰åŒ¹é…çš„å€¼è¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚ 1 2 3 4 5 6 7 8 9 const str=\"åŠªåŠ›å­¦ä¹ çš„æ±ª\"; //æŸ¥æ‰¾\"å­¦ä¹ \" const reg1=/å­¦ä¹ /g; const result1=reg1.test(str); console.log(result1); //true //æŸ¥æ‰¾ \"æ‰“å·¥\" const reg2=/æ‰“å·¥/g; const result2=reg2.test(str); console.log(result2); //false ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:16:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - compile()æ–¹æ³• è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯èƒ½å¤Ÿå¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç¼–è¯‘ï¼Œè¢«ç¼–è¯‘è¿‡çš„æ­£åˆ™åœ¨ä½¿ç”¨çš„æ—¶å€™æ•ˆç‡ä¼šæ›´é«˜ï¼Œé€‚åˆäºå¯¹ä¸€ä¸ªæ­£åˆ™å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¯¹ä¸€ä¸ªæ­£åˆ™åªä½¿ç”¨ä¸€ä¸¤æ¬¡ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•æ²¡æœ‰ç‰¹åˆ«æ˜¾è‘—çš„æ•ˆåº”ã€‚ 1 2 3 4 5 6 const reg=/[abc]/gi; console.log(reg.test('a'));//true reg=/[cde]/gi; console.log(reg.test('a')); //false reg.compile(reg); console.log(reg.test('a')); //false è¢«ç¼–è¯‘çš„æ­£åˆ™å’Œæ²¡æœ‰ç¼–è¯‘çš„æ­£åˆ™åœ¨æµ‹è¯•ç»“æœä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåªæ˜¯å¤šæ¬¡è°ƒç”¨çš„æ•ˆç‡ä¸Šä¼šæ›´é«˜ä¸€äº› ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:16:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„Stringå¯¹è±¡çš„æ–¹æ³•: å­—ç¬¦ä¸²å¯¹è±¡å…±æœ‰ 4 ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šmatch()ã€replace()ã€search()å’Œsplit()ã€‚ ES6 å°†è¿™ 4 ä¸ªæ–¹æ³•ï¼Œåœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•ï¼Œä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼Œå…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Šã€‚ [ String.prototype.match ] è°ƒç”¨ RegExp.prototype[Symbol.match] [ String.prototype.replace ] è°ƒç”¨ RegExp.prototype[Symbol.replace] [ String.prototype.search ] è°ƒç”¨ RegExp.prototype[Symbol.search] [ String.prototype.split ] è°ƒç”¨ RegExp.prototype[Symbol.split] ESç³»åˆ—æ›´å¤šç¬”è®°å¯ä»¥ç‚¹æ­¤è·³è½¬ â€“Â» ES6åŠåç»­ç‰ˆæœ¬å­¦ä¹ ç¬”è®° ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:17:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â… - search()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œæˆ–æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚ å¦‚æœæ‰¾åˆ°ä»»ä½•åŒ¹é…çš„å­ä¸²ï¼Œåˆ™è¿”å› è¯¥å­ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ã€€å¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…çš„å­ä¸²ï¼Œåˆ™è¿”å› -1ã€‚ b) ä¸¾ä¸ªæ —å­ 1 2 3 4 5 6 7 8 const str1 = 'åŠªåŠ›å­¦ä¹  123 çš„æ±ª 456'; const reg1 = /\\d+/; console.log(str1.search(reg1));//5 console.log(str1.search(\"çš„æ±ª\"));//9 const str2 = 'hello world'; const reg2 = /\\d+/; console.log(str2.search(reg2));//-1 console.log(str2.search(\"æ‰“å·¥äºº\"));//-1 ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:17:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - replace()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ï¼Œæˆ–æ›¿æ¢ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ã€‚åŸå­—ç¬¦ä¸²ä¸å˜ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²ä¸å˜ b) æ›¿æ¢ç¬¬ä¸€ä¸ª 1 2 3 4 const str=\"åŠªåŠ›å­¦ä¹ çš„æ±ª! åŠªåŠ›å­¦ä¹ çš„æ±ª!! åŠªåŠ›å­¦ä¹ çš„æ±ª!!!\"; const n=str.replace('å­¦ä¹ ',\"æ‰“å·¥\"); console.log(str) //åŸå­—ç¬¦ä¸²ä¸å˜ console.log(n) //æ–°å­—ç¬¦ä¸² c) æ›¿æ¢å…¨éƒ¨ 1 2 3 4 5 6 const str=\"åŠªåŠ›å­¦ä¹ çš„æ±ª! åŠªåŠ›å­¦ä¹ çš„æ±ª!! åŠªåŠ›å­¦ä¹ çš„æ±ª!!!\"; const n=str.replace(/å­¦ä¹ /g,\"æ‰“å·¥\"); //æ›¿æ¢å…¨éƒ¨ const a=str.replace(/å­¦ä¹ /,\"æ‰“å·¥\"); //ä»æ˜¯æ›¿æ¢å•è¡Œ console.log(str) //åŸå­—ç¬¦ä¸²ä¸å˜ console.log(a) //ä»æ˜¯æ›¿æ¢å•è¡Œ console.log(n) //æ–°å­—ç¬¦ä¸² å…¨éƒ¨æ›¿æ¢ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:17:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - split()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» ç”¨äºæŠŠä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç¬¦åˆåŒ¹é…æ¡ä»¶çš„æ–¹å¼åˆ†å‰²æˆä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚ä¸æ”¹å˜åŸå­—ç¬¦ä¸² b) ä¸¾ä¸ªæ —å­ 1 2 3 4 5 6 7 8 9 const str=\"How 1are 2you 3? 4I'm 5fine! 6thanks\"; const a=str.split(\" \"); const b=str.split(\" \",2); const c=str.split(/\\d/); const d=str.split(/\\d/,3); console.log(a); // [\"How\", \"1are\", \"2you\", \"3?\", \"4I'm\", \"5fine!\", \"6thanks\"] console.log(b); //Â [\"How\", \"1are\"] console.log(c); //Â [\"How \", \"are \", \"you \", \"? \", \"I'm \", \"fine! \", \"thanks\"] console.log(d); //Â [\"How \", \"are \", \"you \"] ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:17:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…£- match()æ–¹æ³• a) æ¦‚å¿µä¸ä»‹ç» æ¦‚å¿µ: match() æ–¹æ³•å¯åœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢æŒ‡å®šçš„å€¼ï¼Œæˆ–æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é… æ³¨æ„ç‚¹: match() æ–¹æ³•å°†æ£€ç´¢å­—ç¬¦ä¸² Stringï¼Œä»¥æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªä¸ regexp åŒ¹é…çš„æ–‡æœ¬ã€‚è¿™ä¸ªæ–¹æ³•çš„è¡Œä¸ºåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæœ‰èµ–äº regexp æ˜¯å¦å…·æœ‰æ ‡å¿— gã€‚ å¦‚æœ regexp æ²¡æœ‰æ ‡å¿— gï¼Œé‚£ä¹ˆ match() æ–¹æ³•å°±åªèƒ½åœ¨ stringObject ä¸­æ‰§è¡Œä¸€æ¬¡åŒ¹é…ï¼Œä¸exceçš„å®Œå…¨ä¸€è‡´ å¦‚æœ regexp æœ‰æ ‡å¿— gï¼Œå®ƒå°†æ‰¾åˆ°å…¨éƒ¨ç¬¦åˆæ­£åˆ™å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚ å¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…çš„æ–‡æœ¬ï¼Œæ— è®ºæœ‰æ²¡æœ‰gï¼Œmatch() å°†è¿”å› null b) æ²¡æœ‰gçš„æ­£åˆ™åŒ¹é… 1 2 3 4 const str = 'åŠªåŠ›å­¦ä¹  123 çš„æ±ª 456'; const reg=/\\d+/; const result=str.match(reg); console.log(result) //æ²¡æœ‰ å…¨å±€æœç´¢ çš„æ—¶å€™è¿”å›ä¸ exce() å®Œå…¨ä¸€è‡´ c) æœ‰gçš„æ­£åˆ™åŒ¹é… 1 2 3 4 const str = 'åŠªåŠ›å­¦ä¹  123 çš„æ±ª 456'; const reg=/\\d+/g; const result=str.match(reg); console.log(result) //è¿”å›æ•°ç»„ d) æ²¡æœ‰åŒ¹é…åˆ°å­å­—ç¬¦ä¸² 1 2 3 4 const str = 'åŠªåŠ›å­¦ä¹  123 çš„æ±ª 456'; const reg=/æ‰“å·¥/g; const result=str.match(reg); console.log(result) //åŒ¹é…ä¸åˆ°è¿”å›null å…«ã€ESç³»åˆ—ä¸­æ­£åˆ™çš„æ‹“å±• æ›´å¤šESç³»åˆ—çŸ¥è¯†ç‚¹ç¬”è®° â€“\u003e ES6åŠåç»­ç‰ˆæœ¬å­¦ä¹ ç¬”è®° ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:17:4","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€æ¦‚æ‹¬ä¸æ€»ç»“ å˜æ›´RegExpæ„é€ å‡½æ•°å…¥å‚ï¼šå…è®¸é¦–å‚æ•°ä¸ºæ­£åˆ™å¯¹è±¡ï¼Œå°¾å‚æ•°ä¸ºæ­£åˆ™ä¿®é¥°ç¬¦(è¿”å›çš„æ­£åˆ™è¡¨è¾¾å¼ä¼šå¿½ç•¥åŸæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦) æ­£åˆ™æ–¹æ³•è°ƒç”¨å˜æ›´ï¼šå­—ç¬¦ä¸²å¯¹è±¡çš„match()ã€replace()ã€search()ã€split()å†…éƒ¨è°ƒç”¨è½¬ä¸ºè°ƒç”¨RegExpå®ä¾‹å¯¹åº”çš„RegExp.prototype[Symbol.æ–¹æ³•] uä¿®é¥°ç¬¦ï¼šUnicodeæ¨¡å¼ä¿®é¥°ç¬¦ï¼Œæ­£ç¡®å¤„ç†å¤§äº [ \\uFFFF ] çš„ [ Unicodeå­—ç¬¦ ] ç‚¹å­—ç¬¦(.) Unicodeè¡¨ç¤ºæ³• é‡è¯ é¢„å®šä¹‰æ¨¡å¼ iä¿®é¥°ç¬¦ è½¬ä¹‰ yä¿®é¥°ç¬¦ï¼šç²˜è¿ä¿®é¥°ç¬¦ï¼Œç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹å…¨å±€åŒ¹é…(ä¸gä¿®é¥°ç¬¦ä½œç”¨ç±»ä¼¼) unicodeï¼šæ˜¯å¦è®¾ç½®uä¿®é¥°ç¬¦ stickyï¼šæ˜¯å¦è®¾ç½®yä¿®é¥°ç¬¦ flagsï¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ é‡ç‚¹éš¾ç‚¹ yä¿®é¥°ç¬¦éšå«å¤´éƒ¨åŒ¹é…æ ‡å¿—^ å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹match()åªèƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œå¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨æ‰èƒ½è¿”å›æ‰€æœ‰åŒ¹é… ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:18:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€ RegExp æ„é€ å‡½æ•° åœ¨ ES5 ä¸­ï¼ŒRegExpæ„é€ å‡½æ•°çš„å‚æ•°æœ‰ä¸¤ç§æƒ…å†µã€‚ ç¬¬ä¸€ç§æƒ…å†µæ˜¯ï¼Œå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ—¶ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ï¼ˆflag æ ‡å¿—ï¼‰ã€‚ 1 2 3 var regex = new RegExp('xyz', 'i'); // ç­‰ä»·äº var regex = /xyz/i; ç¬¬äºŒç§æƒ…å†µæ˜¯ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨ç¤ºå¼ï¼Œè¿™æ—¶ä¼šè¿”å›ä¸€ä¸ªåŸæœ‰æ­£åˆ™è¡¨è¾¾å¼çš„æ‹·è´ã€‚ 1 2 3 var regex = new RegExp(/xyz/i); // ç­‰ä»·äº var regex = /xyz/i; ä½†æ˜¯ï¼ŒES5 ä¸å…è®¸æ­¤æ—¶ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æ·»åŠ ä¿®é¥°ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 1 2 var regex = new RegExp(/xyz/, 'i'); // Uncaught TypeError: Cannot supply flags when constructing one RegExp from another ES6 æ”¹å˜äº†è¿™ç§è¡Œä¸ºã€‚å¦‚æœRegExpæ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¿®é¥°ç¬¦ã€‚è€Œä¸”ï¼Œè¿”å›çš„æ­£åˆ™è¡¨è¾¾å¼ä¼šå¿½ç•¥åŸæœ‰çš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ï¼Œåªä½¿ç”¨æ–°æŒ‡å®šçš„ä¿®é¥°ç¬¦ã€‚ 1 2 new RegExp(/abc/ig, 'i').flags // \"i\" ä¸Šé¢ä»£ç ä¸­ï¼ŒåŸæœ‰æ­£åˆ™å¯¹è±¡çš„ä¿®é¥°ç¬¦æ˜¯igï¼Œå®ƒä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°iè¦†ç›–ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:19:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³• å­—ç¬¦ä¸²å¯¹è±¡å…±æœ‰ 4 ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šmatch()ã€replace()ã€search()å’Œsplit()ã€‚ ES6 å°†è¿™ 4 ä¸ªæ–¹æ³•ï¼Œåœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•ï¼Œä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼Œå…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Šã€‚ [ String.prototype.match ] è°ƒç”¨ RegExp.prototype[Symbol.match] [ String.prototype.replace ] è°ƒç”¨ RegExp.prototype[Symbol.replace] [ String.prototype.search ] è°ƒç”¨ RegExp.prototype[Symbol.search] [ String.prototype.split ] è°ƒç”¨ RegExp.prototype[Symbol.split] ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:20:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"4ã€ u ä¿®é¥°ç¬¦ ES6 å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œå«ä¹‰ä¸ºâ€œUnicode æ¨¡å¼â€ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº\\uFFFFçš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ã€‚ 1 2 /^\\uD83D/u.test('\\uD83D\\uDC2A') // false /^\\uD83D/.test('\\uD83D\\uDC2A') // true ä¸Šé¢ä»£ç ä¸­ï¼Œ\\uD83D\\uDC2Aæ˜¯ä¸€ä¸ªå››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯ï¼ŒES5 ä¸æ”¯æŒå››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ï¼Œä¼šå°†å…¶è¯†åˆ«ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œå¯¼è‡´ç¬¬äºŒè¡Œä»£ç ç»“æœä¸ºtrueã€‚åŠ äº†uä¿®é¥°ç¬¦ä»¥åï¼ŒES6 å°±ä¼šè¯†åˆ«å…¶ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œä»£ç ç»“æœä¸ºfalseã€‚ ä¸€æ—¦åŠ ä¸Šuä¿®é¥°ç¬¦å·ï¼Œå°±ä¼šä¿®æ”¹ä¸‹é¢è¿™äº›æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸º: ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â… - ç‚¹å­—ç¬¦ ç‚¹ï¼ˆ.ï¼‰å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå«ä¹‰æ˜¯é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ã€‚å¯¹äºç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ï¼Œç‚¹å­—ç¬¦ä¸èƒ½è¯†åˆ«ï¼Œå¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚ 1 2 3 var s = 'ğ ®·'; /^.$/.test(s) // false /^.$/u.test(s) // true ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æœä¸æ·»åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±ä¼šè®¤ä¸ºå­—ç¬¦ä¸²ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œä»è€ŒåŒ¹é…å¤±è´¥ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - Unicode å­—ç¬¦è¡¨ç¤ºæ³• ES6 æ–°å¢äº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤º Unicode å­—ç¬¦ï¼Œè¿™ç§è¡¨ç¤ºæ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ï¼Œæ‰èƒ½è¯†åˆ«å½“ä¸­çš„å¤§æ‹¬å·ï¼Œå¦åˆ™ä¼šè¢«è§£è¯»ä¸ºé‡è¯ã€‚ 1 2 3 /\\u{61}/.test('a') // false /\\u{61}/u.test('a') // true /\\u{20BB7}/u.test('ğ ®·') // true ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ— æ³•è¯†åˆ«\\u{61}è¿™ç§è¡¨ç¤ºæ³•ï¼Œåªä¼šè®¤ä¸ºè¿™åŒ¹é… 61 ä¸ªè¿ç»­çš„uã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - é‡è¯ ä½¿ç”¨uä¿®é¥°ç¬¦åï¼Œæ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 1 2 3 4 /a{2}/.test('aa') // true /a{2}/u.test('aa') // true /ğ ®·{2}/.test('ğ ®·ğ ®·') // false /ğ ®·{2}/u.test('ğ ®·ğ ®·') // true ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…£ - é¢„å®šä¹‰æ¨¡å¼ uä¿®é¥°ç¬¦ä¹Ÿå½±å“åˆ°é¢„å®šä¹‰æ¨¡å¼ï¼Œèƒ½å¦æ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 1 2 /^\\S$/.test('ğ ®·') // false /^\\S$/u.test('ğ ®·') // true ä¸Šé¢ä»£ç çš„\\Sæ˜¯é¢„å®šä¹‰æ¨¡å¼ï¼ŒåŒ¹é…æ‰€æœ‰éç©ºç™½å­—ç¬¦ã€‚åªæœ‰åŠ äº†uä¿®é¥°ç¬¦ï¼Œå®ƒæ‰èƒ½æ­£ç¡®åŒ¹é…ç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ã€‚ åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å†™å‡ºä¸€ä¸ªæ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ã€‚ 1 2 3 4 5 6 7 function codePointLength(text) { var result = text.match(/[\\s\\S]/gu); return result ? result.length : 0; } var s = 'ğ ®·ğ ®·'; s.length // 4 codePointLength(s) // 2 ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:4","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¤ - i ä¿®é¥°ç¬¦ æœ‰äº› Unicode å­—ç¬¦çš„ç¼–ç ä¸åŒï¼Œä½†æ˜¯å­—å‹å¾ˆç›¸è¿‘ï¼Œæ¯”å¦‚ï¼Œ\\u004Bä¸\\u212Aéƒ½æ˜¯å¤§å†™çš„Kã€‚ 1 2 /[a-z]/i.test('\\u212A') // false /[a-z]/iu.test('\\u212A') // true ä¸Šé¢ä»£ç ä¸­ï¼Œä¸åŠ uä¿®é¥°ç¬¦ï¼Œå°±æ— æ³•è¯†åˆ«éè§„èŒƒçš„Kå­—ç¬¦ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:5","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¥ - è½¬ä¹‰ æ²¡æœ‰uä¿®é¥°ç¬¦çš„æƒ…å†µä¸‹ï¼Œæ­£åˆ™ä¸­æ²¡æœ‰å®šä¹‰çš„è½¬ä¹‰ï¼ˆå¦‚é€—å·çš„è½¬ä¹‰\\,ï¼‰æ— æ•ˆï¼Œè€Œåœ¨uæ¨¡å¼ä¼šæŠ¥é”™ã€‚ 1 2 /\\,/ // /\\,/ /\\,/u // æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œæ²¡æœ‰uä¿®é¥°ç¬¦æ—¶ï¼Œé€—å·å‰é¢çš„åæ–œæ æ˜¯æ— æ•ˆçš„ï¼ŒåŠ äº†uä¿®é¥°ç¬¦å°±æŠ¥é”™ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:6","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¦- RegExp.prototype.unicode å±æ€§ æ­£åˆ™å®ä¾‹å¯¹è±¡æ–°å¢unicodeå±æ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†uä¿®é¥°ç¬¦ã€‚ 1 2 3 4 5 const r1 = /hello/; const r2 = /hello/u; r1.unicode // false r2.unicode // true ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦è®¾ç½®äº†uä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä»unicodeå±æ€§çœ‹å‡ºæ¥ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:21:7","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"5ã€ y ä¿®é¥°ç¬¦ æå‰å‰§é€ï¼Œyä¿®é¥°ç¬¦å·ç›¸å½“äº /géšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ã€‚å¸¦ç€è¿™ä¸ªæ€ç»´å°±ç›¸å¯¹å®¹æ˜“ç†è§£ä¸‹æ–¹çš„ç²˜è¿ä¸€æ¬¡ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:22:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…  - æ­£å¸¸ä½¿ç”¨ä¸¾ä¾‹è¯´æ˜ é™¤äº†uä¿®é¥°ç¬¦ï¼ŒES6 è¿˜ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†yä¿®é¥°ç¬¦ï¼Œå«åšâ€œç²˜è¿â€ï¼ˆstickyï¼‰ä¿®é¥°ç¬¦ã€‚å®é™…ä¸Šç›¸å½“äºé»˜è®¤åŠ äº†ä¸€ä¸ª^ yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸gä¿®é¥°ç¬¦ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼Œåä¸€æ¬¡åŒ¹é…éƒ½ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œgä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯ï¼Œè€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿â€çš„æ¶µä¹‰ã€‚ 1 2 3 4 5 6 7 8 9 var s = 'aaa_aa_a'; var r1 = /a+/g; var r2 = /a+/y; r1.exec(s) // [\"aaa\"] --\u003eæ­¤æ—¶å‰©ä½™å­—ç¬¦ä¸²[_aa_a] r2.exec(s) // [\"aaa\"] --\u003eæ­¤æ—¶å‰©ä½™å­—ç¬¦ä¸²[_aa_a] r1.exec(s) // [\"aa\"] r2.exec(s) // null --\u003eyå¿…é¡»ä»ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹åŒ¹é…,å®é™…ä¸Šç›¸å½“äºé»˜è®¤åŠ äº†ä¸€ä¸ª`^`,æ‰€ä»¥åŒ¹é…ä¸åˆ° ä¸Šé¢ä»£ç æœ‰ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸€ä¸ªä½¿ç”¨gä¿®é¥°ç¬¦ï¼Œå¦ä¸€ä¸ªä½¿ç”¨yä¿®é¥°ç¬¦ã€‚è¿™ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼å„æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸¤è€…è¡Œä¸ºç›¸åŒï¼Œå‰©ä½™å­—ç¬¦ä¸²éƒ½æ˜¯_aa_aã€‚ç”±äºgä¿®é¥°æ²¡æœ‰ä½ç½®è¦æ±‚ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œä¼šè¿”å›ç»“æœï¼Œè€Œyä¿®é¥°ç¬¦è¦æ±‚åŒ¹é…å¿…é¡»ä»å¤´éƒ¨å¼€å§‹ï¼Œæ‰€ä»¥è¿”å›nullã€‚ å¦‚æœæ”¹ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¿è¯æ¯æ¬¡éƒ½èƒ½å¤´éƒ¨åŒ¹é…ï¼Œyä¿®é¥°ç¬¦å°±ä¼šè¿”å›ç»“æœäº†ã€‚ 1 2 3 4 5 var s = 'aaa_aa_a'; var r = /a+_/y; r.exec(s) // [\"aaa_\"] r.exec(s) // [\"aa_\"] ä¸Šé¢ä»£ç æ¯æ¬¡åŒ¹é…ï¼Œéƒ½æ˜¯ä»å‰©ä½™å­—ç¬¦ä¸²çš„å¤´éƒ¨å¼€å§‹ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:22:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - ä½¿ç”¨lastIndexå±æ€§è¿›è¡Œè¯´æ˜ ä½¿ç”¨lastIndexå±æ€§ï¼Œå¯ä»¥æ›´å¥½åœ°è¯´æ˜yä¿®é¥°ç¬¦ã€‚ 1 2 3 4 5 6 7 8 9 10 11 const REGEX = /a/g; // æŒ‡å®šä»2å·ä½ç½®ï¼ˆyï¼‰å¼€å§‹åŒ¹é… REGEX.lastIndex = 2; // åŒ¹é…æˆåŠŸ const match = REGEX.exec('xaya'); // åœ¨3å·ä½ç½®åŒ¹é…æˆåŠŸ match.index // 3 // ä¸‹ä¸€æ¬¡åŒ¹é…ä»4å·ä½å¼€å§‹ REGEX.lastIndex // 4 // 4å·ä½å¼€å§‹åŒ¹é…å¤±è´¥ REGEX.exec('xaya') // null ä¸Šé¢ä»£ç ä¸­ï¼ŒlastIndexå±æ€§æŒ‡å®šæ¯æ¬¡æœç´¢çš„å¼€å§‹ä½ç½®ï¼Œgä¿®é¥°ç¬¦ä»è¿™ä¸ªä½ç½®å¼€å§‹å‘åæœç´¢ï¼Œç›´åˆ°å‘ç°åŒ¹é…ä¸ºæ­¢ã€‚ yä¿®é¥°ç¬¦åŒæ ·éµå®ˆlastIndexå±æ€§ï¼Œä½†æ˜¯è¦æ±‚å¿…é¡»åœ¨lastIndexæŒ‡å®šçš„ä½ç½®å‘ç°åŒ¹é…ã€‚ 1 2 3 4 5 6 7 8 9 10 11 const REGEX = /a/y; // æŒ‡å®šä»2å·ä½ç½®å¼€å§‹åŒ¹é… REGEX.lastIndex = 2; // ä¸æ˜¯ç²˜è¿ï¼ŒåŒ¹é…å¤±è´¥ REGEX.exec('xaya') // null // æŒ‡å®šä»3å·ä½ç½®å¼€å§‹åŒ¹é… REGEX.lastIndex = 3; // 3å·ä½ç½®æ˜¯ç²˜è¿ï¼ŒåŒ¹é…æˆåŠŸ const match = REGEX.exec('xaya'); match.index // 3 REGEX.lastIndex // 4 å®é™…ä¸Šï¼Œyä¿®é¥°ç¬¦å·éšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ã€‚ 1 /b/y.exec('aba')// null ä¸Šé¢ä»£ç ç”±äºä¸èƒ½ä¿è¯å¤´éƒ¨åŒ¹é…ï¼Œæ‰€ä»¥è¿”å›nullã€‚yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„ï¼Œå°±æ˜¯è®©å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^åœ¨å…¨å±€åŒ¹é…ä¸­éƒ½æœ‰æ•ˆã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:22:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - ä½¿ç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„replaceæ–¹æ³•çš„ä¸¾ä¾‹ ä¸‹é¢æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„replaceæ–¹æ³•çš„ä¾‹å­ã€‚ 1 2 const REGEX = /a/gy; 'aaxa'.replace(REGEX, '-') // '--xa' ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åä¸€ä¸ªaå› ä¸ºä¸æ˜¯å‡ºç°åœ¨ä¸‹ä¸€æ¬¡åŒ¹é…çš„å¤´éƒ¨ï¼Œæ‰€ä»¥ä¸ä¼šè¢«æ›¿æ¢ã€‚ å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹matchæ–¹æ³•ï¼Œåªèƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œå¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨ï¼Œæ‰èƒ½è¿”å›æ‰€æœ‰åŒ¹é…ã€‚ 1 2 'a1a2a3'.match(/a\\d/y) // [\"a1\"] 'a1a2a3'.match(/a\\d/gy) // [\"a1\", \"a2\", \"a3\"] yä¿®é¥°ç¬¦çš„ä¸€ä¸ªåº”ç”¨ï¼Œæ˜¯ä»å­—ç¬¦ä¸²æå– tokenï¼ˆè¯å…ƒï¼‰ï¼Œyä¿®é¥°ç¬¦ç¡®ä¿äº†åŒ¹é…ä¹‹é—´ä¸ä¼šæœ‰æ¼æ‰çš„å­—ç¬¦ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 const TOKEN_Y = /\\s*(\\+|[0-9]+)\\s*/y; const TOKEN_G = /\\s*(\\+|[0-9]+)\\s*/g; tokenize(TOKEN_Y, '3 + 4') // [ '3', '+', '4' ] tokenize(TOKEN_G, '3 + 4') // [ '3', '+', '4' ] function tokenize(TOKEN_REGEX, str) { let result = []; let match; while (match = TOKEN_REGEX.exec(str)) { result.push(match[1]); } return result; } ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœå­—ç¬¦ä¸²é‡Œé¢æ²¡æœ‰éæ³•å­—ç¬¦ï¼Œyä¿®é¥°ç¬¦ä¸gä¿®é¥°ç¬¦çš„æå–ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦å‡ºç°éæ³•å­—ç¬¦ï¼Œä¸¤è€…çš„è¡Œä¸ºå°±ä¸ä¸€æ ·äº†ã€‚ 1 2 3 4 tokenize(TOKEN_Y, '3x + 4') // [ '3' ] tokenize(TOKEN_G, '3x + 4') // [ '3', '+', '4' ] ä¸Šé¢ä»£ç ä¸­ï¼Œgä¿®é¥°ç¬¦ä¼šå¿½ç•¥éæ³•å­—ç¬¦ï¼Œè€Œyä¿®é¥°ç¬¦ä¸ä¼šï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“å‘ç°é”™è¯¯ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:22:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…£ - RegExp.prototype.sticky å±æ€§ ä¸yä¿®é¥°ç¬¦ç›¸åŒ¹é…ï¼ŒES6 çš„æ­£åˆ™å®ä¾‹å¯¹è±¡å¤šäº†stickyå±æ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚ 1 2 var r = /hello\\d/y; r.sticky // true ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:22:4","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"6ã€s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼ æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç‚¹ï¼ˆ.ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚ä¸€ä¸ªæ˜¯å››ä¸ªå­—èŠ‚çš„ UTF-16 å­—ç¬¦ï¼Œè¿™ä¸ªå¯ä»¥ç”¨uä¿®é¥°ç¬¦è§£å†³ï¼›å¦ä¸€ä¸ªæ˜¯è¡Œç»ˆæ­¢ç¬¦ï¼ˆline terminator characterï¼‰ã€‚ æ‰€è°“è¡Œç»ˆæ­¢ç¬¦ï¼Œå°±æ˜¯è¯¥å­—ç¬¦è¡¨ç¤ºä¸€è¡Œçš„ç»ˆç»“ã€‚ä»¥ä¸‹å››ä¸ªå­—ç¬¦å±äºâ€œè¡Œç»ˆæ­¢ç¬¦â€ã€‚ U+000A æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ U+000D å›è½¦ç¬¦ï¼ˆ\\rï¼‰ U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰ U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰ 1 /foo.bar/.test('foo\\nbar') // false ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸º.ä¸åŒ¹é…\\nï¼Œæ‰€ä»¥æ­£åˆ™è¡¨è¾¾å¼è¿”å›falseã€‚ ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›åŒ¹é…çš„æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œè¿™æ—¶æœ‰ä¸€ç§å˜é€šçš„å†™æ³•ã€‚ 1 /foo[^]bar/.test('foo\\nbar') // true è¿™ç§è§£å†³æ–¹æ¡ˆæ¯•ç«Ÿä¸å¤ªç¬¦åˆç›´è§‰ï¼Œ ES2018 å¼•å…¥sä¿®é¥°ç¬¦ï¼Œä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ 1 /foo.bar/s.test('foo\\nbar') // true è¿™è¢«ç§°ä¸ºdotAllæ¨¡å¼ï¼Œå³ç‚¹ï¼ˆdotï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ã€‚ 1 2 3 4 5 6 const re = /foo.bar/s; // å¦ä¸€ç§å†™æ³• // const re = new RegExp('foo.bar', 's'); re.test('foo\\nbar') // true re.dotAll // true re.flags // 's' /sä¿®é¥°ç¬¦å’Œå¤šè¡Œä¿®é¥°ç¬¦/mä¸å†²çªï¼Œä¸¤è€…ä¸€èµ·ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œ.åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œè€Œ^å’Œ$åŒ¹é…æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:23:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"7ã€ RegExp.prototype.flags å±æ€§ ES6 ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†flagså±æ€§ï¼Œä¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ã€‚ 1 2 3 4 5 6 7 8 9 // ES5 çš„ source å±æ€§ // è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„æ­£æ–‡ /abc/ig.source // \"abc\" // ES6 çš„ flags å±æ€§ // è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ /abc/ig.flags // 'gi' ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:24:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"8ã€ Unicode å±æ€§ç±» ES2018 å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\\p{...}å’Œ\\P{...}ï¼Œå…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚ 1 2 const regexGreekSymbol = /\\p{Script=Greek}/u; regexGreekSymbol.test('Ï€') // true ä¸Šé¢ä»£ç ä¸­ï¼Œ\\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯ï¼Œæ‰€ä»¥åŒ¹é…Ï€æˆåŠŸã€‚ Unicode å±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼ã€‚ 1 \\p{UnicodePropertyName=UnicodePropertyValue} å¯¹äºæŸäº›å±æ€§ï¼Œå¯ä»¥åªå†™å±æ€§åï¼Œæˆ–è€…åªå†™å±æ€§å€¼ã€‚ 1 2 \\p{UnicodePropertyName} \\p{UnicodePropertyValue} \\P{â€¦}æ˜¯\\p{â€¦}çš„åå‘åŒ¹é…ï¼Œå³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ã€‚ æ³¨æ„ï¼Œè¿™ä¸¤ç§ç±»åªå¯¹ Unicode æœ‰æ•ˆï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚å¦‚æœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨\\på’Œ\\Pä¼šæŠ¥é”™ï¼ŒECMAScript é¢„ç•™äº†è¿™ä¸¤ä¸ªç±»ã€‚ ç”±äº Unicode çš„å„ç§å±æ€§éå¸¸å¤šï¼Œæ‰€ä»¥è¿™ç§æ–°çš„ç±»çš„è¡¨è¾¾èƒ½åŠ›éå¸¸å¼ºã€‚ 1 2 const regex = /^\\p{Decimal_Number}+$/u; regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼') // true ä¸Šé¢ä»£ç ä¸­ï¼Œå±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦ï¼Œå¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚ \\p{Number}ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—ã€‚ 1 2 3 4 5 // åŒ¹é…æ‰€æœ‰æ•°å­— const regex = /^\\p{Number}+$/u; regex.test('Â²Â³Â¹Â¼Â½Â¾') // true regex.test('ã‰›ã‰œã‰') // true regex.test('â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«') // true ä¸‹é¢æ˜¯å…¶ä»–ä¸€äº›ä¾‹å­ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // åŒ¹é…æ‰€æœ‰ç©ºæ ¼ \\p{White_Space} // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \\w [\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}] // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \\W [^\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}] // åŒ¹é… Emoji /\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F/gu // åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦ const regexArrows = /^\\p{Block=Arrows}+$/u; regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:25:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"9ã€ å…·åç»„åŒ¹é… ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:26:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â… - ç®€ä»‹ æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œç»„åŒ¹é…ã€‚ 1 const RE_DATE = /(\\d{4})-(\\d{2})-(\\d{2})/; ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æœ‰ä¸‰ç»„åœ†æ‹¬å·ã€‚ä½¿ç”¨execæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸‰ç»„åŒ¹é…ç»“æœæå–å‡ºæ¥ã€‚ 1 2 3 4 5 6 const RE_DATE = /(\\d{4})-(\\d{2})-(\\d{2})/; const matchObj = RE_DATE.exec('1999-12-31'); const year = matchObj[1]; // 1999 const month = matchObj[2]; // 12 const day = matchObj[3]; // 31 ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨æ•°å­—åºå·ï¼ˆæ¯”å¦‚matchObj[1]ï¼‰å¼•ç”¨ï¼Œè¦æ˜¯ç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¿®æ”¹åºå·ã€‚ ES2018 å¼•å…¥äº†å…·åç»„åŒ¹é…ï¼ˆNamed Capture Groupsï¼‰ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºå¼•ç”¨ã€‚ 1 2 3 4 5 6 const RE_DATE = /(?\u003cyear\u003e\\d{4})-(?\u003cmonth\u003e\\d{2})-(?\u003cday\u003e\\d{2})/; const matchObj = RE_DATE.exec('1999-12-31'); const year = matchObj.groups.year; // 1999 const month = matchObj.groups.month; // 12 const day = matchObj.groups.day; // 31 ä¸Šé¢ä»£ç ä¸­ï¼Œâ€œå…·åç»„åŒ¹é…â€åœ¨åœ†æ‹¬å·å†…éƒ¨ï¼Œæ¨¡å¼çš„å¤´éƒ¨æ·»åŠ  [ â€œé—®å· + å°–æ‹¬å· + ç»„åâ€ ] ï¼ˆ?\u003cyear\u003eï¼‰ï¼Œç„¶åå°±å¯ä»¥åœ¨execæ–¹æ³•è¿”å›ç»“æœçš„groupså±æ€§ä¸Šå¼•ç”¨è¯¥ç»„åã€‚åŒæ—¶ï¼Œæ•°å­—åºå·ï¼ˆmatchObj[1]ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚ å…·åç»„åŒ¹é…ç­‰äºä¸ºæ¯ä¸€ç»„åŒ¹é…åŠ ä¸Šäº† IDï¼Œä¾¿äºæè¿°åŒ¹é…çš„ç›®çš„ã€‚å¦‚æœç»„çš„é¡ºåºå˜äº†ï¼Œä¹Ÿä¸ç”¨æ”¹å˜åŒ¹é…åçš„å¤„ç†ä»£ç ã€‚ å¦‚æœå…·åç»„æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆå¯¹åº”çš„groupså¯¹è±¡å±æ€§ä¼šæ˜¯undefinedã€‚ 1 2 3 4 5 const RE_OPT_A = /^(?\u003cas\u003ea+)?$/; const matchObj = RE_OPT_A.exec(''); matchObj.groups.as // undefined 'as' in matchObj.groups // true ä¸Šé¢ä»£ç ä¸­ï¼Œå…·åç»„asæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œé‚£ä¹ˆmatchObj.groups.aså±æ€§å€¼å°±æ˜¯undefinedï¼Œå¹¶ä¸”asè¿™ä¸ªé”®ååœ¨groupsæ˜¯å§‹ç»ˆå­˜åœ¨çš„ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:26:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¡ - è§£æ„èµ‹å€¼å’Œæ›¿æ¢ æœ‰äº†å…·åç»„åŒ¹é…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç›´æ¥ä»åŒ¹é…ç»“æœä¸Šä¸ºå˜é‡èµ‹å€¼ã€‚ 1 2 3 let {groups: {one, two}} = /^(?\u003cone\u003e.*):(?\u003ctwo\u003e.*)$/u.exec('foo:bar'); one // foo two // bar å­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œä½¿ç”¨$\u003cç»„å\u003eå¼•ç”¨å…·åç»„ã€‚ 1 2 3 4 let re = /(?\u003cyear\u003e\\d{4})-(?\u003cmonth\u003e\\d{2})-(?\u003cday\u003e\\d{2})/u; '2015-01-02'.replace(re, '$\u003cday\u003e/$\u003cmonth\u003e/$\u003cyear\u003e') // '02/01/2015' ä¸Šé¢ä»£ç ä¸­ï¼Œreplaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°åºåˆ—å¦‚ä¸‹ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 '2015-01-02'.replace(re, ( matched, // æ•´ä¸ªåŒ¹é…ç»“æœ 2015-01-02 capture1, // ç¬¬ä¸€ä¸ªç»„åŒ¹é… 2015 capture2, // ç¬¬äºŒä¸ªç»„åŒ¹é… 01 capture3, // ç¬¬ä¸‰ä¸ªç»„åŒ¹é… 02 position, // åŒ¹é…å¼€å§‹çš„ä½ç½® 0 S, // åŸå­—ç¬¦ä¸² 2015-01-02 groups // å…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ {year, month, day} ) =\u003e { let {day, month, year} = groups; return `${day}/${month}/${year}`; }); å…·åç»„åŒ¹é…åœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†æœ€åä¸€ä¸ªå‡½æ•°å‚æ•°ï¼šå…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:26:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"â…¢ - å¼•ç”¨ å¦‚æœè¦åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¼•ç”¨æŸä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼Œå¯ä»¥ä½¿ç”¨\\k\u003cç»„å\u003eçš„å†™æ³•ã€‚ 1 2 3 const RE_TWICE = /^(?\u003cword\u003e[a-z]+)!\\k\u003cword\u003e$/; RE_TWICE.test('abc!abc') // true RE_TWICE.test('abc!ab') // false æ•°å­—å¼•ç”¨ï¼ˆ\\1ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚ 1 2 3 const RE_TWICE = /^(?\u003cword\u003e[a-z]+)!\\1$/; RE_TWICE.test('abc!abc') // true RE_TWICE.test('abc!ab') // false è¿™ä¸¤ç§å¼•ç”¨è¯­æ³•è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚ 1 2 3 const RE_TWICE = /^(?\u003cword\u003e[a-z]+)!\\k\u003cword\u003e!\\1$/; RE_TWICE.test('abc!abc!abc') // true RE_TWICE.test('abc!abc!ab') // false ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:26:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"10ã€String.prototype.matchAll() å¦‚æœä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²é‡Œé¢æœ‰å¤šä¸ªåŒ¹é…ï¼Œç°åœ¨ä¸€èˆ¬ä½¿ç”¨gä¿®é¥°ç¬¦æˆ–yä¿®é¥°ç¬¦ï¼Œåœ¨å¾ªç¯é‡Œé¢é€ä¸€å–å‡ºã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var regex = /t(e)(st(\\d?))/g; var string = 'test1test2test3'; var matches = []; var match; while (match = regex.exec(string)) { matches.push(match); } matches // [ // [\"test1\", \"e\", \"st1\", \"1\", index: 0, input: \"test1test2test3\"], // [\"test2\", \"e\", \"st2\", \"2\", index: 5, input: \"test1test2test3\"], // [\"test3\", \"e\", \"st3\", \"3\", index: 10, input: \"test1test2test3\"] // ] ä¸Šé¢ä»£ç ä¸­ï¼Œwhileå¾ªç¯å–å‡ºæ¯ä¸€è½®çš„æ­£åˆ™åŒ¹é…ï¼Œä¸€å…±ä¸‰è½®ã€‚ ES2020 å¢åŠ äº†String.prototype.matchAll()æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨ï¼ˆIteratorï¼‰ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚ 1 2 3 4 5 6 7 8 9 const string = 'test1test2test3'; const regex = /t(e)(st(\\d?))/g; for (const match of string.matchAll(regex)) { console.log(match); } // [\"test1\", \"e\", \"st1\", \"1\", index: 0, input: \"test1test2test3\"] // [\"test2\", \"e\", \"st2\", \"2\", index: 5, input: \"test1test2test3\"] // [\"test3\", \"e\", \"st3\", \"3\", index: 10, input: \"test1test2test3\"] ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºstring.matchAll(regex)è¿”å›çš„æ˜¯éå†å™¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨for...ofå¾ªç¯å–å‡ºã€‚ç›¸å¯¹äºè¿”å›æ•°ç»„ï¼Œè¿”å›éå†å™¨çš„å¥½å¤„åœ¨äºï¼Œå¦‚æœåŒ¹é…ç»“æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œé‚£ä¹ˆéå†å™¨æ¯”è¾ƒèŠ‚çœèµ„æºã€‚ éå†å™¨è½¬ä¸ºæ•°ç»„æ˜¯éå¸¸ç®€å•çš„ï¼Œä½¿ç”¨...è¿ç®—ç¬¦å’ŒArray.from()æ–¹æ³•å°±å¯ä»¥äº†ã€‚ 1 2 3 4 5 // è½¬ä¸ºæ•°ç»„çš„æ–¹æ³•ä¸€ [...string.matchAll(regex)] // è½¬ä¸ºæ•°ç»„çš„æ–¹æ³•äºŒ Array.from(string.matchAll(regex)) ä¹ã€å¸¸ç”¨æ­£åˆ™æ”¶å½• ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:27:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"1ã€æ­£åˆ™è¡¨è¾¾å¼åªä¿ç•™æ•°å­— æ­£åˆ™ä»£ç  1 2 str=str.replaceAll(\"[^0-9]\", \"\");//æ­¤è¡¨è¾¾å¼åŒ¹é…é”™è¯¯ str=str.replace(/\\D/g,''); //æ­£ç¡® è°ƒç”¨ä»£ç ç¤ºä¾‹ 1 2 3 4 5 onChange={(e)=\u003e store.changeSearchParamsValue('storeId')(e.target.value.replace(/\\D/g,''))} @action changeSearchNumberParamsValue = (type) =\u003e (value) =\u003e { //this.searchParams[type] = value.replace(/\\D/g,''); å¤–é¢é™åˆ¶å¥½åä¼ å…¥ this.searchParams[type] = value; }; å®ç°æ•ˆæœ è¾“å…¥éæ•°å­—å†…å®¹åˆ™æ— æ³•é”®å…¥(æ›¿æ¢ä¸ºç©º) ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:28:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"2ã€é™åˆ¶ä¸èƒ½ä¸ºç©ºä»¥åŠä¸­æ–‡ 1 str=str.replace(/\\s/g, '').replace(/[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi, ''); ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:29:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"3ã€å…³äºæ•°å­—å¸¸è§æ­£åˆ™ æ•°å­—:\\d ä½æ•°é™åˆ¶:{m,n} æ•°å­—èŒƒå›´:[n-m], å‡ºç°æ¬¡æ•°: * + æ•°å­—ï¼š^[0-9]*$ nä½çš„æ•°å­—ï¼š^\\d{n}$ è‡³å°‘nä½çš„æ•°å­—ï¼š^\\d{n,}$ m-nä½çš„æ•°å­—ï¼š^\\d{m,n}$ é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$ éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]{1,2})?$ å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(\\-)?\\d+(\\.\\d{1,2})?$ æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(\\-|\\+)?\\d+(\\.\\d+)?$ æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{2})?$ æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{1,3})?$ éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]\\d*$ æˆ– ^([1-9][0-9]*){1,3}$ æˆ– ^\\+?[1-9][0-9]*$ éé›¶çš„è´Ÿæ•´æ•°ï¼š^\\-[1-9][]0-9\"*$ æˆ– ^-[1-9]\\d*$ éè´Ÿæ•´æ•°ï¼š^\\d+$ æˆ– ^[1-9]\\d*|0$ éæ­£æ•´æ•°ï¼š^-[1-9]\\d*|0$ æˆ– ^((-\\d+)|(0+))$ éè´Ÿæµ®ç‚¹æ•°ï¼š^\\d+(\\.\\d+)?$ æˆ– ^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$ éæ­£æµ®ç‚¹æ•°ï¼š^((-\\d+(\\.\\d+)?)|(0+(\\.0+)?))$ æˆ– ^(-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$ æ­£æµ®ç‚¹æ•°ï¼š^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$ æˆ– ^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$ è´Ÿæµ®ç‚¹æ•°ï¼š^-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$ æˆ– ^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$ æµ®ç‚¹æ•°ï¼š^(-?\\d+)(\\.\\d+)?$ æˆ– ^-?([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0)$ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:30:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["æ­£åˆ™è¡¨è¾¾å¼"],"content":"4ã€å…³äºç‰¹æ®Šç¬¦å· åŒ¹é…å¸¦å°æ‹¬å·çš„å­—ç¬¦ä¸²: const reg = new RegExp([(]${å˜é‡}[)], 'g') â€“\u003eè¿™ä¸ªå˜é‡æ˜¯å¯ä»¥éšç€æ”¹å˜çš„ ","date":"2023-01-18","objectID":"/posts/program/regex/regex/:31:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/program/regex/regex/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. æ‰“ç ´ä½ çš„è®¤çŸ¥ï¼šå…ˆâ¾åŠ¨ï¼Œåæ€è€ƒ 1.1. æ”¹å˜æ€æƒ³ä»â¾åŠ¨å¼€å§‹ 1.2. å¦‚ä½•æˆä¸ºâ¼€åâ¾¼æ•ˆçš„é¢†å¯¼è€… 1.3. â€œç”±å¤–â½½å†…â€åŸåˆ™ 1.4. è½¬å˜è¿‡ç¨‹ä¸­çš„è¿·å¤± 1.5. ä¸ºä»€ä¹ˆâ€œç”±å¤–â½½å†…â€åœ°æ”¹å˜å¾ˆé‡è¦ 1.6. â€œä¸‰æ­¥â¾›â€åŠ©ä½ å®ç°é¢†å¯¼è€…è½¬å˜ 1.7. é‡æ–°å®šä¹‰ä½ çš„â¼¯ä½œ 1.8. æ‰©å»ºâ¼ˆé™…å…³ç³»â½¹ç»œ 1.9. è¯•ç€æœæ›´å¤šä¸åŒçš„â½…å‘å‘å±•â¾ƒâ¼° 1.10. è¿‡ç¨‹å’Œç»“æœï¼Œå“ªä¸ªé‡è¦ 2. é‡æ–°å®šä¹‰ä½ çš„â¼¯ä½œ 1. æ‰“ç ´ä½ çš„è®¤çŸ¥ï¼šå…ˆâ¾åŠ¨ï¼Œåæ€è€ƒ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:0:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.1. æ”¹å˜æ€æƒ³ä»â¾åŠ¨å¼€å§‹ ç®¡ç†ä¸“å®¶ç†æŸ¥å¾·Â·å¸•æ–¯å¡å°”ï¼ˆRichard Pascaleï¼‰æ‰€è¯´ï¼šâ€œæˆå¹´â¼ˆæ›´å€¾å‘äºå…ˆåšâ½½åäº§â½£æ–°çš„æƒ³æ³•ï¼Œâ½½ä¸æ˜¯å…ˆæƒ³å†ä»¥â¼€ç§æ–°çš„â½…å¼å»åšã€‚â€ æˆ‘ä»¬è¦å…ˆå­¦ä¼šåƒé¢†å¯¼è€…â¼€æ ·åšäº‹ã€‚â¼€é¡¹å…³äºâ€œæˆå¹´â¼ˆå­¦ä¹ â½…å¼â€çš„ç ”ç©¶å‘ç°ï¼Œâ¼€èˆ¬æƒ…å†µä¸‹çš„ä¹ é¡ºåºæ˜¯â€œå…ˆæ€è€ƒåâ¾åŠ¨â€ï¼›ä½†æ˜¯åœ¨â¼€ä¸ªâ¼ˆçš„æ”¹å˜è¿‡ç¨‹ä¸­ï¼Œå­¦ä¹ é¡ºåºå…¶å®æ˜¯ç›¸åçš„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æˆä¸ºâ¼€åä¼˜ç§€çš„é¢†å¯¼è€…ï¼Œå°±è¦å­¦ä¼šâ€œå…ˆâ¾åŠ¨åæ€è€ƒâ€ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:1:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.2. å¦‚ä½•æˆä¸ºâ¼€åâ¾¼æ•ˆçš„é¢†å¯¼è€… æˆ‘å‘ç°â¼€ä¸ªâ¼ˆä¹‹æ‰€ä»¥èƒ½æˆä¸ºé¢†å¯¼è€…ï¼Œæ˜¯å› ä¸ºä»–æ‰€åšçš„äº‹æ˜¯â¼€åçœŸæ­£çš„é¢†å¯¼è€…ä¼šåšçš„äº‹ã€‚ å¦‚æœæˆ‘ä»¬åƒâ¼€ä¸ªé¢†å¯¼è€…â¼€æ ·åšäº‹ï¼šå¦‚ä¸æ–­æå‡ºæ–°è§‚ç‚¹ï¼Œåœ¨ä¸“ä¸šé¢†åŸŸä¹‹å¤–åšå‡ºè´¡çŒ®ï¼Œæˆ–æ˜¯é›†åˆâ¼ˆâ¼’ç‰©â¼’åšæˆâ¼€ä»¶å¾ˆæœ‰ä»·å€¼çš„äº‹ï¼Œç­‰ç­‰ã€‚â¾è¾¹çš„å…¶ä»–â¼ˆä¹Ÿå°±ä¼šè§‰å¾—æˆ‘ä»¬è¶Šæ¥è¶Šåƒâ¼€ä¸ªçœŸæ­£çš„é¢†å¯¼è€…ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:2:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.3. â€œç”±å¤–â½½å†…â€åŸåˆ™ æ–°çš„ç»å†ä¸ä»…ä¼šæ”¹å˜ä½ çš„æƒ³æ³•â€”â€”ä½ è®¤ä¸ºä»€ä¹ˆæ˜¯é‡è¦çš„ï¼Œä»€ä¹ˆæ˜¯å€¼å¾—å»åšçš„ï¼Œè¿˜ä¼šæ”¹å˜ä½ æœªæ¥çš„æ ·â¼¦ã€‚å®ƒä»¬å¯ä»¥å¸®åŠ©ä½ ä»â¼€äº›æ–°çš„æˆå°±â¾¥è·å¾—â¾ƒä¿¡ï¼Œä½¿ä½ æ”¾å¼ƒè¿‡å»çš„â½¬æ ‡ï¼Œè¿˜å¯ä»¥æ”¹å˜ä½ è¿‡å»æ‰€ä¹ æƒ¯çš„åšäº‹â½…æ³•ã€‚è¿™ä¸ä»…æ˜¯å› ä¸ºè¿‡å»çš„â½…æ³•ä¸å†é€‚â½¤äºå½“å‰çš„æƒ…å†µï¼Œè¿˜å› ä¸ºä½ æœ‰äº†æ–°çš„â½¬æ ‡ï¼Œæœ‰æ›´æœ‰æ„ä¹‰ã€æ›´æœ‰ä»·å€¼çš„äº‹æƒ…éœ€è¦å»åšã€‚ ä¸â¾ƒçœç›¸â½ï¼Œç”±å¤–â½½å†…åœ°æ”¹å˜æ›´èƒ½å¸®åŠ©ä½ é‡å¡‘å½¢è±¡ï¼Œå‘Šè¯‰ä½ ä½ èƒ½åšä»€ä¹ˆã€‚æˆä¸ºâ¼€åä¼˜ç§€çš„é¢†å¯¼è€…å¹¶â¾®æ˜¯ä½ å‘å±•é“è·¯ä¸Šçš„èµ·ç‚¹ï¼Œâ½½æ˜¯ä½ â¾ƒæˆ‘â¾ä»½è®¤çŸ¥çš„ç»“æœã€‚ ä¸â¼¤ä¼—æ™®éè®¤ä¸ºçš„è§‚ç‚¹ç›¸åï¼Œâ¾ƒçœâ¼¤å¤šæ—¶å€™åªä¼šè®©æˆ‘ä»¬åœç•™åœ¨è¿‡å»ï¼Œè’™è”½æˆ‘ä»¬çš„åŒçœ¼ï¼Œä½¿æˆ‘ä»¬â½†æ³•å‘ç°æˆ‘ä»¬çš„é¢†å¯¼æ½œèƒ½ï¼Œè¿˜ä¼šè®©æˆ‘ä»¬æ¯«â½†å‡†å¤‡åœ°å»â¾¯å¯¹å‘¨å›´ç¯å¢ƒçš„æ ¹æœ¬è½¬å˜ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:3:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.4. è½¬å˜è¿‡ç¨‹ä¸­çš„è¿·å¤± ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:4:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.5. ä¸ºä»€ä¹ˆâ€œç”±å¤–â½½å†…â€åœ°æ”¹å˜å¾ˆé‡è¦ â¼¯ä½œä¸Šå‘â½£å˜åŠ¨é€šå¸¸å°±æ„å‘³ç€æ˜¯æ—¶å€™è¯¥è°ƒæ•´æˆ–é‡å¡‘ä½ çš„é¢†å¯¼è€…å½¢è±¡äº†ã€‚ä¸è¿‡å»ç›¸â½ï¼Œç°åœ¨é‡è¦çš„è½¬å˜ä¸ä»…ä»…æ˜¯â¼€ä¸ªå¤´è¡”æˆ–æ˜¯â¼€ä»¶æ™šç¤¼æœçš„æ”¹å˜ï¼Œâ½½ æ˜¯â¼€äº›æˆ–å¾®å¦™æˆ–æ˜æ˜¾çš„å˜åŒ–ã€‚è¿™äº›å˜åŒ–ä¼šè®©åˆ«â¼ˆå¯¹ä½ äº§â½£â¼€äº›æ–°çš„æœŸæœ›ï¼ˆå°½ç®¡æœ‰æ—¶å€™ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼‰ï¼Œä»–ä»¬ä¼šæœŸæœ›ä½ åšå‡ºâ¼€äº›ä¸â¼€æ ·çš„äº‹ï¼Œæˆ–æ˜¯æœŸæœ›ä½ æ”¹å˜â¼€ä¸‹åšäº‹é£æ ¼ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:5:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.6. â€œä¸‰æ­¥â¾›â€åŠ©ä½ å®ç°é¢†å¯¼è€…è½¬å˜ â¼€æ˜¯æ€è€ƒä½ æ‰€åšâ¼¯ä½œçš„ç±»å‹ï¼› â¼†æ˜¯è½¬æ¢æ–°â¾“â¾Šæˆ–å‚ä¸æ–°æ´»åŠ¨èƒ½è®©ä½ æ¥è§¦åˆ°ä¸åŒçš„â¼ˆï¼Œè¿™äº›â¼ˆæœ‰ç€ä¸ä½ ä¸â¼€æ ·çš„ä¸–ç•Œè§‚ï¼› ä¸‰æ˜¯é‡æ–°å®¡è§†â¾ƒâ¼°ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:6:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.7. é‡æ–°å®šä¹‰ä½ çš„â¼¯ä½œ æƒ³è¦æˆä¸ºâ¼€ä¸ªé¢†å¯¼è€…ï¼Œâ¾¸å…ˆè¦å­¦ä¼šæŠŠæ—¶é—´æŠ•èµ„åœ¨æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸Šã€‚ åœ¨å¦‚ä»Šè¿™ä¸ªâ¾¼é€Ÿå‘å±•çš„å•†ä¸šä¸–ç•Œâ¾¥ï¼Œä»·å€¼çš„åˆ›é€ æ›´å¤šåœ°æ¥æºäºåˆä½œï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ‰“ç ´â¾ƒç»™â¾ƒâ¾œçš„ä¼ä¸šç•Œé™ã€‚ åœ¨èŒä¸šâ½£æ¶¯çš„æ—©æœŸï¼Œæˆ‘ä»¬è¢«é™åˆ¶åœ¨â¾ƒâ¼°çš„ä¸“ä¸šé¢†åŸŸèŒƒå›´ä¹‹å†…ã€‚å½“æˆ‘ä»¬å¼€å§‹å‘â¼€ä¸ªé¢†å¯¼è€…è½¬å˜æ—¶ï¼Œé€šå¸¸ä¹Ÿéƒ½åªæ˜¯åœ¨æˆ‘ä»¬çš„èŒèƒ½èŒƒå›´æˆ–ä¸“ä¸šé¢†åŸŸä¹‹å†…ï¼Œå°¤å…¶æ˜¯åœ¨æˆ‘ä»¬æ“…é•¿çš„é¢†åŸŸå†…ã€‚â¼€æ—¦æˆ‘ä»¬æƒ³è¦æ‰®æ¼”â¼€ä¸ªæ›´â¾¼ç­‰çº§çš„é¢†å¯¼è€…â¾“â¾Šï¼Œæƒ…å†µå°±ä¼šå‘â½£æ ¹æœ¬ä¸Šçš„æ”¹å˜ã€‚ æ­£å¦‚â¼¼ç†å­¦å®¶æ‰€è¯´ï¼Œæˆ‘ä»¬åº”è¯¥åšçš„äº‹ä¸æˆ‘ä»¬å®é™…åšçš„äº‹å¸¸å¸¸æ˜¯ä¸¤ä»¶å®Œå…¨ä¸â¼€æ ·çš„äº‹ã€‚ä»è®¤çœŸåšäº‹å¾—åˆ°æ»¡æ„çš„å›æŠ¥è½¬å˜ä¸ºç»™åˆ«â¼ˆæä¾›ç­–ç•¥æŒ‡å¯¼å¹¶ä¸æ˜¯â¼€ä»¶å®¹æ˜“çš„äº‹ï¼Œè¿™éœ€è¦æˆ‘ä»¬å­¦ä¼šä¸ç»„ç»‡å¤–éƒ¨çš„â¼ˆè¿›â¾åˆä½œã€‚ è¦æƒ³æˆä¸ºâ¼€åä¼˜ç§€çš„é¢†å¯¼è€…ï¼Œå°±è¦å…ˆæ”¹å˜ä½ çš„â½‡å¸¸â¼¯ä½œèŒƒå›´ï¼Œä»å„ç§æŠ€æœ¯æ“ä½œéœ€æ±‚è½¬å˜ä¸ºæå‡ºæ›´å¤šçš„ç­–ç•¥æ€§æŒ‡å¯¼ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:7:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.8. æ‰©å»ºâ¼ˆé™…å…³ç³»â½¹ç»œ å¦‚æœé‡åˆ°è¦åšâ¾ƒâ¼°ä¸“ä¸šé¢†åŸŸèŒƒå›´ä¹‹å¤–çš„äº‹ï¼Œæˆ–æ˜¯éœ€è¦ä»–ä»¬æå‡ºâ¼€äº›èƒ½é€‚åº”å…¨å±€çš„ç­–ç•¥ï¼Œå¾ˆå¤šç®¡ç†è€…éƒ½æ²¡æœ‰åŠæ³•å®Œæˆå¥½è¿™äº›ä»»åŠ¡ï¼Œå› ä¸ºè¿™ä¸ä»…ä»…éœ€è¦å¾ˆå¼ºçš„åˆ†æèƒ½â¼’ï¼Œè¿˜éœ€è¦â¼´æ³›çš„â¼ˆé™…å…³ç³»â½¹ç»œåŸºç¡€ã€‚ ä¸å…¶ä»–èŒèƒ½æˆ–å…¶ä»–å…¬å¸çš„ç®¡ç†è€…ï¼ˆåœ¨æˆ‘ä»¬é¢†å¯¼èŒƒå›´ä¹‹å¤–çš„â¼ˆï¼‰å»ºâ½´èµ·ç›´æ¥æˆ–é—´æ¥è”ç³»ï¼Œå¯¹äºå¼„æ¸…æˆ‘ä»¬çš„ç­–ç•¥æ˜¯å¦èƒ½é€‚åº”å…¨å±€ã€å¦‚ä½•æ¨é”€â¾ƒâ¼°çš„è§‚ç‚¹ã€å¼„æ¸…ç›¸å…³â¾ä¸šå‘å±•â½…å‘ä»¥åŠä¸å…¶ä»–â¼ˆç«äº‰èµ„æºè¿™äº›â½…â¾¯æ¥è¯´éƒ½æ˜¯â¾®å¸¸é‡è¦çš„ã€‚ åœ¨æˆ‘ä»¬åˆšæ¥è§¦â¼€ä»¶æ–°çš„ä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ç»éªŒçš„â¼ˆçš„å»ºè®®å’ŒæŒ‡å¯¼ä»¥åŠå‘¨å›´å…¶ä»–â¼ˆçš„åé¦ˆæ¥å¸®åŠ©æˆ‘ä»¬æˆé•¿å’Œè¿›æ­¥ã€‚åœ¨æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„åŠªâ¼’éœ€è¦å¾—åˆ°åˆ«â¼ˆçš„è‚¯å®šï¼Œè¿˜éœ€è¦å‰â¼ˆçš„â¿åŠ±å’ŒæŒ‡å¯¼ï¼Œå¹¶äº²â¾ƒç»™æˆ‘ä»¬è¿›â¾â½°èŒƒã€‚å½“æˆ‘ä»¬ä¸ç¡®å®šå‰è¿›çš„â½…å‘æ—¶ï¼Œå…¶ä»–â¼ˆæ‰€æä¾›çš„å»ºè®®ä¹Ÿèƒ½ä¸ºæˆ‘ä»¬æŒ‡æ˜é“è·¯ã€‚ å› æ­¤ï¼Œæƒ³è¦æˆä¸ºâ¼€åä¼˜ç§€çš„é¢†å¯¼è€…ï¼Œä½ ä¸ä»…ä»…éœ€è¦å­¦ä¼šå»å‚ä¸æ–°æ´»åŠ¨æˆ–æ”¹å˜æƒ³æ³•ï¼Œè¿˜éœ€è¦å­¦ä¼šâ½¤â¼€ç§æ–°çš„â½…æ³•å»å­¦ä¹ ï¼Œå³å­¦ä¼šæ›´å¤šåœ°â¾ƒæˆ‘å¼•å¯¼ï¼Œæˆ–æ˜¯å‘åŒçº§çš„â¼ˆå­¦ä¹ ï¼Œåˆæˆ–æ˜¯åœ¨å…¬å¸å¤–éƒ¨å­¦ä¹ ã€‚ ç®€â½½â¾”ä¹‹ï¼Œä½ éœ€è¦ç§¯æåœ°å»å»ºâ½´â¼€ä¸ªæ–°çš„â¼ˆé™…å…³ç³»â½¹ç»œï¼Œå¹¶ä¸”ä½ èƒ½ä»ä¸­å­¦åˆ°å¾ˆå¤šï¼Œâ¾„å°‘å¯ä»¥ä¸ä¸Šçº§å»ºâ½´æ›´ä¸ºå¯†åˆ‡çš„å…³ç³»ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:8:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.9. è¯•ç€æœæ›´å¤šä¸åŒçš„â½…å‘å‘å±•â¾ƒâ¼° æ²¡æœ‰â¼ˆæƒ³è¦åœ¨è½¬å˜çš„é“è·¯ä¸Šè¿·å¤±ï¼Œç„¶â½½è¦æƒ³åƒé¢†å¯¼è€…â¼€æ ·æ€è€ƒçš„å”¯â¼€åŠæ³•å°±æ˜¯è¦åƒé¢†å¯¼è€…â¼€æ ·åšäº‹ï¼Œå³ä½¿æœ€å¼€å§‹çš„æ—¶å€™ä½ å¯èƒ½ä¼šè§‰å¾—è¿™å¹¶ä¸æ˜¯çœŸæ­£çš„ä½ ã€‚ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:9:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["è¯»ä¹¦ç¬”è®°"],"content":"1.10. è¿‡ç¨‹å’Œç»“æœï¼Œå“ªä¸ªé‡è¦ æˆä¸ºâ¼€åä¼˜ç§€çš„é¢†å¯¼è€…ä¸æ˜¯â¼€ä¸ªé¡¹â½¬æˆ–â¼€ä¸ªç»“æœï¼Œâ½½æ˜¯â¼€ä¸ªè¿‡ç¨‹ã€‚â¾¸å…ˆä½ éœ€è¦äº†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œç„¶åæ‰èƒ½ä¸ºä¹‹åŠªâ¼’â½½åè·å¾—æˆåŠŸã€‚ â€œå½“å¤–åœ¨æ”¹å˜çš„é€Ÿåº¦è¶…è¿‡å†…åœ¨æ”¹å˜é€Ÿåº¦ä¹‹æ—¶ï¼Œç»ˆç‚¹å°±åœ¨çœ¼å‰ã€‚â€ 2. é‡æ–°å®šä¹‰ä½ çš„â¼¯ä½œ ","date":"2023-01-18","objectID":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/:10:0","tags":["èƒ½åŠ›é™·é˜±"],"title":"è¯»ä¹¦ç¬”è®°ï¼šèƒ½åŠ›é™·é˜±","uri":"/posts/read_notes/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/"},{"categories":["tools"],"content":"é…ç½®å®šæ—¶ä»»åŠ¡","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":" crontab crontabå®šæ—¶ä»»åŠ¡è¯­æ³• è®¾ç½®å®šæ—¶ä»»åŠ¡ cron æœåŠ¡æŸ¥çœ‹ expect å®‰è£… expect è‡ªåŠ¨ä»£ç æ‹‰æäº¤è„šæœ¬ crontab cronæ˜¯ä¸€ä¸ªLinuxå®šæ—¶æ‰§è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨æ— éœ€äººå·¥å¹²é¢„çš„æƒ…å†µä¸‹è¿è¡Œä½œä¸šã€‚åœ¨Ubuntuä¸­ï¼Œcronæ˜¯è¢«é»˜è®¤å®‰è£…å¹¶å¯åŠ¨çš„ã€‚ ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:0:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":"crontabå®šæ—¶ä»»åŠ¡è¯­æ³• 1 minute hour day month week user command #é¡ºåºï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨ ç”¨æˆ· å‘½ä»¤ minuteï¼š è¡¨ç¤ºåˆ†é’Ÿï¼Œå¯ä»¥æ˜¯ä» 0 åˆ° 59 ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ hourï¼šè¡¨ç¤ºå°æ—¶ï¼Œå¯ä»¥æ˜¯ä» 0 åˆ° 23 ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ dayï¼šè¡¨ç¤ºæ—¥æœŸï¼Œå¯ä»¥æ˜¯ä» 1 åˆ° 31 ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ monthï¼šè¡¨ç¤ºæœˆä»½ï¼Œå¯ä»¥æ˜¯ä» 1 åˆ° 12 ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ weekï¼šè¡¨ç¤ºæ˜ŸæœŸå‡ ï¼Œå¯ä»¥æ˜¯ä» 0 åˆ° 7 ä¹‹é—´çš„ä»»ä½•æ•´æ•°ï¼Œè¿™é‡Œçš„ 0 æˆ– 7 ä»£è¡¨æ˜ŸæœŸæ—¥ã€‚ userï¼šlinuxçš„ç”¨æˆ·èº«ä»½ï¼Œä¾‹å¦‚rootï¼Œæˆ–è€…å…¶ä»–ç”¨æˆ· commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±ç¼–å†™çš„è„šæœ¬æ–‡ä»¶ã€‚ ç‰¹æ®Šå­—ç¬¦ æ˜Ÿå·ï¼ˆ*ï¼‰ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚ month å­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œã€‚ é€—å·ï¼ˆ,ï¼‰ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼Œâ€œ1,2,5,7,8,9â€ ä¸­æ ï¼ˆ-ï¼‰ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚â€œ2-6â€è¡¨ç¤ºâ€œ2,3,4,5,6â€ æ­£æ–œçº¿ï¼ˆ/ï¼‰ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚â€œ0-23/2â€è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚*/10ï¼Œå¦‚æœç”¨åœ¨ minute å­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚ ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:1:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":"è®¾ç½®å®šæ—¶ä»»åŠ¡ ç¼–è¾‘ectä¸‹crontabæ–‡ä»¶å°±è¡Œäº†ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œå­˜æ”¾çš„å°±æ˜¯cronè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œä»¥åŠå®šæ—¶æ‰§è¡Œçš„æ—¶é—´ 1 sudo vim /etc/crontab ä¿®æ”¹æ–‡ä»¶ï¼š å®šæ—¶æ¯å‡Œæ™¨ï¼Œè‡ªåŠ¨æ‰§è¡Œä¿å­˜åœ¨/rootç›®å½•ä¸‹hello.shè„šæœ¬ 1 00 00 * * * root /root/hello.sh ä½¿ç”¨ 1 2 3 00 01 * * * root /home/zyh/data/blogs/deploy.sh 00 03 * * * root /home/zyh/data/blogs/deploy.sh 00 05 * * * root /home/zyh/data/blogs/deploy.sh ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:2:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":"cron æœåŠ¡æŸ¥çœ‹ 1 2 3 4 5 service cron start # å¯åŠ¨æœåŠ¡ service cron stop # å…³é—­æœåŠ¡ service cron restart # é‡å¯æœåŠ¡ service cron reload # é‡æ–°è½½å…¥é…ç½® service cron status # æŸ¥çœ‹crondçŠ¶æ€ expect expect å°±æ˜¯å®Œæˆä¸€äº›éœ€è¦ä¸ç”¨æˆ·äº¤äº’çš„ä»»åŠ¡ï¼Œä¾‹å¦‚ telnetã€ftpã€ssh è¿œç¨‹ç™»å½•æœºå™¨çš„æ—¶å€™ï¼Œè¿™äº›å‘½ä»¤ä¼šè¦æ±‚ç”¨æˆ·è¾“å…¥ç”¨æˆ·åã€å¯†ç ç­‰ç›¸å…³ä¿¡æ¯ï¼Œè€Œè¿™äº›ï¼Œæ˜¯æ— æ³•é€šè¿‡ shell è„šæœ¬æ¥å®Œæˆçš„ã€‚è¿™æ˜¯å› ä¸ºè¿™äº›å‘½ä»¤æ˜¯ä»æ§åˆ¶ç»ˆç«¯è€Œä¸æ˜¯æ ‡å‡†è¾“å…¥ä¸Šè¯»å–çš„ï¼Œæ‰€ä»¥æ— æ³•äº‹å…ˆå°†ä¿¡æ¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å…¥ä»è€Œå®ç°è‡ªåŠ¨åŒ–è¿è¡Œã€‚è€Œ expect å°±æ˜¯ç”¨æ¥è§£å†³è¿™ç±»é—®é¢˜çš„ï¼Œä¸¾ä¸ªexpect è¿›è¡Œ ssh ç™»å½•çš„ä¾‹å­ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 #!/usr/bin/expect -f set ipaddr \"localhost\" set passwd \"iforgot\" spawn ssh root@$ipaddr expect { \"yes/no\" { send \"yes\\r\"; exp_continue} \"password:\" { send \"$passwd\\r\" } } expect \"]# \" send \"touch a.txt\\r\" send \"exit\\r\" expect eof exit expect è„šæœ¬é‡Œæœ‰è¿™ä¹ˆå‡ ä¸ªå…³é”®åŠ¨ä½œï¼š spawn ï¼šå¯åŠ¨éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼› expect ï¼šè§£æå‘½ä»¤è¾“å‡ºï¼Œå¹¶æ ¹æ®ä¸‹é¢çš„åŒ¹é…è¯­å¥è¿›å…¥å­æ§åˆ¶å—ï¼› send ï¼šå‘å‘½ä»¤å‘é€ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ç›¸å½“äºæ˜¯å‘½ä»¤ä»æ§åˆ¶ç»ˆç«¯è¯»å–çš„ï¼› interact ï¼šç»§ç»­å‘½ä»¤ä¸æ§åˆ¶ç»ˆç«¯çš„äº¤äº’ï¼Œæ­¤æ—¶ç”¨æˆ·å¯ä»¥æ­£å¸¸å‘å‘½ä»¤è¾“å…¥ä¿¡æ¯ï¼ˆæœ¬ä¾‹æœªå±•ç¤ºï¼‰ã€‚ â€¦â€¦ ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:3:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":"å®‰è£… expect 1 2 3 4 # å®‰è£… sudo apt-get install tcl tk expect # æŸ¥çœ‹ç‰ˆæœ¬ expect -v ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:4:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["tools"],"content":"è‡ªåŠ¨ä»£ç æ‹‰æäº¤è„šæœ¬ timeout 1 2 set timeout -1 # æ²¡æœ‰timeout set timeout XX # è®¾å®šå…·ä½“çš„timeoutæ—¶é—´ï¼ˆç§’ï¼‰ è‡ªåŠ¨æ‹‰å–é‡è¯• 1 2 3 4 5 6 7 8 #! /usr/bin/expect -f set timeout 30 for {set i 0} {$i\u003c=10} {incr i} { puts \"start pulling git $i\" spawn git pull #expect \"Already up-to-date.\" { puts \"pulling ok\"; exit } expect \"å·²ç»æ˜¯æœ€æ–°çš„ã€‚\" { puts \"pulling ok\"; exit } } è‡ªåŠ¨æäº¤é‡è¯• 1 2 3 4 5 6 7 #! /usr/bin/expect -f set timeout 30 for {set i 0} {$i\u003c=10} {incr i} { puts \"start pushing git $i\" spawn git push expect \"Everything up-to-date\" { puts \"pushing ok\"; exit } } å®Œæ•´è„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 #!/bin/sh PATH=/bin:/usr/bin:/snap/bin export PATH # If a command fails then the deploy stops set -e cd /home/zyh/data/blogs echo \"LOG DATE:\" $(date +\"%Y-%m-%d %H:%M:%S\") DATE=`date '+%Y%m%d-%H%M%S'` echo $DATE LogNameDATE=`date '+%Y'` LogFile='./log/log'$LogNameDATE'.log' echo \" \" \u003e\u003e $LogFile echo \"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“\" \u003e\u003e $LogFile echo \"BACKUP DATE:\" $(date +\"%Y-%m-%d %H:%M:%S\") \u003e\u003e $LogFile printf \"\\033[0;32mDeploying updates to GitHub...\\033[0m\\n\" printf \"\\n\\n\" printf \"\\033[0;32mPull note files ...\\033[0m\\n\" expect pull.exp printf \"\\n\\n\" printf \"\\033[0;32mHugo build ...\\033[0m\\n\" # clean Public folder # cd public # rm -r * # cd ../ # Build the project. echo $(hugo -t LoveIt) \u003e\u003e $LogFile # if using a theme, replace with `hugo -t \u003cYOURTHEME\u003e` printf \"\\n\\n\" printf \"\\033[0;32mpush public ...\\033[0m\\n\" # Go To Public folder cd public # Add changes to git. if [ -n \"$(git status -s)\" ];then git add ./ # Commit changes. msg=\"update $(date)\" if [ -n \"$*\" ]; then msg=\"$*\" fi git commit -m \"$msg\" cd ../ expect push_main.exp else cd ../ fi echo \"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“\" \u003e\u003e $LogFile printf \"\\n\\n\" printf \"\\033[0;32mPush ...\\033[0m\\n\" # Add changes to git. if [ -n \"$(git status -s)\" ];then git add ./ # Commit changes. msg=\"update $(date)\" if [ -n \"$*\" ]; then msg=\"$*\" fi git commit -m \"$msg\" # Push source and build repos. expect push_master.exp fi printf \"\\n\\n\" printf \"\\033[0;32mDone\\033[0m\\n\" ","date":"2023-01-18","objectID":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/:5:0","tags":["ubuntu"],"title":"tool:ubuntué…ç½®å®šæ—¶ä»»åŠ¡","uri":"/posts/tools/sys_config/ubuntu/configurescheduledtasks/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/dnn/opencv_dnn/","tags":["opencv"],"title":"opencv DNN æ¨¡å—","uri":"/posts/open_source_software/opencv/learn/dnn/opencv_dnn/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"DNNæ¨¡å—ä»‹ç» OpenCVçš„DNNæ¨¡å—æ˜¯åœ¨OpenCV3.3åˆå¹¶åˆ°OpenCV releaseä¸­çš„ï¼Œå®ƒæœ€æ—©æ˜¯åœ¨æ‰©å±•æ¨¡å—ä¸­çš„ï¼Œå®ƒå¯ä»¥å¯¼å…¥caffeã€tensorflowã€pytorchç­‰æ·±åº¦å­¦ä¹ æ¡†æ¶è®­ç»ƒç”Ÿæˆçš„æ¨¡å‹æ–‡ä»¶ï¼Œä»è€Œæ­£å‘ä¼ é€’å®ç°é¢„æµ‹åŠŸèƒ½ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/dnn/opencv_dnn/:0:0","tags":["opencv"],"title":"opencv DNN æ¨¡å—","uri":"/posts/open_source_software/opencv/learn/dnn/opencv_dnn/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" Mat æˆå‘˜å˜é‡ Mat é€šé“ç†è§£ é€šé“ å›¾åƒç±»å‹çš„è½¬æ¢ä¸æ˜¾ç¤º é€šé“çš„åˆæˆä¸åˆ†è§£ åˆ›å»ºä¸€ä¸ªMat Scalar cv::Mat::ones cv::Mat::zeros cv::Mat::eye Matç±»ä¸­æ•°æ®éƒ¨åˆ†ç»„æˆ å‚è€ƒ Mat The class Mat represents an n-dimensional dense numerical single-channel or multi-channel array. It can be used to store real or complex-valued vectors and matrices, grayscale or color images, voxel volumes, vector fields, point clouds, tensors, histograms (though, very high-dimensional histograms may be better stored in a SparseMat ). ä¸Šé¢çš„ä¸€æ®µè¯å¼•ç”¨è‡ªå®˜æ–¹çš„æ–‡æ¡£ï¼ŒMatç±»ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¤šç»´çš„å•é€šé“æˆ–è€…å¤šé€šé“çš„ç¨ å¯†æ•°ç»„ã€‚èƒ½å¤Ÿç”¨æ¥ä¿å­˜å®æ•°æˆ–å¤æ•°çš„å‘é‡ã€çŸ©é˜µï¼Œç°åº¦æˆ–å½©è‰²å›¾åƒï¼Œç«‹ä½“å…ƒç´ ï¼Œç‚¹äº‘ï¼Œå¼ é‡ä»¥åŠç›´æ–¹å›¾ï¼ˆé«˜ç»´çš„ç›´æ–¹å›¾ä½¿ç”¨SparseMatä¿å­˜æ¯”è¾ƒå¥½ï¼‰ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒMatå°±æ˜¯ç”¨æ¥ä¿å­˜å¤šç»´çš„çŸ©é˜µçš„ã€‚ æˆå‘˜å˜é‡ data: ucharå‹çš„æŒ‡é’ˆã€‚Matç±»åˆ†ä¸ºäº†ä¸¤ä¸ªéƒ¨åˆ†:çŸ©é˜µå¤´å’ŒæŒ‡å‘çŸ©é˜µæ•°æ®éƒ¨åˆ†çš„æŒ‡é’ˆï¼Œdataå°±æ˜¯æŒ‡å‘çŸ©é˜µæ•°æ®çš„æŒ‡é’ˆã€‚ dims: çŸ©é˜µçš„ç»´åº¦ï¼Œä¾‹å¦‚5*6çŸ©é˜µæ˜¯äºŒç»´çŸ©é˜µï¼Œåˆ™dims=2ï¼Œä¸‰ç»´çŸ©é˜µdims=3. rows: çŸ©é˜µçš„è¡Œæ•° cols: çŸ©é˜µçš„åˆ—æ•° size: çŸ©é˜µçš„å¤§å°ï¼Œsize(cols,rows),å¦‚æœçŸ©é˜µçš„ç»´æ•°å¤§äº2ï¼Œåˆ™æ˜¯size(-1,-1) channels: çŸ©é˜µå…ƒç´ æ‹¥æœ‰çš„é€šé“æ•°ï¼Œä¾‹å¦‚å¸¸è§çš„å½©è‰²å›¾åƒï¼Œæ¯ä¸€ä¸ªåƒç´ ç”±BGRä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ™channels = 3ã€‚ type: è¡¨ç¤ºäº†çŸ©é˜µä¸­å…ƒç´ çš„ç±»å‹ä»¥åŠçŸ©é˜µçš„é€šé“ä¸ªæ•°ï¼Œå®ƒæ˜¯ä¸€ç³»åˆ—çš„é¢„å®šä¹‰çš„å¸¸é‡ï¼Œå…¶å‘½åè§„åˆ™ä¸ºCV_(ä½æ•°ï¼‰+ï¼ˆæ•°æ®ç±»å‹ï¼‰+ï¼ˆé€šé“æ•°ï¼‰ã€‚è¿™é‡ŒUï¼ˆunsigned integerï¼‰è¡¨ç¤ºçš„æ˜¯æ— ç¬¦å·æ•´æ•°ï¼ŒSï¼ˆsigned integerï¼‰æ˜¯æœ‰ç¬¦å·æ•´æ•°ï¼ŒFï¼ˆfloatï¼‰æ˜¯æµ®ç‚¹æ•°ã€‚ ä¾‹å¦‚ï¼šCV_16UC2ï¼Œè¡¨ç¤ºçš„æ˜¯å…ƒç´ ç±»å‹æ˜¯ä¸€ä¸ª16ä½çš„æ— ç¬¦å·æ•´æ•°ï¼Œé€šé“ä¸º2. C1ï¼ŒC2ï¼ŒC3ï¼ŒC4åˆ™è¡¨ç¤ºé€šé“æ˜¯1,2,3,4ã€‚typeä¸€èˆ¬æ˜¯åœ¨åˆ›å»ºMatå¯¹è±¡æ—¶è®¾å®šï¼Œå¦‚æœè¦å–å¾—Matçš„å…ƒç´ ç±»å‹ï¼Œåˆ™æ— éœ€ä½¿ç”¨typeï¼Œä½¿ç”¨ä¸‹é¢çš„depth depth :çŸ©é˜µä¸­å…ƒç´ çš„ä¸€ä¸ªé€šé“çš„æ•°æ®ç±»å‹ï¼Œè¿™ä¸ªå€¼å’Œtypeæ˜¯ç›¸å…³çš„ã€‚ ä¾‹å¦‚ typeä¸º CV_16SC2ï¼Œä¸€ä¸ª2é€šé“çš„16ä½çš„æœ‰ç¬¦å·æ•´æ•°ã€‚é‚£ä¹ˆï¼Œdepthåˆ™æ˜¯CV_16Sã€‚depthä¹Ÿæ˜¯ä¸€ç³»åˆ—çš„é¢„å®šä¹‰å€¼ï¼Œå°†typeçš„é¢„å®šä¹‰å€¼å»æ‰é€šé“ä¿¡æ¯å°±æ˜¯depthå€¼:CV_8U CV_8S CV_16U CV_16S CV_32S CV_32F CV_64F elemSize :çŸ©é˜µä¸€ä¸ªå…ƒç´ å ç”¨çš„å­—èŠ‚æ•°ï¼Œä¾‹å¦‚ï¼štypeæ˜¯CV_16SC3ï¼Œé‚£ä¹ˆelemSize = 3 * 16 / 8 = 6 bytes elemSize1:çŸ©é˜µå…ƒç´ ä¸€ä¸ªé€šé“å ç”¨çš„å­—èŠ‚æ•°ï¼Œä¾‹å¦‚ï¼štypeæ˜¯CV_16CS3ï¼Œé‚£ä¹ˆelemSize1 = 16 / 8 = 2 bytes = elemSize / channels Mat é€šé“ç†è§£ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:0:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"é€šé“ ä¸€ä¸ªå›¾åƒçš„é€šé“æ•°æ˜¯Nï¼Œå°±è¡¨æ˜æ¯ä¸ªåƒç´ ç‚¹å¤„æœ‰Nä¸ªæ•°ï¼Œä¸€ä¸ªaÃ—bçš„Né€šé“å›¾åƒï¼Œå…¶å›¾åƒçŸ©é˜µå®é™…ä¸Šæ˜¯bè¡ŒNÃ—aåˆ—çš„æ•°å­—çŸ©é˜µã€‚ OpenCVä¸­å›¾åƒçš„é€šé“å¯ä»¥æ˜¯1ã€2ã€3å’Œ4ã€‚å…¶ä¸­å¸¸è§çš„æ˜¯1é€šé“å’Œ3é€šé“ï¼Œ2é€šé“å’Œ4é€šé“ä¸å¸¸è§ã€‚ 1é€šé“çš„æ˜¯ç°åº¦å›¾ã€‚ 3é€šé“çš„æ˜¯å½©è‰²å›¾åƒï¼Œæ¯”å¦‚RGBå›¾åƒã€‚ 4é€šé“çš„å›¾åƒæ˜¯RGBAï¼Œæ˜¯RGBåŠ ä¸Šä¸€ä¸ªAé€šé“ï¼Œä¹Ÿå«alphaé€šé“ï¼Œè¡¨ç¤ºé€æ˜åº¦ã€‚PNGå›¾åƒæ˜¯ä¸€ç§å…¸å‹çš„4é€šé“å›¾åƒã€‚alphaé€šé“å¯ä»¥èµ‹å€¼0åˆ°1ï¼Œæˆ–è€…0åˆ°255ï¼Œè¡¨ç¤ºé€æ˜åˆ°ä¸é€æ˜ã€‚ 2é€šé“çš„å›¾åƒæ˜¯RGB555å’ŒRGB565ã€‚2é€šé“å›¾åœ¨ç¨‹åºå¤„ç†ä¸­ä¼šç”¨åˆ°ï¼Œå¦‚å‚…é‡Œå¶å˜æ¢ï¼Œå¯èƒ½ä¼šç”¨åˆ°ï¼Œä¸€ä¸ªé€šé“ä¸ºå®æ•°ï¼Œä¸€ä¸ªé€šé“ä¸ºè™šæ•°ï¼Œä¸»è¦æ˜¯ç¼–ç¨‹æ–¹ä¾¿ã€‚RGB555æ˜¯16ä½çš„ï¼Œ2ä¸ªå­—èŠ‚ï¼Œ5+6+5ï¼Œç¬¬ä¸€å­—èŠ‚çš„å‰5ä½æ˜¯Rï¼Œåä¸‰ä½+ç¬¬äºŒå­—èŠ‚æ˜¯Gï¼Œç¬¬äºŒå­—èŠ‚å5ä½æ˜¯Bï¼Œå¯è§å¯¹åŸå›¾åƒè¿›è¡Œå‹ç¼©äº†ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:1:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å›¾åƒç±»å‹çš„è½¬æ¢ä¸æ˜¾ç¤º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Mat image=imread(\"../images/RGB.jpg\"); Mat imageGRAY,imageRGBA,imageRGB555; cvtColor(image,imageGRAY,CV_RGB2GRAY); //RGBè½¬GRAY cvtColor(image,imageRGBA,CV_RGB2BGRA); //RGBè½¬RGBA cvtColor(image,imageRGB555,CV_RGB2BGR555); //RGBè½¬RGB555 //æ¥çœ‹çœ‹é€šé“æ•° int n = image.channels(); //n=3 int nGRAY = imageGRAY.channels(); //nGRAY = 1 int nRGBA = imageRGBA.channels(); //nRGBA = 4 int nRGB555 = imageRGB555.channels(); //nRGB555 = 2 cout \u003c\u003c \"n: \" \u003c\u003c n \u003c\u003c \" nGRAY: \" \u003c\u003c nGRAY \u003c\u003c \" nRGBA: \" \u003c\u003c nRGBA \u003c\u003c \" nRGB555: \" \u003c\u003c nRGB555 \u003c\u003c endl; //æ˜¾ç¤ºGRAYã€RGBå’ŒRGBAå›¾åƒ imshow(\"image\",image); imshow(\"imageGRAY\",imageGRAY); imshow(\"imageRGBA\",imageRGBA); //imshow(\"imageRGB555\",imageRGB555); //æ— æ³•æ˜¾ç¤º RGBè½¬GRAYæ˜¯æ ¹æ®ä¸€ä¸ªå¿ƒç†å­¦å…¬å¼æ¥çš„ï¼šGray = R0.299 + G0.587 + B*0.114 RGBè½¬GRBAï¼Œé»˜è®¤Aé€šé“çš„æ•°å€¼æ˜¯255ï¼Œä¹Ÿå°±æ˜¯ä¸é€æ˜çš„ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:2:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"é€šé“çš„åˆæˆä¸åˆ†è§£ åˆ†è§£ 1 2 C++: void split(const Mat\u0026 mtx, Mat* mv) C++: void split(const Mat\u0026 mtx, vector\u003cMat\u003e\u0026 mv) å‚æ•°ï¼šmtx è¾“å…¥çŸ©é˜µ mv è¾“å‡ºçŸ©é˜µæˆ–çŸ©é˜µæ•°ç»„ src è¾“å…¥çŸ©é˜µ dst0ã€dst1ã€dst2ã€dst3 æœ€å¤š4ä¸ªå•é€šé“çš„è¾“å‡ºçŸ©é˜µ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 void Mat_split(void) { Mat rgb(3, 4, CV_8UC3, Scalar(1, 2, 3, 4)); //è¿™é‡Œ ç”±äºç±»å‹æ˜¯ CV_8UC3 Scalar ç¬¬å››ä¸ªå€¼æ²¡æœ‰ç”¨ vector\u003cMat\u003e channels; split(rgb, channels); Mat R = channels.at(0); //ä»vectorä¸­è¯»æ•°æ®ç”¨vector::at() Mat G = channels.at(1); Mat B = channels.at(2); cout \u003c\u003c \"RGB=\" \u003c\u003c endl \u003c\u003c rgb \u003c\u003c endl; cout \u003c\u003c \"R=\" \u003c\u003c endl \u003c\u003c R \u003c\u003c endl; cout \u003c\u003c \"G=\" \u003c\u003c endl \u003c\u003c G \u003c\u003c endl; cout \u003c\u003c \"B=\" \u003c\u003c endl \u003c\u003c B \u003c\u003c endl; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 RGB= [ 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3] R= [ 1, 1, 1, 1; 1, 1, 1, 1; 1, 1, 1, 1] G= [ 2, 2, 2, 2; 2, 2, 2, 2; 2, 2, 2, 2] B= [ 3, 3, 3, 3; 3, 3, 3, 3; 3, 3, 3, 3] åˆæˆ 1 2 C++: void merge(const Mat* mv, size_t count, OutputArray dst) C++: void merge(const vector\u003cMat\u003e\u0026 mv, OutputArray dst) å‚æ•°ï¼šmv è¾“å…¥çŸ©é˜µ count å½“mvæ˜¯Cå½¢å¼çš„arrayæ—¶ï¼Œcountè¡¨ç¤ºè¾“å…¥çŸ©é˜µä¸ªæ•° dst è¾“å‡ºçŸ©é˜µ src0ã€src1ã€src2ã€src3 æœ€å¤š4ä¸ªå•é€šé“çš„è¾“å…¥çŸ©é˜µ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 void Mat_merge(void) { Mat R(3, 4, CV_8UC1, Scalar(3)); Mat G(3, 4, CV_8UC1, Scalar(2)); Mat B(3, 4, CV_8UC1, Scalar(1)); Mat RGB(3, 4, CV_8UC3); vector\u003cMat\u003e src; src.push_back(R); //å¾€vectoré‡Œå­˜æ•°æ®è¦ç”¨vector::push_back() src.push_back(G); src.push_back(B); merge(src, RGB); cout \u003c\u003c \"R=\" \u003c\u003c endl \u003c\u003c R \u003c\u003c endl; cout \u003c\u003c \"G=\" \u003c\u003c endl \u003c\u003c G \u003c\u003c endl; cout \u003c\u003c \"B=\" \u003c\u003c endl \u003c\u003c B \u003c\u003c endl; cout \u003c\u003c \"RGB=\" \u003c\u003c endl \u003c\u003c RGB \u003c\u003c endl; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 R= [ 3, 3, 3, 3; 3, 3, 3, 3; 3, 3, 3, 3] G= [ 2, 2, 2, 2; 2, 2, 2, 2; 2, 2, 2, 2] B= [ 1, 1, 1, 1; 1, 1, 1, 1; 1, 1, 1, 1] RGB= [ 3, 2, 1, 3, 2, 1, 3, 2, 1, 3, 2, 1; 3, 2, 1, 3, 2, 1, 3, 2, 1, 3, 2, 1; 3, 2, 1, 3, 2, 1, 3, 2, 1, 3, 2, 1] split( )å’Œmerge( )éƒ½æ˜¯mixChannels( )çš„ç‰¹ä¾‹ 1 2 C++: void mixChannels(const Mat* src, int nsrc, Mat* dst, int ndst, const int* fromTo, size_t npairs) C++: void mixChannels(const vector\u003cMat\u003e\u0026 src, vector\u003cMat\u003e\u0026 dst, const int* fromTo, int npairs) å‚æ•°ï¼šsrc è¾“å…¥çš„çŸ©é˜µï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªçŸ©é˜µä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªçŸ©é˜µæ„æˆçš„vector nsrc è¾“å…¥çŸ©é˜µçš„ä¸ªæ•° dst è¾“å‡ºçŸ©é˜µï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªçŸ©é˜µä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªçŸ©é˜µæ„æˆçš„vector ndst è¾“å‡ºçŸ©é˜µçš„ä¸ªæ•° fromTo srcåˆ°dsté€šé“å¯¹åº”æ•°ç»„ npairs fromToä¸­æœ‰å‡ ç»„å¯¹åº”å…³ç³» mixChannels( )æœ¬è´¨æ˜¯æ”¹å˜äº†å‡ ä¸ªé€šé“çš„é¡ºåºï¼Œè¾“å…¥ä¸€å…±æœ‰å‡ ä¸ªé€šé“ï¼Œè¾“å‡ºè‚¯å®šä¹Ÿæœ‰å‡ ä¸ªé€šé“ï¼Œæ‰€ä»¥å®šä¹‰fromToæ—¶ï¼Œè¦çŸ¥é“æœ‰å¤šå°‘ä¸ªé€šé“ï¼Œè€Œä¸”é€šé“çš„ç¼–å·ä¸€å®šæ˜¯0,1,2ï¼Œâ€¦ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 void Mat_mixchannels(void) { Mat RGB(3, 4, CV_8UC3, Scalar(1, 2, 3, 4)); Mat A(3, 4, CV_8UC1, Scalar(6)); cout \u003c\u003c \"RGB=\" \u003c\u003c endl \u003c\u003c RGB \u003c\u003c endl; cout \u003c\u003c \"A=\" \u003c\u003c endl \u003c\u003c A \u003c\u003c endl; //RGB+Aåˆæˆä¸ºRGBA cout \u003c\u003c \"RGB+Aåˆæˆä¸ºRGBA\" \u003c\u003c endl; Mat RGBA(3, 4, CV_8UC4); Mat in[] = {RGB, A}; int fromTo1[] = {0, 0, 1, 1, 2, 2, 3, 3}; mixChannels(in, 2, \u0026RGBA, 1, fromTo1, 4); cout \u003c\u003c \"RGBA=\" \u003c\u003c endl \u003c\u003c RGBA \u003c\u003c endl; //RGBåˆ†è§£ä¸ºR+GB cout \u003c\u003c \"RGBåˆ†è§£ä¸ºR+GB\" \u003c\u003c endl; Mat R(3, 4, CV_8UC1); Mat GB(3, 4, CV_8UC2); Mat out[] = {R, GB}; int fromTo2[] = {0, 2, 1, 1, 2, 0}; mixChannels(\u0026RGB, 1, out, 2, fromTo2, 3); cout \u003c\u003c \"R=\" \u003c\u003c endl \u003c\u003c R \u003c\u003c endl; cout \u003c\u003c \"GB=\" \u003c\u003c endl \u003c\u003c GB \u003c\u003c endl; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 RGB= [ 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3] A= [ 6, 6, 6, 6; 6, 6, 6, 6; 6, 6, 6, 6] RGB+Aåˆæˆä¸ºRGBA RGBA= [ 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6; 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6; 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6, 1, 2, 3, 6] RGBåˆ†è§£ä¸ºR+GB R= [ 3, 3, 3, 3; 3, 3, 3, 3; 3, 3, 3, 3] GB= [ 2, 1, 2, 1, 2, 1, 2, 1; 2, 1, 2, 1, 2, 1, 2, 1; 2, 1, 2, 1, 2, 1, 2, 1] åˆ›å»ºä¸€ä¸ªMat 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 void Mat_demo() { cv::Mat M(2, 2, CV_8UC3, Scalar(0, 0, 255)); cout \u003c\u003c M \u003c\u003c endl; cv::Mat Z = cv::Mat::zeros(3, 3, CV_64F); cout \u003c\u003c Z \u003c\u003c endl; cv::Mat F = cv::Mat::ones(2, 2, CV_64F); cout \u003c\u003c F \u003c\u003c endl; cv::Mat M0(1,2,CV_8UC3); cout \u003c\u003c M0 \u003c\u003c endl; float K[3][3] = {1, 0, 1, 0, 1, 1, 0, 0, 1}; cv::Mat M1 = cv::Mat(3,3,CV_32FC1,K); cout \u003c\u003c M1 \u003c\u003c end","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:3:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"Scalar Scalaræ˜¯ä¸€ä¸ªç”±é•¿åº¦ä¸º4çš„æ•°ç»„ä½œä¸ºå…ƒç´ æ„æˆçš„ç»“æ„ä½“ï¼ŒScalaræœ€å¤šå¯ä»¥å­˜å‚¨å››ä¸ªå€¼ï¼Œæ²¡æœ‰æä¾›çš„å€¼é»˜è®¤æ˜¯0ã€‚ 1 2 3 4 typedef struct Scalar { double val[4]; }Scalar; 1 2 3 4 5 6 7 8 9 // åˆ›å»ºä¸€ä¸ª2é€šé“ï¼Œä¸”æ¯ä¸ªé€šé“çš„å€¼éƒ½ä¸ºï¼ˆ1,3ï¼‰ï¼Œæ·±åº¦ä¸º32ï¼Œ4è¡Œ4åˆ—çš„å›¾åƒçŸ©é˜µã€‚ Mat M(4, 4, CV_32FC2, Scalar(1, 3)); /* [1, 3, 1, 3, 1, 3, 1, 3; 1, 3, 1, 3, 1, 3, 1, 3; 1, 3, 1, 3, 1, 3, 1, 3; 1, 3, 1, 3, 1, 3, 1, 3] */ 1 2 3 4 5 6 7 8 9 // åˆ›å»ºä¸€ä¸ª3é€šé“ï¼Œä¸”æ¯ä¸ªé€šé“çš„å€¼éƒ½ä¸ºï¼ˆ1,2,3ï¼‰ï¼Œæ·±åº¦ä¸º32ï¼Œ4è¡Œ4åˆ—çš„å›¾åƒçŸ©é˜µã€‚ Mat M(4, 4, CV_32FC3, Scalar(1, 2, 3)); /* [1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3; 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3] */ 1 2 3 4 5 6 7 8 9 // åˆ›å»ºä¸€ä¸ª4é€šé“ï¼Œä¸”æ¯ä¸ªé€šé“çš„å€¼éƒ½ä¸ºï¼ˆ1,2,3,0ï¼‰(é»˜è®¤ä¸º0)ï¼Œæ·±åº¦ä¸º32ï¼Œ4è¡Œ4åˆ—çš„å›¾åƒçŸ©é˜µã€‚ Mat M(4, 4, CV_32FC4, Scalar(1, 2, 3)); /* [1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0; 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0; 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0; 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0] */ 1 2 3 4 5 6 7 8 9 10 11 12 Mat blue_m(256, 256, CV_8UC3, Scalar(255, 0, 0)); //cout\u003c\u003cblue_m\u003c\u003cendl; Mat green_m(256, 256, CV_8UC3, Scalar(0, 255, 0)); //cout\u003c\u003cgreen_m\u003c\u003cendl; Mat red_m(256, 256, CV_8UC3, Scalar(0, 0, 255)); //cout\u003c\u003cred_m\u003c\u003cendl; Mat previewImg(256, 256, CV_8UC3); //CV_EXPORTS void hconcat(InputArray src1, InputArray src2, OutputArray dst); hconcat(blue_m, green_m, previewImg); hconcat(previewImg, red_m, previewImg); imshow(\"previewImg\", previewImg); waitKey(0); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:4:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"cv::Mat::ones 1 Mat m = Mat::ones(2, 2, CV_8UC3); ç›¸å½“äºï¼šMat m = Mat(2, 2, CV_8UC3, 1); // OpenCV replaces 1 with Scalar(1,0,0)ç›¸å½“äºæ¯ä¸ªåƒç´ çš„ç¬¬ä¸€ä¸ªé€šé“ä¸º1ï¼Œå…¶ä½™ä¸¤ä¸ªé€šé“ä¸º0ï¼› 1 2 3 4 5 6 7 cv::Mat F = cv::Mat::ones(3, 3, CV_64F); cout \u003c\u003c F \u003c\u003c endl; /* [1, 1, 1; 1, 1, 1; 1, 1, 1] */ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:5:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"cv::Mat::zeros Mat m = Mat::zeros(2, 2, CV_8UC3); //ç›¸å½“äºåˆ›å»ºä¸€å¼ é»‘è‰²çš„å›¾ï¼Œæ¯ä¸ªåƒç´ çš„æ¯ä¸ªé€šé“éƒ½ä¸º0,Scalar(0,0,0)ï¼› 1 2 3 4 5 6 7 cv::Mat Z = cv::Mat::zeros(3, 3, CV_64F); cout \u003c\u003c Z \u003c\u003c endl; /* [0, 0, 0; 0, 0, 0; 0, 0, 0] */ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:6:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"cv::Mat::eye 1 2 3 4 5 6 7 cv::Mat Y = cv::Mat::eye(3, 3, CV_64F); cout \u003c\u003c Y \u003c\u003c endl; /* [1, 0, 0; 0, 1, 0; 0, 0, 1] */ Matç±»ä¸­æ•°æ®éƒ¨åˆ†ç»„æˆ çŸ©é˜µå¤´ï¼šåŒ…æ‹¬çŸ©é˜µå°ºå¯¸ã€å­˜å‚¨æ–¹æ³•ã€å­˜å‚¨åœ°å€ç­‰ã€‚ æŒ‡é’ˆï¼šè¯¥æŒ‡é’ˆæŒ‡å‘å­˜å‚¨æ‰€æœ‰åƒç´ å€¼çš„çŸ©é˜µã€‚ å› ä¸ºå›¾ç‰‡çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥OpenCVä¸­çš„Matå®šä¹‰éƒ½æ˜¯åªç”³è¯·äº†çŸ©é˜µå¤´å’ŒæŒ‡é’ˆï¼Œå°½é‡é¿å…å¯¹æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹è¿›è¡Œæ‹·è´æ“ä½œã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 void Mat_demo1() { Mat A, C; // Identify header only cout \u003c\u003c \"sizeof(A): \" \u003c\u003c sizeof(A) \u003c\u003c \"; sizeof(C): \" \u003c\u003c sizeof(C) \u003c\u003c endl; cout \u003c\u003c \"A:\\n\" \u003c\u003c A \u003c\u003c endl; A = Mat::ones(Size(3, 3), CV_8UC1); C = A; cout \u003c\u003c \"sizeof(A): \" \u003c\u003c sizeof(A) \u003c\u003c \"; sizeof(C): \" \u003c\u003c sizeof(C) \u003c\u003c endl; cout \u003c\u003c \"A:\\n\" \u003c\u003c A \u003c\u003c endl; Mat B(A); cout \u003c\u003c \"B:\\n\" \u003c\u003c B \u003c\u003c endl; B.at\u003cuchar\u003e(1, 1) = 255; cout \u003c\u003c \"C:\\n\" \u003c\u003c C \u003c\u003c endl; Mat D = A.clone(); cout \u003c\u003c \"D:\\n\" \u003c\u003c D \u003c\u003c endl; D.at\u003cuchar\u003e(0, 0) = 123; cout \u003c\u003c \"A:\\n\" \u003c\u003c A \u003c\u003c endl; cout \u003c\u003c \"D:\\n\" \u003c\u003c D \u003c\u003c endl; Mat E; A.copyTo(E); cout \u003c\u003c \"E:\\n\" \u003c\u003c E \u003c\u003c endl; E.at\u003cuchar\u003e(2, 2) = 100; cout \u003c\u003c \"A:\\n\" \u003c\u003c A \u003c\u003c endl; cout \u003c\u003c \"E:\\n\" \u003c\u003c E \u003c\u003c endl; } Matç±»å‹çš„å˜é‡å®šä¹‰ä»¥åŠèµ‹å€¼åˆ†ä¸ºï¼š å…¬ç”¨ä¸€ä¸ªæ•°æ®å— 1 2 = æ„é€ å‡½æ•° ä¸å…¬ç”¨ä¸€ä¸ªæ•°æ®å— 1 2 clone copyto å‚è€ƒ OpenCV CV_RGB2GRAYä¸CV_BGR2GRAYçš„åŒºåˆ« å­¦ä¹ OpenCV2â€”â€”Matä¹‹é€šé“çš„ç†è§£ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/mat/opencv_mat/:7:0","tags":["opencv"],"title":"opencv Mat æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/mat/opencv_mat/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/","tags":["opencv"],"title":"opencv å¸¸ç”¨å‡½æ•°","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ èµ„æ–™ convertTo / cvtColor convertTo cvtColor setTo ç›´æ–¹å›¾å‡è¡¡åŒ– å‡å€¼æ»¤æ³¢blur è¾¹ç¼˜æ£€æµ‹Sobel ç¬›å¡å°”åæ ‡è½¬æåæ ‡cartToPolar OpenCVä¸­çš„é˜ˆå€¼(threshold)å‡½æ•° èµ„æ–™ gitbook learn opencv OpenCV:çŸ¥ä¹ convertTo / cvtColor ä¸æ˜¯æ‰€æœ‰æ ¼å¼çš„Matå‹æ•°æ®éƒ½èƒ½è¢«ä½¿ç”¨ä¿å­˜ä¸ºå›¾ç‰‡ï¼Œç›®å‰OpenCVä¸»è¦åªæ”¯æŒå•é€šé“å’Œ3é€šé“çš„å›¾åƒï¼Œå¹¶ä¸”æ­¤æ—¶è¦æ±‚å…¶æ·±åº¦ä¸º8bitå’Œ16bitæ— ç¬¦å·(å³CV_16U)ï¼Œæ‰€ä»¥å…¶ä»–ä¸€äº›æ•°æ®ç±»å‹æ˜¯ä¸æ”¯æŒçš„ï¼Œæ¯”å¦‚è¯´floatå‹ç­‰ã€‚ å¦‚æœMatç±»å‹æ•°æ®çš„æ·±åº¦å’Œé€šé“æ•°ä¸æ»¡è¶³ä¸Šé¢çš„è¦æ±‚ï¼Œåˆ™éœ€è¦ä½¿ç”¨convertTo()å‡½æ•°å’ŒcvtColor()å‡½æ•°æ¥è¿›è¡Œè½¬æ¢ã€‚ convertTo()å‡½æ•°è´Ÿè´£è½¬æ¢æ•°æ®ç±»å‹ä¸åŒçš„Matï¼Œå³å¯ä»¥å°†ç±»ä¼¼floatå‹çš„Matè½¬æ¢åˆ°imwrite()å‡½æ•°èƒ½å¤Ÿæ¥å—çš„ç±»å‹ã€‚ cvtColor()å‡½æ•°æ˜¯è´Ÿè´£è½¬æ¢ä¸åŒé€šé“çš„Matï¼Œå› ä¸ºè¯¥å‡½æ•°çš„ç¬¬4ä¸ªå‚æ•°å°±å¯ä»¥è®¾ç½®ç›®çš„Matæ•°æ®çš„é€šé“æ•°ï¼ˆåªæ˜¯æˆ‘ä»¬ä¸€èˆ¬æ²¡æœ‰ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥è¿›è¡Œè‰²å½©ç©ºé—´è½¬æ¢çš„ï¼‰ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/:0:0","tags":["opencv"],"title":"opencv å¸¸ç”¨å‡½æ•°","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"convertTo å›¾åƒçš„å¯¹æ¯”åº¦å’Œäº®åº¦çš„è°ƒæ•´ : dst = alpha * src + beta ï¼ˆalphaæ§åˆ¶å¯¹æ¯”åº¦ï¼Œbetaæ§åˆ¶äº®åº¦ï¼‰ 1 2 3 4 5 6 7 8 9 //! converts matrix to another datatype with optional scalng. See cvConvertScale. void convertTo( OutputArray m, int rtype, double alpha=1, double beta=0 ) const; cv::Mat samples; cv::Mat tdata; samples.convertTo(tdata, CV_32FC1); convertTo(depth_vis, CV_8UC1, 1.0 / 255, 0); ç¼©æ”¾å¹¶è½¬æ¢åˆ°å¦å¤–ä¸€ç§æ•°æ®ç±»å‹ï¼š dstï¼šç›®çš„çŸ©é˜µ typeï¼šéœ€è¦çš„è¾“å‡ºçŸ©é˜µç±»å‹ï¼Œæˆ–è€…æ›´æ˜ç¡®çš„ï¼Œæ˜¯è¾“å‡ºçŸ©é˜µçš„æ·±åº¦ï¼Œå¦‚æœæ˜¯è´Ÿå€¼ï¼ˆå¸¸ç”¨-1ï¼‰åˆ™è¾“å‡ºçŸ©é˜µå’Œè¾“å…¥çŸ©é˜µç±»å‹ç›¸åŒ scaleå’Œshiftï¼šç¼©æ”¾å‚æ•°ï¼Œä¹Ÿå¯ä»¥å†™ä¸ºalphaå’Œbeta è¿™ä¸ªå‘½ä»¤ä¹Ÿç­‰ä»·äºä¸‹é¢çš„è½¬æ¢å…¬å¼ï¼š m(x,y) = saturate_cast(Î±(*this)(x,y)+Î²) å¦‚æœscale=1ï¼Œshift=0ï¼Œåˆ™ä¸è¿›è¡Œæ¯”ä¾‹ç¼©æ”¾ã€‚ å¦‚æœè¾“å…¥æ•°ç»„ä¸è¾“å‡ºæ•°ç»„çš„ç±»å‹ç›¸åŒï¼Œåˆ™å‡½æ•°å¯ä»¥è¢«ç”¨äºç¼©æ”¾å’Œå¹³ç§»çŸ©é˜µæˆ–å›¾åƒï¼› ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/:1:0","tags":["opencv"],"title":"opencv å¸¸ç”¨å‡½æ•°","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"cvtColor 1 2 3 4 5 6 7 8 9 10 11 12 cv.cvtColor(src, code[, dst[, dstCn]] void cv::cvtColor ( InputArray src, OutputArray dst, int code, int dstCn = 0 ) //RGBå›¾ï¼Œè½¬æ¢æˆç°åº¦å›¾ cv.cvtColor(img, cv.COLOR_BGR2GRAY) //ç°åº¦å›¾ï¼Œè½¬æ¢æˆRGBå›¾ cv::cvtColor(depth_vis, frame-\u003evis_data, CV_GRAY2BGR); cvtColor RGBè½¬æˆå…¶ä»–æ ¼å¼æ—¶ï¼Œéœ€è¦æ³¨æ„RGBå›¾åƒçš„ä¸‰ä¸ªé€šé“çš„é¡ºåºï¼Œæ˜¯RGBè¿˜æ˜¯BGR.å¤§éƒ¨åˆ†æƒ…å†µä¸‹opencvä¸ºRGB,ä½†å®é™…ä¸Šæ˜¯BGR,è¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚ éœ€è¦æ³¨æ„å„ä¸ªå€¼çš„èŒƒå›´ï¼š CV_8Uå›¾åƒ å…¶é€šé“å€¼èŒƒå›´ä¸º0åˆ°255 CV_16Uæ—¶å…¶å€¼é€šé“å€¼èŒƒå›´ä¸º0åˆ°65535 CV_32Fæ—¶ï¼Œå…¶é€šé“å€¼èŒƒå›´ä¸º0åˆ°1 åœ¨çº¿æ€§è½¬æ¢æ—¶ï¼Œå…¶èŒƒå›´æ²¡æœ‰è¾ƒå¤§å…³ç³»ï¼Œä½†æ˜¯å¦‚æœæ˜¯éçº¿æ€§è½¬æ¢ï¼ŒRGBå›¾åƒéœ€è¦åšæ­£ç¡®çš„å½’ä¸€åŒ–ï¼Œä»¥æ‰©å±•åˆ°å“åº”çš„èŒƒå›´ã€‚ä¾‹å¦‚TGB-\u003eLUVè½¬æ¢ï¼Œå¦‚æœ32ä½çš„æµ®ç‚¹å›¾åƒä¹‹é—´æ˜¯ç”±8ä½çš„å›¾åƒè½¬æ¢è€Œæ¥ï¼Œé‚£ä¹ˆå°†0åˆ°255çš„èŒƒå›´è½¬æ¢æˆ0,1ï¼Œé‚£ä¹ˆè½¬æ¢ä¹‹å‰é¦–å…ˆéœ€è¦éœ€è¦æ‰€éœ€å…¶å›¾åƒã€‚ 1 2 img *= 1./255; cvtColor(img, img, COLOR_BGR2Luv); setTo 1 2 3 4 5 6 7 /** @brief Sets all or some of the array elements to the specified value. This is an advanced variant of the Mat::operator=(const Scalar\u0026 s) operator. @param value Assigned scalar converted to the actual array type. @param mask Operation mask of the same size as \\*this. Its non-zero elements indicate which matrix elements need to be copied. The mask has to be of type CV_8U and can have 1 or multiple channels */ Mat\u0026 setTo(InputArray value, InputArray mask=noArray()); è¯´æ˜ï¼š 1ã€åŠŸèƒ½ï¼šæŠŠçŸ©é˜µmaskä¸­å…ƒç´ ä¸ä¸º0çš„ç‚¹å…¨éƒ¨å˜ä¸ºvalueå€¼ï¼› 2ã€å½“é»˜è®¤ä¸æ·»åŠ maskçš„æ—¶å€™ï¼Œè¡¨æ˜maskæ˜¯ä¸€ä¸ªä¸åŸå›¾å°ºå¯¸å¤§å°ä¸€è‡´çš„ä¸”å…ƒç´ å€¼å…¨ä¸ºé0çš„çŸ©é˜µï¼Œå› æ­¤ä¸åŠ maskçš„æ—¶å€™ï¼Œä¼šå°†åŸçŸ©é˜µçš„åƒç´ å€¼å…¨éƒ¨èµ‹å€¼ä¸ºvalueï¼› 1 2 3 4 Mat src(3, 3, CV_8UC1); Mat mask(3, 3, CV_8UC1, Scalar(0)); src.setTo(100, mask); cout \u003c\u003c src \u003c\u003c endl; [ 0, 0, 0; 0, 0, 0; 0, 0, 0] 1 2 3 4 Mat src(3, 3, CV_8UC1); Mat mask(3, 3, CV_8UC1, Scalar(5)); src.setTo(100, mask); cout \u003c\u003c src \u003c\u003c endl; [100, 100, 100; 100, 100, 100; 100, 100, 100] ç›´æ–¹å›¾å‡è¡¡åŒ– å‡å€¼æ»¤æ³¢blur å‡å€¼æ»¤æ³¢æ˜¯ä¸€ç§å…¸å‹çš„çº¿æ€§æ»¤æ³¢ç®—æ³•ï¼Œä¸»è¦æ˜¯åˆ©ç”¨åƒç´ ç‚¹é‚»åŸŸçš„åƒç´ å€¼æ¥è®¡ç®—åƒç´ ç‚¹çš„å€¼ã€‚å…¶å…·ä½“æ–¹æ³•æ˜¯é¦–å…ˆç»™å‡ºä¸€ä¸ªæ»¤æ³¢æ¨¡æ¿kernelï¼Œè¯¥æ¨¡æ¿å°†è¦†ç›–åƒç´ ç‚¹å‘¨å›´çš„å…¶ä»–é‚»åŸŸåƒç´ ç‚¹ï¼Œå»æ‰åƒç´ æœ¬èº«ï¼Œå°†å…¶é‚»åŸŸåƒç´ ç‚¹ç›¸åŠ ç„¶åå–å¹³å‡å€¼å³ä¸ºè¯¥åƒç´ ç‚¹çš„æ–°çš„åƒç´ å€¼ï¼Œè¿™å°±æ˜¯å‡å€¼æ»¤æ³¢çš„æœ¬è´¨ã€‚ opencvæä¾›äº†blurå‡½æ•°å®ç°å‡å€¼æ»¤æ³¢æ“ä½œï¼Œå…¶åŸå‹å¦‚ä¸‹ï¼š 1 void blur(InputArray src, OutputArray dst, Size ksize, Point anchor=Point(-1,-1), int borderType=BORDER_DEFAULT ) å‚æ•°è§£é‡Šï¼š . InputArray src: è¾“å…¥å›¾åƒï¼Œå¯ä»¥æ˜¯Matç±»å‹ï¼Œå›¾åƒæ·±åº¦æ˜¯CV_8Uã€CV_16Uã€CV_16Sã€CV_32Fä»¥åŠCV_64Få…¶ä¸­çš„æŸä¸€ä¸ªã€‚ . OutputArray dst: è¾“å‡ºå›¾åƒï¼Œæ·±åº¦å’Œç±»å‹ä¸è¾“å…¥å›¾åƒä¸€è‡´ . Size ksize: æ»¤æ³¢æ¨¡æ¿kernelçš„å°ºå¯¸ï¼Œä¸€èˆ¬ä½¿ç”¨Size(w, h)æ¥æŒ‡å®šï¼Œå¦‚Size(3,3) . Point anchor=Point(-1, -1): å­—é¢æ„æ€æ˜¯é”šç‚¹ï¼Œä¹Ÿå°±æ˜¯å¤„ç†çš„åƒç´ ä½äºkernelçš„ä»€ä¹ˆä½ç½®ï¼Œé»˜è®¤å€¼ä¸º(-1, -1)å³ä½äºkernelä¸­å¿ƒç‚¹ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦åˆ™ä¸éœ€è¦æ›´æ”¹ . int borderType=BORDER_DEFAULT: ç”¨äºæ¨æ–­å›¾åƒå¤–éƒ¨åƒç´ çš„æŸç§è¾¹ç•Œæ¨¡å¼ï¼Œæœ‰é»˜è®¤å€¼BORDER_DEFAULT è¾¹ç¼˜æ£€æµ‹Sobel æ£€æµ‹è¾¹ç¼˜:ä»¥ç°åº¦å›¾åƒä¸ºä¾‹ï¼Œå®ƒçš„ç†è®ºåŸºç¡€æ˜¯è¿™æ ·çš„:å¦‚æœå‡ºç°ä¸€ä¸ªè¾¹ç¼˜ï¼Œé‚£ä¹ˆå›¾åƒçš„ç°åº¦å°±ä¼šæœ‰ä¸€å®šçš„å˜åŒ–ã€‚ä¸ºäº†æ–¹ä¾¿å‡è®¾ç”±é»‘æ¸å˜ä¸ºç™½ä»£è¡¨ä¸€ä¸ªè¾¹ç•Œï¼Œé‚£ä¹ˆå¯¹å…¶ç°åº¦åˆ†æï¼Œåœ¨è¾¹ç¼˜çš„ç°åº¦å‡½æ•°å°±æ˜¯ä¸€ä¸ªä¸€æ¬¡å‡½æ•°y=kxï¼Œå¯¹å…¶æ±‚ä¸€é˜¶å¯¼æ•°å°±æ˜¯å…¶æ–œç‡kï¼Œå°±æ˜¯è¯´è¾¹ç¼˜çš„ä¸€é˜¶å¯¼æ•°æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè€Œç”±äºéè¾¹ç¼˜çš„ä¸€é˜¶å¯¼æ•°ä¸ºé›¶ï¼Œè¿™æ ·é€šè¿‡æ±‚ä¸€é˜¶å¯¼æ•°å°±èƒ½åˆæ­¥åˆ¤æ–­å›¾åƒçš„è¾¹ç¼˜äº†ã€‚é€šå¸¸æ˜¯Xæ–¹å‘å’ŒYæ–¹å‘çš„å¯¼æ•°ï¼Œä¹Ÿå°±æ˜¯æ¢¯åº¦ã€‚è®¡ç®—æœºå°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æ¥è·å¾—å›¾åƒçš„è¾¹ç¼˜ã€‚ 1 void cvSobel( const CvArr* src, CvArr* dst, int xorder, int yorder, intaperture_size=3 ); srcï¼šè¾“å…¥å›¾åƒï¼› dstï¼šè¾“å‡ºå›¾åƒï¼› xorderï¼šxæ–¹å‘ä¸Šçš„å·®åˆ†é˜¶æ•°ï¼› yorderï¼šyæ–¹å‘ä¸Šçš„å·®åˆ†é˜¶æ•°ï¼› aperture_sizeæ‰©å±•Sobelæ ¸çš„å¤§å°ï¼ˆæ—¢çª—å£é˜¶æ•°ï¼‰ï¼Œå¿…é¡»æ˜¯1ï¼ˆæ³¨æ„è¿™æ˜¯ä¸€ä¸ª3Ã—1æˆ–1Ã—3å‘é‡è€Œä¸æ˜¯ä¸€ä¸ªæ–¹é˜µï¼‰,3, 5 æˆ–7ã€‚ ç¬›å¡å°”åæ ‡è½¬æåæ ‡cartToPolar ç›´è§’åæ ‡ç³»è½¬ä¸ºæåæ ‡ç³»ã€‚ 1 2 3 4 5 6 7 void cv::cartToPolar( cv::InputArray x, cv::InputArray y, cv::OutputArray magnitude, cv::OutputArray angle, bool angleInDegrees = false ); OpenCVä¸­çš„é˜ˆå€¼(threshold)å‡½æ•° OpenCVä¸­æä¾›äº†é˜ˆå€¼åŒ–å‡½æ•°thresholdï¼Œè¯¥å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š 1 2 3 4 5 double threshold(InputArray src, OutputArray dst, double thresh, double maxval, int type); å‚æ•°è¯´æ˜ï¼š src ï¼š è¡¨ç¤ºè¾“å…¥å›¾åƒ dst : è¡¨ç¤ºè¾“å‡ºå›¾åƒï¼ˆå°ºå¯¸å’Œç±»å‹å’Œè¾“å…¥å›¾åƒä¸€æ ·ï¼‰ thresh : è¡¨ç¤ºé˜ˆå€¼ maxval : è¡¨ç¤ºé¢„è®¾æœ€å¤§å€¼ type : è¡¨ç¤ºé˜ˆå€¼åŒ–å¤„ç†çš„ç±»å‹è®¾ç½®ï¼ˆtypeç±»å‹æœ‰ä¸€ä¸‹å‡ ç§ï¼‰ THRESH_BINARYè¡¨ç¤ºå¤§äºthreshçš„å–maxval,å¦åˆ™å–0; THRESH_BINARY_INVè¡¨ç¤ºå¤§äºthreshçš„å–0,å¦åˆ™å–maxvalue; THRESH_TRUNCè¡¨ç¤ºå¤§äºthreshå–threshold,å¦åˆ™ä¸æ”¹å˜ç°åº¦å€¼; THRESH_TOZEROè¡¨ç¤ºå¤§äºthreshçš„ä¸æ”¹å˜ç°åº¦å€¼,å¦åˆ™å–0; THRESH_TOZERO_INVè¡¨ç¤ºå¤§äºthreshå–0,çª¦æ³½ä¸æ”¹å˜ç°åº¦å€¼; THRESH_OTSUè¡¨ç¤ºä½¿ç”¨otsuè‡ªåŠ¨è®¡ç®—é˜ˆå€¼; THRESH_TRIANGLEè¡¨ç¤ºä½¿ç”¨Triangleè‡ªåŠ¨è®¡ç®—é˜ˆå€¼; åŸºæœ¬çš„é˜ˆå€¼æ“ä½œ OpenCVåŸºç¡€â€”â€”thresholdå‡½æ•°çš„ä½¿ç”¨ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/:2:0","tags":["opencv"],"title":"opencv å¸¸ç”¨å‡½æ•°","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/","tags":["opencv"],"title":"opencv å¸¸ç”¨æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"unsigned char* è½¬æ¢ä¸º Matç±»å‹ 1 cv::Mat mmat = cv::Mat(stFrameInfo.nHeight, stFrameInfo.nWidth, CV_8UC1, stImageInfo.pBufAddr, 0); BYTE* è½¬æ¢ä¸º Matç±»å‹ 1 2 3 cv::Mat sMat = Mat(sFrameHead.iHeight, sFrameHead.iWidth, CV_8UC1);; int nLen = sMat.rows * sMat.cols * sMat.channels(); memcpy(sMat.data, m_pFrameBuffer, nLen); Matè½¬unsigned char* 1 unsigned char pdata= srcMat.data; // Mat =\u003e unsigned char box æ¸²æŸ“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 void BoxVisualization(cv::Mat frame, int tl_x, int tl_y, int br_x, int br_y, int label, float score) { // æ¸²æŸ“box int fontface = cv::FONT_HERSHEY_SIMPLEX; int thickness = 1; float fontScale = 0.5; int baseline = 0; cv::Scalar color(140, 199, 0); cv::Rect box((int)tl_x, (int)tl_y, (int)(br_x - tl_x), (int)(br_y - tl_y)); cv::rectangle(frame, box, color, 2, 8, 0); cv::String label_str = cv::format(\"l %d, s: %.2f\", label, score); cv::Size fontSize = cv::getTextSize(label_str, fontface, fontScale, thickness, \u0026baseline); cv::rectangle(frame, cv::Size(box.tl().x, box.tl().y - fontSize.height - baseline), cv::Size(box.tl().x + fontSize.width, box.tl().y), cv::Scalar(34, 43, 59), -1, 8); cv::putText(frame, label_str, cv::Point(box.tl().x, box.tl().y - baseline), fontface, fontScale, cv::Scalar(255, 0, 255), thickness, 8); } ç”»åœ† 1 2 3 4 5 6 7 void Visualization(cv::Mat frame, int tl_x, int tl_y, int br_x, int br_y) { // æ¸²æŸ“box cv::Point circle_point((br_x + tl_x) / 2, (br_y + tl_y) / 2); int len = std::min((br_y - tl_y) / 2, (br_x - tl_x) / 2); cv::circle(frame, circle_point, len, cv::Scalar(255, 0, 0), 4); } å¸¸ç”¨é¢œè‰²å®šä¹‰ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/:0:0","tags":["opencv"],"title":"opencv å¸¸ç”¨æ“ä½œ","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ å¸¸ç”¨åˆ°çš„ç®—å­ 1. cv::abs() 2. cv::add() 3. cv::addWeighted() 4. cv::bitwise_and() 5. cv::bitwise_not() 6. cv::bitwise_or() 7. cv::bitwise_xor() 8. cv::calcCovarMatrix() 9. cv::cartToPolar() 10. cv::checkRange() 11. cv::compare() 12. cv::completeSymm() 13. cv::convertScaleAbs() 14. cv::countNonZero() 15. cv::cvarrToMat() 16. cv::dct() 17. cv::dft() 18. cv::cvtColor() 19. cv::determinant() 20. cv::divide() 21. cv::eigen() 22. cv::exp() 23. cv::flip() 24. cv::gemm() 25. cv::idct() 26. cv::idft() 27. cv::inRange() 28. cv::invert() 29. cv::log() 30. cv::magnitude() 31. cv::Mahalanobis() 32. cv::max() 33. cv::min() 34. cv::mean() 35. cv::meanStdDev() 36. cv::merge() 37. cv::split() 38. cv::minMaxIdx() 39. cv::minMaxLoc() 40. cv::mixChannels() 41. cv::multiply() 42. cv::mulTransposed() 43. cv::norm() 44. cv::normalize() 45. cv::perspectiveTransform() 46. cv::phase() 47. cv::polarToCart() 48. cv::pow() 49. cv::randu() 50. cv::randn() 51. cv::repeat() 52. cv::scaleAdd() 53. cv::setIdentity() 54. cv::solve() 55. cv::solveCubic() 56. cv::solvePoly() 57. cv::sort() 58. cv::sortIdx() 59. cv::sqrt() 60 cv::subtract() 61. cv::sum() 62. cv::trace() 63. cv::transform() 64. cv::transpose() å¸¸ç”¨åˆ°çš„ç®—å­ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:0:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"1. cv::abs() è®¡ç®—çŸ©é˜µçš„ç»å¯¹å€¼ 1 2 cv::MatExpr cv::abs( cv::InputArray src ); cv::MatExpr cv::abs( const cv::MatExpr\u0026 src ); // Matrix expression ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:1:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"2. cv::add() è®¡ç®—çŸ©é˜µsrc1å’Œsrc2çš„åŠ å’Œï¼Œå¹¶æŠŠç»“æœå­˜æ”¾åœ¨dstä¸­ã€‚ 1 2 3 4 5 6 7 void cv::add( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero int dtype = -1 // Output type for result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:2:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3. cv::addWeighted() è¯¥å‡½æ•°å’Œä¸Šä¸€ä¸ªadd()å‡½æ•°æ¯”è¾ƒç±»ä¼¼ï¼Œæ˜¯æ ¹æ®ä¸‹é¢å…¬å¼å°†ç»“æœå†™å…¥dstä¸­ã€‚å¯ç”¨äºå›¾åƒæ··åˆã€‚ 1 2 3 4 5 6 7 8 9 void cv::addWeighted( cv::InputArray src1, // First input array double alpha, // Weight for first input array cv::InputArray src2, // Second input array double beta, // Weight for second input array double gamma, // Offset added to weighted sum cv::OutputArray dst, // Result array int dtype = -1 // Output type for result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:3:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"4. cv::bitwise_and() é€å…ƒç´ æŒ‰ä½ä¸æ“ä½œã€‚ 1 2 3 4 5 6 void cv::bitwise_and( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:4:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"5. cv::bitwise_not() é€å…ƒç´ æŒ‰ä½å–åæ“ä½œã€‚ 1 2 3 4 5 void cv::bitwise_not( cv::InputArray src, // Input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:5:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"6. cv::bitwise_or() é€å…ƒç´ æŒ‰ä½å–æˆ–æ“ä½œã€‚ 1 2 3 4 5 6 void cv::bitwise_or( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:6:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"7. cv::bitwise_xor() é€å…ƒç´ æŒ‰ä½å¼‚æˆ–æ“ä½œã€‚ 1 2 3 4 5 6 void cv::bitwise_xor( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:7:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"8. cv::calcCovarMatrix() ç»™å®šä¸€äº›å‘é‡ï¼Œå‡è®¾å‘é‡è¡¨ç¤ºçš„ç‚¹æ˜¯è¿‘ä¼¼çš„é«˜æ–¯åˆ†å¸ƒï¼Œï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°†è®¡ç®—è¿™äº›ç‚¹çš„å‡å€¼å’Œåæ–¹å·®çŸ©é˜µã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void cv::calcCovarMatrix( const cv::Mat* samples, // C-array of n-by-1 or 1-by-n matrices int nsamples, // num matrices pointed to by 'samples' cv::Mat\u0026 covar, // ref to return array for covariance cv::Mat\u0026 mean, // ref to return array for mean int flags, // special variations, see Table bellow. int ctype = cv::F64 // output matrix type for covar ); void cv::calcCovarMatrix( cv::InputArray samples, // n-by-m matrix, but see 'flags' below cv::Mat\u0026 covar, // ref to return array for covariance cv::Mat\u0026 mean, // ref to return array for mean int flags, // special variations. int ctype = cv::F64 // output matrix type for covar ); è¯¥å‡½æ•°æœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œå¦‚ä¸Šcodesã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:8:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"9. cv::cartToPolar() ç›´è§’åæ ‡ç³»è½¬ä¸ºæåæ ‡ç³»ã€‚ 1 2 3 4 5 6 7 void cv::cartToPolar( cv::InputArray x, cv::InputArray y, cv::OutputArray magnitude, cv::OutputArray angle, bool angleInDegrees = false ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:9:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"10. cv::checkRange() æ£€æŸ¥srcä¸­æ¯ä¸ªå…ƒç´ æ˜¯å¦åœ¨ç»™å®šçš„èŒƒå›´ä¹‹å†…ã€‚èŒƒå›´æœ‰minValå’ŒmaxValè®¾ç½®ã€‚é™¤éå°†quietè®¾ç½®ä¸ºtrueï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœéƒ½åœ¨èŒƒå›´å†…ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™å°†è¿”å›falseï¼Œå¹¶å°†ç¬¬ä¸€ä¸ªå¼‚å¸¸å€¼çš„ä½ç½®å­˜æ”¾åœ¨posä¸­ã€‚ 1 2 3 4 5 6 7 bool cv::checkRange( cv::InputArray src, bool quiet = true, cv::Point* pos = 0, // if non-Null, location of first outlier double minVal = -DBL_MAX, // Lower check bound (inclusive) double maxVal = DBL_MAX // Upper check bound (exclusive) ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:10:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"11. cv::compare() é€å…ƒç´ æ¯”è¾ƒsrc1å’Œsrc2ï¼Œå¹¶å°†æ¯”è¾ƒç»“æœæ”¾åœ¨dstä¸­,åŒ¹é…æ ‡è®°ä¸º255ï¼Œå¦åˆ™è®¾ç½®ä¸º0ã€‚ 1 2 3 4 5 6 bool cv::compare( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array int cmpop // Comparison operator. ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:11:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"12. cv::completeSymm() å°†çŸ©é˜µmtxé€šè¿‡å¤åˆ¶ä½¿å…¶å¯¹ç§°ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†ä¸Šä¸‰è§’çš„æ‰€æœ‰å…ƒç´ éƒ½è¢«å¤åˆ¶åˆ°ä¸‹ä¸‰è§’å¯¹åº”è½¬ç½®çš„ä½ç½®ä¸Šï¼Œå¯¹è§’å…ƒç´ ä¸å˜ã€‚å¦‚æœlowerToUpper = trueï¼Œé‚£ä¹ˆåˆ™å°†ä¸‹ä¸‰è§’å¤åˆ¶åˆ°ä¸Šä¸‰è§’ä½ç½®ã€‚ 1 2 3 4 bool cv::completeSymm( cv::InputArray mtx, bool lowerToUpper = false ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:12:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"13. cv::convertScaleAbs() è¯¥å‡½æ•°æŒ‰ç…§å¦‚ä¸‹å…¬å¼è¿›è¡Œè½¬æ¢åŸå›¾åƒã€‚å®ç°å¯¹åŸå›¾åƒåƒç´ å€¼çš„ç¼©æ”¾å’Œå¹³ç§»ã€‚ 1 2 3 4 5 6 void cv::convertScaleAbs( cv::InputArray src, // Input array cv::OutputArray dst, // Result array double alpha = 1.0, // Multiplicative scale factor double beta = 0.0 // Additive offset factor ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:13:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"14. cv::countNonZero() è¿”å›çŸ©é˜µmtxä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°ã€‚ 1 2 3 int cv::countNonZero( // Return number of nonzero elements in mtx cv::InputArray mtx, // Input array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:14:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"15. cv::cvarrToMat() å°†æ—§ç‰ˆæœ¬çš„å›¾åƒæ ¼å¼è½¬ä¸ºMatç±»å›¾åƒã€‚ 1 2 3 4 5 6 cv::Mat cv::cvarrToMat( const CvArr* src, // Input array: CvMat, IplImage, or CvMatND bool copyData = false, // if false just make new header, else copy data bool allowND = true, // if true and possible, convert CvMatND to Mat int coiMode = 0 // if 0: error if COI set, if 1: ignore COI ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:15:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"16. cv::dct() æ ¹æ®flagsæ‰§è¡Œç¦»æ•£ä½™å¼¦å˜æ¢æˆ–è€…ç¦»æ•£ä½™å¼¦é€†å˜æ¢ã€‚ 1 2 3 4 5 void cv::dct( cv::InputArray src, // Input array cv::OutputArray dst, // Result array int flags, // for inverse transform or row-by-row ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:16:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"17. cv::dft() å®ç°ç¦»æ•£å‚…é‡Œå¶å˜æ¢åŠå…¶é€†å˜æ¢ã€‚ 1 2 3 4 5 6 void cv::dft( cv::InputArray src, // Input array cv::OutputArray dst, // Result array int flags = 0, // for inverse transform or row-by-row int nonzeroRows = 0 // only this many entries are nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:17:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"18. cv::cvtColor() ä¿ç•™ç›¸åŒæ•°æ®ç±»å‹çš„åŒæ—¶å°†å›¾åƒä»ä¸€ä¸ªé¢œè‰²ç©ºé—´è½¬æ¢åˆ°å¦ä¸€ä¸ªé¢œè‰²ç©ºé—´ã€‚ 1 2 3 4 5 6 void cv::cvtColor( cv::InputArray src, // Input array cv::OutputArray dst, // Result array int code, // color mapping code, see Table 5-4. int dstCn = 0 // channels in output (0='automatic') ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:18:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"19. cv::determinant() è®¡ç®—ä¸€ä¸ªæ–¹é˜µçš„è¡Œåˆ—å¼ã€‚ 1 2 3 double cv::determinant( cv::InputArray mat ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:19:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"20. cv::divide() å°†src1æˆ–scaleä¸­çš„å…ƒç´ é™¤ä»¥src2ä¸­ç›¸åº”çš„å…ƒç´ ï¼Œç„¶åå°†ç»“æœæ”¾åœ¨dstä¸­ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 void cv::divide( cv::InputArray src1, // First input array (numerators) cv::InputArray src2, // Second input array (denominators) cv::OutputArray dst, // Results array (scale*src1/src2) double scale = 1.0, // Multiplicative scale factor int dtype = -1 // dst data type, -1 to get from src2 ); void cv::divide( double scale, // Numerator for all divisions cv::InputArray src2, // Input array (denominators) cv::OutputArray dst, // Results array (scale/src2) int dtype = -1 // dst data type, -1 to get from src2 ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:20:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"21. cv::eigen() è®¡ç®—çŸ©é˜µçš„ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 bool cv::eigen( cv::InputArray src, cv::OutputArray eigenvalues, int lowindex = -1, int highindex = -1 ); bool cv::eigen( cv::InputArray src, cv::OutputArray eigenvalues, cv::OutputArray eigenvectors, int lowindex = -1, int highindex = -1 ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:21:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"22. cv::exp() è®¡ç®—srcä¸­æ‰€æœ‰å…ƒç´ çš„æŒ‡æ•°ï¼Œå¹¶å°†ç»“æœå­˜æ”¾åœ¨dstä¸­ã€‚ 1 2 3 4 void cv::exp( cv::InputArray src, cv::OutputArray dst ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:22:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"23. cv::flip() ç»•xè½´æˆ–è€…yè½´æ—‹è½¬ã€‚ 1 2 3 4 5 void cv::flip( cv::InputArray src, // Input array cv::OutputArray dst, // Result array, size and type of 'src' int flipCode = 0 // \u003e0: y-flip, 0: x-flip, \u003c0: both ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:23:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"24. cv::gemm() å¹¿ä¹‰çŸ©é˜µä¹˜æ³•ï¼ˆGEMMï¼‰ã€‚ 1 2 3 4 5 6 7 8 9 void cv::gemm( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array double alpha, // Weight for 'src1' * 'src2' product cv::InputArray src3, // Third (offset) input array double beta, // Weight for 'src3' array cv::OutputArray dst, // Results array int flags = 0 // Use to transpose source arrays ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:24:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"25. cv::idct() ç¦»æ•£ä½™å¼¦é€†å˜æ¢ï¼Œç›¸å½“äºè°ƒç”¨å¸¦å‚æ•°çš„dct()ã€‚ 1 2 3 4 5 void cv::idct( cv::InputArray src, // Input array cv::OutputArray dst, // Result array int flags, // for row-by-row ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:25:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"26. cv::idft() ç¦»æ•£å‚…é‡Œå¶é€†å˜æ¢ï¼Œç›¸å½“äºè°ƒç”¨å¸¦å‚æ•°çš„dft()ã€‚ 1 2 3 4 5 6 void cv::idft( cv::InputArray src, // Input array cv::OutputArray dst, // Result array int flags = 0, // for row-by-row, etc. int nonzeroRows = 0 // only this many entries are nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:26:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"27. cv::inRange() åˆ¤æ–­srcä¸­çš„å…ƒç´ æ˜¯å¦åœ¨upperbå’Œlowerbä¹‹é—´ï¼Œæ»¡è¶³ç½®ä¸º255ï¼Œå¦åˆ™0ã€‚ 1 2 3 4 5 6 void cv::inRange( cv::InputArray src, // Input array cv::InputArray upperb, // Array of upper bounds (inclusive) cv::InputArray lowerb, // Array of lower bounds (inclusive) cv::OutputArray dst // Result array, cv::U8C1 type ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:27:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"28. cv::invert() æ±‚çŸ©é˜µçš„é€†ã€‚ 1 2 3 4 5 double cv::invert( // Return 0 if 'src' is singular cv::InputArray src, // Input Array, m-by-n cv::OutputArray dst // Result array, n-by-m int method = cv::DECOMP_LU // Method for (pseudo) inverse ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:28:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"29. cv::log() æ±‚åŸå›¾åƒçš„è‡ªç„¶å¯¹æ•°ã€‚ 1 2 3 4 void cv::log( cv::InputArray src, cv::OutputArray dst ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:29:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"30. cv::magnitude() è®¡ç®—ç›´è§’åæ ‡ç³»è½¬æ¢æˆæåæ ‡ç³»çš„å¹…å€¼ã€‚ 1 2 3 4 5 void cv::magnitude( cv::InputArray x, cv::InputArray y, cv::OutputArray dst ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:30:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"31. cv::Mahalanobis() è®¡ç®—ä¸¤ä¸ªå‘é‡çš„é©¬æ°è·ç¦»ã€‚ 1 2 3 4 5 cv::Size cv::mahalanobis( cv::InputArray vec1, cv::InputArray vec2, cv::OutputArray icovar ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:31:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"32. cv::max() è®¡ç®—çŸ©é˜µsrc1å’Œsrc2ä¸­æ¯ä¸ªå¯¹åº”çš„åƒç´ å¯¹çš„æœ€å¤§å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 cv::MatExpr cv::max( const cv::Mat\u0026 src1, // First input array (first position) const cv::Mat\u0026 src2 // Second input array ); MatExpr cv::max( // A matrix expression, not a matrix const cv::Mat\u0026 src1, // First input array (first position) double value // Scalar in second position ); MatExpr cv::max( // A matrix expression, not a matrix double value, // Scalar in first position const cv::Mat\u0026 src1 // Input array (second position) ); void cv::max( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst // Result array ); void cv::max( const Mat\u0026 src1, // First input array const Mat\u0026 src2, // Second input array Mat\u0026 dst // Result array ); void cv::max( const Mat\u0026 src1, // Input array double value, // Scalar input Mat\u0026 dst // Result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:32:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"33. cv::min() è®¡ç®—çŸ©é˜µsrc1å’Œsrc2ä¸­æ¯ä¸ªå¯¹åº”çš„åƒç´ å¯¹çš„æœ€å°å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 cv::MatExpr cv::min( // A matrix expression, not a matrix const cv::Mat\u0026 src1, // First input array const cv::Mat\u0026 src2 // Second input array ); MatExpr cv::min( // A matrix expression, not a matrix const cv::Mat\u0026 src1, // First input array (first position) double value // Scalar in second position ); MatExpr cv::min( // A matrix expression, not a matrix double value, // Scalar in first position const cv::Mat\u0026 src1 // Input array (second position) ); void cv::min( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst // Result array ); void cv::min( const Mat\u0026 src1, // First input array const Mat\u0026 src2, // Second input array Mat\u0026 dst // Result array ); void cv::min( const Mat\u0026 src1, // Input array double value, // Scalar input Mat\u0026 dst // Result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:33:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"34. cv::mean() è®¡ç®—srcçŸ©é˜µçš„å‡å€¼ã€‚ 1 2 3 4 cv::Scalar cv::mean( cv::InputArray src, cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:34:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"35. cv::meanStdDev() è®¡ç®—çŸ©é˜µçš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚ 1 2 3 4 5 6 void cv::meanStdDev( cv::InputArray src, cv::OutputArray mean, cv::OutputArray stddev, cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:35:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"36. cv::merge() å°†å¤šä¸ªäºŒç»´çŸ©é˜µåˆå¹¶æˆä¸€ä¸ªå¤šç»´çŸ©é˜µã€‚ 1 2 3 4 5 6 7 8 9 void cv::merge( const cv::Mat* mv, // C-style array of arrays size_t count, // Number of arrays pointed to by 'mv' cv::OutputArray dst // Contains all channels in 'mv' ); void merge( const vector\u003ccv::Mat\u003e\u0026 mv, // STL-style array of arrays cv::OutputArray dst // Contains all channels in 'mv' ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:36:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"37. cv::split() å°†å¤šé€šé“çŸ©é˜µæ‹†åˆ†æˆå¤šä¸ªå•é€šé“çŸ©é˜µã€‚ 1 2 3 4 5 6 7 8 void cv::split( const cv::Mat\u0026 mtx, cv::Mat* mv ); void cv::split( const cv::Mat\u0026 mtx, vector\u003cMat\u003e\u0026 mv // STL-style vector of n 1-channel cv::Mat's ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:37:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"38. cv::minMaxIdx() è®¡ç®—å•é€šé“çŸ©é˜µçš„æœ€å¤§æœ€å°å€¼ï¼Œå¹¶è¿”å›å…¶ä½ç½®ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void cv::minMaxIdx( cv::InputArray src, // Input array, single channel only double* minVal, // min value goes here (in not NULL) double* maxVal, // min value goes here (in not NULL) int* minIdx, // loc of min goes here (if not NULL) int* maxIdx, // loc of max goes here (if not NULL) cv::InputArray mask = cv::noArray() // search only nonzero values ); void cv::minMaxIdx( const cv::SparseMat\u0026 src, // Input sparse array double* minVal, // min value goes here (in not NULL) double* maxVal, // min value goes here (in not NULL) int* minIdx, // C-style array, indices of min locs int* maxIdx, // C-style array, indices of max locs ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:38:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"39. cv::minMaxLoc() è®¡ç®—çŸ©é˜µçš„æœ€å¤§æœ€å°å€¼ï¼Œå¹¶è¿”å›å…¶ä½ç½®ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void cv::minMaxLoc( cv::InputArray src, // Input array double* minVal, // min value goes here (in not NULL) double* maxVal, // min value goes here (in not NULL) cv::Point* minLoc, // loc of min goes here (if not NULL) cv::Point* maxLoc, // loc of max goes here (if not NULL) cv::InputArray mask = cv::noArray() // search only nonzero values ); void cv::minMaxLoc( const cv::SparseMat\u0026 src, // Input sparse array double* minVal, // min value goes here (in not NULL) double* maxVal, // min value goes here (in not NULL) cv::Point* minLoc, // C-style array, indices of min locs cv::Point* maxLoc, // C-style array, indices of max locs ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:39:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"40. cv::mixChannels() å¯¹äºè¾“å…¥å›¾åƒçš„é€šé“æŒ‰ç…§ç»™å®šçš„é¡ºåºé‡æ–°ç»„åˆã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 void cv::mixChannels( const cv::Mat* srcv, // C-style array of matrices int nsrc, // Number of elements in 'srcv' cv::Mat* dstv, // C-style array of target matrices int ndst, // Number of elements in 'dstv' const int* fromTo, // C-style array of pairs, ...from,to... size_t n_pairs // Number of pairs in 'fromTo' ); void cv::mixChannels( const vector\u003ccv::Mat\u003e\u0026 srcv, // STL-style vector of matrices vector\u003ccv::Mat\u003e\u0026 dstv, // STL-style vector of target matrices const int* fromTo, // C-style array of pairs, ...from,to... size_t n_pairs // Number of pairs in 'fromTo' ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:40:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"41. cv::multiply() çŸ©é˜µå¯¹åº”å…ƒç´ ç›¸ä¹˜ã€‚ 1 2 3 4 5 6 7 void cv::multiply( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array double scale = 1.0, // overall scale factor int dtype = -1 // Output type for result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:41:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"42. cv::mulTransposed() çŸ©é˜µå’Œå…¶è½¬ç½®çš„ä¹˜ç§¯ã€‚ 1 2 3 4 5 6 7 8 void cv::mulTransposed( cv::InputArray src1, // Input matrix cv::OutputArray dst, // Result array bool aTa, // If true, transpose then multiply cv::InputArray delta = cv::noArray(), // subtract from 'src1' before multiply double scale = 1.0, // overall scale factor int dtype = -1 // Output type for result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:42:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"43. cv::norm() è®¡ç®—ä¸€ä¸ªçŸ©é˜µçš„èŒƒæ•°ï¼Œæˆ–è€…å¦‚æœæä¾›ä¸¤ä¸ªçŸ©é˜µï¼Œè¯¥å‡½æ•°ä¹Ÿå¯ä»¥è®¡ç®—ä¸¤ä¸ªçŸ©é˜µé—´çš„å„ç§è·ç¦»èŒƒæ•°ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 double cv::norm( // Return norm in double precision cv::InputArray src1, // Input matrix int normType = cv::NORM_L2, // Type of norm to compute cv::InputArray mask = cv::noArray() // do for nonzero values (if present) ); double cv::norm( // Return computed norm of difference cv::InputArray src1, // Input matrix cv::InputArray src2, // Second input matrix int normType = cv::NORM_L2, // Type of norm to compute cv::InputArray mask = cv::noArray() // do for nonzero values (if present) ); double cv::norm( const cv::SparseMat\u0026 src, // Input sparse matrix int normType = cv::NORM_L2, // Type of norm to compute ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:43:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"44. cv::normalize() å°†åŸå›¾åƒæ˜ å°„åˆ°ä¸€ä¸ªç‰¹å®šèŒƒå›´å†…å¹¶æ”¾åˆ°dstä¸­ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void cv::normalize( cv::InputArray src1, // Input matrix cv::OutputArray dst, // Result matrix double alpha = 1, // first parameter (see Table 5-8) double beta = 0, // second parameter (see Table 5-8) int normType = cv::NORM_L2, // Type of norm to compute int dtype = -1 // Output type for result array cv::InputArray mask = cv::noArray() // do for nonzero values (if present) ); void cv::normalize( const cv::SparseMat\u0026 src, // Input sparse matrix cv::SparseMat\u0026 dst, // Result sparse matrix double alpha = 1, // first parameter (see Table 5-8) int normType = cv::NORM_L2, // Type of norm to compute ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:44:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"45. cv::perspectiveTransform() æ‰§è¡Œä¸€ç³»åˆ—ç‚¹çš„å¹³é¢æŠ•å½±å˜æ¢ã€‚ 1 2 3 4 5 void cv::perspectiveTransform( cv::InputArray src, // Input array, 2 or 3 channels cv::OutputArray dst, // Result array, size, type, as src1 cv::InputArray mtx // 3-by-3 or 4-by-4 transoform matrix ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:45:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"46. cv::phase() å¯¹äºŒç»´çŸ¢é‡åœºè®¡ç®—ç¬›å¡å°”-æåæ ‡è½¬æ¢çš„æ–¹ä½è§’ï¼ˆè§’åº¦ï¼‰éƒ¨åˆ†ã€‚ 1 2 3 4 5 6 void cv::phase( cv::InputArray x, // Input array of x-components cv::InputArray y, // Input array of y-components cv::OutputArray dst, // Output array of angles (radians) bool angleInDegrees = false // degrees (if true), radians (if false) ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:46:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"47. cv::polarToCart() ä»å‘é‡åœºçš„æåæ ‡ä¸­è®¡ç®—ç¬›å¡å°”åæ ‡(x,y)ã€‚ 1 2 3 4 5 6 7 void cv::polarToCart( cv::InputArray magnitude, // Input array of magnitudes cv::InputArray angle, // Input array of angles cv::OutputArray x, // Output array of x-components cv::OutputArray y, // Output array of y-components bool angleInDegrees = false // degrees (if true) radians (if false) ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:47:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"48. cv::pow() å¯¹çŸ©é˜µé€å…ƒç´ å–pæ¬¡å¹‚ã€‚ 1 2 3 4 5 void cv::pow( cv::InputArray src, // Input array double p, // power for exponentiation cv::OutputArray dst // Result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:48:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"49. cv::randu() è¿”å›é€‚å½“ç±»å‹çš„éšæœºå€¼ã€‚ 1 2 3 4 5 6 template\u003ctypename _Tp\u003e _Tp randu(); // Return random number of specific type void cv::randu( cv::InputOutArray mtx, // All values will be randomized cv::InputArray low, // minimum, 1-by-1 (Nc=1,4), or 1-by-4 (Nc=1) cv::InputArray high // maximum, 1-by-1 (Nc=1,4), or 1-by-4 (Nc=1) ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:49:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"50. cv::randn() ä½¿ç”¨æ­£æ€åˆ†å¸ƒçš„å€¼å¡«å……çŸ©é˜µmtxã€‚ 1 2 3 4 5 void cv::randn( cv::InputOutArray mtx, // All values will be randomized cv::InputArray mean, // mean values, array is in channel space cv::InputArray stddev // standard deviations, channel space ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:50:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"51. cv::repeat() å°†srcçš„å†…å®¹å¤åˆ¶åˆ°dstä¸­ã€‚ 1 2 3 4 5 6 7 8 9 10 11 void cv::repeat( cv::InputArray src, // Input 2-dimensional array int nx, // Copies in x-direction int ny, // Copies in y-direction cv::OutputArray dst // Result array ); cv::Mat cv::repeat( // Return result array cv::InputArray src, // Input 2-dimensional array int nx, // Copies in x-direction int ny // Copies in y-direction ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:51:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"52. cv::scaleAdd() 1 2 3 4 5 6 void cv::scaleAdd( cv::InputArray src1, // First input array double scale, // Scale factor applied to first array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:52:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"53. cv::setIdentity() é™¤äº†å°†è¡Œæ•°å’Œåˆ—æ•°ç›¸ç­‰çš„å…ƒç´ è®¾ç½®ä¸º1ï¼ˆæˆ–è€…ç»™å®šæ•°å€¼ï¼‰å¤–ï¼Œå…¶ä»–æ‰€æœ‰çŸ©é˜µå…ƒç´ è®¾ç½®ä¸º0ã€‚ 1 2 3 4 void cv::setIdentity( cv::InputOutputArray dst, // Array to reset values const cv::Scalar\u0026 value = cv::Scalar(1.0) // Apply to diagonal elements ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:53:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"54. cv::solve() åŸºäºinvert()çš„å‡½æ•°ï¼Œsolve()ä¸ºæ±‚è§£çº¿æ€§ç³»ç»Ÿæä¾›ä¸€æ¡æ·å¾„ï¼Œå…·ä½“å…¬å¼å¦‚ä¸‹ï¼š 1 2 3 4 5 6 int cv::solve( cv::InputArray lhs, // Lefthand side of system, n-by-n cv::InputArray rhs, // Righthand side of system, n-by-1 cv::OutputArray dst, // Results array, will be n-by-1 int method = cv::DECOMP_LU // Method for solver ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:54:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"55. cv::solveCubic() è®¡ç®—ä¸‰æ¬¡å¤šé¡¹å¼çš„å®æ ¹ã€‚ 1 2 3 4 int cv::solveCubic( cv::InputArray coeffs, cv::OutputArray roots ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:55:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"56. cv::solvePoly() è®¡ç®—ä»»æ„é˜¶æ•°å¤šé¡¹å¼çš„æ ¹ã€‚ 1 2 3 4 5 int cv::solvePoly ( cv::InputArray coeffs, cv::OutputArray roots // n complex roots (2-channels) int maxIters = 300 // maximum iterations for solver ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:56:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"57. cv::sort() opencvçš„æ’åºå‡½æ•°ï¼Œåˆ†åˆ«å¯¹æ¯è¡Œæˆ–åˆ—è¿›è¡Œæ’åºã€‚ 1 2 3 4 5 void cv::sort( cv::InputArray src, cv::OutputArray dst, int flags ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:57:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"58. cv::sortIdx() opencvçš„æ’åºå‡½æ•°ï¼Œåˆ†åˆ«å¯¹æ¯è¡Œæˆ–åˆ—è¿›è¡Œæ’åºï¼Œå°†æ’åºç´¢å¼•ç»“æœå­˜åœ¨dstä¸­ã€‚ 1 2 3 4 5 void cv::sortIdx( cv::InputArray src, cv::OutputArray dst, int flags ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:58:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"59. cv::sqrt() è®¡ç®—é€å…ƒç´ çš„å¹³æ–¹æ ¹ã€‚ 1 2 3 4 void cv::sqrt( cv::InputArray src, cv::OutputArray dst ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:59:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"60 cv::subtract() ä»src1ä¸­å‡å»src2çš„ç›¸åº”å…ƒç´ ã€‚ 1 2 3 4 5 6 7 void cv::subtract( cv::InputArray src1, // First input array cv::InputArray src2, // Second input array cv::OutputArray dst, // Result array cv::InputArray mask = cv::noArray(), // Optional, do only where nonzero int dtype = -1 // Output type for result array ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:60:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"61. cv::sum() è®¡ç®—çŸ©é˜µå„ä¸ªé€šé“çš„æ‰€æœ‰åƒç´ çš„æ€»å’Œã€‚ 1 2 3 cv::Scalar cv::sum( cv::InputArray arr ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:61:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"62. cv::trace() è®¡ç®—çŸ©é˜µçš„è¿¹ã€‚ 1 2 3 cv::Scalar cv::trace( cv::InputArray mat ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:62:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"63. cv::transform() è®¡ç®—ä»»æ„çº¿æ€§å›¾åƒå˜æ¢ã€‚ 1 2 3 4 5 void cv::transform( cv::InputArray src, cv::OutputArray dst, cv::InputArray mtx ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:63:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"64. cv::transpose() å°†srcä¸­æ¯ä¸€ä¸ªå…ƒç´ å¤åˆ¶åˆ°dstä¸­è¡Œå·ä¸åˆ—æ•°ç›¸è°ƒæ¢çš„ä½ç½®ä¸Šã€‚ 1 2 3 4 void cv::transpose( cv::InputArray src, // Input array, 2-dimensional, n-by-m cv::OutputArray dst, // Result array, 2-dimensional, m-by-n ); ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/:64:0","tags":["opencv"],"title":"opencv å¸¸ç”¨ç®—å­","uri":"/posts/open_source_software/opencv/learn/opencv%E5%B8%B8%E7%94%A8%E7%AE%97%E5%AD%90/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:0","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"1.HighGUIæ¨¡å—åšä¸ºé«˜å±‚GUIå›¾å½¢ç”¨æˆ·ç•Œé¢æ¨¡å—ï¼ŒåŒ…å«åª’ä½“çš„è¾“å…¥è¾“å‡ºã€è§†é¢‘æ•æ‰ã€å›¾åƒå’Œè§†é¢‘çš„ç¼–ç è§£ç ã€å›¾åƒäº¤äº’ç•Œé¢çš„æ¥å£ç­‰å†…å®¹ã€‚ imreadï¼šç”¨äºè¯»å–æ–‡ä»¶ä¸­çš„å›¾ç‰‡åˆ°opencvä¸­ imshow : åœ¨æŒ‡å®šçš„çª—å£ä¸­æ˜¾ç¤ºä¸€å¹…å›¾åƒ namedWindowï¼šç”¨äºåˆ›å»ºä¸€ä¸ªçª—å£ imwriteï¼šè¾“å‡ºå›¾åƒåˆ°æ–‡ä»¶ createTrackbarï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯ä»¥è°ƒæ•´æ•°å€¼çš„è½¨è¿¹æ¡ getTrackbarPosï¼šç”¨äºè·å–è½¨è¿¹æ¡çš„å½“å‰ä½ç½® SetMouseCallbackï¼šä¸ºæŒ‡å®šçš„çª—å£è®¾ç½®é¼ æ ‡å›è°ƒå‡½æ•° ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:1","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"2.opencvä¸­çš„coreç»„ä»¶æ˜¯æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä¸»è¦åŒ…å«ä»¥ä¸‹çš„å†…å®¹ï¼šæ•°æ®åŸºæœ¬ç»“æ„ã€åŠ¨æ€æ•°æ®ç»“æ„ã€ç»˜å›¾å‡½æ•°ã€æ•°ç»„æ“ä½œç›¸å…³å‡½æ•°ã€è¾…åŠ©åŠŸèƒ½å’Œç³»ç»Ÿå‡½æ•°å’Œå®ã€ä¸OpenGLçš„äº’æ“ä½œã€‚ Mat::Mat() : Matç±»çš„æ„é€ å‡½æ•° Mat::Create() : Matç±»çš„æˆå‘˜å‡½æ•°ï¼Œå¯ç”¨äºMatç±»çš„åˆå§‹åŒ–æ“ä½œ Point : ç”¨äºè¡¨ç¤ºç‚¹çš„æ•°æ®ç»“æ„ Scalar : ç”¨äºè¡¨ç¤ºé¢œè‰²çš„æ•°æ®ç»“æ„ Size : ç”¨äºè¡¨ç¤ºå°ºå¯¸çš„æ•°æ®ç»“æ„ Rect : ç”¨äºè¡¨ç¤ºçŸ©é˜µçš„æ•°æ®ç»“æ„ CvtColor() : ç”¨äºé¢œè‰²çš„ç©ºé—´è½¬æ¢ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:2","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.æ“ä½œå›¾åƒä¸­çš„åƒç´ ã€è®¾ç½®æ„Ÿå…´è¶£åŒºåŸŸï¼ˆROIï¼‰ã€è¿›è¡Œå›¾åƒæ··åˆã€åˆ†ç¦»é¢œè‰²é€šé“ã€è¿›è¡Œå¤šé€šé“å›¾åƒæ··åˆã€è°ƒæ•´å›¾åƒçš„å¯¹æ¯”å¯¹å’Œäº®åº¦å€¼ã€å¯¹å›¾åƒè¿›è¡Œç¦»æ•£å‚…é‡Œå¶å˜æ¢ã€è¾“å…¥è¾“å‡ºXML å’ŒYAMLæ–‡ä»¶ addWeighted : è®¡ç®—ä¸¤ä¸ªæ•°ç»„ï¼ˆå›¾åƒé˜µåˆ—ï¼‰çš„åŠ æƒå’Œ split : å°†ä¸€ä¸ªå¤šé€šé“æ•°ç»„åˆ†ç¦»æˆå•ä¸ªé€šé“æ•°ç»„ merge : å°†å¤šä¸ªæ•°ç»„ç»„åˆåˆå¹¶æˆä¸€ä¸ªå¤šé€šé“çš„æ•°ç»„ dft : å¯¹ä¸€ç»´æˆ–è€…äºŒç»´æµ®ç‚¹æ•°æ•°ç»„è¿›è¡Œæ­£å‘æˆ–åå‘ç¦»æ•£å‚…é‡Œå¶å˜æ¢ getOptimalDFTSize : è¿”å›ç»™å®šå‘å°ºå¯¸çš„å‚…é‡Œå¶æœ€ä¼˜åŒ–å°ºå¯¸å¤§å° copyMakeBorder : æ‰©å……å›¾åƒè¾¹ç•Œ magnitude : è®¡ç®—äºŒç»´çŸ¢é‡çš„å¹…å€¼ logï¼šè®¡ç®—æ¯ä¸ªæ•°ç»„å…ƒç´ ç»å¯¹å€¼çš„è‡ªç„¶å¯¹æ•° normalizeï¼šè¿›è¡ŒçŸ©é˜µå½’ä¸€åŒ– FileStorageç±»ï¼šè¿›è¡Œæ–‡ä»¶æ“ä½œçš„ç±» ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:3","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"4.imgprocç»„ä»¶æ˜¯Imageå’ŒProcessè¿™ä¸¤ä¸ªå•è¯çš„ç¼©å†™ï¼Œå³å›¾åƒå¤„ç†æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æœ‰çº¿æ€§å’Œéçº¿æ€§çš„å›¾åƒæ»¤æ³¢ã€å›¾åƒçš„å‡ ä½•å˜æ¢ã€å…¶ä»–ï¼ˆMiscellaneousï¼‰å›¾åƒè½¬æ¢ã€ç›´æ–¹å›¾ç›¸å…³ã€ç»“æ„åˆ†æå’Œå½¢çŠ¶æè¿°ã€è¿åŠ¨åˆ†æå’Œå¯¹è±¡è¿½è¸ªã€ç‰¹å¾æ£€æµ‹ã€ç›®æ ‡æ£€æµ‹ç­‰å†…å®¹ã€‚ boxFilter : ä½¿ç”¨æ–¹æ¡†æ»¤æ³¢æ¥æ¨¡ç³Šä¸€å¼ å›¾ç‰‡ blur : å¯¹è¾“å…¥çš„å›¾åƒè¿›è¡Œå‡å€¼æ»¤æ³¢æ“ä½œ GaussianBlur : ç”¨é«˜æ–¯æ»¤æ³¢å™¨æ¥æ¨¡ç³Šä¸€å¼ å›¾ç‰‡ medianBlur : ä½¿ç”¨ä¸­å€¼æ»¤æ³¢å™¨æ¥æ¨¡ç³Šä¸€å¼ å›¾ç‰‡ bilateralFilter : ä½¿ç”¨åŒè¾¹æ»¤æ³¢å™¨æ¥æ¨¡ç³Šå¤„ç†ä¸€å¼ å›¾ç‰‡ dilate : ä½¿ç”¨åƒç´ é¢†åŸŸå†…çš„å±€éƒ¨æå¤§è¿ç®—ç¬¦æ¥è†¨èƒ€ä¸€å¼ å›¾ç‰‡ erode : ä½¿ç”¨åƒç´ é¢†åŸŸå†…çš„å±€éƒ¨æå°è¿ç®—ç¬¦æ¥è…èš€ä¸€å¼ å›¾ç‰‡ morphologyEx : åˆ©ç”¨åŸºæœ¬çš„è†¨èƒ€å’Œè…èš€æŠ€æœ¯ï¼Œæ¥æ‰§è¡Œæ›´åŠ é«˜çº§å½¢æ€å­¦å˜æ¢ï¼Œå¦‚å¼€é—­è¿ç®—ã€å½¢æ€å­¦æ¢¯åº¦ã€é¡¶å¸½ã€é»‘å¸½ç­‰ï¼Œä¹Ÿå¯ä»¥å®ç°æœ€åŸºæœ¬çš„å›¾åƒè†¨èƒ€å’Œè…èš€ floodFill : ç”¨æŒ‡å®šçš„é¢œè‰²ä»ç§å­ç‚¹å¼€å§‹å¡«å……ä¸€ä¸ªè¿æ¥åŸŸï¼Œå®ç°æ¼«æ°´å¡«å……ç®—æ³• pyrUp : å‘ä¸Šé‡‡æ ·å¹¶æ¨¡ç³Šä¸€å¼ å›¾ç‰‡ï¼Œè¯´ç™½äº†å°±æ˜¯æ”¾å¤§ä¸€å¼ å›¾ç‰‡ pyrDown : å‘ä¸‹é‡‡æ ·å¹¶æ¨¡ç³Šä¸€å¼ å›¾ç‰‡ï¼Œè¯´ç™½äº†å°±æ˜¯ç¼©å°ä¸€å¼ å›¾ç‰‡ Threshold : å¯¹å•é€šé“æ•°ç»„åº”ç”¨å›ºå®šé˜ˆå€¼æ“ä½œ adaptiveThreshold : å¯¹çŸ©é˜µé‡‡ç”¨è‡ªé€‚åº”é˜ˆå€¼æ“ä½œ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:4","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"5.å›¾åƒå˜æ¢ï¼ˆimage transfromï¼‰å³å°†ä¸€å¹…å›¾åƒè½¬å˜æˆå›¾åƒæ•°æ®çš„å¦ä¸€ç§è¡¨ç°å½¢å¼ã€‚å˜æ¢æœ€å¸¸è§çš„ä¾‹å­å°±æ˜¯å‚…é‡Œå¶å˜æ¢ï¼ˆFourier transfromï¼‰ï¼Œå³å°†å›¾åƒè½¬æ¢æˆæºå›¾åƒæ•°æ®çš„å¦ä¸€ç§è¡¨ç¤ºå½¢å¼ã€‚è¿™ç±»æ“ä½œçš„ç»“æœä»ç„¶ä¿å­˜ä¸ºOpenCVå›¾åƒç»“æ„çš„å½¢å¼ï¼Œä½†æ˜¯æ–°å›¾åƒçš„æ¯ä¸ªå•ç‹¬åƒç´ è¡¨ç¤ºåŸå§‹è¾“å‡ºå›¾åƒçš„é¢‘è°±åˆ†é‡ï¼Œè€Œä¸æ˜¯é€šå¸¸æ‰€è€ƒè™‘çš„ç©ºé—´åˆ†é‡ã€‚åŸºäºOpenCVçš„è¾¹ç¼˜æ£€æµ‹ã€éœå¤«å˜æ¢ã€é‡æ˜ å°„ã€ä»¿å°„å˜æ¢ã€ç›´æ–¹å›¾å‡è¡¡åŒ–ã€‚ Canny : åˆ©ç”¨cannyç®—å­æ¥è¿›è¡Œå›¾åƒçš„è¾¹ç¼˜æ£€æµ‹ Sobel : ä½¿ç”¨æ‹“å±•çš„Sobelç®—å­ï¼Œæ¥è®¡ç®—ä¸€é˜¶ã€äºŒé˜¶ã€ä¸‰é˜¶æˆ–æ··åˆå›¾åƒå·®åˆ† Laplacian : è®¡ç®—å‡ºå›¾åƒç»è¿‡æ‹‰æ™®æ‹‰æ–¯å˜æ¢åçš„ç»“æœ Scharr : ä½¿ç”¨Scharræ»¤æ³¢å™¨è¿ç®—ç¬¦è®¡ç®—Xæˆ–Yæ–¹å‘çš„å›¾åƒå·®åˆ† HoughLinesP : æ‰¾å‡ºé‡‡ç”¨æ ‡å‡†éœå¤«å˜æ¢çš„äºŒå€¼å›¾åƒçº¿æ¡ HoughCireles : é‡‡ç”¨ç´¯è®¡æ¦‚ç‡éœå¤«å˜æ¢ï¼ˆPPHTï¼‰æ¥æ‰¾å‡ºäºŒå€¼å›¾åƒä¸­çš„ç›´çº¿ remap : æ ¹æ®æŒ‡å®šçš„æ˜ å°„å½¢å¼ï¼Œå°†æºå›¾åƒè¿›è¡Œé‡æ˜ å°„å‡ ä½•å˜æ¢ warpAffine : ä¾æ®å…¬å¼å¯¹å›¾åƒåšä»¿å°„å˜æ¢ getRotationMatrix2D : è®¡ç®—äºŒç»´æ—‹è½¬å˜æ¢çŸ©é˜µ equalizeHist : å®ç°å›¾åƒçš„ç›´æ–¹å›¾å‡è¡¡åŒ– ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:5","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"6.å›¾åƒè½®å»“ä¸å›¾åƒåˆ†å‰²ä¿®å¤ï¼Œè™½ç„¶Cannyä¹‹ç±»çš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•å¯ä»¥æ ¹æ®åƒç´ ä¹‹é—´çš„å·®å¼‚ï¼Œæ£€æµ‹å‡ºè½®å»“è¾¹ç•Œçš„åƒç´ ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å°†è½®å»“ä½œä¸ºä¸€ä¸ªæ•´ä½“ã€‚æ‰€ä»¥ä¸‹ä¸€æ­¥ä¾¿æ˜¯æŠŠè¿™äº›è¾¹ç¼˜åƒç´ ç»„è£…æˆè½®å»“ã€‚æŸ¥æ‰¾å¹¶ç»˜åˆ¶è½®å»“ã€å¯»æ‰¾ç‰©ä½“çš„å‡¸åŒ…ã€ä½¿ç”¨å¤šè¾¹å½¢é€¼è¿‘ç‰©ä½“ã€è®¤è¯†å›¾åƒçš„çŸ©ã€åˆ©ç”¨OpenCVè¿›è¡Œå›¾åƒä¿®è¡¥ã€‚ findContours : åœ¨äºŒå€¼å›¾åƒä¸­å¯»æ‰¾è½®å»“ drawContours : åœ¨å›¾åƒä¸­ç»˜åˆ¶å¤–éƒ¨æˆ–å†…éƒ¨è½®å»“ convexHull : å¯»æ‰¾å›¾åƒç‚¹é›†ä¸­çš„å‡¸åŒ… BoundingRect : è®¡ç®—å¹¶è¿”å›æŒ‡å®šç‚¹é›†æœ€å¤–é¢ï¼ˆup -rightï¼‰çš„çŸ©å½¢è¾¹ç•Œ minAreaRect : å¯»æ‰¾å¯æ—‹è½¬çš„æœ€å°é¢ç§¯çš„åŒ…å›´çŸ©å½¢ minEnclosingCircle : åˆ©ç”¨ä¸€ç§è¿­ä»£ç®—æ³•ï¼Œå¯¹ç»™å®šçš„2Dç‚¹é›†ï¼Œå¯»æ‰¾é¢ç§¯æœ€å°çš„å¯åŒ…å›´ä»–ä»¬çš„åœ†å½¢ fitEllipse : ç”¨æ¤­åœ†æ‹ŸåˆäºŒç»´ç‚¹é›†åˆ approxPolyDPï¼šç”¨æŒ‡å®šç²¾åº¦é€¼è¿‘å¤šè¾¹å½¢æ›²çº¿ moments : è®¡ç®—å¤šè¾¹å½¢å’Œå…‰æ …å½¢çŠ¶çš„æœ€é«˜è¾¾ä¸‰é˜¶çš„æ‰€æœ‰çŸ© contourArea : è®¡ç®—æ•´ä¸ªè½®å»“æˆ–éƒ¨åˆ†è½®å»“çš„é¢ç§¯ arcLength : è®¡ç®—å°é—­è½®å»“çš„å‘¨é•¿æˆ–æ›²çº¿çš„é•¿åº¦ watershed : å®ç°åˆ†æ°´å²­ç®—æ³• inpaint : è¿›è¡Œå›¾åƒä¿®è¡¥ï¼Œä»æ‰«æçš„ç…§ç‰‡ä¸­æ¸…é™¤ç°å°˜å’Œåˆ’ç—•ï¼Œæˆ–è€…ä»é™æ€å›¾åƒæˆ–è§†é¢‘ä¸­å»é™¤ä¸éœ€è¦çš„ç‰©ä½“ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:6","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"7.ç›´æ–¹å›¾å’ŒåŒ¹é…ï¼Œåœ¨è¿›è¡Œç‰©ä½“å›¾åƒå’Œè§†é¢‘ä¿¡æ¯åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šä¹ æƒ¯äºå°†çœ¼ä¸­çœ‹åˆ°çš„ç‰©ä½“ç”¨ç›´æ–¹å›¾ï¼ˆhistogramï¼‰è¡¨ç¤ºå‡ºæ¥ï¼Œå¾—åˆ°æ¯”è¾ƒç›´è§‚çš„æ•°æ®å®˜æ„Ÿå±•ç¤ºã€‚ç›´æ–¹å›¾å¯ä»¥ç”¨æ¥æè¿°å„ç§ä¸åŒçš„å‚æ•°å’Œäº‹ç‰©ï¼Œå¦‚ç‰©ä½“çš„å½©è‰²åˆ†å¸ƒã€ç‰©ä½“è¾¹ç¼˜æ¢¯åº¦æ¨¡æ¿ã€ä»¥åŠè¡¨ç¤ºç›®æ ‡ä½ç½®çš„å½“å‰å‡è®¾çš„æ¦‚ç‡åˆ†å¸ƒã€‚ calcHist : è®¡ç®—ä¸€ä¸ªæˆ–å¤šä¸ªé˜µåˆ—çš„ç›´æ–¹å›¾ minMaxLoc : åœ¨æ•°ç»„ä¸­æ‰¾åˆ°å…¨å±€æœ€å°å€¼å’Œæœ€å¤§å€¼ compareHist : å¯¹ä¸¤å¹…ç›´æ–¹å›¾è¿›è¡Œæ¯”è¾ƒ calcBackProject : è®¡ç®—ç›´æ–¹å›¾åå‘æŠ•å½± mixChannels : ç”±è¾“å…¥å‚æ•°å¤åˆ¶æŸé€šé“åˆ°è¾“å‡ºå‚æ•°ç‰¹å®šçš„é€šé“ä¸­ matchTemplate : åŒ¹é…å‡ºå’Œæ¨¡æ¿é‡å çš„å›¾åƒåŒºåŸŸ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:7","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"8.feature2dç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯Features 2Dï¼Œæ˜¯OpenCVçš„2DåŠŸèƒ½æ¡†æ¶ã€‚è‡ªOpenCVä»¥æ¥çš„ä¼—å¤šè‘—åçš„ç‰¹å¾æ£€æµ‹ç®—å­ï¼ˆå¦‚SIFTã€SURFã€ORBç®—å­ç­‰ï¼‰æ‰€ä¾èµ–çš„ç¨³å®šç‰ˆçš„ç‰¹å¾æ£€æµ‹ä¸åŒ¹é…ç›¸å…³çš„æ ¸å¿ƒæºä»£ç å·²ç»ä»OpenCV3ä¸­ç§»é™¤äº†ï¼Œè½¬ç§»åˆ°xfeature2dçš„ç¬¬ä¸‰æ–¹åº“å½“ä¸­äº†ã€‚ç‰¹å¾æ£€æµ‹å™¨ï¼ˆFeature Detectorsï¼‰é€šç”¨æ¥å£ã€æè¿°ç¬¦æå–å™¨ï¼ˆDescriptor Extractorsï¼‰é€šç”¨æ¥å£ã€æè¿°ç¬¦åŒ¹é…å™¨ï¼ˆDescriptor Matchersï¼‰åŒ¹é…å™¨é€šç”¨æ¥å£ã€å…³é”®ç‚¹ç»˜åˆ¶å‡½æ•°å’ŒåŒ¹é…åŠŸèƒ½ç»˜åˆ¶å‡½æ•°ã€‚ cornerHarris : è¿è¡ŒHarrisè§’ç‚¹æ£€æµ‹ç®—å­æ¥è¿›è¡Œè§’ç‚¹æ£€æµ‹ goodFeaturesToTrack : ç»“åˆShi-Tomasi ç®—å­ç¡®å®šå›¾åƒçš„å¼ºè§’ç‚¹ cornerSubPix: å¯»æ‰¾äºšåƒç´ è§’ç‚¹ä½ç½® ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:8","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"9.ç‰¹å¾ç‚¹çš„æ£€æµ‹å’ŒåŒ¹é…æ˜¯è®¡ç®—æœºè§†è§‰ä¸­éå¸¸é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€ã€‚åœ¨ç‰©ä½“æ£€æµ‹ã€è§†è§‰è·Ÿè¸ªã€ä¸‰ç»´é‡æ„ç­‰é¢†åŸŸéƒ½æœ‰å¾ˆå¹¿æ³›çš„åº”ç”¨ã€‚ SURFç±» ã€SurfFeatureDetectorç±» ã€SurfDescriptorExtractorç±» ï¼š ä¸‰è€…ç­‰ä»·ï¼ŒåŒç”¨ä¸åœ¨OpenCVä¸­è¿›è¡ŒSURFç‰¹å¾æ£€æµ‹ drawKeypointså‡½æ•° ï¼šç»˜åˆ¶å…³é”®ç‚¹ drawMatcheså‡½æ•° ï¼šç»˜åˆ¶å‡ºç›¸åŒ¹é…çš„ä¸¤ä¸ªå›¾åƒçš„å…³é”®ç‚¹ KeyPointç±»ï¼šç”¨äºè¡¨ç¤ºç‰¹å¾ç‚¹çš„ä¿¡æ¯ BruteForceMatcherç±»ï¼šè¿›è¡Œæš´åŠ›åŒ¹é…ç›¸å…³çš„æ“ä½œ FlannBasedMatcherç±»ï¼šå®ç°FLANNç‰¹å¾åŒ¹é… DescriptorMatcher::matchå‡½æ•°ï¼šä»æ¯ä¸ªæè¿°ç¬¦æŸ¥è¯¢é›†ä¸­æ‰¾åˆ°æœ€ä½³åŒ¹é… findHomographyå‡½æ•°ï¼šæ‰¾åˆ°å¹¶è¿”å›æºå›¾åƒå’Œç›®æ ‡å›¾åƒä¹‹é—´çš„é€è§†å˜æ¢H perspectiveTransfromå‡½æ•°ï¼šè¿›è¡Œå‘é‡é€è§†çŸ©é˜µå˜æ¢ ORBç±»ã€OrbFeatureDetectorç±»ã€OrbDescriptorExtractorç±»ï¼šä¸‰è€…ç­‰ä»·ï¼ŒåŒç”¨äºåœ¨OpenCVä¸­è¿›è¡ŒORBç‰¹å¾æ£€æµ‹ å‚è€ƒï¼š opencvæ ¸å¿ƒå‡½æ•°åå• ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/:0:9","tags":["opencv"],"title":"opencv æ ¸å¿ƒå‡½æ•°æ•´ç†","uri":"/posts/open_source_software/opencv/learn/opencv%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ C++ è¯­æ³•åˆ†æ template typename std::bind std::is_same\u003cR, void\u003e::value std::enable_if std::decay std::reverseå’Œstd::reverse_copy å¯å˜å‚æ•°æ¨¡æ¿æ¶ˆé™¤å†—ä½™ä»£ç  C++ è¯­æ³•åˆ†æ ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:0:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"template 1 2 3 template\u003ctypename T\u003e struct type_xx{ typedef T type; }; å°†T ç±»å‹ç½®æ¢ä¸º type ä½¿ç”¨ï¼štypename type_xx::type ï¼Œå®é™…ä¸ºç±»å‹R ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:1:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"typename â€œtypename\"æ˜¯ä¸€ä¸ªC++ç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„å…³é”®å­—ã€‚å½“ç”¨äºæ³›å‹ç¼–ç¨‹æ—¶æ˜¯å¦ä¸€æœ¯è¯­\"class\"çš„åŒä¹‰è¯ã€‚è¿™ä¸ªå…³é”®å­—ç”¨äºæŒ‡å‡ºæ¨¡æ¿å£°æ˜ï¼ˆæˆ–å®šä¹‰ï¼‰ä¸­çš„éç‹¬ç«‹åç§°ï¼ˆdependent namesï¼‰æ˜¯ç±»å‹åï¼Œè€Œéå˜é‡åã€‚ æˆ‘ä»¬ç»å¸¸ä¼šè¿™ä¹ˆç”¨ typenameï¼Œè¿™æ˜¯ä¸€é¡¹C++ç¼–ç¨‹è¯­è¨€çš„æ³›å‹ç¼–ç¨‹ï¼ˆæˆ–æ›°â€œæ¨¡æ¿ç¼–ç¨‹â€ï¼‰çš„åŠŸèƒ½ï¼Œtypenameå…³é”®å­—ç”¨äºå¼•å…¥ä¸€ä¸ªæ¨¡æ¿å‚æ•°ã€‚ 1 2 3 4 5 6 7 8 template \u003ctypename T\u003e const T\u0026 max(const T\u0026 x, const T\u0026 y) { if (y \u003c x) { return x; } return y; } åœ¨æ¨¡æ¿å®šä¹‰è¯­æ³•ä¸­å…³é”®å­— class ä¸ typename çš„ä½œç”¨å®Œå…¨ä¸€æ · 1 2 3 4 5 6 7 8 template\u003cclass T\u003e const T\u0026 max(const T\u0026 x, const T\u0026 y) { if (y \u003c x) { return x; } return y; } è¿™é‡Œ class å…³é”®å­—è¡¨æ˜Tæ˜¯ä¸€ä¸ªç±»å‹ï¼Œåæ¥ä¸ºäº†é¿å… class åœ¨è¿™ä¸¤ä¸ªåœ°æ–¹çš„ä½¿ç”¨å¯èƒ½ç»™äººå¸¦æ¥æ··æ·†ï¼Œæ‰€ä»¥å¼•å…¥äº† typename è¿™ä¸ªå…³é”®å­—ï¼Œå®ƒçš„ä½œç”¨åŒ class ä¸€æ ·è¡¨æ˜åé¢çš„ç¬¦å·ä¸ºä¸€ä¸ªç±»å‹ã€‚ é‚£classä½¿ç”¨å°±å¤Ÿäº†ï¼Œä¸ºä»€ä¹ˆåˆå¼•å…¥äº†æ–°çš„å…³é”®è¯ typename ï¼Œå…³äºè¿™ä¸ªé—®é¢˜ï¼ŒStan Lippman æ›¾åœ¨å…¶åšå®¢ä¸­è¡¨ç¤ºï¼Œæœ€æ—© Stroustrup ä½¿ç”¨ class æ¥å£°æ˜æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­çš„ç±»å‹æ˜¯ä¸ºäº†é¿å…å¢åŠ ä¸å¿…è¦çš„å…³é”®å­—ï¼›åæ¥å§”å‘˜ä¼šè®¤ä¸ºè¿™æ ·æ··ç”¨å¯èƒ½é€ æˆæ¦‚å¿µä¸Šçš„æ··æ·†æ‰åŠ ä¸Šäº† typename å…³é”®å­—ã€‚ è€Œä½¿ç”¨ typename çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰ cpp ç¼–è¯‘å™¨ï¼Œtypename åé¢çš„å­—ç¬¦ä¸²ä¸ºä¸€ä¸ªç±»å‹åç§°ï¼Œè€Œä¸æ˜¯æˆå‘˜å‡½æ•°æˆ–è€…æˆå‘˜å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœå‰é¢æ²¡æœ‰ typenameï¼Œç¼–è¯‘å™¨æ²¡æœ‰ä»»ä½•åŠæ³•çŸ¥é“ T::LengthType æ˜¯ä¸€ä¸ªç±»å‹è¿˜æ˜¯ä¸€ä¸ªæˆå‘˜åç§°(é™æ€æ•°æ®æˆå‘˜æˆ–è€…é™æ€å‡½æ•°)ï¼Œæ‰€ä»¥ç¼–è¯‘ä¸èƒ½å¤Ÿé€šè¿‡ã€‚ è§£å†³çš„é—®é¢˜ 1 2 3 4 template\u003ctypename T\u003e void fun(const T\u0026 proto){ T::const_iterator it(proto.begin()); } å‘ç”Ÿç¼–è¯‘é”™è¯¯æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“T::const_iteratoræ˜¯ä¸ªç±»å‹ã€‚ä¸‡ä¸€å®ƒæ˜¯ä¸ªå˜é‡å‘¢ï¼Ÿ T::const_iteratorçš„è§£ææœ‰ç€é€»è¾‘ä¸Šçš„çŸ›ç›¾ï¼š ç›´åˆ°ç¡®å®šäº†Tæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç¼–è¯‘å™¨æ‰ä¼šçŸ¥é“T::const_iteratoræ˜¯ä¸æ˜¯ä¸€ä¸ªç±»å‹ï¼› ç„¶è€Œå½“æ¨¡æ¿è¢«è§£ææ—¶ï¼ŒTè¿˜æ˜¯ä¸ç¡®å®šçš„ã€‚è¿™æ—¶æˆ‘ä»¬å£°æ˜å®ƒä¸ºä¸€ä¸ªç±»å‹æ‰èƒ½é€šè¿‡ç¼–è¯‘ï¼š è€Œä¸”åœ¨æ¨¡æ¿å®ä¾‹åŒ–ä¹‹å‰ï¼Œå®Œå…¨æ²¡æœ‰åŠæ³•æ¥åŒºåˆ†å®ƒä»¬ï¼Œè¿™ç»å¯¹æ˜¯æ»‹ç”Ÿå„ç§bugçš„æ¸©åºŠã€‚è¿™æ—¶C++æ ‡å‡†å§”å‘˜ä¼šå†ä¹Ÿå¿ä¸ä½äº†ï¼Œä¸å…¶åˆ°å®ä¾‹åŒ–æ—¶æ‰èƒ½çŸ¥é“åˆ°åº•é€‰æ‹©å“ªç§æ–¹å¼æ¥è§£é‡Šä»¥ä¸Šä»£ç ï¼Œå§”å‘˜ä¼šå†³å®šå¼•å…¥ä¸€ä¸ªæ–°çš„å…³é”®å­—ï¼Œè¿™å°±æ˜¯typenameã€‚ C++æ ‡å‡† å¯¹äºç”¨äºæ¨¡æ¿å®šä¹‰çš„ä¾èµ–äºæ¨¡æ¿å‚æ•°çš„åç§°ï¼Œåªæœ‰åœ¨å®ä¾‹åŒ–çš„å‚æ•°ä¸­å­˜åœ¨è¿™ä¸ªç±»å‹åï¼Œæˆ–è€…è¿™ä¸ªåç§°å‰ä½¿ç”¨äº† typename å…³é”®å­—æ¥ä¿®é¥°ï¼Œç¼–è¯‘å™¨æ‰ä¼šå°†è¯¥åç§°å½“æˆæ˜¯ç±»å‹ã€‚é™¤äº†ä»¥ä¸Šè¿™ä¸¤ç§æƒ…å†µï¼Œç»ä¸ä¼šè¢«å½“æˆæ˜¯ç±»å‹ã€‚ å› æ­¤ï¼Œå¦‚æœä½ æƒ³ç›´æ¥å‘Šè¯‰ç¼–è¯‘å™¨ T::const_iterator æ˜¯ç±»å‹è€Œä¸æ˜¯å˜é‡ï¼Œåªéœ€ç”¨ typenameä¿®é¥°ï¼š 1 typename T::const_iterator it(proto.begin()); è¿™æ ·ç¼–è¯‘å™¨å°±å¯ä»¥ç¡®å®šT::const_iteratoræ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸å†éœ€è¦ç­‰åˆ°å®ä¾‹åŒ–æ—¶æœŸæ‰èƒ½ç¡®å®šï¼Œå› æ­¤æ¶ˆé™¤äº†å‰é¢æåˆ°çš„æ­§ä¹‰ã€‚ åµŒå¥—ä»å±ç±»å‹ äº‹å®ä¸Šç±»å‹T::const_iteratorä¾èµ–äºæ¨¡æ¿å‚æ•°Tï¼Œ æ¨¡æ¿ä¸­ä¾èµ–äºæ¨¡æ¿å‚æ•°çš„åç§°ç§°ä¸ºä»å±åç§°ï¼ˆdependent nameï¼‰ï¼Œ å½“ä¸€ä¸ªä»å±åç§°åµŒå¥—åœ¨ä¸€ä¸ªç±»é‡Œé¢æ—¶ï¼Œç§°ä¸ºåµŒå¥—ä»å±åç§°ï¼ˆnested dependent nameï¼‰ã€‚ å…¶å®T::const_iteratorè¿˜æ˜¯ä¸€ä¸ªåµŒå¥—ä»å±ç±»å‹åç§°ï¼ˆnested dependent type nameï¼‰ã€‚ åµŒå¥—ä»å±åç§°æ˜¯éœ€è¦ç”¨typenameå£°æ˜çš„ï¼Œå…¶ä»–çš„åç§°æ˜¯ä¸å¯ä»¥ç”¨typenameå£°æ˜çš„ã€‚æ¯”å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªåˆæ³•çš„å£°æ˜ï¼š 1 2 template\u003ctypename T\u003e void fun(const T\u0026 proto ,typename T::const_iterator it); ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:2:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::bind å‚è€ƒ: å½“ std::bind é‡ä¸Š this bindæœ¬èº«æ˜¯ä¸€ç§å»¶è¿Ÿè®¡ç®—çš„æ€æƒ³ï¼Œå®ƒæœ¬èº«å¯ä»¥ç»‘å®šæ™®é€šå‡½æ•°ã€å…¨å±€å‡½æ•°ã€é™æ€å‡½æ•°ã€ç±»é™æ€å‡½æ•°ç”šè‡³æ˜¯ç±»æˆå‘˜å‡½æ•°. bindèƒ½å¤Ÿåœ¨ç»‘å®šæ—¶å€™å°±åŒæ—¶ç»‘å®šä¸€éƒ¨åˆ†å‚æ•°ï¼Œæœªæä¾›çš„å‚æ•°åˆ™ä½¿ç”¨å ä½ç¬¦è¡¨ç¤ºï¼Œç„¶ååœ¨è¿è¡Œæ—¶ä¼ å…¥å®é™…çš„å‚æ•°å€¼ã€‚PSï¼šç»‘å®šçš„å‚æ•°å°†ä¼šä»¥å€¼ä¼ é€’çš„æ–¹å¼ä¼ é€’ç»™å…·ä½“å‡½æ•°ï¼Œå ä½ç¬¦å°†ä¼šä»¥å¼•ç”¨ä¼ é€’ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œé™æ€æˆå‘˜å‡½æ•°å…¶å®å¯ä»¥çœ‹åšæ˜¯å…¨å±€å‡½æ•°ï¼Œè€Œéé™æ€æˆå‘˜å‡½æ•°åˆ™éœ€è¦ä¼ é€’thisæŒ‡é’ˆä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥std::bindèƒ½å¾ˆå®¹æ˜“åœ°ç»‘å®šæˆå‘˜å‡½æ•°ã€‚ std::bind é‡ä¸Š this : éé™æ€æˆå‘˜å‡½æ•°åˆ™éœ€è¦ä¼ é€’thisæŒ‡é’ˆä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°. ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:3:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::is_same\u003cR, void\u003e::value å¤´æ–‡ä»¶ ï¼š #include \u003ctype_traits\u003e å¦‚æœä¸¤ä¸ªä¸€æ ·çš„ç±»å‹ä¼šè¿”å›true ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:4:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::enable_if td::enable_if é¡¾åæ€ä¹‰ï¼Œæ»¡è¶³æ¡ä»¶æ—¶ç±»å‹æœ‰æ•ˆã€‚ä½œä¸ºé€‰æ‹©ç±»å‹çš„å°å·¥å…·ï¼Œå…¶å¹¿æ³›çš„åº”ç”¨åœ¨ C++ çš„æ¨¡æ¿å…ƒç¼–ç¨‹ï¼ˆmeta programmingï¼‰ä¸­ã€‚å®ƒçš„å®šä¹‰ä¹Ÿå¼‚å¸¸çš„ç®€å•ï¼š 1 2 3 4 5 6 7 template \u003cbool, typename T=void\u003e struct enable_if { }; template \u003ctypename T\u003e struct enable_if\u003ctrue, T\u003e { using type = T; }; ç”±ä¸Šå¯çŸ¥ï¼Œåªæœ‰å½“ç¬¬ä¸€ä¸ªæ¨¡æ¿å‚æ•°ä¸º true æ—¶ï¼Œtype æ‰æœ‰å®šä¹‰ï¼Œå¦åˆ™ä½¿ç”¨ type ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œå¹¶ä¸”é»˜è®¤æ¨¡æ¿å‚æ•°å¯ä»¥è®©ä½ ä¸å¿…æŒ‡å®šç±»å‹ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 // help call return value type is void function template\u003ctypename R, typename F\u003e typename std::enable_if\u003cstd::is_same\u003cR, void\u003e::value, typename type_xx\u003cR\u003e::type \u003e::type call_helper(F f) { f(); return 0; } // è¿™é‡Œçš„æ„æ€æ˜¯ å¦‚æœ template\u003ctypename R, typename F\u003e typename std::enable_if\u003c!std::is_same\u003cR, void\u003e::value, typename type_xx\u003cR\u003e::type \u003e::type call_helper(F f) { return f(); } 1 2 3 4 std::enable_if\u003c std::is_same\u003cR, void\u003e::value, typename type_xx\u003cR\u003e::type \u003e::type 1 2 3 4 5 6 7 8 9 template\u003ctypename R\u003e void buttonrpc::callproxy_(std::function\u003cR()\u003e func, Serializer* pr, const char* data, int len) { typename type_xx\u003cR\u003e::type r = call_helper\u003cR\u003e(std::bind(func)); value_t\u003cR\u003e val; val.set_code(RPC_ERR_SUCCESS); val.set_val(r); (*pr) \u003c\u003c val; } 1 2 3 4 5 template\u003ctypename F\u003e void buttonrpc::callproxy( F fun, Serializer* pr, const char* data, int len ) { callproxy_(fun, pr, data, len); } 1 2 3 4 5 template\u003ctypename F\u003e void buttonrpc::bind( std::string name, F func ) { m_handlers[name] = std::bind(\u0026buttonrpc::callproxy\u003cF\u003e, this, func, std::placeholders::_1, std::placeholders::_2, std::placeholders::_3); } ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:5:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::decay å¤´æ–‡ä»¶ ï¼š #include \u003ctype_traits\u003e å¯¹ä¸€ä¸ªç±»å‹è¿›è¡Œé€€åŒ–å¤„ç†ï¼Œå¦‚ ï¼š cosnt int\u0026é€€åŒ–ä¸ºint ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:6:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::reverseå’Œstd::reverse_copy std::reverseï¼šåè½¬æ’åºå®¹å™¨å†…æŒ‡å®šèŒƒå›´ä¸­çš„å…ƒç´ ã€‚std::reverse_copyä¸std::reverseå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šreverse_copyä¼šå°†ç»“æœæ‹·è´åˆ°å¦å¤–ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œè€Œä¸å½±å“åŸå®¹å™¨çš„å†…å®¹ã€‚ std::reverse: defined in header , reverses the order of the elements in the range [first, last). std::reverse_copy: defined in header , copies the elements in the range[first,last) to the range beginning at result, but in reverse order. å¯å˜å‚æ•°æ¨¡æ¿æ¶ˆé™¤å†—ä½™ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // client template\u003ctypename R\u003e value_t\u003cR\u003e call(std::string name); template\u003ctypename R, typename P1\u003e value_t\u003cR\u003e call(std::string name, P1); template\u003ctypename R, typename P1, typename P2\u003e value_t\u003cR\u003e call(std::string name, P1, P2); template\u003ctypename R, typename P1, typename P2, typename P3\u003e value_t\u003cR\u003e call(std::string name, P1, P2, P3); template\u003ctypename R, typename P1, typename P2, typename P3, typename P4\u003e value_t\u003cR\u003e call(std::string name, P1, P2, P3, P4); template\u003ctypename R, typename P1, typename P2, typename P3, typename P4, typename P5\u003e value_t\u003cR\u003e call(std::string name, P1, P2, P3, P4, P5); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // client template\u003ctypename R, typename... Params\u003e value_t\u003cR\u003e call(std::string name, Params... ps) { using args_type = std::tuple\u003ctypename std::decay\u003cParams\u003e::type...\u003e; args_type args = std::make_tuple(ps...); Serializer ds; ds \u003c\u003c name; package_params(ds, args); return net_call\u003cR\u003e(ds); } template\u003ctypename R\u003e value_t\u003cR\u003e call(std::string name) { Serializer ds; ds \u003c\u003c name; return net_call\u003cR\u003e(ds); } ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_02/:7:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (C++è¯­æ³•åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_02/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. å¼€æºåœ°å€ 2. ç¼–è¯‘è¿è¡Œ 2.1. buttonrpc 2.2. buttonrpc_cpp14 3. åŸç† 3.1. RPC 3.2. buttonrpc åˆ†æ 3.2.1. Call IDæ˜ å°„ï¼šbuttonrpc.hpp 3.2.2. åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼šSerializer.hpp 3.2.3. ç½‘ç»œä¼ è¾“ï¼šZeroMQ 1. å¼€æºåœ°å€ buttonrpc buttonrpc_cpp14 2. ç¼–è¯‘è¿è¡Œ ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:0:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"2.1. buttonrpc ä¾èµ–å®‰è£…ï¼š 1 sudo apt-get install libzmq3-dev ç¼–è¯‘ï¼š ubuntu ä¸‹ä¿®æ”¹æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 diff --git a/example/main_client.cpp b/example/main_client.cpp index abdec37..fab93c5 100644 --- a/example/main_client.cpp +++ b/example/main_client.cpp @@ -3,7 +3,11 @@ #include \u003cctime\u003e #include \"buttonrpc.hpp\" +#ifdef _WIN32 #include \u003cWindows.h\u003e // use sleep +#else + #include \u003cunistd.h\u003e +#endif #define buttont_assert(exp) { \\ @@ -64,7 +68,11 @@ int main() buttonrpc::value_t\u003cvoid\u003e xx = client.call\u003cvoid\u003e(\"foo_7\", 666); buttont_assert(!xx.valid()); +#ifdef _WIN32 Sleep(1000); +#else + sleep(1); +#endif } return 0; åˆ›å»ºCMakeLists å¹¶ç¼–è¯‘ 1 2 3 4 5 6 cd buttonrpc touch CMakeLists.txt # å†…å®¹è§ä¸‹ mkdir build cd build cmake .. make 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # è¿™ä¸ªæ˜¯cmakeæœ€å°ç‰ˆæœ¬è¦æ±‚ cmake_minimum_required(VERSION 3.1) # Enable C++11ï¼Œè¿™ä¸€æ®µæ˜¯æºç é‡Œçš„ set(CMAKE_CXX_STANDARD 14) set(CMAKE_CXX_STANDARD_REQUIRED TRUE) # å¡«å†™ä½ çš„é¡¹ç›®åç§°Project project( RPC ) aux_source_directory(${CMAKE_SOURCE_DIR}/src/ DIR_SRCS) aux_source_directory(${CMAKE_SOURCE_DIR}/example DIR_SRCS) include_directories( ${CMAKE_SOURCE_DIR} ${CMAKE_SOURCE_DIR}/src ) message(\"${CMAKE_CURRENT_SOURCE_DIR}\") # Find all *.cpp files and store in list cpps # GLOBè¿™ä¸ªå‚æ•°ä¸æ”¯æŒå­ç›®å½•ï¼Œ ç”¨GLOB_RECURSEå¯ä»¥æ”¯æŒå­ç›®å½•ã€‚ file(GLOB cpps RELATIVE \"${CMAKE_CURRENT_SOURCE_DIR}/example\" \"${CMAKE_CURRENT_SOURCE_DIR}/example/*.cpp\") foreach(mainfile IN LISTS cpps) # Get file name without directory get_filename_component(mainname ${mainfile} NAME_WE) add_executable(${mainname} ${CMAKE_CURRENT_SOURCE_DIR}/example/${mainfile}) target_link_libraries(${mainname} zmq) endforeach() è¿è¡Œdemo 1 2 ./main_server ./main_client ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:1:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"2.2. buttonrpc_cpp14 å‚è€ƒ buttonrpc 3. åŸç† ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:2:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.1. RPC RPCï¼ˆRemote Procedure Callï¼‰è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚è¦åƒè°ƒç”¨æœ¬åœ°çš„å‡½æ•°ä¸€æ ·å»è°ƒè¿œç¨‹å‡½æ•°ã€‚ RPC æ˜¯éœ€è¦æœ‰ä¸‰ä¸ªä¸»è¦æ¨¡å—ï¼šCall IDæ˜ å°„ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œç½‘ç»œä¼ è¾“ã€‚ Call IDæ˜ å°„ã€‚æˆ‘ä»¬æ€ä¹ˆå‘Šè¯‰è¿œç¨‹æœºå™¨æˆ‘ä»¬è¦è°ƒç”¨Multiplyï¼Œè€Œä¸æ˜¯Addæˆ–è€…FooBarå‘¢ï¼Ÿåœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œå‡½æ•°ä½“æ˜¯ç›´æ¥é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥æŒ‡å®šçš„ï¼Œæˆ‘ä»¬è°ƒç”¨Multiplyï¼Œç¼–è¯‘å™¨å°±è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨å®ƒç›¸åº”çš„å‡½æ•°æŒ‡é’ˆã€‚ä½†æ˜¯åœ¨è¿œç¨‹è°ƒç”¨ä¸­ï¼Œå‡½æ•°æŒ‡é’ˆæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºä¸¤ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œåœ¨RPCä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½å¿…é¡»æœ‰è‡ªå·±çš„ä¸€ä¸ªIDã€‚è¿™ä¸ªIDåœ¨æ‰€æœ‰è¿›ç¨‹ä¸­éƒ½æ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚å®¢æˆ·ç«¯åœ¨åšè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå¿…é¡»é™„ä¸Šè¿™ä¸ªIDã€‚ç„¶åæˆ‘ä»¬è¿˜éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ†åˆ«ç»´æŠ¤ä¸€ä¸ª {å‡½æ•° \u003câ€“\u003e Call ID} çš„å¯¹åº”è¡¨ã€‚ä¸¤è€…çš„è¡¨ä¸ä¸€å®šéœ€è¦å®Œå…¨ç›¸åŒï¼Œä½†ç›¸åŒçš„å‡½æ•°å¯¹åº”çš„Call IDå¿…é¡»ç›¸åŒã€‚å½“å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œè¿œç¨‹è°ƒç”¨æ—¶ï¼Œå®ƒå°±æŸ¥ä¸€ä¸‹è¿™ä¸ªè¡¨ï¼Œæ‰¾å‡ºç›¸åº”çš„Call IDï¼Œç„¶åæŠŠå®ƒä¼ ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿé€šè¿‡æŸ¥è¡¨ï¼Œæ¥ç¡®å®šå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨çš„å‡½æ•°ï¼Œç„¶åæ‰§è¡Œç›¸åº”å‡½æ•°çš„ä»£ç ã€‚ åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚å®¢æˆ·ç«¯æ€ä¹ˆæŠŠå‚æ•°å€¼ä¼ ç»™è¿œç¨‹çš„å‡½æ•°å‘¢ï¼Ÿåœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå‚æ•°å‹åˆ°æ ˆé‡Œï¼Œç„¶åè®©å‡½æ•°è‡ªå·±å»æ ˆé‡Œè¯»å°±è¡Œã€‚ä½†æ˜¯åœ¨è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå®¢æˆ·ç«¯è·ŸæœåŠ¡ç«¯æ˜¯ä¸åŒçš„è¿›ç¨‹ï¼Œä¸èƒ½é€šè¿‡å†…å­˜æ¥ä¼ é€’å‚æ•°ã€‚ç”šè‡³æœ‰æ—¶å€™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨çš„éƒ½ä¸æ˜¯åŒä¸€ç§è¯­è¨€ï¼ˆæ¯”å¦‚æœåŠ¡ç«¯ç”¨C++ï¼Œå®¢æˆ·ç«¯ç”¨Javaæˆ–è€…Pythonï¼‰ã€‚è¿™æ—¶å€™å°±éœ€è¦å®¢æˆ·ç«¯æŠŠå‚æ•°å…ˆè½¬æˆä¸€ä¸ªå­—èŠ‚æµï¼Œä¼ ç»™æœåŠ¡ç«¯åï¼Œå†æŠŠå­—èŠ‚æµè½¬æˆè‡ªå·±èƒ½è¯»å–çš„æ ¼å¼ã€‚è¿™ä¸ªè¿‡ç¨‹å«åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚åŒç†ï¼Œä»æœåŠ¡ç«¯è¿”å›çš„å€¼ä¹Ÿéœ€è¦åºåˆ—åŒ–ååºåˆ—åŒ–çš„è¿‡ç¨‹ã€‚ ç½‘ç»œä¼ è¾“ã€‚è¿œç¨‹è°ƒç”¨å¾€å¾€ç”¨åœ¨ç½‘ç»œä¸Šï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ˜¯é€šè¿‡ç½‘ç»œè¿æ¥çš„ã€‚æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå› æ­¤å°±éœ€è¦æœ‰ä¸€ä¸ªç½‘ç»œä¼ è¾“å±‚ã€‚ç½‘ç»œä¼ è¾“å±‚éœ€è¦æŠŠCall IDå’Œåºåˆ—åŒ–åçš„å‚æ•°å­—èŠ‚æµä¼ ç»™æœåŠ¡ç«¯ï¼Œç„¶åå†æŠŠåºåˆ—åŒ–åçš„è°ƒç”¨ç»“æœä¼ å›å®¢æˆ·ç«¯ã€‚åªè¦èƒ½å®Œæˆè¿™ä¸¤è€…çš„ï¼Œéƒ½å¯ä»¥ä½œä¸ºä¼ è¾“å±‚ä½¿ç”¨ã€‚å› æ­¤ï¼Œå®ƒæ‰€ä½¿ç”¨çš„åè®®å…¶å®æ˜¯ä¸é™çš„ï¼Œèƒ½å®Œæˆä¼ è¾“å°±è¡Œã€‚å°½ç®¡å¤§éƒ¨åˆ†RPCæ¡†æ¶éƒ½ä½¿ç”¨TCPåè®®ï¼Œä½†å…¶å®UDPä¹Ÿå¯ä»¥ï¼Œè€ŒgRPCå¹²è„†å°±ç”¨äº†HTTP2ã€‚Javaçš„Nettyä¹Ÿå±äºè¿™å±‚çš„ä¸œè¥¿ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:3:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.2. buttonrpc åˆ†æ ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:4:0","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.2.1. Call IDæ˜ å°„ï¼šbuttonrpc.hpp server server ä¸­ä¸»è¦å®Œæˆè¢«è°ƒç”¨å‡½æ•°çš„æ³¨å†Œ,åœ¨æ”¶åˆ°ç½‘ç»œå‘é€çš„æ•°æ®è¿›è¡Œåºåˆ—åŒ–è¿˜åŸåæ‰¾åˆ°å¯¹åº”çš„è°ƒç”¨å‡½æ•°å’Œå‚æ•°,æ‰§è¡Œè°ƒç”¨å†å°†ç»“æœè¿”å›. 1 2 3 4 5 6 // server template\u003ctypename F\u003e void bind(std::string name, F func); template\u003ctypename F, typename S\u003e void bind(std::string name, F func, S* s); bind å‡½æ•°ä¸¤ç§æ¨¡æ¿çš„å®ç°æ˜¯ä¸ºäº†å…¼å®¹å¤šå‚æ•°å‡½æ•°çš„è®¾è®¡,å…¶ä¸­ name ä¸ºå‡½æ•°å,åŒæ—¶ä¹Ÿæ˜¯å¯¹åº”çš„å‡½æ•°çš„ç´¢å¼•,func ä¸ºå‡½æ•°æŒ‡é’ˆ,s ä¸ºå‡½æ•°å‚æ•°.bind çš„å®ç°å¦‚ä¸‹: 1 2 3 4 5 6 7 8 9 10 11 template\u003ctypename F\u003e void buttonrpc::bind( std::string name, F func ) { m_handlers[name] = std::bind(\u0026buttonrpc::callproxy\u003cF\u003e, this, func, std::placeholders::_1, std::placeholders::_2, std::placeholders::_3); } template\u003ctypename F, typename S\u003e inline void buttonrpc::bind(std::string name, F func, S* s) { m_handlers[name] = std::bind(\u0026buttonrpc::callproxy\u003cF, S\u003e, this, func, s, std::placeholders::_1, std::placeholders::_2, std::placeholders::_3); } å‡½æ•°æœ€ç»ˆè¢«æ”¾åˆ°m_handlers ä¸­ç´¢å¼•,m_handlersçš„ç±»å‹å¦‚ä¸‹: 1 std::map\u003cstd::string, std::function\u003cvoid(Serializer*, const char*, int)\u003e\u003e m_handlers; æ˜ å°„å…³ç³»ä¸º å‡½æ•°å(string) â€” å‡½æ•°æŒ‡é’ˆ 1 2 3 4 5 6 7 8 9 10 11 template\u003ctypename F\u003e void buttonrpc::callproxy( F fun, Serializer* pr, const char* data, int len ) { callproxy_(fun, pr, data, len); } template\u003ctypename F, typename S\u003e inline void buttonrpc::callproxy(F fun, S * s, Serializer * pr, const char * data, int len) { callproxy_(fun, s, pr, data, len); } callproxy_ å®ç°å¦‚ä¸‹: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 template\u003ctypename R\u003e void buttonrpc::callproxy_(std::function\u003cR()\u003e func, Serializer* pr, const char* data, int len) { typename type_xx\u003cR\u003e::type r = call_helper\u003cR\u003e(std::bind(func)); value_t\u003cR\u003e val; val.set_code(RPC_ERR_SUCCESS); val.set_val(r); (*pr) \u003c\u003c val; } /*-------------------------------------------------------------------------------------------*/ template\u003ctypename F\u003e void callproxy(F fun, Serializer* pr, const char* data, int len); template\u003ctypename F, typename S\u003e void callproxy(F fun, S* s, Serializer* pr, const char* data, int len); // PROXY FUNCTION POINT template\u003ctypename R\u003e void callproxy_(R(*func)(), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR()\u003e(func), pr, data, len); } template\u003ctypename R, typename P1\u003e void callproxy_(R(*func)(P1), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1)\u003e(func), pr, data, len); } template\u003ctypename R, typename P1, typename P2\u003e void callproxy_(R(*func)(P1, P2), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1, P2)\u003e(func), pr, data, len); } template\u003ctypename R, typename P1, typename P2, typename P3\u003e void callproxy_(R(*func)(P1, P2, P3), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1, P2, P3)\u003e(func), pr, data, len); } template\u003ctypename R, typename P1, typename P2, typename P3, typename P4\u003e void callproxy_(R(*func)(P1, P2, P3, P4), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1, P2, P3, P4)\u003e(func), pr, data, len); } template\u003ctypename R, typename P1, typename P2, typename P3, typename P4, typename P5\u003e void callproxy_(R(*func)(P1, P2, P3, P4, P5), Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1, P2, P3, P4, P5)\u003e(func), pr, data, len); } // PROXY CLASS MEMBER template\u003ctypename R, typename C, typename S\u003e void callproxy_(R(C::* func)(), S* s, Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR()\u003e(std::bind(func, s)), pr, data, len); } template\u003ctypename R, typename C, typename S, typename P1\u003e void callproxy_(R(C::* func)(P1), S* s, Serializer* pr, const char* data, int len) { callproxy_(std::function\u003cR(P1)\u003e(std::bind(func, s, std::placeholders::_1)), pr, data, len); } template\u003ctypename R, typename C, typename S, typename P1, typename P2\u003e void callproxy_(R(C::* func)(P1, P2), S* s, Serializer* pr, const char* data, int len) { callproxy_(std::funct","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:4:1","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.2.2. åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼šSerializer.hpp é‡è½½ \u003c\u003c \u003e\u003e 1 2 3 4 5 6 7 8 9 10 11 template\u003ctypename T\u003e Serializer \u0026operator \u003e\u003e (T\u0026 i){ output_type(i); return *this; } template\u003ctypename T\u003e Serializer \u0026operator \u003c\u003c (T i){ input_type(i); return *this; } é‡è½½ Â« Â» å¹¶è°ƒç”¨ input_type output_type å°†æ•°æ®è½¬åŒ–ä¸ºæ•°æ®æµ(charç±»å‹)ç”¨äºç½‘ç»œä¼ è¾“ output_type \u0026 input_type 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 template\u003ctypename T\u003e inline void Serializer::output_type(T\u0026 t) { ... } template\u003c\u003e inline void Serializer::output_type(std::string\u0026 in) { ... } template\u003ctypename T\u003e inline void Serializer::input_type(T t) { ... } template\u003c\u003e inline void Serializer::input_type(std::string in) { ... } template\u003c\u003e inline void Serializer::input_type(const char* in) { ... } è¿™é‡Œçš„ input_type output_type æä¾›äº†å¤šç§çš„ç‰¹åŒ–å’Œåç‰¹åŒ–çš„å®ç°åŒæ ·æ˜¯ä¸ºäº†æœ‰å¤šå‚æ•°å‡½æ•°çš„åºåˆ—åŒ–çš„éœ€æ±‚. ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:4:2","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.2.3. ç½‘ç»œä¼ è¾“ï¼šZeroMQ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // network void buttonrpc::as_client( std::string ip, int port ) { m_role = RPC_CLIENT; m_socket = new zmq::socket_t(m_context, ZMQ_REQ); ostringstream os; os \u003c\u003c \"tcp://\" \u003c\u003c ip \u003c\u003c \":\" \u003c\u003c port; m_socket-\u003econnect (os.str()); } void buttonrpc::as_server( int port ) { m_role = RPC_SERVER; m_socket = new zmq::socket_t(m_context, ZMQ_REP); ostringstream os; os \u003c\u003c \"tcp://*:\" \u003c\u003c port; m_socket-\u003ebind (os.str()); } void buttonrpc::send( zmq::message_t\u0026 data ) { m_socket-\u003esend(data); } void buttonrpc::recv( zmq::message_t\u0026 data ) { m_socket-\u003erecv(\u0026data); } inline void buttonrpc::set_timeout(uint32_t ms) { // only client can set if (m_role == RPC_CLIENT) { m_socket-\u003esetsockopt(ZMQ_RCVTIMEO, ms); } } void buttonrpc::run() { // only server can call if (m_role != RPC_SERVER) { return; } while (1){ zmq::message_t data; recv(data); StreamBuffer iodev((char*)data.data(), data.size()); Serializer ds(iodev); std::string funname; ds \u003e\u003e funname; Serializer* r = call_(funname, ds.current(), ds.size()- funname.size()); zmq::message_t retmsg (r-\u003esize()); memcpy (retmsg.data (), r-\u003edata(), r-\u003esize()); send(retmsg); delete r; } } ç½‘ç»œä¼ è¾“ä½¿ç”¨çš„ ZeroMQ . ","date":"2023-01-16","objectID":"/posts/open_source_software/buttonrpc/buttonrpc_01/:4:3","tags":["buttonrpc"],"title":"å¼€æºè½¯ä»¶:buttonrpc (ä»£ç åˆ†æ)","uri":"/posts/open_source_software/buttonrpc/buttonrpc_01/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/cpufetch/cpufetch/","tags":["cpufetch"],"title":"å¼€æºè½¯ä»¶:cpufetch","uri":"/posts/open_source_software/cpufetch/cpufetch/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. CPUFetch 2. å¼€æºåœ°å€ 3. ç¼–è¯‘è¿è¡Œ 4. è¿è¡Œæ•ˆæœ 5. bash å¯åŠ¨æ‰“å°CPUä¿¡æ¯ 1. CPUFetch CPUFetchæ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸Neofetchæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯ç”¨äºåœ¨Linuxï¼ŒWindowsï¼ŒmacOSå’ŒAndroidä¸­è·å–CPUä½“ç³»ç»“æ„ã€‚ è¯¥å·¥å…·ä¼šè¾“å‡ºåˆ¶é€ å•†å¾½æ ‡ï¼ˆä¾‹å¦‚Intelï¼ŒAMDï¼‰ä»¥åŠåŸºæœ¬çš„CPUä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š CPUåç§°ã€‚ å¾®æ¶æ„ã€‚ çº³ç±³ï¼ˆnmï¼‰çš„åŠå¯¼ä½“æŠ€æœ¯ã€‚ æœ€å¤§é¢‘ç‡ã€‚ æ ¸å¿ƒå’Œçº¿ç¨‹æ•°ã€‚ é«˜çº§å‘é‡æ‰©å±•ï¼ˆAVXï¼‰ èåˆä¹˜åŠ ï¼ˆFMAï¼‰ L1ï¼ŒL2ï¼ŒL3ç¼“å­˜å¤§å°ã€‚ å³°å€¼æ€§èƒ½ã€‚ 2. å¼€æºåœ°å€ cpufetch 3. ç¼–è¯‘è¿è¡Œ 1 2 3 4 git clone https://github.com/Dr-Noob/cpufetch cd cpufetch make ./cpufetch 4. è¿è¡Œæ•ˆæœ 5. bash å¯åŠ¨æ‰“å°CPUä¿¡æ¯ è¯·å°†å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°/usr/local/bin/ 1 sudo mv cpufetch /usr/local/bin/ .ä¿®æ”¹ .bashrc 1 2 cd ~ vi .bashrc åœ¨.bashrc æœ€åä½ç½®æ·»åŠ  1 2 # start cpufetch cpufetch é‡æ–°æ‰“å¼€ç»ˆç«¯ ","date":"2023-01-16","objectID":"/posts/open_source_software/cpufetch/cpufetch/:0:0","tags":["cpufetch"],"title":"å¼€æºè½¯ä»¶:cpufetch","uri":"/posts/open_source_software/cpufetch/cpufetch/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. ç¼–è¯‘çš„åŸå›  2. ç¯å¢ƒ 3. ffmpeg 3.1. ä¸‹è½½ç¼–è¯‘ !/bin/bash !/bin/bash download 3.2. cmakeæ”¯æŒ !/usr/bin/env python !/usr/bin/env python coding: utf-8 note: the order matters ref: https://blog.csdn.net/zijin0802034/article/details/52779791 setup library names setup library found setup library versions final stuffs summary up and write 4. opencv 4.1. toolchain message(â€œbegin child cmakeâ€) message(â€œbegin child cmakeâ€) set cross-compiled system type, itâ€™s better not use the type which cmake cannot recognized. when gcc-arm-aarch64-none-linux-gnu was installed, toolchain was available as below: set searching rules for cross-compiler other needed options set(GNUEABIHFCFLAGS â€œ-Wall -fPIC -mcpu=cortex-a9 -mfpu=neon-fp16 -mfloat-abi=hard -mthumb-interwork -marmâ€ CACHE INTERNAL docstring) set(GNUEABIHFCFLAGS â€œ-Wall -fPIC -Wl,-rpath-link=/home/zz/soft/ffmpeg/aarch64-none-linux-gnu/libâ€ CACHE INTERNAL docstring) # for shared libs, rpath required 4.2. ä¸‹è½½ç¼–è¯‘ !/bin/bash !/bin/bash download ç¼–è¯‘ 5. References 1. ç¼–è¯‘çš„åŸå›  æƒ³åœ¨ç›®æ ‡å¹³å° gcc-arm-8.3-2019.03-x86_64-arm-linux-gnueabihf ä¸Šè¯»å–è§†é¢‘ï¼Œä½œä¸ºç®—æ³• SDK çš„è¾“å…¥æ•°æ®ï¼›äº¤å‰ç¼–è¯‘äº†å¸¦ videoio æ¨¡å—çš„ OpenCVï¼Œé‡åˆ° VideoCapture æ— æ³•è¯»å– .mp4 æ ¼å¼è§†é¢‘çš„é—®é¢˜ã€‚æ’æŸ¥åå‘ç°ï¼š å°½ç®¡ä¸æŒ‡å®š FFMPEGï¼ŒVideoIO æ¨¡å—ä¹Ÿèƒ½ç¼–è¯‘å‡ºæ¥ï¼Œä½†å¯¹åº”çš„ç¼–è§£ç å™¨ FOURCC åªèƒ½ç¼–è§£ç  .avi æ ¼å¼çš„è§†é¢‘ï¼Œæ— æ³•æ»¡è¶³å®é™…éœ€æ±‚ã€‚ videoio æ¨¡å—å¯ä»¥æœ‰ä¸åŒ backendï¼Œåœ¨ PC ä¸Šå…ˆå‰ä¸»è¦æ˜¯ Windows å¹³å°ï¼Œä½¿ç”¨äº†é¢„ç¼–è¯‘çš„ ffmpeg dllï¼Œæ²¡æœ‰å¯¹ç¼–è§£ç  backend å¼•èµ·é‡è§†ï¼›è€Œ aarch64-none-linux-gnu è¿™æ ·çš„åµŒå…¥å¼å¹³å°ï¼Œæ²¡æ‰¾åˆ°ç°æˆçš„ FFMPEG åº“ï¼ˆå¦‚æœæœ‰ï¼Œè¯·ç•™è¨€å‘ŠçŸ¥ï¼‰ï¼Œäºæ˜¯æ‰‹åŠ¨ç¼–è¯‘ FFMPEGï¼Œå¹¶åœ¨ OpenCV çš„ cmake æ„å»ºä¸­é›†æˆã€‚ 2. ç¯å¢ƒ Host: Ubuntu 18.04 äº¤å‰ç¼–è¯‘å·¥å…·: rv1126 å·¥å…·é“¾ gcc-arm-8.3-2019.03-x86_64-arm-linux-gnueabihf cmake 3.20 3. ffmpeg ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/:0:0","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.1. ä¸‹è½½ç¼–è¯‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 #!/bin/bash OUT_DIR=../out_ffmpeg_rv1126 CROSS_PREFIX=/opt/tools/rk_docs_and_compiler/compiler/gcc-arm-8.3-2019.03-x86_64-arm-linux-gnueabihf/bin/arm-linux-gnueabihf- FFMPENG_BRANCH=n4.2.2 MAKE_JOBE=40 #download git clone https://git.ffmpeg.org/ffmpeg.git ffmpeg cd ffmpeg git checkout -b ${FFMPENG_BRANCH} ./configure \\ --prefix=${OUT_DIR} \\ --shlibdir=${OUT_DIR}/lib \\ --disable-shared \\ --disable-doc \\ --arch=aarch64 \\ --cross-prefix=${CROSS_PREFIX} \\ --target-os=linux \\ --disable-x86asm \\ --disable-asm \\ --disable-ffmpeg \\ --disable-ffplay \\ --disable-ffprobe \\ --enable-avresample make -j${MAKE_JOBE} make install ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/:1:0","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"3.2. cmakeæ”¯æŒ ffmpeg å®˜æ–¹ä¸æä¾› cmake æ„å»ºæ”¯æŒï¼Œgithub ä¸Šæ‰¾åˆ°çš„ ffmpeg cmake å†™å¾—å¾ˆé•¿ä½†ä¸èµ·ä½œç”¨ï¼›ç®€å•èµ·è§ï¼Œç”¨å¦‚ä¸‹ Python ä»£ç ç”Ÿæˆ ffmpeg-config.cmakeï¼ˆæ³¨æ„åº“ç‰ˆæœ¬ä¸ºæ‰‹åŠ¨ç¡¬ç¼–ç ï¼Œåº“çš„é¡ºåºä¹Ÿå¾ˆé‡è¦ï¼‰ gen-ffmpeg-cmake-config.pyï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 #!/usr/bin/env python #coding: utf-8 \"\"\" Generate ffmpeg-config.cmake \"\"\" # note: the order matters # ref: https://blog.csdn.net/zijin0802034/article/details/52779791 ffmpeg_lib_desc = { 'libavformat': '58.71.100', 'libavdevice': '58.12.100', 'libavcodec': '58.129.100', 'libavutil': '56.67.100', 'libswscale': '5.8.100', 'libswresample': '3.8.100', 'libavfilter': '7.109.100', 'libavresample': '4.0.0', } content_lines = [ 'set(ffmpeg_path \"${CMAKE_CURRENT_LIST_DIR}\")', '', 'set(FFMPEG_EXEC_DIR \"${ffmpeg_path}/bin\")', 'set(FFMPEG_LIBDIR \"${ffmpeg_path}/lib\")', 'set(FFMPEG_INCLUDE_DIRS \"${ffmpeg_path}/include\")', '', ] # setup library names content_lines.append('# library names') content_lines.append( 'set(FFMPEG_LIBRARIES', ) for key, value in ffmpeg_lib_desc.items(): lib_name = key lib_version = value content_lines.append( ' ${FFMPEG_LIBDIR}/' + lib_name + '.a' ) content_lines.append(' pthread') content_lines.append(')') content_lines.append('') # setup library found content_lines.append('# found status') for key, value in ffmpeg_lib_desc.items(): lib_name = key content_lines.append( 'set(FFMPEG_{:s}_FOUND TRUE)'.format(lib_name) ) content_lines.append('') # setup library versions content_lines.append('# library versions') for key, value in ffmpeg_lib_desc.items(): lib_name = key lib_version = value content_lines.append( 'set(FFMPEG_{:s}_VERSION {:s})'.format(lib_name, lib_version) ) content_lines.append('') # final stuffs content_lines.append('set(FFMPEG_FOUND TRUE)') content_lines.append('set(FFMPEG_LIBS ${FFMPEG_LIBRARIES})') # summary up and write fout = open('ffmpeg-config.cmake', 'w') for line in content_lines: fout.write(line + '\\n') fout.close() å…¶ä¸­ç‰ˆæœ¬å·çš„è®¾å®šï¼Œæ˜¯ä¸ºäº†åœ¨ OpenCV ä¸­æ‰¾åˆ° FFMPEG åï¼Œèƒ½é€šè¿‡æœ€ä½ç‰ˆæœ¬æ£€æŸ¥ã€‚ å°†è¿™ä¸ªæ–‡ä»¶ï¼Œæ”¾åœ¨ ffmpeg å®‰è£…è·¯å¾„çš„æ ¹ç›®å½•ï¼Œå¹¶è¿è¡Œï¼Œå¾—åˆ° ffmpeg-config.cmakeï¼Œåˆ™åç»­å¯ç”¨ find_package(FFMPEG) ä½¿ç”¨ï¼› 4. opencv ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/:2:0","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"4.1. toolchain äº¤å‰ç¼–è¯‘é˜¶æ®µç”¨åˆ°çš„ toolchain æ–‡ä»¶é‡Œï¼Œå¦‚æœåç»­ç”¨çš„æ˜¯ ffmpeg åŠ¨æ€åº“ï¼Œåˆ™éœ€è¦åœ¨ toolchain é‡ŒæŒ‡å®š rpathã€‚æœ¬äººæœ€ç»ˆç”¨çš„é™æ€åº“ï¼Œå› è€Œæœªè®¾ rpathã€‚ å¦‚ä¸‹è„šæœ¬ï¼Œä¿å­˜ä¸º build/aarch64-none-linux-gnu.toolchain.cmake 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # message(\"begin child cmake\") # set cross-compiled system type, it's better not use the type which cmake cannot recognized. set(CMAKE_SYSTEM_NAME Linux) set(CMAKE_SYSTEM_PROCESSOR ARM) # when gcc-arm-aarch64-none-linux-gnu was installed, toolchain was available as below: set(TOOLCHAIN_DIR \"/opt/tools/rk_docs_and_compiler/compiler/gcc-arm-8.3-2019.03-x86_64-arm-linux-gnueabihf/bin\") set(CMAKE_CXX_COMPILER ${TOOLCHAIN_DIR}/arm-linux-gnueabihf-g++) set(CMAKE_C_COMPILER ${TOOLCHAIN_DIR}/arm-linux-gnueabihf-gcc) # set searching rules for cross-compiler set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER) set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY) set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY) # other needed options #set(GNUEABIHF_C_FLAGS \"-Wall -fPIC -mcpu=cortex-a9 -mfpu=neon-fp16 -mfloat-abi=hard -mthumb-interwork -marm\" CACHE INTERNAL docstring) #set(GNUEABIHF_C_FLAGS \"-Wall -fPIC -Wl,-rpath-link=/home/zz/soft/ffmpeg/aarch64-none-linux-gnu/lib\" CACHE INTERNAL docstring) # for shared libs, rpath required set(GNUEABIHF_C_FLAGS \"-Wall -fPIC\" CACHE INTERNAL docstring) set(GNUEABIHF_CXX_FLAGS \"\") set(CMAKE_C_FLAGS \"-march=armv7-a ${CMAKE_C_FLAGS} ${GNUEABIHF_C_FLAGS}\" CACHE STRING \"C flags\" FORCE) set(CMAKE_CXX_FLAGS \"-march=armv7-a ${CMAKE_CXX_FLAGS} ${GNUEABIHF_C_FLAGS} ${NDK_CXX_FLAGS}\" CACHE STRING \"C++ flags\" FORCE) https://stackoverflow.com/questions/12427928/configure-and-build-opencv-to-custom-ffmpeg-install ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/:3:0","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"4.2. ä¸‹è½½ç¼–è¯‘ ç”¨å¦‚ä¸‹è„šæœ¬æ¥ç¼–è¯‘ï¼Œä¿å­˜ä¸º build/aarch64-linux-gnu.sh å¹¶æ‰§è¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 #!/bin/bash OUT_DIR=../out_opencv_rv1126 OPENCV_MODULES_DIR=../opencv_contrib/modules/ FFMPEG_DIR=../out_ffmpeg_rv1126 OPENCV_BRANCH=4.5.0 MAKE_JOBE=40 #download git clone --branch ${OPENCV_BRANCH} https://github.com/opencv/opencv.git git clone --branch ${OPENCV_BRANCH} https://github.com/opencv/opencv_contrib.git #ç¼–è¯‘ mkdir build_opencv cd build_opencv TOOLCHAIN=../cross.cmake cmake -DCMAKE_TOOLCHAIN_FILE=$TOOLCHAIN \\ -D CMAKE_BUILD_TYPE=Release \\ -D CMAKE_INSTALL_PREFIX=${OUT_DIR} \\ -D OPENCV_EXTRA_MODULES_PATH=${OPENCV_MODULES_DIR} \\ -D WITH_FFMPEG=ON \\ -D OPENCV_FFMPEG_USE_FIND_PACKAGE=ON \\ -D OPENCV_FFMPEG_SKIP_BUILD_CHECK=ON \\ -D FFMPEG_DIR=${FFMPEG_DIR} \\ -D BUILD_TESTS=OFF \\ -D BUILD_PERF_TESTS=OFF \\ -D BUILD_opencv_apps=OFF \\ -D WITH_PROTOBUF=OFF \\ -D WITH_QUIRC=OFF \\ -D WITH_1394=OFF \\ -D WITH_CUDA=OFF \\ -D WITH_OPENCL=OFF \\ -D WITH_VTK=OFF \\ -D WITH_MATLAB=OFF \\ -D BUILD_DOCS=OFF \\ -D BUILD_opencv_python3=OFF \\ -D BUILD_opencv_python2=OFF \\ -D WITH_IPP=OFF \\ -D BUILD_ANDROID_PROJECTS=OFF \\ -D BUILD_ANDROID_EXAMPLES=OFF \\ -D BUILD_ANDROID_SERVICE=OFF \\ -D BUILD_SHARED_LIBS=OFF \\ -D OPENCV_FORCE_3RDPARTY_BUILD=ON \\ -D BUILD_JAVA=OFF \\ -D BUILD_FAT_JAVA_LIB=OFF \\ -D OPENCV_GENERATE_PKGCONFIG=ON \\ ../opencv make -j${MAKE_JOBE} make install 5. References OpenCV äº¤å‰ç¼–è¯‘ï¼šåŸºäº FFMPEG çš„ VideoIO æ¨¡å— ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/:4:0","tags":["ffmpeg","opencv"],"title":"å¼€æºè½¯ä»¶:ffmpeg \u0026 opencv_4.5.0  å®‰è£…","uri":"/posts/open_source_software/opencv/ffmpeg_opencv_4.5.0_install/ffmpeg_opencv_4.5.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/httplib/httplib/","tags":["httplib"],"title":"å¼€æºè½¯ä»¶:httplib","uri":"/posts/open_source_software/httplib/httplib/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/httplib/httplib/:0:0","tags":["httplib"],"title":"å¼€æºè½¯ä»¶:httplib","uri":"/posts/open_source_software/httplib/httplib/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"explicit \u0026 implicit C++ä¸­çš„explicitå…³é”®å­—åªèƒ½ç”¨äºä¿®é¥°åªæœ‰ä¸€ä¸ªå‚æ•°çš„ç±»æ„é€ å‡½æ•°, å®ƒçš„ä½œç”¨æ˜¯è¡¨æ˜è¯¥æ„é€ å‡½æ•°æ˜¯æ˜¾ç¤ºçš„, è€Œééšå¼çš„, è·Ÿå®ƒç›¸å¯¹åº”çš„å¦ä¸€ä¸ªå…³é”®å­—æ˜¯implicit, æ„æ€æ˜¯éšè—çš„,ç±»æ„é€ å‡½æ•°é»˜è®¤æƒ…å†µä¸‹å³å£°æ˜ä¸ºimplicit(éšå¼). ","date":"2023-01-16","objectID":"/posts/open_source_software/httplib/httplib/:0:1","tags":["httplib"],"title":"å¼€æºè½¯ä»¶:httplib","uri":"/posts/open_source_software/httplib/httplib/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::streambuf https://blog.csdn.net/man_sion/article/details/78110842 using ContentProvider = std::function\u003cbool(size_t offset, size_t length, DataSink \u0026sink)\u003e; using ContentProviderWithoutLength = std::function\u003cbool(size_t offset, DataSink \u0026sink)\u003e; using ContentProviderResourceReleaser = std::function\u003cvoid(bool success)\u003e; using ContentReceiverWithProgress = std::function\u003cbool(const char *data, size_t data_length, uint64_t offset,uint64_t total_length)\u003e; using ContentReceiver = std::function\u003cbool(const char *data, size_t data_length)\u003e; using MultipartContentHeader = std::function\u003cbool(const MultipartFormData \u0026file)\u003e; class ContentReader { public: using Reader = std::function\u003cbool(ContentReceiver receiver)\u003e; using MultipartReader = std::function\u003cbool(MultipartContentHeader header, ContentReceiver receiver)\u003e; ContentReader(Reader reader, MultipartReader multipart_reader) : reader_(std::move(reader)), multipart_reader_(std::move(multipart_reader)) {} bool operator()(MultipartContentHeader header, ContentReceiver receiver) const { return multipart_reader_(std::move(header), std::move(receiver)); } bool operator()(ContentReceiver receiver) const { return reader_(std::move(receiver)); } Reader reader_; MultipartReader multipart_reader_; }; class Stream { public: virtual ~Stream() = default; virtual bool is_readable() const = 0; virtual bool is_writable() const = 0; virtual ssize_t read(char *ptr, size_t size) = 0; virtual ssize_t write(const char *ptr, size_t size) = 0; virtual void get_remote_ip_and_port(std::string \u0026ip, int \u0026port) const = 0; virtual socket_t socket() const = 0; template \u003ctypenameâ€¦ Args\u003e ssize_t write_format(const char *fmt, const Args \u0026â€¦args); ssize_t write(const char *ptr); ssize_t write(const std::string \u0026s); }; class TaskQueue { public: TaskQueue() = default; virtual ~TaskQueue() = default; virtual void enqueue(std::function\u003cvoid()\u003e fn) = 0; virtual void shutdown() = 0; virtual void on_idle() {} }; class ThreadPool : public TaskQueue { public: explicit ThreadPool(size_t n) : shutdown_(false) { while (n) { threads_.emplace_back(worker(*this)); nâ€“; } } ThreadPool(const ThreadPool \u0026) = delete; ~ThreadPool() override = default; void enqueue(std::function\u003cvoid()\u003e fn) override { std::unique_lockstd::mutex lock(mutex_); jobs_.push_back(std::move(fn)); cond_.notify_one(); } void shutdown() override { // Stop all worker threadsâ€¦ { std::unique_lockstd::mutex lock(mutex_); shutdown_ = true; } cond_.notify_all(); // Join... for (auto \u0026t : threads_) { t.join(); } } private: struct worker { explicit worker(ThreadPool \u0026pool) : pool_(pool) {} void operator()() { for (;;) { std::function\u003cvoid()\u003e fn; { std::unique_lock\u003cstd::mutex\u003e lock(pool_.mutex_); pool_.cond_.wait( lock, [\u0026] { return !pool_.jobs_.empty() || pool_.shutdown_; }); if (pool_.shutdown_ \u0026\u0026 pool_.jobs_.empty()) { break; } fn = pool_.jobs_.front(); pool_.jobs_.pop_front(); } assert(true == static_cast\u003cbool\u003e(fn)); fn(); } } ThreadPool \u0026pool_; }; friend struct worker; std::vectorstd::thread threads_; std::list\u003cstd::function\u003cvoid()Â» jobs_; bool shutdown_; std::condition_variable cond_; std::mutex mutex_; }; std::vectorstd::thread threads_; ThreadPool \u0026pool_; std::list\u003cstd::function\u003cvoid()Â» jobs_; using SocketOptions = std::function\u003cvoid(socket_t sock)\u003e; line_reader 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 inline bool is_file(const std::string \u0026path) { struct stat st; return stat(path.c_str(), \u0026st) \u003e= 0 \u0026\u0026 S_ISREG(st.st_mode); } inline bool is_dir(const std::string \u0026path) { struct stat st; return stat(path.c_str(), \u0026st) \u003e= 0 \u0026\u0026 S_ISDIR(st.st_mode); } inline bool is_valid_path(const std::string \u0026path) { size_t level = 0; size_t i = 0; // Skip slash while (i \u003c path.size() \u0026\u0026 path[i] == '/') { i++; } while (i \u003c path.size()) { ","date":"2023-01-16","objectID":"/posts/open_source_software/httplib/httplib/:0:2","tags":["httplib"],"title":"å¼€æºè½¯ä»¶:httplib","uri":"/posts/open_source_software/httplib/httplib/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ èƒŒæ™¯ ç¯å¢ƒ å®‰è£… å‚è€ƒæ•™ç¨‹ æºç åŠä¾èµ–æ–‡ä»¶ä¸‹è½½ é—®é¢˜è§£å†³ cmake é—®é¢˜ ç¼–è¯‘é—®é¢˜è§£å†³ æµ‹è¯• å…¶ä»– èƒŒæ™¯ éœ€è¦ç”¨åˆ°OpenCV3ä¸­ä½¿ç”¨SIFTå’ŒSURFç‰¹å¾æå–ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½opencvå’Œopencv_contribçš„æºç ï¼Œç„¶åå°†ä¸¤ä¸ªæºç æ”¾åœ¨ä¸€èµ·æ‰‹åŠ¨ç¼–è¯‘å®‰è£…ã€‚ ç¯å¢ƒ ubuntu18.04 opencv-3.2.0 opencv_contrib-3.2.0 å®‰è£… ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/:0:0","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å‚è€ƒæ•™ç¨‹ åœ¨ubuntu18.04ä¸­å®‰è£…opencv_contrib-3.2.0é‡‡å‘æ•™ç¨‹ ä¸»è¦å‚è€ƒä¸Šé¢æ•™ç¨‹ï¼ŒåŒ…å«ä¾èµ–åº“å®‰è£…ï¼Œcmake é…ç½®ç­‰ï¼Œä¸‹é¢ä¼šè¡¥å……ä½¿ç”¨ä¸Šè¿°æ•™ç¨‹ä¸­ä¼˜åŒ–å’Œè§£å†³çš„éƒ¨åˆ†ç¼–è¯‘é—®é¢˜ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/:1:0","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"æºç åŠä¾èµ–æ–‡ä»¶ä¸‹è½½ è¿™é‡Œä¸»è¦æä¾›äº†éƒ¨åˆ†æºæ–‡ä»¶çš„å›½å†…çš„gitee ä¸‹è½½åœ°å€å’Œcmake è‡ªåŠ¨ä¸‹è½½çš„é…ç½®æ–‡ä»¶(æœ‰å‡ ç‡ä¸‹è½½ä¸æˆåŠŸè¿™é‡Œåšä¸‹å¤‡ä»½)ã€‚ opencv opencv_contrib opencv3.2_CMake é—®é¢˜è§£å†³ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/:2:0","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"cmake é—®é¢˜ é—®é¢˜ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 CMake Error: The following variables are used in this project, but they are set to NOTFOUND. Please set them or make sure they are set and tested correctly in the CMake files: CUDA_nppi_LIBRARY (ADVANCED) linked by target \"opencv_cudev\" in directory D:/Cproject/opencv/opencv/sources/modules/cudev linked by target \"opencv_cudev\" in directory D:/Cproject/opencv/opencv/sources/modules/cudev linked by target \"opencv_test_cudev\" in directory D:/Cproject/opencv/opencv/sources/modules/cudev/test linked by target \"opencv_core\" in directory D:/Cproject/opencv/opencv/sources/modules/core linked by target \"opencv_core\" in directory D:/Cproject/opencv/opencv/sources/modules/core linked by target \"opencv_test_core\" in directory D:/Cproject/opencv/opencv/sources/modules/core linked by target \"opencv_perf_core\" in directory D:/Cproject/opencv/opencv/sources/modules/core ... ... è§£å†³ï¼š å‚è€ƒï¼šOpenCV3.3+CUDA9.0+Cmake3.9 ç¯å¢ƒæ­å»º å·²ç»æ›´æ¢çš„ FindCUDA.cmake OpenCVDetectCUDA.cmake æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š https://gitee.com/fromyuhu/opencv3.2_CMake ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/:3:0","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"ç¼–è¯‘é—®é¢˜è§£å†³ é—®é¢˜ï¼š 1 2 /mnt/DG/WORK/2_code/100_ZYH/opencv/modules/imgcodecs/src/grfmt_exr.hpp:52:10: fatal error: ImfChromaticities.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• #include \u003cImfChromaticities.h\u003e è§£å†³ï¼š 1 sudo apt-get install libopenexr-dev é—®é¢˜ï¼š 1 2 /mnt/DG/WORK/2_code/100_ZYH/opencv/modules/videoio/src/cap_gphoto2.cpp:32:10: fatal error: gphoto2/gphoto2.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• #include \u003cgphoto2/gphoto2.h\u003e è§£å†³ï¼š 1 sudo apt-get install libgphoto2-dev é—®é¢˜ï¼š 1 2 /mnt/DG/WORK/2_code/100_ZYH/opencv3.2.0-bulid/opencv_lapack.h:2:10: fatal error: LAPACKE_H_PATH-NOTFOUND/lapacke.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• #include \"LAPACKE_H_PATH-NOTFOUND/lapacke.h\" è§£å†³ï¼š 1 2 3 4 5 sudo apt-get install liblapacke-dev checkinstall ä¿®æ”¹å‡ºç°é—®é¢˜çš„æ–‡ä»¶ï¼Œä¾‹å¦‚æˆ‘çš„æ–‡ä»¶æ˜¯ opencv-3.2.0/build/opencv_lapack.h å°†ç¬¬äºŒè¡Œä¸­çš„#include\"LAPACKE_H_PATH-NOTFOUND/lapacke.h\" ä¿®æ”¹ä¸º#include\"lapacke.h\"å³å¯ é—®é¢˜ï¼š 1 Unsupported gpu architecture 'compute_20' è§£å†³ï¼š CUDA_GENERATION=Kepler .. æµ‹è¯• è·å–æ–‡ä»¶ï¼š https://gitee.com/fromyuhu/COMMON/tree/master/opencv/surf mkdir bulid cd bulid cmake .. make ./demo èƒ½æ­£å¸¸æå–åŒ¹é…ç‰¹å¾ç‚¹è¯´æ˜æ­£å¸¸ã€‚ å…¶ä»– ç¬”è€…åœ¨å®‰è£…çš„æ—¶å€™ï¼Œæœ‰ç¢°åˆ° libgtk2.0-dev ç”±äºä¾èµ–åº“é—®é¢˜æ— æ³•å®‰è£…é—®é¢˜ï¼ŒåŠªåŠ›äº†å¾ˆä¹…ä¹Ÿæœ‰æå®šï¼Œè¿™é‡Œè¯´ä¸‹ï¼Œå¦‚æœçœŸçš„æœ‰ç¢°åˆ°ç›¸çš„ä¾èµ–åº“å®åœ¨æ— æ³•å®‰è£…çš„é—®é¢˜ï¼Œå¯ä»¥é€‰æ‹©é‡è£…ç³»ç»Ÿã€‚ç¬”è€…æ›¾å°è¯•è§£å†³éƒ¨åˆ†åº“å®‰è£…é—®é¢˜èŠ±è´¹äº†ä¸å°‘æ—¶é—´ï¼Œæœ€åä¹Ÿæ²¡èƒ½è§£å†³ï¼Œè€½è¯¯äº†ä¸å°‘æ—¶é—´ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/:4:0","tags":["opencv","opencv_contrib"],"title":"å¼€æºè½¯ä»¶:opencv \u0026 opencv_contrib 3.2.0 å®‰è£…","uri":"/posts/open_source_software/opencv/opencv3.2_install/opencv3.2.0_install/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/introduction/introduction/","tags":["opencv"],"title":"å¼€æºè½¯ä»¶:opencv modulesä»‹ç»","uri":"/posts/open_source_software/opencv/introduction/introduction/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" Main modules: core. Core functionality imgproc. Image processing imgcodecs. Image file reading and writing videoio. Video I/O highgui. High-level GUI video. Video Analysis calib3d. Camera Calibration and 3D Reconstruction features2d. 2D Features Framework objdetect. Object Detection dnn. Deep Neural Network module ml. Machine Learning flann. Clustering and Search in Multi-Dimensional Spaces photo. Computational Photography stitching. Images stitching cudaarithm. Operations on Matrices cudabgsegm. Background Segmentation cudacodec. Video Encoding/Decoding cudafeatures2d. Feature Detection and Description cudafilters. Image Filtering cudaimgproc. Image Processing cudalegacy. Legacy support cudaobjdetect. Object Detection cudaoptflow. Optical Flow cudastereo. Stereo Correspondence cudawarping. Image Warping cudev. Device layer shape. Shape Distance and Matching superres. Super Resolution videostab. Video Stabilization viz. 3D Visualizer Extra modules: aruco. ArUco Marker Detection bgsegm. Improved Background-Foreground Segmentation Methods bioinspired. Biologically inspired vision models and derivated tools ccalib. Custom Calibration Pattern for 3D reconstruction cnn_3dobj. 3D object recognition and pose estimation API cvv. GUI for Interactive Visual Debugging of Computer Vision Programs datasets. Framework for working with different datasets dnn_modern. Deep Learning Modern Module dpm. Deformable Part-based Models face. Face Analysis freetype. Drawing UTF-8 strings with freetype/harfbuzz fuzzy. Image processing based on fuzzy mathematics hdf. Hierarchical Data Format I/O routines img_hash. The module brings implementations of different image hashing algorithms. line_descriptor. Binary descriptors for lines extracted from an image matlab. MATLAB Bridge optflow. Optical Flow Algorithms ovis. OGRE 3D Visualiser phase_unwrapping. Phase Unwrapping API plot. Plot function for Mat data reg. Image Registration rgbd. RGB-Depth Processing saliency. Saliency API sfm. Structure From Motion stereo. Stereo Correspondance Algorithms structured_light. Structured Light API surface_matching. Surface Matching text. Scene Text Detection and Recognition tracking. Tracking API xfeatures2d. Extra 2D Features Framework ximgproc. Extended Image Processing xobjdetect. Extended object detection xphoto. Additional photo processing algorithms ","date":"2023-01-16","objectID":"/posts/open_source_software/opencv/introduction/introduction/:0:0","tags":["opencv"],"title":"å¼€æºè½¯ä»¶:opencv modulesä»‹ç»","uri":"/posts/open_source_software/opencv/introduction/introduction/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/threadpool/threadpool/","tags":["ThreadPool"],"title":"å¼€æºè½¯ä»¶:ThreadPool C++ çº¿ç¨‹æ± ","uri":"/posts/open_source_software/threadpool/threadpool/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ æºç åŠç¼–è¯‘ä½¿ç”¨ æºç åˆ†æ std::future æºç åŠç¼–è¯‘ä½¿ç”¨ æºç åœ°å€ï¼šThreadPool æºç åŠç¼–è¯‘cmake æ–‡ä»¶ ï¼š ThreadPool ç¼–è¯‘ 1 2 3 4 mkdir build cd build cmake .. make è¿è¡Œï¼š 1 ./example æºç åˆ†æ ","date":"2023-01-16","objectID":"/posts/open_source_software/threadpool/threadpool/:0:0","tags":["ThreadPool"],"title":"å¼€æºè½¯ä»¶:ThreadPool C++ çº¿ç¨‹æ± ","uri":"/posts/open_source_software/threadpool/threadpool/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"std::future future std::futureç±»æ¨¡æ¿å®šä¹‰å¤´æ–‡ä»¶,å…¶å‡½æ•°å£°æ˜å¦‚ä¸‹ï¼š 1 2 3 template \u003cclass T\u003e future; template \u003cclass R\u0026\u003e future\u003cR\u0026\u003e; // specialization : T is a reference type (R\u0026) template \u003c\u003e future\u003cvoid\u003e; // specialization : T is void å¯¹äºfutureè¡¥å……è¯´æ˜å¦‚ä¸‹ï¼š std::async ã€ std::packaged_task æˆ– std::promise èƒ½æä¾›ä¸€ä¸ªstd::futureå¯¹è±¡ç»™è¯¥å¼‚æ­¥æ“ä½œçš„åˆ›å»ºè€… å¼‚æ­¥æ“ä½œçš„åˆ›å»ºè€…èƒ½ç”¨å„ç§æ–¹æ³•æŸ¥è¯¢ã€ç­‰å¾…æˆ–ä» std::future æå–å€¼ã€‚è‹¥å¼‚æ­¥æ“ä½œä»æœªæä¾›å€¼ï¼Œåˆ™è¿™äº›æ–¹æ³•å¯èƒ½é˜»å¡ã€‚ å¼‚æ­¥æ“ä½œå‡†å¤‡å¥½å‘é€ç»“æœç»™åˆ›å»ºè€…æ—¶ï¼Œå®ƒèƒ½é€šè¿‡æ¥å£ï¼ˆeg,std::promise::set_value std::futureï¼‰ ä¿®æ”¹å…±äº«çŠ¶æ€çš„å€¼ã€‚ std::futureä½¿ç”¨ ä¸‹é¢å°±ç”¨std::futureå¯¹è±¡æ¥è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°å…¨å±€å˜é‡ï¼Œé€»è¾‘éå¸¸æ¸…æ™°ï¼Œä»£ç å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // future example #include \u003ciostream\u003e // std::cout #include \u003cfuture\u003e // std::async, std::future #include \u003cchrono\u003e // std::chrono::milliseconds // a non-optimized way of checking for prime numbers: bool is_prime (int x) { for (int i=2; i\u003cx; ++i) if (x%i==0) return false; return true; } int main () { // call function asynchronously: std::future\u003cbool\u003e fut = std::async (is_prime,444444443); // do something while waiting for function to set future: std::cout \u003c\u003c \"checking, please wait\"; std::chrono::milliseconds span (100); while (fut.wait_for(span)==std::future_status::timeout) std::cout \u003c\u003c '.' \u003c\u003c std::flush; bool x = fut.get(); // retrieve return value std::cout \u003c\u003c \"\\n444444443 \" \u003c\u003c (x?\"is\":\"is not\") \u003c\u003c \" prime.\\n\"; return 0; } ","date":"2023-01-16","objectID":"/posts/open_source_software/threadpool/threadpool/:1:0","tags":["ThreadPool"],"title":"å¼€æºè½¯ä»¶:ThreadPool C++ çº¿ç¨‹æ± ","uri":"/posts/open_source_software/threadpool/threadpool/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¼€æºè½¯ä»¶","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":" TBB åŸºç¡€ ç®€ä»‹ å¹¶è¡Œ ä½¿ç”¨ æ¥å£ parallel_for parallel_reduce parallel_while graph å¹¶å‘å®¹å™¨ concurrent_hash_map concurrent_vector concurrent_queue é” Task Scheduler ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:0:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"TBB åŸºç¡€ Intel Threading Building Blocks TBB API ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:0","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"ç®€ä»‹ å¹¶è¡Œ 1ã€æŒ‡ä»¤çº§çš„å¹¶è¡Œï¼›å³æ‰€è°“çš„å¾®ç¨‹åºã€æŒ‡ä»¤æµæ°´çº¿ç­‰ï¼Œç°åœ¨cpuçš„ä¸€çº§ç¼“å­˜ã€äºŒçº§ç¼“å­˜éƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¿™ä¸ªcacheçš„æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼ˆåŸºäºå±€éƒ¨æ€§åŸç†ï¼‰ 2ã€çº¿ç¨‹çº§çš„å¹¶è¡Œï¼›å³åŒä¸€ä¸ªæ—¶åˆ»å¤šä¸ªå‡½æ•°åœ¨è¿è¡Œï¼ˆç°åœ¨çš„cpuå¥½åƒéƒ½æ˜¯å¤šæ ¸çš„ï¼‰ 3ã€æœåŠ¡çº§åˆ«çš„ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ¸¸æˆæœåŠ¡å™¨ä¸­æœ‰å•†åº—æœåŠ¡ã€ä¹Ÿæœ‰æˆ˜æ–—æœåŠ¡ã€èŠå¤©æœåŠ¡ç­‰ è¿™é‡Œçš„æ¯ä¸ªæœåŠ¡å¯èƒ½å¯¹åº”å¤šä¸ªé€»è¾‘çº¿ç¨‹ï¼‰ 4ã€èŠ‚ç‚¹çº§åˆ«çš„ï¼›å³æ‰€è°“çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¤šä¸ªèŠ‚ç‚¹äº’ç›¸é…åˆï¼Œä½¿æ•´ä¸ªç³»ç»Ÿåœ¨é€»è¾‘ä¸Šæˆä¸ºä¸€ä¸ªå•ä¸€çš„ç³»ç»Ÿã€‚ï¼ˆgoogleã€qqç­‰è¿™äº›æµ·é‡è®¿é—®çš„æœåŠ¡ç»Ÿç»Ÿæ˜¯åˆ†å¸ƒå¼çš„ï¼‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œç¬¬ä¸€ä¸ªçº§åˆ«çš„å¹¶è¡Œç›´æ¥åšåœ¨ç¡¬ä»¶é‡Œé¢ï¼Œç¬¬äºŒä¸ªçº§åˆ«çš„å¹¶è¡Œä¼šæœ‰ä¸€äº›åŸºç¡€çš„æ¡†æ¶ï¼Œç¬¬ä¸‰å’Œç¬¬å››ä¸ªçº§åˆ«çš„å¹¶è¡Œå°±æ˜¯åº”ç”¨ç¨‹åºè‡ªå·±çš„æ¶æ„çš„é—®é¢˜äº†ã€‚ è¿™é‡Œé¢å®é™…ä¸Šæœ‰ä¸€ä¸ªäº‰è®ºï¼šæ˜¯åœ¨ç®—æ³•å¹¶è¡ŒåŒ–ä¸Šé¢èŠ±å¿ƒæ€å»ç ”ç©¶è¿˜æ˜¯é‡‡ç”¨åˆ†å¸ƒå¼çš„æ¡†æ¶æ¥é¢å¯¹é—®é¢˜è§„æ¨¡çš„å¢é•¿ï¼Ÿå®é™…ä¸Š2è€…å„æœ‰åˆ©å¼Šï¼Œå‰è€…å¯ä»¥å……åˆ†åˆ©ç”¨å·²æœ‰ç¡¬ä»¶ï¼Œä½†æ˜¯å¯¹ç¨‹åºå‘˜çš„è¦æ±‚è¾ƒé«˜ï¼Œç»´æŠ¤å¼€å‘æˆæœ¬é«˜ï¼Œé£é™©å¤§ï¼›åè€…å®¹æ˜“å®ç°ä½†æ˜¯æµªè´¹ç¡¬ä»¶ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥ç”¨åŠ ä¸ªæœºå™¨çš„æ–¹å¼å¯ä»¥è§£å†³çš„ï¼ˆæ¯”å¦‚å®¢æˆ·ç«¯ä¸Šçš„å¤šåª’ä½“è½¯ä»¶ï¼Œå…¶è®¡ç®—é‡æå¤§ï¼Œæ€»ä¸èƒ½è¦æ±‚æ‰€æœ‰ç”¨æˆ·éƒ½å‡çº§å§ã€‚ï¼‰ Intel Threading Building Blocksï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨å¤šæ ¸å¤„ç†å™¨çš„C++åº“ï¼Œåº”è¯¥æ˜¯å¯¹åº”ä¸Šé¢çš„çº¿ç¨‹çº§çš„å¹¶è¡Œã€‚ ä½¿ç”¨ æ•´ä¸ªç¨‹åºé€»è¾‘æ²¡åŠæ³•è‡ªåŠ¨å¹¶è¡ŒåŒ–ï¼Œé‚£å°±é’ˆå¯¹æ§åˆ¶æµè¿›è¡Œå¹¶è¡ŒåŒ–ï¼Œæ‰€ä»¥TBBä¸­æä¾›äº† parallel_forã€parallel_whileã€ parallel_reduceç­‰ï¼›ï¼ˆè¿™äº›æ˜¯TBBç»™C++ç¨‹åºå‘˜çš„æ¯”è¾ƒé«˜å±‚çš„æ¥å£ï¼‰å¹¶è¡Œè‚¯å®šæ˜¯å¤šçº¿ç¨‹ï¼Œè¿™æ ·çš„è¯æ•°æ®ç«äº‰é—®é¢˜å°±æ¯”è¾ƒæ£˜æ‰‹ï¼Œæ‰€ä»¥TBBæä¾›å¹¶å‘å®¹å™¨ï¼›å¦‚æœè§‰å¾—TBBæä¾›çš„è¿™äº›æ¥å£è¿˜æ²¡æœ‰åŠæ³•è§£å†³æ€§èƒ½é—®é¢˜ï¼Œé‚£å°±å¯ä»¥æ›´æ·±å…¥çš„ç ”ç©¶ä½¿ç”¨mutexã€atomicã€taskç­‰äº†ï¼›å¯ä»¥çœ‹å‡ºï¼ŒTBBä»å‡ ä¸ªå±‚æ¬¡ä¸Šä¸ºç¨‹åºå‘˜æä¾›äº†æ”¯æŒã€‚ BBæä¾›çš„æ¥å£ï¼š ç”±åº•å±‚åˆ°é«˜å±‚ï¼Œtask_schedulerâ€”â€”â€“concurrent_containerâ€”â€”â€“parallel_forâ€”pipelineç®€å•è¯´ï¼ŒTBBå¸®æˆ‘ä»¬è°ƒåº¦ä¸€ä¸ªä¸ªtaskï¼ˆæ¯”OSçš„è°ƒåº¦è¦é«˜æ•ˆï¼‰ï¼Œå®ç°é«˜æ•ˆçš„å¹¶è¡Œç®—æ³•ã€‚ è¦ä½¿ç”¨TBBè¿›è¡Œå¹¶è¡ŒåŒ–ï¼Œé¦–å…ˆç¨‹åºå‘˜è¦çŸ¥é“å“ªäº›æ˜¯å¯ä»¥å¹¶è¡ŒåŒ–ï¼›å…¶æ¬¡ï¼Œè¦ç†Ÿæ‚‰TBBå¹¶è¡ŒåŒ–çš„æ¡†æ¶ï¼ˆä¸»è¦æ˜¯æ³›å‹ç¼–ç¨‹ï¼‰ï¼›å†æ¬¡ï¼Œç¨‹åºå‘˜è¦å¤§æ¦‚çŸ¥é“å¹¶è¡Œç®—æ³•çš„æ‰§è¡Œæ­¥éª¤ï¼›æœ€åï¼Œåˆ©ç”¨TBBçš„ç»„ä»¶ï¼Œå®ç°å¹¶è¡ŒåŒ–çš„ç®—æ³•ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:1","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"æ¥å£ parallel_for parallel_for é€‚ç”¨åœºåˆï¼šå¤šä¸ªæ•°æ®æˆ–è¯·æ±‚å½¼æ­¤æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œæ‰€è¦è¿›è¡Œçš„æ“ä½œæ˜¯ä¸€æ ·çš„ï¼ˆå…¸å‹SPMDï¼‰ã€‚ blocked_range 1 2 3 4 5 6 7 // å…¸å‹çš„c++æ³›å‹ç¼–ç¨‹ blocked_range æ˜¯è¦å¤„ç†çš„å¤šä¸ªæ•°æ®ï¼Œ3ä¸ªå‚æ•°ä¾æ¬¡æ˜¯å¼€å§‹çš„æŒ‡é’ˆï¼ˆè¿­ä»£å™¨ï¼‰ã€ç»“æŸæŒ‡é’ˆã€æ¯ä¸ªä»»åŠ¡åˆ†é…çš„æ•°æ®æ•° //! Construct range over half-open interval [begin,end), with the given grainsize. blocked_range( Value begin_, Value end_, size_type grainsize_=1 ) : my_end(end_), my_begin(begin_), my_grainsize(grainsize_) { __TBB_ASSERT( my_grainsize\u003e0, \"grainsize must be positive\" ); } ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºèµ·å§‹ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºç»“æŸï¼Œå®ƒä»¬çš„ç±»å‹ä¸ºconst_iteratorï¼Œè¡¨ç¤ºçš„åŒºé—´ä¸º[beginï¼Œend)è¿™æ ·ä¸€ä¸ªåŠå¼€åŒºé—´ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œgrainsizeï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªâ€œåˆé€‚çš„å¤§å°â€å—ï¼Œè¿™ä¸ªå—ä¼šåœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¿›è¡Œå¤„ç†ï¼Œå¦‚æœæ•°ç»„æ¯”è¿™ä¸ªgrainsizeè¿˜å¤§ï¼Œparallel_forä¼šæŠŠå®ƒåˆ†å‰²ä¸ºç‹¬ç«‹çš„blockï¼Œç„¶ååˆ†åˆ«è¿›è¡Œè°ƒåº¦ï¼ˆæœ‰å¯èƒ½ç”±å¤šä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼‰ã€‚ è¿™æ ·æˆ‘ä»¬çŸ¥é“ï¼Œgrainsizeå…¶å®å†³å®šäº†TBBä»€ä¹ˆæ—¶å€™å¯¹æ•°æ®è¿›è¡Œåˆ’åˆ†ï¼Œå¦‚æœæˆ‘ä»¬æŠŠgrainsizeæŒ‡å®šå¾—å¤ªå°ï¼Œé‚£å°±å¯èƒ½ä¼šå¯¼è‡´äº§ç”Ÿè¿‡å¤šå¾—blockï¼Œä»è€Œä½¿å¾—ä¸åŒblocké—´çš„overheadå¢åŠ ï¼ˆæ¯”å¦‚å¤šä¸ªçº¿ç¨‹é—´åˆ‡æ¢çš„ä»£ä»·ï¼‰ï¼Œæœ‰å¯èƒ½ä¼šä½¿æ€§èƒ½ä¸‹é™ã€‚ç›¸åï¼Œå¦‚æœgrainsizeè®¾å¾—å¤ªå¤§ï¼Œä»¥è‡´äºè¿™ä¸ªæ•°ç»„å‡ ä¹æ²¡æœ‰è¢«åˆ’åˆ†ï¼Œé‚£åˆä¼šå¯¼è‡´ä¸èƒ½å‘æŒ¥parallel_foræœŸæœ›è¾¾åˆ°çš„å¹¶è¡Œæ•ˆæœï¼Œä¹Ÿæ²¡æœ‰è¾¾åˆ°ç†æƒ³å¾—æ€§èƒ½ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å†³å®šgrainsizeæ—¶éœ€è¦å°å¿ƒï¼Œæœ€å¥½æ˜¯èƒ½å¤Ÿç»è¿‡è°ƒæ•´æµ‹è¯•åå¾—åˆ°çš„å€¼ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å¦‚æœ¬ä¾‹ä¸­ä¸€æ ·ä¸æŒ‡å®šï¼Œè®©TBBå¸®ä½ æ¥å†³å®šåˆé€‚çš„å€¼ï¼ˆä¸€èˆ¬ä¸æ˜¯æœ€ä¼˜çš„ï¼‰ã€‚ä¸€ä¸ªè°ƒæ•´grainsizeçš„ç»éªŒæ€§æ­¥éª¤ï¼š 1ï¼‰é¦–å…ˆæŠŠgrainsizeè®¾å¾—æ¯”é¢„æƒ³çš„è¦å¤§ä¸€äº›ï¼Œé€šå¸¸è®¾ä¸º10000 2ï¼‰åœ¨å•å¤„ç†æœºæœºå™¨ä¸Šè¿è¡Œï¼Œå¾—åˆ°æ€§èƒ½æ•°æ® 3ï¼‰æŠŠgrainsizeå‡åŠï¼Œçœ‹æ€§èƒ½é™ä½å¤šå°‘ï¼Œå¦‚æœé™ä½åœ¨5%-10%ä¹‹é—´ï¼Œé‚£è¿™ä¸ªgrainsizeå°±å·²ç»æ˜¯ä¸€ä¸ªä¸é”™çš„è®¾å®šã€‚ parallel_for 1 2 3 4 5 6 //! Parallel iteration over range with simple partitioner. /** @ingroup algorithms **/ template\u003ctypename Range, typename Body\u003e void parallel_for( const Range\u0026 range, const Body\u0026 body, const simple_partitioner\u0026 partitioner ) { internal::start_for\u003cRange,Body,const simple_partitioner\u003e::run(range,body,partitioner); } å…¶å‚æ•°ï¼š 1ï¼‰rangeï¼šæŒ‡å®šåˆ’åˆ†blockçš„èŒƒå›´ã€‚ 2ï¼‰bodyï¼šæŒ‡å®šå¯¹blockåº”ç”¨çš„æ“ä½œï¼ŒBodyå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ“ä½œå­functorï¼Œå®ƒçš„operator(â€¦)ä¼šä»¥blocked_rangeä¸ºå‚æ•°è¿›è¡Œè°ƒç”¨ï¼Œå½“ç„¶å¦‚æœæˆ‘ä»¬ä¼ è¿‡æ¥çš„æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªè¦å®ƒèƒ½ä»¥blocked_rangeä¸ºå‚æ•°è¿›è¡Œè°ƒç”¨ã€‚ 3ï¼‰partitionerï¼šæŒ‡å®šåˆ’åˆ†å™¨ï¼Œå¯é€‰çš„ä¸¤ç§simple_partitionerå’Œauto_partitionerã€‚ 1 parallel_for(0,100,[](int v){cout\u003c\u003cv\u003c\u003cendl;}); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // parallel_forFibBodyå¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ˆc++é‡Œæ˜¯ç”¨è¿ç®—ç¬¦é‡è½½å®ç°çš„ï¼Œå³ï¼ˆï¼‰æ˜¯é€šä¿¡çš„æ¥å£ï¼‰ parallel_for( blocked_range\u003cint\u003e( 1, my_n, 10 ), parallel_forFibBody(my_stream) ); struct parallel_forFibBody { QueueStream \u0026my_stream; //! fill functor arguments parallel_forFibBody(QueueStream \u0026s) : my_stream(s) { } // è¿™é‡Œæ˜¯å¹¶è¡Œçš„ä»£ç  void operator()( const blocked_range\u003cint\u003e \u0026range ) const { int i_end = range.end(); for( int i = range.begin(); i != i_end; ++i ) { my_stream.Queue.push( Matrix1110 ); // push initial matrix } } }; parallel_reduce parallel_reduce é€‚åˆäºéœ€è¦æ±‡æ€»çš„æƒ…å†µï¼Œå³å„ä¸ªæ•°æ®çš„ç»“æœéœ€è¦æ±‡æ€»å›æ¥ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 /** parallel_reduce overloads that work with anonymous function objects (see also \\ref parallel_reduce_lambda_req \"requirements on parallel_reduce anonymous function objects\"). **/ //! Parallel iteration with reduction and default partitioner. /** @ingroup algorithms **/ template\u003ctypename Range, typename Value, typename RealBody, typename Reduction\u003e Value parallel_reduce( const Range\u0026 range, const Value\u0026 identity, const RealBody\u0026 real_body, const Reduction\u0026 reduction ) { internal::lambda_reduce_body\u003cRange,Value,RealBody,Reduction\u003e body(identity, real_body, reduction); internal::start_reduce\u003cRange,internal::lambda_reduce_body\u003cRange,Value,RealBody,Reduction\u003e,const __TBB_DEFAULT_PARTITIONER\u003e ::run(range, body, __TBB_DEFAULT_PARTITIONER() ); return body.result(); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 float ParallelSumFoo(float a[], size_t n) { return parallel_reduce(tbb::blocked_range\u003csize_t\u003e(0, n), float(0.f), [a](const tbb::blocked_range\u003csize_t\u003e\u0026 r, const float\u0026 x) -\u003e float { float sum = x; for (size_t i = r.begin(); i != r.end(); ++i) { sum += foo(a[i]); } return sum; }, [](const float\u0026 x, const float\u0026 y) -\u003e float{ return x + y; }); } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 //æ³¨æ„åˆ†å‘ä¸‹å»å’Œæ±‡æ€»å›æ¥çš„æ–¹æ³• float ParallelSumFoo( const float a[], size_t n ) { SumFoo sf(a); parallel_reduce(blocked_range\u003csize_t\u003e(0,n,IdealGrainSize), sf ); return sf.sum; } class SumFoo { float* my_a; public: float sum; void operator()( const blocked_range\u003csize_t\u003e\u0026 r ) { float *a = my_a; for( size_t i=r.begin(); i!=r.end(); ++i ) sum += Foo(a[i]); } SumFoo( SumFoo\u0026 x, split ) : my_a(x.my_a), sum(0) {} // åˆ†å‘ä»»åŠ¡ï¼Œæ³¨æ„è¿™ä¸ªæ„é€ å™¨è¦æ±‚æ˜¯çº¿ç¨‹å®‰å…¨çš„ void join( const SumFoo\u0026 y ) {sum+=y.sum;} // æ”¶é›†æ±‡æ€»ç»“æœ SumFoo(float a[] ) : my_a(a), sum(0) {} }","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:2","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"graph 1 2 3 4 5 //! Makes an edge between a single predecessor and a single successor template\u003c typename T \u003e inline void make_edge( sender\u003cT\u003e \u0026p, receiver\u003cT\u003e \u0026s ) { internal_make_edge( p, s ); } ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:3","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"å¹¶å‘å®¹å™¨ å¤§éƒ¨åˆ†ç¨‹åºéƒ½æœ‰å®¹å™¨ç±»ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å°±æœ‰æ•°æ®æ±¡æŸ“çš„é—®é¢˜ï¼Œä¸ºäº†ä½¿å¹¶å‘çš„çº¿ç¨‹ä¸²è¡ŒåŒ–ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨åŠ é”çš„åŠæ³•ï¼Œå¦‚æœè¿™ä¸ªå®¹å™¨ç”±ç¨‹åºå‘˜è‡ªå·±æ¥å®ç°ï¼Œéš¾åº¦è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¿™æ ·å°±éœ€è¦æœ‰çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ç±»ã€‚ concurrent_hash_map hashæ¥å£ä¸stlç±»ä¼¼ concurrent_vector grow_by(n) æ’å…¥nä¸ªitemï¼ˆåŠ¨æ€å¢é•¿ï¼‰ grow_to_at_leastï¼ˆï¼‰è®¾å®šå®¹å™¨çš„å¤§å° size() åŒ…æ‹¬æ­£åœ¨å¹¶å‘å¢é•¿çš„éƒ¨åˆ† å› ä¸ºæœ‰å¯èƒ½ä¼šåŒæ—¶å–ï¼Œæ‰€ä»¥ç¨‹åºå‘˜éœ€è¦è‡ªå·±ç»´æŠ¤è‡ªå·±çš„classçš„çº¿ç¨‹å®‰å…¨æ€§ clear() ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ concurrent_queue pop_if_present(item) éé˜»å¡ï¼Œ popï¼ˆï¼‰ é˜»å¡ï¼Œ concurrent_queue::size() è´Ÿæ•°æ—¶è¡¨ç¤ºæœ‰å¤šå°‘ä¸ªæ¶ˆè´¹è€…åœ¨ç­‰å¾… set_capacityï¼ˆï¼‰æŒ‡å®šé˜Ÿåˆ—å¤§å°ï¼Œä¼šä½¿pushæ“ä½œè¢«é˜»å¡ åœ¨å¹¶è¡Œæ—¶ï¼Œparalell_while pipeline çš„æ•ˆç‡è¦é«˜äºconcurrent_queue ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:4","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"é” å¦‚æœè§‰å¾—TBBçš„åŠ é”æ•ˆç‡ä¸é«˜ï¼Œå¯ä»¥è‡ªå·±æ§åˆ¶é”ï¼Œæœ€å¸¸ç”¨çš„æ˜¯spin lockã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:5","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["å¼€æºè½¯ä»¶"],"content":"Task Scheduler æ•´ä¸ªTBBå¼•æ“çš„æ ¸å¿ƒæ˜¯ Task Schedulerï¼ˆåŸºäºä»»åŠ¡å›¾æ¥å®ç°ï¼‰ï¼Œæé«˜æ•ˆç‡çš„æ ¸å¿ƒæ˜¯threading stealingï¼Œä¿è¯cpuçš„æ•ˆç‡ã€‚ ","date":"2023-01-16","objectID":"/posts/open_source_software/parallel_computing/tbb/tbb/:1:6","tags":["å¹¶è¡Œç¼–ç¨‹æ¡†æ¶","TBB"],"title":"å¼€æºè½¯ä»¶:å¹¶è¡Œç¼–ç¨‹æ¡†æ¶TBB","uri":"/posts/open_source_software/parallel_computing/tbb/tbb/"},{"categories":["java"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ Android NDK JNIä¹‹C\u0026C++è°ƒç”¨Java NDK-åŠ¨æ€å’Œé™æ€åº“ 1. é™æ€åº“ 1.1. é™æ€åº“ç¼–è¯‘æµç¨‹ 1.2. é™æ€åº“ä½¿ç”¨ 2. åŠ¨æ€åº“ 2.1. åŠ¨æ€åº“ç¼–è¯‘æµç¨‹ 2.2. åŠ¨æ€åº“ä½¿ç”¨ 2.3. readelfå·¥å…· 3. æ€»ç»“ Android NDK Android NDK JNIä¹‹C\u0026C++è°ƒç”¨Java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 //ä½¿ç”¨jniè°ƒç”¨javaçš„ä»£ç , å¿…é¡»äº†è§£javaçš„åå°„æœºåˆ¶; //åœ¨jniä¸­åå°„è°ƒç”¨javaä»£ç çš„è¯, ä¸€å®šè¦å†™å¼‚å¸¸å¤„ç† // jniä¸­å¼‚å¸¸å¤„ç†: if (pEnv-\u003eExceptionCheck()) //è¿™é‡Œå¼‚å¸¸åˆ¤æ–­ä¸€å®šè¦å†™ { pEnv-\u003eExceptionDescribe(); pEnv-\u003eExceptionClear();//å¦‚æœå‡ºç°å¼‚å¸¸,ä¸æ¸…é™¤,è¿”å›ä¹Ÿä¼šå´©æºƒ; } //è¿™é‡Œå°±ç›´æ¥è´´jniä»£ç äº†, è¯¦ç»†åœ¨æ³¨é‡Šé‡Œè¯´æ˜; //å¼‚å¸¸å¤„ç† #define isException() if (pEnv-\u003eExceptionCheck())\\ {pEnv-\u003eExceptionDescribe();pEnv-\u003eExceptionClear();} JNIEXPORT jint JNICALL Java_org_bing_testjni_MainActivity_Add (JNIEnv *env, jobject obj, jint a, jint b) { //é€šè¿‡åŒ…åæˆ–çš„ç±»çš„ç±»å‹ //å¦‚æœæ˜¯é™æ€å‡½æ•°, é‚£ä¹ˆç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯jclass jclass clsMainActivity = pEnv-\u003eFindClass(\"cr25/myjni/MainActivity\"); isException();//å¼‚å¸¸å¤„ç† //è·å–æ„é€  //å‚æ•°1: ç±»çš„ç±»å‹jclass //å‚æ•°2: æ„é€ å‡½æ•°åç§°, javaä¸­æ‰€æœ‰ç±»çš„æ„é€ å‡½æ•°åéƒ½æ˜¯â€\u003cinit\u003eâ€ //å‚æ•°3: è®°å½•äº†å‚æ•°ä¸ªæ•°, ç±»å‹, è¿”å›å€¼ç±»å‹, ä¸‹é¢ä¼šè¯¦ç»†è¯´ jmethodID methodConstruct = pEnv-\u003eGetMethodID(clsMainActivity, \"\u003cinit\u003e\", \"()V\"); isException(); //åˆ›å»ºç±»å¯¹è±¡ jobject objMain = pEnv-\u003eNewObject(clsMainActivity, methodConstruct); isException(); //è·å–javaAddæ–¹æ³•åœ°å€ jmethodID JavaAdd= pEnv-\u003eGetMethodID(clsMainActivity,\"JavaAdd\", \"(II)I\"); isException(); //æ‰§è¡Œå‡½æ•°, æ³¨æ„è¿™ä¸ªCallXXXMethod, XXXæ˜¯è¦æ ¹æ®è¿”å›å€¼ç±»å‹æ¥ç¡®å®š //å¦‚: CallByteMethod, CallStringMethod, CallFloatMethod //å› ä¸ºåœ¨JAVAåå°„ä¸­å¯ä»¥ç”¨Objectç»Ÿä¸€è¿”å›å€¼, C++æ²¡æ³•æ¥ç»Ÿä¸€è¿”å›å€¼ int resutl = pEnv-\u003eCallIntMethod(objMain , JavaAdd, a, b); //åˆ°è¿™é‡Œå°±è°ƒç”¨å®Œäº†å‡½æ•°, è¿˜è¯´ä¸€ä¸‹å­—æ®µè·å–ä¸ä¿®æ”¹ //è·å–å­—æ®µ //å‚æ•°1: jclass //å‚æ•°2: å­—æ®µå //å‚æ•°3: å­—æ®µç±»å‹è®°å½• jfieldID mData = pEnv-\u003eGetFieldID(clsMainActivity, \"mData\", \"I\"); //è®¾ç½®å­—æ®µçš„å€¼ pEnv-\u003eSetIntField(objMainActivity, mData, 2); return resutl ; } Daalvikå­—èŠ‚ç ç±»å‹æè¿°ç¬¦ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 å•ç‹¬è¯´ä¸€ä¸‹GetMethodIDä¸GetFieldIDç¬¬ä¸‰ä¸ªå‚æ•°æ„ä¹‰, å…¶å®è¿™äº›å­—ç¬¦ä¸²å°±æ˜¯ä»£è¡¨äº†å‚æ•°ä¸è¿”å›å€¼ç±»å‹çš„çš„ç®€å†™; æ‹¬å·å†…çš„ä»£è¡¨å‚æ•°, æ‹¬å·å¤–ä»£è¡¨è¿”å›å€¼ å¦‚: (II)V Iæ˜¯ä»£è¡¨int , Væ˜¯ä»£è¡¨viod, è¡¨ç¤ºæœ‰ä¸¤ä¸ªintçš„å‚æ•°, è¿”å›å€¼æ˜¯voidç±»å‹ å¦‚: (Ljava/lang/String;ILjava/lang/String;)J Ljava/lang/String;ä»£è¡¨æ˜¯ç±»çš„ç±»å‹, æ ¼å¼ä¸ºL[åŒ…å]; æ³¨æ„æ˜¯â€;â€ç»“æŸ Jæ˜¯ä»£è¡¨Long è¡¨ç¤ºæœ‰ä¸‰ä¸ªå‚æ•°, String, int, String, è¿”å›å€¼ä¸ºLong V void åªèƒ½ç”¨äºè¿”å›å€¼ç±»å‹ Z boolean å˜é‡å€¼åªèƒ½æ˜¯ çœŸ(true) æˆ– å‡(false) B byte å­—èŠ‚å‹ S short çŸ­æ•´å‹ C char å­—ç¬¦å‹ I int æ•´æ•°å‹ J longï¼ˆ64ä½ï¼‰ é•¿æ•´å‹ F float æµ®ç‚¹å‹ D double(64ä½) åŒç²¾åº¦æµ®ç‚¹å‹ L javaç±»ç±»å‹ package.name.ObjectName Lpackage/name/ObjectName; [ æ•°ç»„ç±»å‹ [Iè¡¨ç¤ºä¸€ä¸ªæ•´å‹ä¸€ç»´æ•°ç»„ï¼Œç­‰äºjavaä¸­çš„int[]ã€‚æ³¨æ„å¤šä½æ•°æ•°ç»„çš„ç»´æ•°æœ€å¤§ä¸º255ä¸ªã€‚ [[I=int[][] [[[I=int[][][] NDK-åŠ¨æ€å’Œé™æ€åº“ ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:0:0","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"1. é™æ€åº“ ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:1:0","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"1.1. é™æ€åº“ç¼–è¯‘æµç¨‹ gccâ€”â€”\u003e obj æ–‡ä»¶â€”-\u003eå¤šä¸ªobjä½¿ç”¨arâ€”â€“\u003eé™æ€åº“æ–‡ä»¶ éœ€è¦ç”¨åˆ°çš„æ ¸å¿ƒå‘½ä»¤: 1 2 3 4 gcc â€“g â€“c mod1.c mod2.c mod3.c ç¼–è¯‘obj (debugç‰ˆ) AR r libdemo.a mod1.o mod2.o mod3.o å°†3ä¸ªobj æ·»åŠ åˆ°libdemo.aä¸­ AR tv libdemo.a æŸ¥çœ‹libdemo.aä¸­çš„objæ–‡ä»¶ AR d libdemo.a mod3.o å°†mod3.oä»libdemo.aä¸­åˆ é™¤ ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:1:1","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"1.2. é™æ€åº“ä½¿ç”¨ ä»£ç ä¸­åŒ…å«å¤´æ–‡ä»¶, åœ¨é“¾æ¥çš„æ—¶å€™ä½¿ç”¨libdemo.aé“¾æ¥å³å¯; ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:1:2","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"2. åŠ¨æ€åº“ ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:2:0","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"2.1. åŠ¨æ€åº“ç¼–è¯‘æµç¨‹ gccâ€”â€”\u003e obj æ–‡ä»¶â€”-\u003eå¤šä¸ªobjä½¿ç”¨gccçš„ -sharedâ€”â€“\u003esoæ–‡ä»¶ éœ€è¦ç”¨åˆ°çš„æ ¸å¿ƒå‘½ä»¤: 1 2 3 4 5 6 7 8 gcc -g -c -fpic -Wall mod1.c mod2.c mod3.c gcc -g -shared mod1.o mod2.o mod3.o -o libfoo.so gcc -g -fpic -Wall -shared mod1.o mod2.o mod3.o -o libfoo.so -fpic è¡¨ç¤ºä»£ç ä¸­åœ°å€å…¨éƒ¨ä½¿ç”¨ç›¸å¯¹åœ°å€, ä¸ä½¿ç”¨ç»å¯¹åœ°å€,è§£å†³é‡å®šä½ -c åªç¼–è¯‘ä¸é“¾æ¥ -Wall æ˜¾ç¤ºæ‰€æœ‰è­¦å‘Š -g ç”ŸæˆDebugç‰ˆ ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:2:1","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"2.2. åŠ¨æ€åº“ä½¿ç”¨ é™æ€ä½¿ç”¨ ç›´æ¥æŠŠSoæ–‡ä»¶å½“ä½œobjä¸€èµ·é“¾æ¥åˆ°æ–‡ä»¶, æ–‡ä»¶ä¸­ä¼šå­˜soä¿¡æ¯, åœ¨ä½¿ç”¨æ—¶ä¼šåœ¨ç›®å½•ä¸­æœç´¢so linuxåŠ¨æ€åº“æœç´¢é¡ºåº: system -\u003e lib -\u003e ç¯å¢ƒå˜é‡ å¢åŠ æ–°ç¯å¢ƒå˜é‡, ç”¨äºç³»ç»Ÿæœç´¢åˆ°æˆ‘ä»¬çš„so, è¿™ä¸ªç¯å¢ƒå˜é‡æ˜¯ä¸€æ¬¡æ€§çš„ adb shell export LD_LIBRARY_PATH += /data/local/tmp åŠ¨æ€ä½¿ç”¨ ä½¿ç”¨apiåŠ è½½æŒ‡å®šç›®å½•çš„so, å†ä½¿ç”¨; dlopenæ‰“å¼€ä¸€ä¸ªsoæ–‡ä»¶ dlsymæ ¹æ®å‡½æ•°åæ‹¿åˆ°å‡½æ•°æŒ‡é’ˆ ä¸€ä¸ªå·¥ç¨‹ä»£ç å¦‚æœåŒæ—¶æœ‰é™æ€å’ŒåŠ¨æ€ç¼–è¯‘, é‚£ä¹ˆå°±åªç¼–è¯‘åŠ¨æ€åº“; ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:2:2","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"2.3. readelfå·¥å…· ä½¿ç”¨readelfå·¥å…·å¯ä»¥æŸ¥çœ‹elfæ–‡ä»¶çš„ç¬¦å·è¡¨ å‘½ä»¤: å¹³å°-readelf - s elfæ–‡ä»¶ ,å½“valueå€¼ä¸º0è¡¨ç¤ºä¸ºå¯¼å…¥å‡½æ•° 1 __attribute__() //å…³é”®å­—å¯ä»¥æŒ‡å®šå‡½æ•°å±æ€§ å¦‚: 1 2 __attribute__(visibility(\"hidden\")) // éšè—å‡½æ•° __attribute__(visibility(\"defult\")) // å¯¼å‡ºå‡½æ•° ä»¥ä¸‹åœ¨soçš„è£…è½½å’Œå¸è½½çš„æ—¶å€™è¢«è°ƒç”¨(è€ç‰ˆæœ¬, å·²ç»è¢«æ·˜æ±°, ä½†æ˜¯å¯ä»¥ç”¨); 1 2 void _init() // åˆå§‹åŒ–å‡½æ•° void _fini() // ååˆå§‹åŒ–å‡½æ•° åœ¨æ–°ç‰ˆæœ¬çš„åˆå§‹åŒ–ä¸ååˆå§‹åŒ–æœºåˆ¶ä¸­, å¯ä»¥è®¾ç½®å¤šä¸ªå‡½æ•°, åå­—å¯ä»¥è‡ªå®šä¹‰; 1 2 3 4 void __attribute__((constructor)) OnLoad() // åˆå§‹åŒ–å‡½æ•° void __attribute__((destructor)) UnLoad() // ååˆå§‹åŒ– void __attribute__((constructor)) OnLoad1() // åˆå§‹åŒ–å‡½æ•°1 void __attribute__((destructor)) UnLoad1() // ååˆå§‹åŒ–1 ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:2:3","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["java"],"content":"3. æ€»ç»“ 1.ç›¸å…³å‡½æ•° 1 2 3 4 dlopen()å‡½æ•°æ‰“å¼€ä¸€ä¸ªå…±äº«åº“ dlsym()å‡½æ•°åœ¨åº“ä¸­æœ dlclose() å‡½æ•°å…‰æ¯”ä¹‹å‰dlopenæ‰“å¼€çš„åº“ dlerror() å‡½æ•°è¿”å›ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯çš„å­—ç¬¦ä¸² 2.éšè—å‡½æ•° 1 void __attribute__ ((visibility(\"hidden\"))) fun() {} soæ„é€ ææ„(ä¼šåœ¨soåŠ è½½å’Œå¸è½½çš„æ—¶å€™è°ƒç”¨) 1 2 void __attribute__ ((constructor)) Load() void __attribute__ ((destructor)) UnLoad() _init()å’Œ_fini()å‡½æ•° ä¼šåœ¨soåŠ è½½å’Œå¸è½½æ—¶è°ƒç”¨ _initå‡½æ•°æ¯”æ„é€ å‡½æ•°æ¥çš„æ—© hiddenååœ¨ç”¨dlsymå‡½æ•°æ— æ³•æ‰¾åˆ° ","date":"2023-01-15","objectID":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/:3:0","tags":["java","jni"],"title":"Androidåº”ç”¨ä¸­ä½¿ç”¨Cå’ŒC++ä»£ç ","uri":"/posts/program/java/android%E5%BA%94%E7%94%A8%E4%B8%AD%E4%BD%BF%E7%94%A8c%E5%92%8Cc++%E4%BB%A3%E7%A0%81/"},{"categories":["bash"],"content":"bash ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç¬¬ä¸€éƒ¨åˆ† bashç®€ä»‹ ç¬¬äºŒéƒ¨åˆ† bashç¤ºä¾‹å’Œä¹¦å†™æµç¨‹ ç¬¬ä¸‰éƒ¨åˆ† bashåŸºç¡€è¯­æ³• 1. æ¡ä»¶åˆ¤æ–­ 1.1 teståˆ¤æ–­è¯­å¥ 1.2 []æ¡ä»¶åˆ¤æ–­ 1.3 æµ‹è¯•é€»è¾‘è¡¨è¾¾å¼ 2. if then elseè¯­å¥ 3. caseè¯­å¥ 4. forå¾ªç¯ 5. untilå¾ªç¯ 6. whileå¾ªç¯ 7. ä½¿ç”¨breakå’Œcontinueæ§åˆ¶å¾ªç¯ ç¬¬å››éƒ¨åˆ† bashæ•°ç»„ 1. æ•°ç»„å®šä¹‰ 2. æ•°ç»„æ“ä½œ ç¬¬äº”éƒ¨åˆ† å‡½æ•° 1. å‡½æ•°å®šä¹‰ 2. å‡½æ•°è°ƒç”¨å’Œä¼ å‚ 3. å‡½æ•°è¿”å›å€¼ 4. åº”ç”¨å®ä¾‹ ç¬¬å…­éƒ¨åˆ† æ•°å€¼è¿ç®— åº”ç”¨å®ä¾‹ä¸€ï¼šåˆ†åˆ«ç”¨ä¸Šé¢å››ç§æ–¹å¼å®ç°\"3*(5+2)\"ã€‚ åº”ç”¨å®ä¾‹äºŒï¼šåˆ†åˆ«å‹‡ä¸Šé¢å››ç§æ–¹å¼å®ç°â€œæ•°å€¼+1â€ã€‚ åº”ç”¨å®ä¾‹ä¸‰ï¼šè®¡ç®—1/3,ä¿ç•™3ä½å°æ•°ã€‚ ç¬¬ä¸ƒéƒ¨åˆ† å­—ç¬¦è¿ç®— 1. å­—ç¬¦ä¸²å®šä¹‰ 2. å­—ç¬¦ä¸²æ“ä½œ 2.1 stringæ“ä½œå…¬å¼è¡¨ 2.2 åº”ç”¨å®ä¾‹ ç¬¬å…«éƒ¨åˆ† bashè‡ªå¸¦å‚æ•° ç¬¬ä¹éƒ¨åˆ† bashè°ƒè¯• 1. bashå‘½ä»¤è°ƒè¯• 2. echoè°ƒè¯• 3. printf ç¬¬åéƒ¨åˆ† bashæ³¨é‡Š 1. å•è¡Œæ³¨é‡Š 2. å¤šè¡Œæ³¨é‡Š ç¬¬åä¸€éƒ¨åˆ† bashå†…å»ºæŒ‡ä»¤ 1. å†…å»ºå‘½ä»¤æŸ¥çœ‹æ–¹æ³• 2. å¸¸ç”¨å†…å»ºå‘½ä»¤è¯´æ˜ ç¬¬ä¸€éƒ¨åˆ† bashç®€ä»‹ åœ¨ä»‹ç»bashä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£å®ƒçš„èµ·æºâ€”â€”shellã€‚ shellä¿—ç§°å£³ï¼Œå®ƒæ˜¯æŒ‡UNIXç³»ç»Ÿä¸‹çš„ä¸€ä¸ªå‘½ä»¤è§£æå™¨ï¼›ä¸»è¦ç”¨äºç”¨æˆ·å’Œç³»ç»Ÿçš„äº¤äº’ã€‚ UNIXç³»ç»Ÿä¸Šæœ‰å¾ˆå¤šç§Shellã€‚é¦–ä¸ªshellï¼Œå³Bourne Shellï¼Œäº1978å¹´åœ¨V7(AT\u0026Tçš„ç¬¬7ç‰ˆ)UNIXä¸Šæ¨å‡ºã€‚åæ¥ï¼Œåˆæ¼”å˜å‡ºC shellã€bashç­‰ä¸åŒç‰ˆæœ¬çš„shellã€‚ bashï¼Œå…¨ç§°ä¸ºBourne-Again Shellã€‚å®ƒæ˜¯ä¸€ä¸ªä¸ºGNUé¡¹ç›®ç¼–å†™çš„Unix shellã€‚bashè„šæœ¬åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†è‡ªåŠ¨å¾ªç¯æˆ–å¤§çš„ä»»åŠ¡æ–¹é¢å¯èŠ‚çœå¤§é‡çš„æ—¶é—´ã€‚bashæ˜¯è®¸å¤šLinuxå¹³å°çš„å†…å®šShellï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä»‹ç»å®ƒä¸»è¦çš„åŸå› ã€‚ ç¬¬äºŒéƒ¨åˆ† bashç¤ºä¾‹å’Œä¹¦å†™æµç¨‹ 1 æ–°å»ºæ–‡ä»¶test.sh $ touch test.sh 2 æ·»åŠ å¯æ‰§è¡Œæƒé™ $ chmod +x test.sh 3 ç¼–è¾‘test.shï¼Œtest.shå†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash echo \"hello bash\" exit 0 è¯´æ˜ï¼š (01) #!/bin/bash : å®ƒæ˜¯bashæ–‡ä»¶å£°æ˜è¯­å¥ï¼Œè¡¨ç¤ºæ˜¯ä»¥/bin/bashç¨‹åºæ‰§è¡Œè¯¥æ–‡ä»¶ã€‚å®ƒå¿…é¡»å†™åœ¨æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼ (02) echo â€œhello bashâ€ : è¡¨ç¤ºåœ¨ç»ˆç«¯è¾“å‡ºâ€œhello bashâ€ (03) exit 0 : è¡¨ç¤ºè¿”å›0ã€‚åœ¨bashä¸­ï¼Œ0è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œå…¶ä»–è¡¨ç¤ºå¤±è´¥ã€‚ 4 æ‰§è¡Œbashè„šæœ¬ $ ./test.sh åœ¨ç»ˆç«¯è¾“å‡ºâ€œbash helloâ€ ç¬¬ä¸‰éƒ¨åˆ† bashåŸºç¡€è¯­æ³• ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:0:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. æ¡ä»¶åˆ¤æ–­ æ¡ä»¶åˆ¤æ–­æœ‰2ä¸­æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯â€œtest EXPRESSIONâ€å’Œâ€œ[ EXPRESSION ]â€ã€‚ â€œtestâ€åˆ¤æ–­è¯­å¥ï¼Œåœ¨å®é™…ä¸­åº”ç”¨çš„æ¯”è¾ƒå°‘ï¼›ç›¸åçš„ï¼Œâ€œ[]â€åˆ¤æ–­è¯­å¥åº”ç”¨å¾ˆå¹¿ã€‚ä¸‹é¢åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œä»‹ç» ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:1:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1.1 teståˆ¤æ–­è¯­å¥ åŸºæœ¬æ ¼å¼ test EXPRESSION æ ¼å¼è¯´æ˜ testæ˜¯å…³é”®å­—ï¼Œè¡¨ç¤ºåˆ¤æ–­ï¼› EXPRESSIONæ˜¯è¢«åˆ¤æ–­çš„è¯­å¥ã€‚ åº”ç”¨å®ä¾‹ è¡¨è¾¾å¼ è¯´æ˜ test -d File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"ç›®å½•\" test -f File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"æ™®é€šæ–‡ä»¶\" test -L File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"ç¬¦å·é“¾æ¥\" test -r File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"å¯è¯»\" test -s File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"æ–‡ä»¶é•¿åº¦å¤§äº0ã€éç©º\" test -w File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"å¯å†™\" test -u File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"æœ‰suidä½è®¾ç½®\" test -x File åˆ¤æ–­Fileæ˜¯ä¸æ˜¯\"å¯æ‰§è¡Œ\" ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:1:1","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1.2 []æ¡ä»¶åˆ¤æ–­ åŸºæœ¬æ ¼å¼ [ EXPRESSION ] æ ¼å¼è¯´æ˜ ä¸­æ‹¬å·çš„å·¦å³æ‰©å¼§å’ŒEXPRESSIONä¹‹é—´éƒ½å¿…é¡»æœ‰ç©ºæ ¼ï¼ åº”ç”¨å®ä¾‹ è¡¨è¾¾å¼ è¯´æ˜ [ (expr) ] exprä¸ºçœŸ [ !expr ] exprä¸ºå‡ [ expr1 -a expr2 ] expr1å’Œexpr2åŒæ—¶ä¸ºçœŸ [ expr1 -o expr2 ] expr1æˆ–expr2ä¸ºçœŸ [ -n string ] stringçš„é•¿åº¦ä¸ä¸º0 [ -z string ] stringçš„é•¿åº¦ä¸º0 [ string1 = string2 ] ä¸¤ä¸ªå­—ç¬¦ä¸²string1å’Œstring2ç›¸ç­‰ [ string1 != string2 ] ä¸¤ä¸ªå­—ç¬¦ä¸²string1å’Œstring2ä¸ç­‰ [ integer1 -eq integer2 ] ä¸¤ä¸ªinteger1å’Œinteger2æ•´æ•°ç›¸ç­‰ [ integer1 -ne integer2 ] integer1ä¸ç­‰äºinteger2 [ integer1 -ge integer2 ] integer1å¤§äºæˆ–ç­‰äºinteger2 [ integer1 -gt integer2 ] integer1å¤§äºinteger2 [ integer1 -le integer2 ] integer1å°äºæˆ–ç­‰äºinteger2 [ integer1 -lt integer2 ] integer1å°äºinteger2 [ file1 -ef file2 ] æ–‡ä»¶file1å’Œfile2æœ‰ç›¸åŒçš„deviceå’Œinodeæ•°ç›® [ file1 -nt file2 ] file1çš„ä¿®æ”¹äº‹ä»¶æ—©äºfile2 [ file1 -ot file2 ] file1çš„ä¿®æ”¹äº‹ä»¶æ™šäºfile2 [ -b file ] fileæ˜¯å—è®¾å¤‡ [ -c file ] fileæ˜¯å­—ç¬¦è®¾å¤‡ [ -d file ] fileæ˜¯æ–‡ä»¶å¤¹ [ -e file ] fileæ˜¯å­˜åœ¨ [ -f file ] fileæ˜¯æ™®é€šæ–‡ä»¶ [ -g file ] fileå­˜åœ¨ï¼Œä¸”æœ‰group-ID [ -G file ] fileå­˜åœ¨ï¼Œä¸”group-IDæ˜¯æœ‰æ•ˆçš„ [ -h file ] fileå­˜åœ¨ï¼Œä¸”æ˜¯ä¸€ä¸ªç¡¬é“¾æ¥ [ -L file ] fileå­˜åœ¨ï¼Œä¸”æ˜¯ä¸€ä¸ªè½¯é“¾æ¥ [ -r file ] fileå­˜åœ¨ï¼Œä¸”å¯è¯» [ -w file ] fileå­˜åœ¨ï¼Œä¸”å¯å†™ [ -x file ] fileå­˜åœ¨ï¼Œä¸”å¯æ‰§è¡Œ ä¾‹å¦‚ï¼Œ ä¸€ã€åˆ¤æ–­æ–‡ä»¶/home/skywang/123.txtæ˜¯å¦å­˜åœ¨ $ [ -f /home/skywang/123.txt ] äºŒã€åˆ¤æ–­å˜é‡valæ˜¯å¦ç­‰äºå­—ç¬¦ä¸²â€œskywangâ€ $ [ \"$val\" = \"skywang\" ] ä¸‰ï¼Œåˆ¤æ–­å˜é‡numæ˜¯å¦ç­‰äºæ•°å­—100 $ [ \"$num\" -eq \"100\" ] ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:1:2","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1.3 æµ‹è¯•é€»è¾‘è¡¨è¾¾å¼ åŸºæœ¬æ ¼å¼ ç¬¦å· è¯´æ˜ -a é€»è¾‘ä¸,æ“ä½œç¬¦ä¸¤è¾¹å‡ä¸ºçœŸ,ç»“æœä¸ºçœŸ,å¦åˆ™ä¸ºå‡ã€‚ -o é€»è¾‘æˆ–,æ“ä½œç¬¦ä¸¤è¾¹ä¸€è¾¹ä¸ºçœŸ,ç»“æœä¸ºçœŸ,å¦åˆ™ä¸ºå‡ã€‚ ! é€»è¾‘å¦,æ¡ä»¶ä¸ºå‡,ç»“æœä¸ºçœŸã€‚ åº”ç”¨å®ä¾‹ ä¸€ã€åˆ¤æ–­æ–‡ä»¶123.txtæ˜¯ä¸æ˜¯å¯è¯»å†™ $ [ -r 123.txt -a -w 123.txt ] ç­‰ä»·äº $ [ -r 123.txt ] \u0026\u0026 [ -w 123.txt ] äºŒã€åˆ¤æ–­å˜é‡numæ˜¯ä¸æ˜¯ç­‰äºæ•°å­—101æˆ–102 $ [ \"$num\" -eq \"101\" -o \"$num\" -eq \"102\" ] ç­‰ä»·äº $ [ -r 123.txt ] || [ -w 123.txt ] ä¸‰ã€åˆ¤æ–­æ–‡ä»¶123.txtæ˜¯ä¸æ˜¯ä¸å¯è¯» $ [ ! -r 123.txt ] ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:1:3","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. if then elseè¯­å¥ åŸºæœ¬æ ¼å¼ if æ¡ä»¶1 then å‘½ä»¤1 elif æ¡ä»¶2 then å‘½ä»¤2 else å‘½ä»¤3 if æ ¼å¼è¯´æ˜ if è¯­å¥å¿…é¡»ä»¥å•è¯ fi ç»ˆæ­¢ã€‚ elif å’Œ else ä¸ºå¯é€‰é¡¹,å¦‚æœè¯­å¥ä¸­æ²¡æœ‰å¦åˆ™éƒ¨åˆ†,é‚£ä¹ˆå°±ä¸éœ€è¦ elif å’Œ else éƒ¨åˆ†ã€‚ if è¯­å¥å¯ä»¥æœ‰è®¸å¤š elif éƒ¨åˆ†ã€‚æœ€å¸¸ç”¨çš„ if è¯­å¥æ˜¯ if then fi ç»“æ„ã€‚ åº”ç”¨å®ä¾‹ ä¸€ã€åˆ¤æ–­æ–‡ä»¶æ–‡ä»¶123.txtæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™è¾“å‡ºâ€œfile existâ€ï¼›æ²¡æœ‰åˆ™è¾“å‡ºâ€œfile not existâ€ã€‚bashæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash if [ -f 123.txt ];then echo \"file exist\" else echo \"file not exist\" fi exit 0 äºŒã€æç¤ºç”¨æˆ·è¾“å…¥å€¼ã€‚è‹¥è¾“å…¥çš„å€¼å°äº0ï¼Œåˆ™è¾“å‡ºâ€œnegtive numberâ€ï¼›è‹¥ç­‰äº0,åˆ™è¾“å‡ºâ€œnumber zeroâ€ï¼Œå¦åˆ™ï¼Œè¾“å‡ºâ€œpositive numberâ€ã€‚bashæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # æç¤ºç”¨æˆ·è¾“å…¥ä¸€ä¸ªå€¼ echo -n \"please input a number:\" # ä¿å­˜ç”¨æˆ·è¾“å…¥çš„å€¼åˆ°numä¸­ read num if [ \"$num\" -lt \"0\" ];then # å°äº0,åˆ™è¾“å‡ºâ€œnegtive numberâ€ echo \"negtive number\" elif [ \"$num\" -gt \"0\" ];then # å¤§äº0,åˆ™è¾“å‡ºâ€œpositive numberâ€ echo \"positive number\" else # å¤§äº0,åˆ™è¾“å‡º\"number zero\" echo \"number zero\" fi exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:2:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"3. caseè¯­å¥ caseè¯­å¥ä¸ºå¤šé€‰æ‹©è¯­å¥ã€‚å¯ä»¥ç”¨caseè¯­å¥åŒ¹é…ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªæ¨¡å¼,å¦‚æœåŒ¹é…æˆåŠŸ,æ‰§è¡Œç›¸åŒ¹é…çš„å‘½ä»¤ã€‚ åŸºæœ¬æ ¼å¼ case å€¼ in æ¨¡å¼1} å‘½ä»¤1 ... ;; æ¨¡å¼2) å‘½ä»¤2 ... ;; esac æ ¼å¼è¯´æ˜ â€œæ¨¡å¼â€éƒ¨åˆ†å¯èƒ½åŒ…æ‹¬å…ƒå­—ç¬¦ï¼Œå³: ç¬¦å· è¯´æ˜ * ä»»æ„å­—ç¬¦ã€‚ ? ä»»æ„å•å­—ç¬¦ã€‚ [..] ç±»æˆ–èŒƒå›´ä¸­ä»»æ„å­—ç¬¦ åº”ç”¨å®ä¾‹ ä¸€ã€æç¤ºç”¨æˆ·è¾“å…¥Y/yæˆ–N/nã€‚è‹¥è¾“å…¥Y/yï¼Œåˆ™è¾“å‡ºâ€œyesâ€ï¼›è‹¥è¾“å…¥N/n,åˆ™è¾“å‡ºâ€œnoâ€ï¼›å¦åˆ™ï¼Œâ€œincorrect inputâ€ã€‚bashæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # æç¤ºç”¨æˆ·è¾“å…¥ä¸€ä¸ªå€¼ echo -n \"are you femail(Y/N):\" # ä¿å­˜ç”¨æˆ·è¾“å…¥çš„å€¼åˆ°valä¸­ read val case $val in Y|y) # ç”¨æˆ·è¾“å…¥Yæˆ–y echo \"yes\" ;; N|n) # ç”¨æˆ·è¾“å…¥Næˆ–n \"no\" ;; *) # å…¶å®ƒè¾“å…¥ echo \"incorrect input\" ;; esac exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:3:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"4. forå¾ªç¯ åŸºæœ¬æ ¼å¼ for å˜é‡åinåˆ—è¡¨ do å‘½ä»¤1 å‘½ä»¤2... done æ ¼å¼è¯´æ˜ å½“å˜é‡å€¼åœ¨åˆ—è¡¨é‡Œ, forå¾ªç¯å³æ‰§è¡Œä¸€æ¬¡æ‰€æœ‰å‘½ä»¤,ä½¿ç”¨å˜é‡åè®¿é—®åˆ—è¡¨ä¸­å–å€¼ã€‚ å‘½ä»¤å¯ä¸ºä»»ä½•æœ‰æ•ˆçš„ shellå‘½ä»¤å’Œè¯­å¥ã€‚å˜é‡åä¸ºä»»ä½•å•è¯ã€‚ inåˆ—è¡¨ç”¨æ³•æ˜¯å¯é€‰çš„,å¦‚æœä¸ç”¨å®ƒ, forå¾ªç¯ä½¿ç”¨å‘½ä»¤è¡Œçš„ä½ç½®å‚æ•°ã€‚ åº”ç”¨å®ä¾‹ ä¸€ã€è¾“å…¥å½“å‰æ–‡ä»¶å¤¹çš„ä¸€çº§å­ç›®å½•ä¸­æ–‡ä»¶åå­—ã€‚bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # å°†lsçš„ç»“æœä¿å­˜åˆ°å˜é‡CUR_DIRä¸­ CUR_DIR=`ls` # æ˜¾ç¤ºlsçš„ç»“æœ echo $CUR_DIR for val in $CUR_DIR do # è‹¥valæ˜¯æ–‡ä»¶ï¼Œåˆ™è¾“å‡ºè¯¥æ–‡ä»¶å if [ -f $val ];then echo \"FILE: $val\" fi done exit 0 äºŒã€è¾“å‡º1-10ä¹‹é—´æ•°å­—çš„æ€»å’Œã€‚bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash sum=0 for ((i=1;i\u003c10;i++)) do ((sum=$sum+$i)) done echo \"sum=$sum\" exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:4:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"5. untilå¾ªç¯ untilå¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸ºçœŸæ—¶åœæ­¢ã€‚ untilå¾ªç¯ä¸ whileå¾ªç¯åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚ä¸€èˆ¬ whileå¾ªç¯ä¼˜äºuntilå¾ªç¯,ä½†åœ¨æŸäº›æ—¶å€™ â€” ä¹Ÿåªæ˜¯æå°‘æ•°æƒ…å†µä¸‹, untilå¾ªç¯æ›´åŠ æœ‰ç”¨ã€‚ åŸºæœ¬æ ¼å¼ until æ¡ä»¶ å‘½ä»¤1 ... done æ ¼å¼è¯´æ˜ æ¡ä»¶å¯ä¸ºä»»æ„æµ‹è¯•æ¡ä»¶,æµ‹è¯•å‘ç”Ÿåœ¨å¾ªç¯æœ«å°¾,å› æ­¤å¾ªç¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡ â€” è¯·æ³¨æ„è¿™ä¸€ç‚¹ã€‚ åº”ç”¨å®ä¾‹ ä¸€ã€ä»0å¼€å§‹é€æ­¥é€’å¢ï¼Œå½“æ•°å€¼ç­‰äº5æ—¶ï¼Œåœæ­¢é€’å¢ã€‚Bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # è®¾ç½®èµ·å§‹å€¼ä¸º0 val=0 until [ \"$val\" -eq \"5\" ] do # è¾“å‡ºæ•°å€¼ echo \"val=$val\" # å°†æ•°å€¼åŠ 1 ((val++)) done exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:5:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"6. whileå¾ªç¯ åŸºæœ¬æ ¼å¼ while å‘½ä»¤ do å‘½ä»¤1 å‘½ä»¤2 ... done åº”ç”¨å®ä¾‹ ä¸€ã€ä»0å¼€å§‹é€æ­¥é€’å¢ï¼Œå½“æ•°å€¼ç­‰äº5æ—¶ï¼Œåœæ­¢é€’å¢ã€‚Bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # è®¾ç½®èµ·å§‹å€¼ä¸º0 val=0 while [ \"$val\" -lt \"5\" ] do # è¾“å‡ºæ•°å€¼ echo \"val=$val\" # å°†æ•°å€¼åŠ 1 ((val++)) done exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:6:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"7. ä½¿ç”¨breakå’Œcontinueæ§åˆ¶å¾ªç¯ åŸºæœ¬æ ¼å¼ breakå‘½ä»¤å…è®¸è·³å‡ºå¾ªç¯ã€‚ continueå‘½ä»¤ç±»ä¼¼äº breakå‘½ä»¤,åªæœ‰ä¸€ç‚¹é‡è¦å·®åˆ«,å®ƒä¸ä¼šè·³å‡ºå¾ªç¯,åªæ˜¯è·³è¿‡è¿™ä¸ªå¾ªç¯æ­¥ã€‚ åº”ç”¨å®ä¾‹ ä¸€ã€[breakåº”ç”¨]ä»0å¼€å§‹é€æ­¥é€’å¢ï¼Œå½“æ•°å€¼ç­‰äº5æ—¶ï¼Œåœæ­¢é€’å¢ã€‚Bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # è®¾ç½®èµ·å§‹å€¼ä¸º0 val=0 while true do if [ \"$val\" -eq \"5\" ];then # å¦‚æœval=5ï¼Œåˆ™è·³å‡ºå¾ªç¯ break; else # è¾“å‡ºæ•°å€¼ echo \"val=$val\" # å°†æ•°å€¼åŠ 1 ((val++)) fi done exit 0 äºŒã€[continueåº”ç”¨]ä»0å¼€å§‹é€æ­¥é€’å¢åˆ°10ï¼šå½“æ•°å€¼ä¸º5æ—¶ï¼Œå°†æ•°å€¼é€’å¢2ï¼›å¦åˆ™ï¼Œè¾“å‡ºæ•°å€¼ã€‚Bashè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash # è®¾ç½®èµ·å§‹å€¼ä¸º0 val=0 while [ \"$val\" -le \"10\" ] do if [ \"$val\" -eq \"5\" ];then # å¦‚æœval=5ï¼Œåˆ™å°†æ•°å€¼åŠ 2 ((val=$val+2)) continue; else # è¾“å‡ºæ•°å€¼ echo \"val=$val\" # å°†æ•°å€¼åŠ 1 ((val++)) fi done exit 0 ç¬¬å››éƒ¨åˆ† bashæ•°ç»„ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:7:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. æ•°ç»„å®šä¹‰ æ–¹æ³•ä¸€ array=(10 20 30 40 50) ä¸€å¯¹æ‹¬å·è¡¨ç¤ºæ˜¯æ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨â€œç©ºæ ¼â€ç¬¦å·åˆ†å‰²å¼€ã€‚å¼•ç”¨æ•°ç»„æ—¶ä»åºå·0å¼€å§‹ã€‚ æ–¹æ³•äºŒ array[0]=10 array[1]=20 array[2]=30 array[3]=40 array[4]=50 æ–¹æ³•ä¸‰ var=\"10 20 30 40 50\"; array=($var) ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:8:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. æ•°ç»„æ“ä½œ (01) æ˜¾ç¤ºæ•°ç»„ä¸­ç¬¬2é¡¹ $ echo ${array[i]} è¯´æ˜ï¼šæ•°ç»„æ˜¯ä»åºå·0å¼€å§‹è®¡ç®—(å³ç¬¬1é¡¹ä¸ºarray[0])ã€‚ (02) æ˜¾ç¤ºæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´  $ echo ${array[@]} æˆ–è€… $ echo ${array[*]} (03) æ˜¾ç¤ºæ•°ç»„é•¿åº¦ $ echo ${#array[@]} æˆ–è€… $ echo ${#array[*]} (04) åˆ é™¤æ•°ç»„ç¬¬2é¡¹å…ƒç´  $ unset array[1] è¯´æ˜ï¼šunsetä»…ä»…åªæ¸…é™¤array[1]çš„å€¼ï¼Œå¹¶æ²¡æœ‰å°†array[1]åˆ é™¤æ‰ (05) åˆ é™¤æ•´ä¸ªæ•°ç»„ $ unset array (06) è¾“å‡ºæ•°ç»„çš„ç¬¬1-3é¡¹ $ echo ${array[@]:0:3} è¯´æ˜ï¼šå‚è€ƒâ€œ${æ•°ç»„å[@æˆ–*]:èµ·å§‹ä½ç½®:é•¿åº¦}â€ (07) å°†æ•°ç»„ä¸­çš„0æ›¿æ¢æˆ1 $ echo ${a[@]/0/1} è¯´æ˜ï¼š${æ•°ç»„å[@æˆ–*]/æŸ¥æ‰¾å­—ç¬¦/æ›¿æ¢å­—ç¬¦ ç¬¬äº”éƒ¨åˆ† å‡½æ•° ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:9:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. å‡½æ•°å®šä¹‰ åŸºæœ¬æ ¼å¼ function å‡½æ•°å() { ... } æ ¼å¼è¯´æ˜ functionå¯æœ‰å¯æ— ã€‚ä½†å»ºè®®ä¿ç•™ï¼Œå› ä¸ºä¿ç•™çš„è¯çœ‹èµ·æ¥æ›´åŠ ç›´è§‚ã€‚ åº”ç”¨å®ä¾‹ function foo() { # å®šä¹‰å±€éƒ¨å˜é‡i local i=0 # å®šä¹‰å±€éƒ¨å˜é‡total=ä¼ å…¥fooçš„å‚æ•°æ€»æ•° local total=$# # è¾“å‡ºå‚æ•°æ€»æ•° echo \"total param =$total\" # è¾“å‡ºä¼ å…¥fooçš„æ¯ä¸€ä¸ªå‚æ•° for val in $@ do ((i++)) echo \"$i -- val=$val\" done # è¿”å›å‚æ•°æ€»æ•° return $total } ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:10:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. å‡½æ•°è°ƒç”¨å’Œä¼ å‚ è°ƒç”¨æ–¹æ³• ç›´æ¥é€šè¿‡å‡½æ•°åå»è°ƒç”¨ã€‚ åº”ç”¨å®ä¾‹ foo param1 param2 param3 è¯´æ˜ï¼šè°ƒç”¨å‡½æ•°fooï¼Œå¹¶ä¼ å…¥param1 param2 param3ä¸‰ä¸ªå‚æ•° ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:11:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"3. å‡½æ•°è¿”å›å€¼ ä½¿ç”¨æ–¹æ³• return è¿”å›å€¼ æ–¹æ³•è¯´æ˜ ä¾‹å¦‚ï¼Œfoo param1 param2 param3ä¹‹åï¼Œå†è°ƒç”¨$?å°±æ˜¯ä¸Šæ¬¡è°ƒç”¨çš„è¿”å›å€¼ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:12:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"4. åº”ç”¨å®ä¾‹ ç¼–è¾‘ä¸€ä¸ªå‡½æ•°fooï¼šæ‰“å°fooçš„è¾“å…¥å‚æ•°çš„æ€»æ•°ï¼Œå¹¶è¾“å…¥æ¯ä¸ªå‚æ•°å’Œå‚æ•°å¯¹åº”çš„åºå·ã€‚ #!/bin/bash function foo() { # å®šä¹‰å±€éƒ¨å˜é‡i local i=0 # å®šä¹‰å±€éƒ¨å˜é‡total=ä¼ å…¥fooçš„å‚æ•°æ€»æ•° local total=$# # è¾“å‡ºå‚æ•°æ€»æ•° echo \"total param =$total\" # è¾“å‡ºä¼ å…¥fooçš„æ¯ä¸€ä¸ªå‚æ•° for val in $@ do ((i++)) echo \"$i -- val=$val\" done # è¿”å›å‚æ•°æ€»æ•° return $total } foo foo param1 param2 param3 # è¾“å‡ºfoo param1 param2 param3çš„è¿”å›å€¼ echo \"return value=$?\" exit 0 è¾“å‡ºç»“æœ: total param =0 total param =3 1 -- val=param1 2 -- val=param2 3 -- val=param3 return value=3 ç¬¬å…­éƒ¨åˆ† æ•°å€¼è¿ç®— æ•°å€¼æ¯”è¾ƒè¯·å‚è€ƒ\"ç¬¬ä¸‰éƒ¨åˆ†\"çš„1.2èŠ‚ï¼Œæœ¬éƒ¨åˆ†åªä»‹ç»æ•°å€¼è¿ç®—ã€‚ å¸¸ç”¨çš„4ç§æ•°å€¼è¿ç®—è¯´æ˜ æ•°å€¼å…ƒç®—ä¸»è¦æœ‰4ç§å®ç°æ–¹å¼ï¼š(())ã€letã€exprã€bcã€‚ å·¥ä½œæ•ˆç‡ï¼š(()) == let \u003e expr \u003e bc (01), (())å’Œletæ˜¯bashå†…å»ºå‘½ä»¤ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼›è€Œexprå’Œbcæ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¼šæ¶ˆè€—å†…å­˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ã€‚ (02), (())ã€letå’Œexpråªæ”¯æŒæ•´æ•°è¿ç®—ï¼Œä¸æ”¯æŒæµ®ç‚¹è¿ç®—ï¼›è€Œbcæ”¯æŒæµ®ç‚¹è¿ç®—ã€‚ ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™4ç§å®ç°æ–¹å¼çš„ä½¿ç”¨æ–¹æ³•ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:13:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"åº”ç”¨å®ä¾‹ä¸€ï¼šåˆ†åˆ«ç”¨ä¸Šé¢å››ç§æ–¹å¼å®ç°\"3*(5+2)\"ã€‚ #!/bin/bash # æ•°å€¼i=3*(5+2) (æ–¹æ³•ä¸€:$(())å®ç°) val=$((3*(5+2))) echo \"val=$val\" # æ•°å€¼i=3*(5+2) (æ–¹æ³•äºŒ:letå®ç°) let \"val=3*(5+2)\" echo \"val=$val\" # æ•°å€¼i=3*(5+2) (æ–¹æ³•ä¸‰:exprå®ç°) val=`expr 3 \\* \\( 5 + 2 \\)` echo \"val=$val\" # æ•°å€¼i=3*(5+2) (æ–¹æ³•å››:bcå®ç°) val=`echo \"3*(5+2)\"|bc` echo \"val=$val\" exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:14:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"åº”ç”¨å®ä¾‹äºŒï¼šåˆ†åˆ«å‹‡ä¸Šé¢å››ç§æ–¹å¼å®ç°â€œæ•°å€¼+1â€ã€‚ #!/bin/bash val=0 # æ•°å€¼åŠ 1 (æ–¹æ³•ä¸€) ((val++)) echo \"val=$val\" val=0 # æ•°å€¼åŠ 1 (æ–¹æ³•äºŒ) let val++ echo \"val=$val\" val=0 # æ•°å€¼åŠ 1 (æ–¹æ³•ä¸‰) val=`expr $val + 1` echo \"val=$val\" val=0 # æ•°å€¼åŠ 1(æ–¹æ³•å››) val=`echo \"$val+1\"|bc` echo \"val=$val\" exit 0 ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:15:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"åº”ç”¨å®ä¾‹ä¸‰ï¼šè®¡ç®—1/3,ä¿ç•™3ä½å°æ•°ã€‚ #!/bin/bash # æ•°å€¼i=3*(5+2) (æ–¹æ³•å››:bcå®ç°) val=`echo \"scale=3; 1/3\"|bc` echo \"val=$val\" exit 0 ç¬¬ä¸ƒéƒ¨åˆ† å­—ç¬¦è¿ç®— ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:16:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. å­—ç¬¦ä¸²å®šä¹‰ è¡¨è¾¾å¼ è¯´æ˜ ${var} å˜é‡varçš„å€¼, ä¸$varç›¸åŒ ${var-DEFAULT} å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜, é‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼ ${var:-DEFAULT} å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜, æˆ–è€…å…¶å€¼ä¸ºç©º, é‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼ ${var=DEFAULT} å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜, é‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼ ${var:=DEFAULT} å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜, æˆ–è€…å…¶å€¼ä¸ºç©º, é‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼ ${var+OTHER} å¦‚æœvarå£°æ˜äº†, é‚£ä¹ˆå…¶å€¼å°±æ˜¯$OTHER, å¦åˆ™å°±ä¸ºnullå­—ç¬¦ä¸² ${var:+OTHER} å¦‚æœvarè¢«è®¾ç½®äº†, é‚£ä¹ˆå…¶å€¼å°±æ˜¯$OTHER, å¦åˆ™å°±ä¸ºnullå­—ç¬¦ä¸² ${var?ERR_MSG} å¦‚æœvaræ²¡è¢«å£°æ˜, é‚£ä¹ˆå°±æ‰“å°$ERR_MSG ${var:?ERR_MSG} å¦‚æœvaræ²¡è¢«è®¾ç½®, é‚£ä¹ˆå°±æ‰“å°$ERR_MSG ${!varprefix*} åŒ¹é…ä¹‹å‰æ‰€æœ‰ä»¥varprefixå¼€å¤´è¿›è¡Œå£°æ˜çš„å˜é‡ ${!varprefix@} åŒ¹é…ä¹‹å‰æ‰€æœ‰ä»¥varprefixå¼€å¤´è¿›è¡Œå£°æ˜çš„å˜é‡ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:17:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. å­—ç¬¦ä¸²æ“ä½œ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:18:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2.1 stringæ“ä½œå…¬å¼è¡¨ è¡¨è¾¾å¼ è¯´æ˜ ${#string} $stringçš„é•¿åº¦ ${string:position} åœ¨$stringä¸­, ä»ä½ç½®$positionå¼€å§‹æå–å­ä¸² ${string:position:length} åœ¨$stringä¸­, ä»ä½ç½®$positionå¼€å§‹æå–é•¿åº¦ä¸º$lengthçš„å­ä¸² ${string#substring} ä»å˜é‡$stringçš„å¼€å¤´, åˆ é™¤æœ€çŸ­åŒ¹é…$substringçš„å­ä¸² ${string##substring} ä»å˜é‡$stringçš„å¼€å¤´, åˆ é™¤æœ€é•¿åŒ¹é…$substringçš„å­ä¸² ${string%substring} ä»å˜é‡$stringçš„ç»“å°¾, åˆ é™¤æœ€çŸ­åŒ¹é…$substringçš„å­ä¸² ${string%%substring} ä»å˜é‡$stringçš„ç»“å°¾, åˆ é™¤æœ€é•¿åŒ¹é…$substringçš„å­ä¸² ${string/substring/replacement} ä½¿ç”¨$replacement, æ¥ä»£æ›¿ç¬¬ä¸€ä¸ªåŒ¹é…çš„$substring ${string//substring/replacement} ä½¿ç”¨$replacement, ä»£æ›¿æ‰€æœ‰åŒ¹é…çš„$substring ${string/#substring/replacement} å¦‚æœ$stringçš„å‰ç¼€åŒ¹é…$substring, é‚£ä¹ˆå°±ç”¨$replacementæ¥ä»£æ›¿åŒ¹é…åˆ°çš„$substring ${string/%substring/replacement} å¦‚æœ$stringçš„åç¼€åŒ¹é…$substring, é‚£ä¹ˆå°±ç”¨$replacementæ¥ä»£æ›¿åŒ¹é…åˆ°çš„$substring ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:18:1","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2.2 åº”ç”¨å®ä¾‹ é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸ªstrå­—ç¬¦ä¸²å˜é‡ï¼Œç„¶åå†å¯¹æ­¤å˜é‡è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œã€‚ $ str=\"hello world\" (01) æ˜¾ç¤ºå­—ç¬¦ä¸²é•¿åº¦ $ echo ${#str} (02) æå–world $ echo ${str:6} (03) æå–or $ echo ${str:7:2} (04) åˆ é™¤hello $ echo ${str#hello} æˆ– $ echo ${str#*lo} (05) åˆ é™¤world $ echo ${str%world} æˆ– $ echo ${str%wo*} (06) å°†æ‰€æœ‰çš„å­—ç¬¦â€œlâ€æ›¿æ¢ä¸ºâ€œmâ€ $ echo ${str//l/m} ç¬¬å…«éƒ¨åˆ† bashè‡ªå¸¦å‚æ•° è¡¨è¾¾å¼ è¯´æ˜ $? ä¸Šæ¬¡æŒ‡ä»¤æˆ–ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚å¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™ä¸º0ï¼Œå¦åˆ™ä¸ºé0 $# å‚æ•°ä¸ªæ•° $@ ä»£è¡¨å…¨éƒ¨å˜é‡ï¼Œä¾‹å¦‚ï¼Œ\"$1\" â€œ$2â€ â€œ$3â€ â€œ$4â€ï¼Œæ¯ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ï¼Œä¸”ç”¨åŒå¼•å·æ‹¬èµ·æ¥ $* ä»£è¡¨å…¨éƒ¨å˜é‡ï¼Œä¾‹å¦‚ï¼Œ$1 $2 $3 $4 $- åœ¨shellå¯åŠ¨æˆ–ä½¿ç”¨setå‘½ä»¤æ—¶æä¾›é€‰é¡¹ $$ å½“å‰shellçš„è¿›ç¨‹å· $0 å½“å‰shellè¿›ç¨‹å $n nè¡¨ç¤ºæ•°å­—ã€‚ä¾‹å¦‚ï¼Œ$1è¡¨ç¤ºç¬¬1ä¸ªå‚æ•°ï¼Œ$2è¡¨ç¤ºç¬¬2ä¸ªå‚æ•° ç¬¬ä¹éƒ¨åˆ† bashè°ƒè¯• ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:18:2","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. bashå‘½ä»¤è°ƒè¯• bash [-nvx] scripts.sh é€‰é¡¹ä¸å‚æ•°: -n :ä¸è¦æ‰§è¡Œ script,ä»…æŸ¥è¯¢è¯­æ³•çš„é—®é¢˜; -v :å†æ‰§è¡Œ sccript å‰,å…ˆå°† scripts çš„å†…å®¹è¾“å‡ºåˆ°å±å¹•ä¸Š; -x :å°†ä½¿ç”¨åˆ°çš„ script å†…å®¹æ˜¾ç¤ºåˆ°å±å¹•ä¸Š,è¿™æ˜¯å¾ˆæœ‰ç”¨çš„å‚æ•°! ä¾‹å¦‚ï¼Œæƒ³è¦æ‰§è¡Œbashè„šæœ¬ï¼Œå¹¶æŸ¥çœ‹bashçš„è°ƒç”¨æµç¨‹ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼š $ bash -x test.sh ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:19:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. echoè°ƒè¯• echo [OPTION] STRING è¯´æ˜ï¼š -n : è¾“å‡ºå†…å®¹ä¹‹åï¼Œä¸æ¢è¡Œã€‚é»˜è®¤æ˜¯è¾“å…¥å†…å®¹ä¹‹åï¼Œæ¢è¡Œã€‚ -e : å¼€å¯åæ–œçº¿â€œ\\â€è½¬ä¹‰åŠŸèƒ½ -E : å¼€å¯åæ–œçº¿â€œ\\â€è½¬ä¹‰åŠŸèƒ½ï¼ˆé»˜è®¤ï¼‰ã€‚ ä¾‹å¦‚ï¼Œè¾“å‡ºâ€œplease input a number:â€ä¹‹åä¸æ¢è¡Œã€‚ $ echo -n \"please input a number:\" ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:20:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"3. printf å’Œechoä¸€æ ·ï¼Œprintfä¹Ÿèƒ½ç”¨äºè¾“å‡ºã€‚è¯­æ³•æ ¼å¼å’ŒCè¯­è¨€ä¸­printfä¸€æ ·ã€‚ ä¾‹å¦‚ï¼Œè¾“å‡ºâ€œhello printfâ€ä¹‹åæ¢è¡Œã€‚ $ printf \"hello printf\\n\" ç¬¬åéƒ¨åˆ† bashæ³¨é‡Š ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:21:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. å•è¡Œæ³¨é‡Š # echo \"single line\" è¯´æ˜ï¼š#æ”¾åœ¨æ–‡ä»¶å¼€å¤´ï¼Œè¡¨ç¤ºæ³¨é‡Šæ‰æœ¬è¡Œã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:22:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. å¤šè¡Œæ³¨é‡Š å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹æ³•å®ç°å¤šè¡Œæ³¨é‡Šï¼š :||{ ....è¢«æ³¨é‡Šçš„å¤šè¡Œå†…å®¹ } æˆ–è€… if false ; then ....è¢«æ³¨é‡Šçš„å¤šè¡Œå†…å®¹ fi ç¬¬åä¸€éƒ¨åˆ† bashå†…å»ºæŒ‡ä»¤ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:23:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"1. å†…å»ºå‘½ä»¤æŸ¥çœ‹æ–¹æ³• åŸºæœ¬æ ¼å¼ type cmd æ ¼å¼è¯´æ˜ typeæ˜¯å‘½ä»¤å…³é”®å­—ï¼Œcmdè¡¨ç¤ºæŸ¥çœ‹çš„å‘½ä»¤ï¼›è‹¥è¾“å‡ºbuiltinï¼Œåˆ™è¯¥å‘½ä»¤æ˜¯bashçš„å†…å»ºå‘½ä»¤ã€‚ ä¾‹å¦‚: $ type echo é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡man bashæˆ–è€…man builtinsæŸ¥çœ‹bashçš„å…¨éƒ¨å†…ç½®å‘½ä»¤. ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:24:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"2. å¸¸ç”¨å†…å»ºå‘½ä»¤è¯´æ˜ æŒ‡ä»¤ ä½¿ç”¨ç¤ºä¾‹ è¯´æ˜ echo echo arg åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå‡ºç”±argæŒ‡å®šçš„å­—ä¸² read readå˜é‡åè¡¨ ä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å…¥ä¸€è¡Œï¼Œåˆ†è§£æˆè‹¥å¹²å­—ï¼Œèµ‹å€¼ç»™bashç¨‹åºå†…éƒ¨å®šä¹‰çš„å˜é‡ shift shift [N] (Nä¸ºå¤§äº0çš„æ•´æ•°ï¼›å½“Nçœç•¥æ—¶ï¼Œç­‰ä»·ä¸äºâ€œshift 1â€) æ‰€æœ‰çš„å‚æ•°ä¾æ¬¡å‘å·¦ç§»åŠ¨Nä¸ªä½ç½®ï¼Œå¹¶ä½¿ç”¨$#å‡å°‘Nï¼Œç›´åˆ°$#=0ä¸ºæ­¢ã€‚ alias alias name=â€˜valueâ€™ åˆ«åã€‚ç”¨nameæ›¿æ¢valueï¼Œvalueè¦ç”¨å•å¼•å·æ‹¬ä½ã€‚ export exportå˜é‡å[=å˜é‡å€¼] exportå¯ä»¥æŠŠbashçš„å˜é‡å‘ä¸‹å¸¦å…¥å­bash(å³å­bashä¸­å¯ä»¥ä½¿ç”¨çˆ¶bashçš„å˜é‡)ï¼Œä»è€Œè®©å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹ä¸­çš„ç¯å¢ƒå˜é‡ã€‚ä½†å­bashä¸èƒ½ç”¨exportæŠŠå®ƒçš„å˜é‡å‘ä¸Šå¸¦å…¥çˆ¶bashã€‚ readonly readonly å˜é‡å å®šä¹‰åªè¯»å˜é‡ã€‚ä¸å¸¦ä»»ä½•å‚æ•°çš„readonlyå‘½ä»¤å°†æ˜¾ç¤ºå‡ºæ‰€æœ‰åªè¯»å˜é‡ã€‚ exec exec å‘½ä»¤å‚æ•° å½“bashæ‰§è¡Œåˆ°execè¯­å¥æ—¶ï¼Œä¸ä¼šå»åˆ›å»ºæ–°çš„å­è¿›ç¨‹ï¼Œè€Œæ˜¯è½¬å»æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå½“æŒ‡å®šçš„å‘½ä»¤æ‰§è¡Œå®Œæ—¶ï¼Œè¯¥è¿›ç¨‹ï¼ˆä¹Ÿå°±æ˜¯æœ€åˆçš„bashï¼‰å°±ç»ˆæ­¢äº†ï¼Œæ‰€ä»¥bashç¨‹åºä¸­execåé¢çš„è¯­å¥å°†ä¸å†è¢«æ‰§è¡Œã€‚ â€œ.\"(ç‚¹) bashç¨‹åºæ–‡ä»¶å ä½¿bashè¯»å…¥æŒ‡å®šçš„bashç¨‹åºæ–‡ä»¶å¹¶ä¾æ¬¡æ‰§è¡Œæ–‡ä»¶ä¸­çš„æ‰€æœ‰è¯­å¥ã€‚ exit exit N é€€å‡ºShellç¨‹åºã€‚åœ¨exitä¹‹åå¯æœ‰é€‰æ‹©åœ°æŒ‡å®šä¸€ä¸ªæ•°ä½ä½œä¸ºè¿”å›çŠ¶æ€ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_01/:25:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸€)","uri":"/posts/program/bash/bash_note_01/"},{"categories":["bash"],"content":"bash ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_03/","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸‰)","uri":"/posts/program/bash/bash_note_03/"},{"categories":["bash"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ å®ä¾‹ä¸€ï¼šå¤‡ä»½/æ›´æ–°æ–‡ä»¶çš„è„šæœ¬ å®ä¾‹ä¸€ï¼šå¤‡ä»½/æ›´æ–°æ–‡ä»¶çš„è„šæœ¬ ç¼–å†™ä¸€ä¸ªè„šæœ¬æ–‡ä»¶backup.shï¼Œå¤‡ä»½androidã€kernelæˆ–ubootä¸­çš„æ–‡ä»¶ï¼Œå¤‡ä»½çš„æ—¶å€™è¦ä¿ç•™æ–‡ä»¶åœ¨å¤‡ä»½æ–‡ä»¶å¤¹(å³ä¿ç•™æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„)ã€‚ (01) æ–°å»ºlist_file.txtï¼Œå¹¶åœ¨list_file.txtä¸­è®°å½•è¦å¤‡ä»½çš„æ–‡ä»¶çš„è·¯å¾„ã€‚ (02) å½“æ‰§è¡Œâ€œ./backup.sh bbâ€å‘½ä»¤æ—¶ï¼šbackup.shä¼šæ–°å»ºbbç›®å½•ï¼Œç„¶åè¯»å–list_file.txtä¸­è®°å½•çš„æ–‡ä»¶è·¯å¾„ï¼Œå¹¶å°†è®°å½•çš„æ–‡ä»¶è·¯å¾„å¯¹åº”çš„æ–‡ä»¶å¤‡ä»½åˆ°bbç›®å½•ä¸‹ã€‚ (03) å½“æ‰§è¡Œâ€œ./backup.sh ttâ€å‘½ä»¤æ—¶ï¼Œbackup.shä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨ttç›®å½•ï¼Œè‹¥å­˜åœ¨ttç›®å½•çš„è¯ï¼Œåˆ™ttä¸­çš„æ–‡ä»¶æ›´æ–°åˆ°list_file.txtæ‰€è®°å½•çš„æ–‡ä»¶è·¯å¾„ï¼›å¦åˆ™çš„è¯ï¼Œä¸æ›´æ–°æ–‡ä»¶ã€‚ è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bash ##############################NOTE############################ # # AUTHOR : skyWang # DATE : 2012-07-16 # DESCRIPTION : ç”¨äºå¤‡ä»½æ–‡ä»¶ or æ›´æ–°æ–‡ä»¶ # # 1. å¤‡ä»½æ–‡ä»¶ # (1) å¤‡ä»½å‘½ä»¤ : ./run.sh bb # (2) å¤‡ä»½æ–‡ä»¶æ‰€åœ¨ç›®å½•: bb # è¿™ä¸ªæ˜¯åœ¨æ­¥éª¤(1)ä¹‹åï¼Œåœ¨å½“å‰ç›®å½•ä¸‹è‡ªåŠ¨å»ºç«‹bbç›®å½• # # 2. æ›´æ–°æ–‡ä»¶ # (1) æ›´æ–°å‘½ä»¤ : ./run.sh tt # (2) æ›´æ–°æ–‡ä»¶æ‰€åœ¨ç›®å½•: tt # è¿™ä¸ªæ˜¯å¿…é¡»åœ¨æ­¥éª¤(1)ä¹‹å‰å·²ç»å­˜åœ¨çš„ç›®å½•ã€‚å› ä¸ºï¼Œå°±æ˜¯ä¸ºäº†ç”¨ttç›®å½•ä¸­çš„æ–‡ä»¶å»æ›¿æ¢åˆ°ç›®æ ‡æ–‡ä»¶ã€‚ # # OTHER : 1. list_file.txt æ–‡ä»¶è¯´æ˜(å³ï¼Œlist_file.txtä¸­çš„æ–‡ä»¶å¿…é¡»æ»¡è¶³ä¸€ä¸‹æ¡ä»¶ï¼‰ï¼š # â€œå˜é‡COMMPATH_PATHçš„å€¼â€å’Œâ€œlist_file.txtä¸­çš„æ¯ä¸€è¡Œå†…å®¹â€ç»„åˆèµ·æ¥å¾—åˆ°çš„å®Œæ•´è·¯å¾„æ‰€å¯¹åº”çš„æ–‡ä»¶ï¼Œå¿…é¡»å­˜åœ¨ï¼ # # ä¾‹å¦‚ï¼š COMMON_PATH=/root/ # list_file.txtä¸­æœ‰ä»¥ä¸‹1è¡Œå†…å®¹ï¼š # android/build/core/Makefile # è¿™æ ·ï¼Œâ€œå˜é‡COMMPATH_PATHçš„å€¼â€å’Œâ€œlist_file.txtä¸­çš„è¡Œâ€ç»„åˆèµ·æ¥å¾—åˆ°çš„å®Œæ•´è·¯å¾„å°±æ˜¯ï¼š # /root/android/build/core/Makefile # # â€œ/root/android/build/core/Makefileâ€è¿™ä¸ªæ–‡ä»¶å¿…é¡»å­˜åœ¨äºç”µè„‘ä¸­ã€‚ # # ï¼ˆ1ï¼‰è‹¥list_file.txtæ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œè¿è¡Œâ€œ./run.sh bbâ€å°±å¯ä»¥å¤‡ä»½â€œ/root/android/build/core/Makefileâ€ã€‚ # å¤‡ä»½æ—¶ï¼Œä¼šè‡ªåŠ¨(åœ¨å½“å‰ç›®å½•ä¸‹)å»ºç«‹ç›®å½•â€œbbâ€ï¼Œå¹¶å°†æ–‡ä»¶å¤‡ä»½åˆ°â€œbbâ€ç›®å½•ä¸‹ # ï¼ˆ2ï¼‰è‹¥å°†bbç›®å½•é‡å‘½åæˆttï¼Œè¿è¡Œâ€œ./run.sh ttâ€å°±å¯ä»¥å°†â€œttâ€ä¸­çš„æ–‡ä»¶æ›´æ–°åˆ°â€œ/root/android/build/core/Makefileâ€ã€‚ # # ##############################NOTE############################ #########TODO...START######### # å‡è®¾androidã€kernelã€ubootåœ¨åŒä¸€çº§ç›®å½•ï¼› # åˆ™ï¼ŒCOMMON_PATHæ˜¯å®ƒä»¬æ‰€åœ¨ç›®å½•çš„è·¯å¾„ã€‚ COMMON_PATH=/home/skywang/a8/gingerbread/code/ #########TODO...END########### #########CONSTANT...START######### LIST_FILE=\"list_file.txt\" B_FOLDER=\"bb/\" T_FOLDER=\"tt/\" # androidå·¥ç¨‹çš„æ–‡ä»¶å¤¹åå­— ANDROID_FOLDER=\"android\" # kernelå·¥ç¨‹çš„æ–‡ä»¶å¤¹åå­— KERNEL_FOLDER=\"kernel\" # ubootå·¥ç¨‹çš„æ–‡ä»¶å¤¹åå­— UBOOT_FOLDER=\"uboot\" # androidé•¿åº¦ ANDROID_FOLDER_LEN=`expr length \"$ANDROID_FOLDER\"` # kernelé•¿åº¦ KERNEL_FOLDER_LEN=`expr length \"$KERNEL_FOLDER\"` # ubooté•¿åº¦ UBOOT_FOLDER_LEN=`expr length \"$UBOOT_FOLDER\"` #########CONSTANT...END########### # åŠŸèƒ½è¯´æ˜ï¼šæ ¹æ®æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶æ‰€åœ¨å®Œæ•´è·¯å¾„ï¼Œå°†æºæ–‡ä»¶æ›´æ–°åˆ°ç›®æ ‡æ–‡ä»¶ # æ›´æ–°æˆåŠŸçš„è¯ï¼Œè¾“å‡ºæ›´æ–°çš„èµ·æ­¢è·¯å¾„ï¼›å¦åˆ™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ # è¾“å…¥å‚æ•°ï¼šsrc_full_path â€”â€” æºæ–‡ä»¶æ‰€åœ¨å®Œæ•´è·¯å¾„ã€‚ # dst_full_path â€”â€” ç›®æ ‡æ–‡ä»¶æ‰€åœ¨å®Œæ•´è·¯å¾„ã€‚ # ä¾‹å¦‚ï¼šsrc_full_path=\"tt/android/hardware/libsensor/sensors.cpp\" # dst_full_path=\"/home/skywang/mnt/sda6/a8/a72/3g/iceCreamSandwish/code/android/hardware/libsensor/sensors.cpp\" function func_update_file_by_path() { local src_full_path=$1 local dst_full_path=$2 local dst_full_dir=`dirname $dst_full_path` if [ -f \"$src_full_path\" ];then if [ -e \"$dst_full_path\" ] || [ -d \"$dst_full_dir\" ];then cp -v $src_full_path $dst_full_path else mkdir -p $dst_full_dir cp -v $src_full_path $dst_full_path fi else echo copy file ERROR: echo file $src_full_path not existes!!! fi } # åŠŸèƒ½è¯´æ˜ï¼šå°†â€œè¾“å…¥æ–‡ä»¶â€ä¸­å…¨éƒ¨æ–‡ä»¶å…¨éƒ¨æ›´æ–°åˆ°ä»£ç ä¸­ # æ›´æ–°æˆåŠŸçš„è¯ï¼Œè¾“å‡ºæ›´æ–°çš„èµ·æ­¢è·¯å¾„ï¼›å¦åˆ™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ # è¾“å…¥å‚æ•°ï¼šinput_file â€”â€” â€œè¾“å…¥æ–‡ä»¶â€æ‰€åœ¨çš„å®Œæ•´è·¯å¾„ # ä¾‹å¦‚ï¼šinput_file=\"/home/skywang/mnt/sda6/a8/a72/3g/iceCreamSandwish/backup/exmaple/list_file.txt\" function func_push_files() { local input_file=$1 local full_path local backup_path local count=0 while read -r line do let count=`expr $count + 1` if [ `expr match $line $ANDROID_FOLDER` == \"$ANDROID_FOLDER_LEN\" ] || [ `expr match $line $KERNEL_FOLDER` == \"$KERNEL_FOLDER_LEN\" ] || [ `expr match $line $UBOOT_FOLDER` == \"$UBOOT_FOLDER_LEN\" ];then echo \"$count : right push path\" src_path=${T_FOLDER}${line} dst_path=${COMMON_PATH}${line} func_update_file_by_path $src_path $dst_path else echo \"$count : push file $line is invalidate!\" fi done \u003c $input_file } # åŠŸèƒ½è¯´æ˜ï¼šæ ¹æ®æºæ–‡ä»¶æ‰€åœ¨å®Œæ•´è·¯å¾„ï¼Œå°†æºæ–‡ä»¶æ‹·è´åˆ°å¦ä¸€ä¸ªç›®å½•ä¸‹ # å¤‡ä»½æˆåŠŸçš„è¯ï¼Œè¾“å‡ºå¤‡ä»½çš„èµ·æ­¢è·¯å¾„ï¼›å¦åˆ™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ # è¾“å…¥å‚æ•°ï¼šsrc_full_path â€”â€” æºæ–‡ä»¶æ‰€åœ¨å®Œæ•´è·¯å¾„ã€‚ # dst_full_dir â€”â€” ç›®æ ‡è·¯å¾„ # ä¾‹å¦‚ï¼šsrc_full_path=\"/home/skywang/mnt/sda6/a8/a72/3g/iceCreamSandwish/code/android/hardware/libsensor/sensors.cpp\" # dst_full_dir=\"bb/android/hardware/libsensor/\" function func_backup_file_by_path() { local src_full_path=$1 local dst_full_dir=$2\"/\" if [ -f \"$src_full_path\" ];then if [ -d \"$dst_full_dir\" ];then cp -v $src_full_path $dst_full_dir else mkdir -p $dst_full_dir cp -v $src_full_path $dst_full_dir fi else echo back","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_03/:0:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (ä¸‰)","uri":"/posts/program/bash/bash_note_03/"},{"categories":["bash"],"content":"bash ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç¬¬ä¸€éƒ¨åˆ† awkå·¥å…· 1. awkä»‹ç» ç¬¬äºŒéƒ¨åˆ† sedå·¥å…· 1. sedä»‹ç» ç¬¬ä¸‰éƒ¨åˆ† æ­£åˆ™è¡¨è¾¾å¼å’Œgrep 1. æ­£åˆ™è¡¨è¾¾å¼ 2. æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šç¬¦å· 3. grepè¡¨è¾¾å¼ 4. åº”ç”¨å®ä¾‹ 5. egrep 5.1. egrepè¯´æ˜ 5.2. egrepåº”ç”¨å®ä¾‹ æœ¬æ–‡ä¸»è¦é€šè¿‡å®ä¾‹å¯¹bashä¸­éœ€è¦ç”¨åˆ°çš„ä¸€äº›é«˜çº§å·¥å…·(å¦‚awkã€sedã€â€¦)è¿›è¡Œè¯´æ˜ã€‚ å­¦ä¹ çš„æ—¶å€™ï¼Œè¯·ä»¥â€œåº”ç”¨å®ä¾‹â€ä¸ºä¸­å¿ƒï¼Œä»¥å…¶å®ƒå†…å®¹ä¸ºå‚è€ƒè¿›è¡Œå­¦ä¹ ã€‚å¦‚æœé‡åˆ°æ–‡ç« ä¸­æœªè®²è§£çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡manå»æŸ¥é˜…ç”¨æ³•ã€‚ ç¬¬ä¸€éƒ¨åˆ† awkå·¥å…· æœ¬ç« ä¸»è¦é€šè¿‡awkçš„ä¸€äº›åº”ç”¨å®ä¾‹ï¼Œæ¥è¯´æ˜awkçš„ç›¸å…³è¯­æ³•ã€‚è¿™æ ·ï¼Œæ›´åˆ©äºæˆ‘ä»¬è¿›è¡Œç†è§£ï¼›æ‰€ä»¥ï¼Œé˜…è¯»æœ¬ç« æ—¶ï¼Œè¯·ä»¥â€œåº”ç”¨å®ä¾‹â€ä¸ºä¸­å¿ƒè¿›è¡Œé˜…è¯»ï¼Œå…¶å®ƒéƒ¨åˆ†æ˜¯å‚è€ƒå†…å®¹ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:0:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"1. awkä»‹ç» awkæ˜¯ä¸€ç§ç”¨äºå¤„ç†æ–‡æœ¬çš„ç¼–ç¨‹è¯­è¨€å·¥å…·ã€‚awkæœ¬èº«å°±æ˜¯linuxä¸‹çš„ä¸€ä¸ªå·¥å…·ï¼Œæ—¢å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åµŒå…¥åˆ°bashä¸­ã€‚ awkè¯­è¨€çš„æœ€åŸºæœ¬åŠŸèƒ½æ˜¯åœ¨æ–‡ä»¶æˆ–å­—ç¬¦ä¸²ä¸­åŸºäºæŒ‡å®šè§„åˆ™æµè§ˆå’ŒæŠ½å–ä¿¡æ¯ã€‚ awkæŠ½å–ä¿¡æ¯å,æ‰èƒ½è¿›è¡Œå…¶ä»–æ–‡æœ¬æ“ä½œã€‚å®Œæ•´çš„ awkè„šæœ¬é€šå¸¸ç”¨æ¥æ ¼å¼åŒ–æ–‡æœ¬æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚ ## 2. awkç¯å¢ƒå˜é‡ å˜é‡ è¯´æ˜ $n å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œå­—æ®µç”±FSåˆ†éš” $0 å®Œæ•´çš„è¾“å…¥è®°å½• ARGC å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç›® ARGIND å‘½ä»¤è¡Œä¸­å½“å‰æ–‡ä»¶çš„ä½ç½®(ä»0å¼€å§‹ç®—) ARGV åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„ CONVFMT æ•°å­—è½¬æ¢æ ¼å¼(é»˜è®¤æ˜¯%.6g) ENVIRON ç¯å¢ƒå˜é‡å…³è”æ•°ç»„ ERRNO æœ€åä¸€ä¸ªç³»ç»Ÿé”™è¯¯çš„æè¿° FIELDWIDTHS å­—æ®µå®½åº¦åˆ—è¡¨(ç”¨ç©ºæ ¼é”®åˆ†éš”) FILENAME å½“å‰æ–‡ä»¶å FNR åŒNRï¼Œå½“FNRæ˜¯ç›¸å¯¹äºå½“å‰æ–‡ä»¶è€Œè¨€ FS å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä»»æ„çš„ç©ºæ ¼ç¬¦) IGNORECASE è‹¥ä¸ºçœŸï¼Œåˆ™åŒ¹é…æ—¶å¿½ç•¥å¤§å°å†™ NF å½“å‰è®°å½•ä¸­çš„å­—æ®µæ•° NR å·²è¯»çš„è®°å½•æ•° OFMT æ•°å­—çš„è¾“å‡ºæ ¼å¼(é»˜è®¤æ˜¯%.6g) OFS è¾“å‡ºåŸŸåˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä¸€ä¸ªç©ºæ ¼) ORS è¾“å‡ºè®°å½•åˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦) RLENGTH ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ RS æ§åˆ¶è®°å½•åˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦) RSTART ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½® SUBSEP æ•°å­—ä¸‹æ ‡åˆ†éš”ç¬¦(é»˜è®¤å€¼æ˜¯\\034) ## 3. awkæ¡ä»¶æ“ä½œç¬¦ ç¬¦å· æè¿° \u003c å°äº \u003c= å°äºæˆ–ç­‰äº == ç­‰äº != ä¸ç­‰äº \u003e= å¤§äºæˆ–ç­‰äº \u003e å¤§äº ! åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ !~ ä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ ## 4. awkå­—ç¬¦ä¸²æ“ä½œ è¡¨è¾¾å¼ è¯´æ˜ gsub(r,s) åœ¨æ•´ä¸ª$0ä¸­ç”¨sæ›¿æ¢r gsub(r,s,t) åœ¨æ•´ä¸ªtä¸­ç”¨sæ›¿æ¢r index(s,t) è¿”å›sä¸­å­—ç¬¦ä¸²tçš„ç¬¬ä¸€ä¸ªä½ç½® length(s) è¿”å›sçš„é•¿åº¦ match(s,r) æµ‹è¯•sæ˜¯å¦åŒ…å«åŒ¹é…rçš„å­—ç¬¦ä¸² split(s,a,fs) åœ¨fsä¸Šå°†såˆ†æˆåºåˆ—a sprint(fmt,exp) è¿”å›ç»fmtæ ¼å¼åŒ–åçš„exp sub(r,s) ç”¨$0ä¸­æœ€å·¦è¾¹æœ€é•¿çš„å­ä¸²ä»£æ›¿s substr(s,p) è¿”å›å­—ç¬¦ä¸²sä¸­ä»på¼€å§‹çš„åç¼€éƒ¨åˆ† substr(s,p,n) è¿”å›å­—ç¬¦ä¸²sä¸­ä»på¼€å§‹çš„é•¿åº¦ä¸ºnåç¼€éƒ¨åˆ† ## 5. æ­£åˆ™è¡¨è¾¾å¼ä¸­å¸¸ç”¨ç±» è¡¨è¾¾å¼ è¯´æ˜ [[:upper:]] [A-Z] [[:lower:]] [a-z] [[:alpha:]] [a-zA-Z] [[:digit:]] [0-9] [[:alnum:]] [0-9a-zA-Z] [[:space:]] ç©ºæ ¼æˆ–tabé”® ## 6 awkåº”ç”¨å®ä¾‹ é¦–å…ˆå»ºç«‹ä¸€ä¸ª123.txtï¼Œæ·»åŠ ä»»æ„æ–‡æœ¬ï¼Œç„¶åè¿›è¡Œä»¥ä¸‹ç»ƒä¹ ã€‚ (01), è¾“å‡ºæ–‡ä»¶å…¨éƒ¨æ–‡æœ¬ $ awk '{print $0}' 123.txt è¯´æ˜: {}ï¼šè¡¨ç¤ºä¸€æ®µawkå‘½ä»¤ã€‚ printï¼šè¾“å‡ºæŒ‡ä»¤ã€‚ $0ï¼šå½“å‰è¡Œçš„å…¨éƒ¨æ–‡æœ¬ã€‚ awkå·¥å…·æ“ä½œæ–‡ä»¶æ—¶ï¼Œæ˜¯ä»¥è¡Œä¸ºå•ä½ï¼Œé€æ­¥å¯¹æ¯è¡Œè¿›è¡Œæ“ä½œã€‚æ‹¿æœ¬ä¾‹æ¥è¯´{print $0}ï¼Œæ„å‘³ç€â€œå¯¹æ¯ä¸€è¡Œéƒ½æ‰§è¡Œprint $0æ“ä½œï¼Œå³è¾“å‡ºæ¯ä¸€è¡Œçš„å…¨éƒ¨æ–‡æœ¬â€ã€‚ $Nï¼šå½“N\u003e1æ—¶ï¼Œ$Nè¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬Næ®µï¼›æ¯ä¸€è¡Œä¸­ä»¥FS(é»˜è®¤å€¼æ˜¯ç©ºæ ¼)æ¥åˆ†æ®µã€‚ (02), è¾“å‡º\"ls -l\"ä¸­æ¯è¡Œçš„field1ã€field9 $ ls -l | awk '{printf(\"%s %s\\n\", $1, $9)}' è¯´æ˜: |ï¼šç®¡é“ç¬¦å·ã€‚è¡¨ç¤ºå°†â€œå‰é¢æŒ‡ä»¤çš„è¾“å‡ºâ€ä½œä¸ºâ€œåé¢æŒ‡ä»¤çš„è¾“å…¥â€ï¼Œå³å°†â€œls -lâ€çš„è¾“å‡ºä½œä¸ºâ€œawkâ€çš„è¾“å…¥ã€‚ printfï¼šè¾“å‡ºæŒ‡ä»¤ã€‚å®ƒçš„ä½¿ç”¨æ–¹æ³•å’ŒCè¯­è¨€ä¸­printfçš„ä½¿ç”¨æ–¹æ³•ä¸€æ ·ã€‚ $1ï¼šè¯¥è¡Œçš„ç¬¬1æ®µã€‚ $9ï¼šè¯¥è¡Œçš„ç¬¬9ç«¯ã€‚ (03), åœ¨ä¸Šä¸€é¢˜çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½ï¼šç¬¬ä¸€ï¼Œè¾“å‡ºæ¯ä¸€è¡Œçš„è¡Œå·å’Œè¯¥è¡Œæ‰€åŒ…æ‹¬çš„åŸŸçš„æ€»æ•°ã€‚ç¬¬äºŒï¼Œç¬¬1è¡Œå’Œæœ€åä¸€è¡Œè¾“å‡ºæç¤ºè¯­ $ ls -l | awk 'BEGIN{printf(\"----begin----\\n\")} {printf(\"Line-%3d Field-%d : %s %s\\n\", NR, NF, $1, $9)} END{printf(\"----end----\\n\")}' è¯´æ˜ï¼š BEGINï¼šè¡¨ç¤ºåœ¨æ–‡æœ¬è¿›è¡Œæ“ä½œä¹‹å‰è¿›è¡Œçš„å·¥ä½œã€‚ ENDï¼šè¡¨ç¤ºåœ¨å¯¹æ–‡æœ¬çš„æ‰€æœ‰è¡Œéƒ½å¤„ç†å®Œæ¯•ä¹‹åå‰è¿›è¡Œçš„å·¥ä½œã€‚ åœ¨awkä¸­ï¼Œè¯·å°½é‡ä½¿ç”¨{}æ¥è¿›è¡ŒåŒºåˆ†æŒ‡ä»¤æ®µï¼Œ{}å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼è¿™æ ·åšçš„å¥½å¤„å†™å‡ºçš„è„šæœ¬ä¸å®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”å¯è¯»æ€§æ›´å¼ºï¼ (04), è¾“å‡º\"ls -l\"ä¸­æ–‡ä»¶(å¤¹)åå­—åŒ…æ‹¬æ•°å­—çš„å®Œæ•´ä¿¡æ¯ $ ls -l | awk '{if($9 ~ /[[:digit:]]/) {print $0}}' è¯´æ˜ï¼š $9 ~ /[[:digit:]]/ ï¼š è¡¨ç¤ºèƒ½å¤ŸåŒ¹é…æ•°å­—çš„â€œç¬¬ä¸€è¡Œçš„ç¬¬9æ®µâ€ã€‚ (05), è¾“å‡º\"ls -l\"ä¸­éæ–‡ä»¶å¤¹çš„å®Œæ•´ä¿¡æ¯ $ ls -l | awk '{if($1 !~ /^d/) {print $0}}' è¯´æ˜ï¼š ^d ï¼š ä»¥då¼€å¤´çš„ã€‚^è¡¨ç¤ºèµ·å§‹ä½ã€‚æ­¤å¤–ï¼Œ$è¡¨ç¤ºç»“æŸä½ã€‚å¦‚d$ï¼Œè¡¨ç¤ºä»¥dç»“å°¾çš„ã€‚ (06), æ‰¾åˆ°\"ls -l\"ä¸­æ–‡ä»¶(å¤¹)åå­—çš„é•¿åº¦å¤§äº10çš„è¡Œï¼Œç„¶åè¾“å‡ºå…¶å®Œæ•´ä¿¡æ¯ã€‚ $ ls -l | awk '{if(length($9) \u003e 10) {print $0}}' (07), å¦‚ä½•ç»™æ–‡æœ¬çš„æ¯ä¸€è¡Œæ·»åŠ è¡Œå·ï¼Ÿ $ awk '{printf(\"%03d %s\\n\",NR, $0)}' ori.txt \u003e dst.txt (08), æ‰“å°å­—æ®µæ•°å¤§äº3çš„è¡Œçš„æ€»æ•° $ awk 'BEGIN{COUNT=0}; {if(NF\u003e3) COUNT++}; END{printf(\"COUNT=%d\\n\", COUNT)}' ori.txt (09), å°†æ–‡æœ¬ä¸­çš„å„è¡Œåˆå¹¶ä¸€è¡Œï¼Œä¸­é—´ç”¨â€œ|â€åˆ†å‰² $ awk 'BEGIN{ORS=\"|\"}{print $0 }END{print \"\\n\"}' ori.txt \u003e dst.txt è¯´æ˜ï¼š ORSï¼šè¡¨ç¤ºè®°å½•åˆ†å‰²ç¬¦ï¼Œæ¯æ¡è®°å½•è¡¨ç¤ºæ¯è¡Œã€‚ORSé»˜è®¤å€¼ä¸ºæ¢è¡Œç¬¦ã€‚ (10), å°†æ–‡æœ¬ä¸­ç©ºæ ¼æ¢æˆæ¢è¡Œç¬¦ $ awk 'BEGIN{FS=\" \";OFS=\"\\n\"}{print $1 }END{print \"\\n\"}' ori.txt \u003e dst.txt (11), å°†3è¡Œåˆå¹¶æˆä¸€è¡Œï¼Œå¹¶è¾“å…¥è¡Œå· $ awk 'BEGIN{ORS=\"\";i=0}{ j=1; while(j\u003c=NF){ if(i%3==0){printf(\"%02d \",i/3+1)}; printf(\"%s \",$j); i++; j++; if(i%3==0){print \"\\n\"} }} END{print \"\\n\"}' ori.txt \u003e dst.txt ç¬¬äºŒéƒ¨åˆ† sedå·¥å…· ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:1:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"1. sedä»‹ç» sedæ˜¯ä¸€ä¸ªéäº¤äº’æ€§æ–‡æœ¬æµç¼–è¾‘å™¨ã€‚å’Œawkä¸€æ ·ï¼Œå®ƒæ˜¯ä¸ªç‹¬ç«‹çš„å·¥å…·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å’Œbashè”åˆä½¿ç”¨ã€‚ å®ƒå¯ä»¥éšæ„ç¼–è¾‘æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥,å¯¹å®ƒä»¬è¿›è¡Œç¼–è¾‘ã€åˆ é™¤ã€‚å®ƒèƒ½ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰æ”¹å˜,å¯¹ç”¨æˆ·æ¥è®²,ååˆ†é«˜æ•ˆã€‚sedç¼–è¾‘æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥æ—¶ï¼Œç¼–è¾‘çš„æ˜¯å®ƒä»¬çš„æ‹·è´ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šæ”¹å˜åŸå§‹çš„æ–‡ä»¶ã€‚è‹¥éœ€è¦ä¿å­˜ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡é‡å®šå‘æ“ä½œç¬¦Â»ã€Â»\u003e,æˆ–è€…åœ¨åˆ©ç”¨sedçš„å†™å…¥å‚æ•°ã€‚ ## 2. åŸºæœ¬æ ¼å¼ sed [é€‰é¡¹] è¾“å…¥æ–‡ä»¶ -n ä¸æ‰“å°;sedä¸å†™ç¼–è¾‘è¡Œåˆ°æ ‡å‡†è¾“å‡º,ç¼ºçœä¸ºæ‰“å°æ‰€æœ‰è¡Œ(ç¼–è¾‘å’Œæœªç¼–è¾‘)ã€‚ -p å‘½ä»¤å¯ä»¥ç”¨æ¥æ‰“å°ç¼–è¾‘è¡Œã€‚ -c ä¸‹ä¸€å‘½ä»¤æ˜¯ç¼–è¾‘å‘½ä»¤ã€‚ä½¿ç”¨å¤šé¡¹ç¼–è¾‘æ—¶åŠ å…¥æ­¤é€‰é¡¹ã€‚å¦‚æœåªç”¨åˆ°ä¸€æ¡ sedå‘½ä»¤,æ­¤é€‰é¡¹æ— ç”¨,ä½†æŒ‡å®šå®ƒä¹Ÿæ²¡æœ‰å…³ç³»ã€‚ -e è¿½åŠ æ‰§è¡Œè„šæœ¬ -f å¦‚æœæ­£åœ¨è°ƒç”¨ sedè„šæœ¬æ–‡ä»¶,ä½¿ç”¨æ­¤é€‰é¡¹ã€‚ ## 3. ä½¿ç”¨sedåœ¨æ–‡ä»¶ä¸­å®šä½æ–‡æœ¬çš„æ–¹å¼ æ–¹å¼ è¯´æ˜ x xä¸ºè¡Œå·ã€‚ä¾‹å¦‚ï¼Œ1 x,y è¡¨ç¤ºè¡Œå·èŒƒå›´ä»xåˆ°yã€‚ä¾‹å¦‚ï¼Œ2,5è¡¨ç¤ºä»ç¬¬2è¡Œåˆ°ç¬¬5è¡Œ x,y! æŸ¥è¯¢ä¸åŒ…å«æŒ‡å®šè¡Œ(xåˆ°y) /pattern/ æŸ¥è¯¢åŒ…å«patternæ¨¡å¼çš„è¡Œã€‚ä¾‹å¦‚, /disk/æˆ–/[a-z]/ pattern/,x åœ¨ç»™å®šè¡Œå·ä¸ŠæŸ¥è¯¢åŒ…å«patternæ¨¡å¼çš„è¡Œã€‚ä¾‹å¦‚ï¼Œ /ribbon/,3 x,/pattern/ é€šè¿‡è¡Œå·å’Œæ¨¡å¼æŸ¥è¯¢åŒ¹é…è¡Œã€‚ ä¾‹å¦‚ï¼Œ 3,/vdu/ ## 4. sedç¼–è¾‘å‘½ä»¤ æ–¹å¼ è¯´æ˜ p æ‰“å°åŒ¹é…è¡Œ = æ˜¾ç¤ºæ–‡ä»¶è¡Œå· a\\ åœ¨å®šä½è¡Œåé™„åŠ æ–‡æœ¬ä¿¡æ¯ i\\ åœ¨å®šä½è¡Œå‰é™„åŠ æ–‡æœ¬ä¿¡æ¯ d åˆ é™¤å®šä½è¡Œ c\\ ç”¨æ–°æ–‡æœ¬æ›¿æ¢å®šä½æ–‡æœ¬ s ä½¿ç”¨æ›¿æ¢æ¨¡å¼ r ä»å¦ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»æ–‡æœ¬ w å†™æ–‡æœ¬åˆ°ä¸€ä¸ªæ–‡ä»¶ q ç¬¬ä¸€ä¸ªæ¨¡å¼åŒ¹é…å®Œæˆåé€€å‡º {} åœ¨å®šä½è¡ŒæŒ‡å®šçš„å‘½ä»¤ç»„ n ä»å¦ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–ï¼Œå¹¶è¿½åŠ åœ¨ä¸‹ä¸€è¡Œ ## 5. åº”ç”¨å®ä¾‹ é¦–å…ˆå»ºç«‹ä¸€ä¸ª123.txtï¼Œæ·»åŠ ä»»æ„æ–‡æœ¬ï¼Œç„¶åè¿›è¡Œä»¥ä¸‹ç»ƒä¹ ã€‚ (01), è¾“å‡ºæ–‡ä»¶ç¬¬5è¡Œ $ sed -n '5p' 123.txt è¯´æ˜ï¼š-nè¡¨ç¤ºé»˜è®¤ä¸è¾“å‡ºä»»ä½•å†…å®¹ã€‚5pè¡¨ç¤ºè¾“å‡ºç¬¬5è¡Œï¼š5è¡¨ç¤ºç¬¬5è¡Œï¼Œpè¡¨ç¤ºè¾“å‡ºã€‚ (02), è¾“å‡ºæ–‡ä»¶é™¤1-3è¡Œä¹‹å¤–çš„è¡Œ $ sed -n '1,3!p' 123.txt è¯´æ˜ï¼š â€œ1,3\"è¡¨ç¤ºè¾“å‡ºèŒƒå›´æ˜¯ç¬¬1-3è¡Œ; â€œ1,3!â€œè¡¨ç¤ºè¾“å‡ºèŒƒå›´æ˜¯é™¤ç¬¬1-3è¡Œä¹‹å¤–ã€‚ â€˜1,$pâ€™è¡¨ç¤ºè¾“å‡ºå…¨éƒ¨è¡Œï¼Œå› ä¸º$è¡¨ç¤ºæœ€åä¸€è¡Œã€‚ (03), è¾“å‡º\"ls -l\"ç»“æœä¸­çš„ç¬¬1-3è¡Œ $ ls -l |sed -n '1,3p' è¯´æ˜ï¼š|æ˜¯ç®¡é“ç¬¦å·ï¼Œè¡¨ç¤ºå°†ls -lçš„è¾“å‡ºä½œä¸ºsedçš„è¾“å…¥ã€‚ (04), è¾“å‡ºåŒ¹é…â€œtheâ€çš„è¡Œ $ sed -n '/the/p' 123.txt è¯´æ˜ï¼š/the/è¡¨ç¤ºåŒ¹é…theçš„è¡Œ (05), è¾“å‡ºåŒ¹é…â€œtheâ€çš„è¡Œï¼Œå¹¶ä¸”è¾“å‡ºæ¯è¡Œè¡Œå· $ sed -n -e '/the/p' -e '/the/=' 123.txt è¯´æ˜ï¼š-eè¡¨ç¤ºå¯¹æ¯è¡Œè¿›è¡Œå¤šé‡ç¼–è¾‘ï¼Œå¤šé‡ç¼–è¾‘çš„æ¯ä¸€ä¸ªå‘½ä»¤å‰éƒ½éœ€è¦æ·»åŠ -eã€‚ æœ¬ä¾‹ä¸­ï¼Œ-e â€˜/the/pâ€™æ‰“å°åŒ¹é…theçš„è¡Œï¼›-e â€˜/the/=â€˜è¡¨ç¤ºè¾“å‡ºåŒ¹é…theçš„è¡Œçš„è¡Œå·ã€‚ (06), åˆ é™¤åŒ¹é…â€œtheâ€çš„è¡Œ $ sed '/the/d' 123.txt è¯´æ˜ï¼šdè¡¨ç¤ºåˆ é™¤ã€‚ (07), åˆ é™¤åŒ¹é…â€œtheâ€çš„è¡Œï¼›ç„¶åè¾“å‡ºåˆ é™¤æ“ä½œä¹‹åçš„æ‰€æœ‰è¡Œï¼Œå¹¶è¾“å‡ºæ¯è¡Œè¡Œå· $ sed '/the/d' 123.txt | sed -n -e '1,$p' -e '1,$=' è¯´æ˜ï¼š sed â€˜/the/dâ€™ 123.txt ï¼šå¾—åˆ°äº†åˆ é™¤â€œtheâ€ä¹‹åçš„è¡Œ | ï¼šç®¡é“ç¬¦å·ã€‚æ„å‘³ç€å‰é¢çš„è¾“å‡ºä½œä¸ºåé¢çš„è¾“å…¥ sed -n -e â€˜1,$pâ€™ -e â€˜1,$=â€™ ï¼šè¡¨ç¤ºè¾“å‡ºå…¨éƒ¨è¡Œä¹‹åï¼Œåœ¨è¾“å‡ºæ¯è¡Œè¡Œå· (08), åœ¨æ¯ä¸€è¡Œå‰é¢æ’å…¥2è¡Œæ–‡æœ¬ï¼Œç¬¬ä¸€è¡Œæ˜¯line1,ç¬¬2è¡Œæ˜¯line2 $ sed '1,$iline1\\nline2' 123.txt è¯´æ˜ï¼š 1,$iè¡¨ç¤ºç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œçš„æ¯ä¸€è¡Œéƒ½æ‰§è¡Œæ’å…¥æ“ä½œã€‚ line1\\nline2è¡¨ç¤ºæ’å…¥çš„æ–‡æœ¬ï¼Œå…¶ä¸­\\nè½¬ä¹‰ä¹‹åè¡¨ç¤ºâ€œæ¢è¡Œâ€ç¬¦å·ã€‚ (09), åœ¨æœ€åä¸€è¡Œåé¢æ’å…¥1è¡Œæ–‡æœ¬ï¼Œå†…å®¹æ˜¯end $ sed '$aend' 123.txt è¯´æ˜ï¼š$è¡¨ç¤ºæœ€åä¸€è¡Œï¼Œaè¡¨ç¤ºåœ¨æ–‡æœ¬åæ’å…¥ï¼Œendæ˜¯æ’å…¥çš„å†…å®¹ (10), å°†â€œthisâ€å…¨éƒ¨æ›¿æ¢æˆâ€œthatâ€ $ sed 's/this/that/g' 123.txt è¯´æ˜ï¼š [ address[,address ] ] s / pattern-to-find / replacement-pattern/[gpwn] s è¡¨ç¤ºæ›¿æ¢æ“ä½œã€‚æŸ¥è¯¢pattern-to-find,æˆåŠŸåç”¨replacement-patternæ›¿æ¢å®ƒã€‚ æ›¿æ¢é€‰é¡¹å¦‚ä¸‹: g ç¼ºçœæƒ…å†µä¸‹åªæ›¿æ¢æ¯è¡Œçš„ç¬¬ä¸€æ¬¡åŒ¹é…ï¼Œgè¡¨ç¤ºæ›¿æ¢æ¯è¡Œçš„æ‰€æœ‰åŒ¹é…ã€‚ p ç¼ºçœsedå°†æ‰€æœ‰è¢«æ›¿æ¢è¡Œå†™å…¥æ ‡å‡†è¾“å‡ºï¼ŒåŠ pé€‰é¡¹å°†ä½¿-né€‰é¡¹æ— æ•ˆã€‚-né€‰é¡¹ä¸æ‰“å°è¾“å‡ºç»“æœã€‚ w åæ¥â€œæ–‡ä»¶åâ€ï¼Œè¡¨ç¤ºå°†è¾“å‡ºå®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ã€‚ (11), å°†â€œthisâ€å…¨éƒ¨æ›¿æ¢æˆâ€œthis boyâ€ $ sed 's/this/this boy/g' 123.txt æˆ– $ sed 's/this/boy \u0026/g' 123.txt è¯´æ˜ï¼š sed â€™s/this/boy \u0026/pgâ€™ 123.txtä¸­\u0026è¡¨ç¤ºé™„åŠ ä¿®æ”¹(å³åœ¨åŸå§‹å†…å®¹çš„åŸºç¡€ä¸Šæ·»åŠ å†…å®¹)ã€‚ \u0026è¡¨ç¤ºåŒ¹é…çš„å†…å®¹ã€‚å³ï¼Œboy \u0026ç­‰ä»·äºboy this (12), å»æ‰ç©ºç™½è¡Œåå¦å­˜æ–‡ä»¶ $ sed '/^$/d' 123.txt \u003e 456.txt æˆ– $ sed '/^$/c\\' 123.txt \u003e 456.txt è¯´æ˜ï¼š /^$/è¡¨ç¤ºç©ºç™½è¡Œï¼š^è¡¨ç¤ºå¼€å¯ï¼Œ$è¡¨ç¤ºç»“å°¾ï¼Œå¼€å§‹å’Œç»“å°¾ä¹‹é—´æ²¡æœ‰ä»»ä½•å†…å®¹ï¼Œå³æ˜¯ç©ºç™½è¡Œã€‚ c\\è¡¨ç¤ºä¿®æ”¹ã€‚ (13), å»æ‰æ–‡ä»¶æ‰©å±•å $ echo \"hello.txt\"| sed 's/.txt//g' (14), æ·»åŠ æ–‡ä»¶æ‰©å±•å $ echo \"hello\"| sed 's/$/.txt/g' (15), åˆ é™¤æ–‡æœ¬ä¸­æ¯ä¸€è¡Œçš„ç¬¬2ä¸ªå­—ç¬¦ $ sed 's/.//2' ori.txt \u003e dst.txt (16), åˆ é™¤æ–‡æœ¬ä¸­æ¯ä¸€è¡Œçš„å€’æ•°ç¬¬2ä¸ªå­—ç¬¦ $ sed 's/\\(.\\)\\(.\\)$/\\2/' ori.txt \u003e dst.txt è¯´æ˜ï¼šè€ƒå¯Ÿäº†sedä¸­â€( )â€œçš„å«ä¹‰å’Œç”¨æ³• (17), åˆ é™¤æ¯ä¸€è¡Œçš„ç¬¬2ä¸ªå•è¯ $ sed 's/\\([[:alpha:]]\\+\\)\\(\\ \\)\\([[:alpha:]]\\+\\)*/\\1/' ori.txt \u003e dst.txt (18), éš”è¡Œåˆ é™¤ $ sed '0~2 d' ori.txt \u003e dst.txt ç¬¬ä¸‰éƒ¨åˆ† æ­£åˆ™è¡¨è¾¾å¼å’Œgrep ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:2:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"1. æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯å­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ã€‚å®ƒèƒ½é€šè¿‡å…·æœ‰æ„ä¹‰çš„ç‰¹æ®Šç¬¦å·è¡¨ç¤ºä¸€åˆ—æˆ–å¤šåˆ—å­—ç¬¦ä¸²ã€‚ grepæ˜¯linuxç³»ç»Ÿä¸‹å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨grepæ¥æ£€ç´¢æ–‡æœ¬ç­‰è¾“å…¥æµçš„å­—ç¬¦ä¸²ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:3:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"2. æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šç¬¦å· è¡¨è¾¾å¼ è¯´æ˜ ^ åŒ¹é…è¡Œé¦– $ åŒ¹é…è¡Œå°¾ . ä»»æ„å­—ç¬¦ * åŒ¹é…0ï½Nä¸ªæŸå­—ç¬¦æˆ–æŸè¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œ [a-z]*è¡¨ç¤ºåŒ¹é…0åˆ°å¤šä¸ªå°å†™å­—æ¯ [] åŒ¹é…ä¸­æ‹¬å·ç±»çš„å­—ç¬¦ã€‚ä¸­æ‹¬å·å†…å¯ä»¥ç”¨-è¡¨ç¤ºèŒƒå›´ï¼Œä¾‹å¦‚ï¼Œ[1-5]ç­‰ä»·äº[12345] \\ å±è”½å…·æœ‰å­—ç¬¦çš„ç‰¹æ®Šå«ä¹‰ \u003c åŒ¹é…ä»¥æŸå†…å®¹ä¸ºå¼€å§‹çš„é¡¹ã€‚ä¾‹å¦‚ï¼Œ \u003cstè¡¨ç¤ºåŒ¹é…ä»¥stå¼€å§‹çš„é¡¹ \u003e åŒ¹é…ä»¥æŸå†…å®¹ä¸ºç»“æŸçš„é¡¹ã€‚ä¾‹å¦‚ï¼Œ nd\u003eè¡¨ç¤ºåŒ¹é…ä»¥endç»“å°¾çš„é¡¹ string{m,n} è¿ç»­måˆ°nä¸ªstring string{m} å‡ºç°mæ¬¡string string{m} è‡³å°‘å‡ºç°mæ¬¡string [[:upper:]] A-Zçš„ä»»æ„å¤§å†™å­—æ¯ [[:lower:]] a-zçš„ä»»æ„å°å†™å­—æ¯ [[:alpha:]] ä»»æ„å­—æ¯ [[:digit:]] 0-9çš„ä»»æ„æ•°å­— [[:xdigit:]] åå…­ç¦æ­¢çš„æ•°å­—ç±»å‹ï¼ŒåŒ…æ‹¬ï¼š0-9ï¼ŒA-Fï¼Œa-f [[:alnum:]] ä»»æ„å­—æ¯æˆ–æ•°å­— [[:blank:]] ç©ºæ ¼æˆ–tabé”® [[:space:]] ä»»ä½•ä¼šäº§ç”Ÿç©ºç™½çš„å­—æ¯ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€TABã€CRç­‰ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:4:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"3. grepè¡¨è¾¾å¼ åŸºæœ¬æ ¼å¼ grep [OPTIONS] PATTERN [FILE...] æ ¼å¼è¯´æ˜ PATTERN : åŒ¹é…æ¨¡å¼ã€‚å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ [FILEâ€¦] : æ˜¯grepæœç´¢çš„æ–‡ä»¶(é›†) [OPTIONS] : æ˜¯grepçš„é€‰é¡¹ã€‚å¸¸ç”¨çš„é€‰é¡¹æœ‰ä»¥ä¸‹é€‰é¡¹ã€‚ -c : åªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ -I : ä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ -h : æŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ -l : æŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ -n : æ˜¾ç¤ºåŒ¹é…è¡ŒåŠ è¡Œå·ã€‚ -s : ä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ -v : æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ -r : å½“FILEä¸­åŒ…å«æ–‡ä»¶å¤¹åæ—¶ï¼Œéå†è¯¥æ–‡ä»¶å¤¹çš„æ‰€æœ‰å­ç›®å½•ï¼›é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ä¼šéå†å­ç›®å½•ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:5:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"4. åº”ç”¨å®ä¾‹ ä¸‹é¢ä»¥input.txtä¸ºä¾‹ï¼Œå¯¹grepè¿›è¡Œè¯´æ˜ã€‚input.txtçš„æ–‡æœ¬å†…å®¹å¦‚ä¸‹ï¼š \"Open Source\" is a good mechanism to develop programs. apple is my favorite food. Football game is not use feet only. this dress doesn't fit me. However, this dress is about $ 3183 dollars.^M GNU is free air not free beer.^M Her hair is very beauty.^M I can't finish the test.^M Oh! The soup taste good.^M motorcycle is cheap than car. This window is clear. the symbol '*' is represented as start. Oh! My god! The gd software is a library for drafting programs.^M You are the best is mean you are the no. 1. The world \u003cHappy\u003e is the same with \"glad\". I like dog. google is the best tools for search keyword. goooooogle yes! go! go! Let's go (01), æŸ¥æ‰¾åŒ…å«â€œtheâ€çš„è¡Œï¼Œå¹¶æ˜¾ç¤ºè¡Œå·ã€‚ $ grep -n \"the\" input.txt è¯´æ˜ï¼š-nè¡¨ç¤ºæ˜¾ç¤ºâ€œè¡Œå·â€ (02), ä¸åŒºåˆ†å¤§å°å†™ï¼ŒæŸ¥æ‰¾åŒ…æ‹¬â€œtheâ€çš„è¡Œï¼Œå¹¶æ˜¾ç¤ºè¡Œå·ã€‚ $ grep -in \"the\" input.txt è¯´æ˜ï¼š-nè¡¨ç¤ºæ˜¾ç¤ºâ€œè¡Œå·â€ï¼›-iè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ï¼Œå³ignoreå¤§å°å†™ã€‚ (03), æŸ¥æ‰¾ä¸åŒ…æ‹¬â€œtheâ€çš„è¡Œï¼Œç»Ÿè®¡è¡Œæ•°ã€‚ $ grep -cv \"the\" input.txt è¯´æ˜ï¼š-cè¡¨ç¤ºç»Ÿè®¡(count)ï¼›-vè¡¨ç¤ºä¸åŒ¹é…çš„é¡¹ã€‚ (04), æŸ¥æ‰¾â€œå½“å‰ç›®å½•â€åŠå…¶â€œæ‰€æœ‰å­ç›®å½•â€ä¸­åŒ…å«â€œtheâ€çš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºâ€œtheâ€åœ¨å…¶ä¸­çš„è¡Œå·ã€‚ $ grep -rn \"the\" . è¯´æ˜ï¼š-rè¡¨ç¤ºé€’å½’æŸ¥æ‰¾ï¼›-nè¡¨ç¤ºæ˜¾ç¤ºè¡Œå·ã€‚ (05), æŸ¥æ‰¾åŒ¹é…â€œt?stâ€çš„é¡¹ï¼Œå…¶ä¸­?ä¸ºä»»æ„å­—ç¬¦ã€‚ $ grep -n \"t.st\" input.txt è¯´æ˜ï¼š.è¡¨ç¤ºåŒ¹é…ä»»æ„å­—ç¬¦ (06), æŸ¥æ‰¾åŒ…å«æ•°å­—çš„è¡Œ $ grep -n \"[0-9]\" input.txt æˆ– $ grep -n \"[[:digit:]]\" input.txt è¯´æ˜ï¼š[0-9]è¡¨ç¤º0-9ä¹‹é—´çš„ä¸€ä¸ªæ•°å­—ï¼›[[:digit:]]ä¹Ÿè¡¨ç¤º0-9ä¹‹é—´çš„ä¸€ä¸ªæ•°å­— (07), æŸ¥æ‰¾ä»¥theå¼€å¤´çš„è¡Œ $ grep -n \"^the\" input.txt è¯´æ˜ï¼š\"^the\"è¡¨ç¤ºä»¥theå¼€å¤´ (08), æŸ¥æ‰¾ä»¥å°å†™å­—æ¯ç»“å°¾çš„è¡Œã€‚ $ grep -n \"[a-z]$\" input.txt è¯´æ˜ï¼š[a-z]è¡¨ç¤ºä¸€ä¸ªå°å†™å­—æ¯ï¼Œ$è¡¨ç¤ºç»“æŸç¬¦ï¼›[a-z]$è¡¨ç¤ºä»¥å°å†™å­—æ¯ç»“æŸçš„é¡¹ã€‚ (09), æŸ¥æ‰¾ç©ºç™½è¡Œã€‚ $ grep -n \"^$\" input.txt è¯´æ˜ï¼š^è¡¨ç¤ºå¼€å¤´ï¼Œå¦‚^tè¡¨ç¤ºä»¥å­—æ¯tå¼€å¤´ï¼›$è¡¨ç¤ºç»“å°¾ï¼Œå¦‚e$è¡¨ç¤ºä»¥eç»“å°¾ã€‚^$è¡¨ç¤ºç©ºç™½è¡Œã€‚ (10), æŸ¥æ‰¾ä»¥å­—æ¯gå¼€å¤´çš„å•è¯ $ grep -n \"\\\u003cg\" input.txt è¯´æ˜ï¼š\u003cè¡¨ç¤ºå•è¯çš„å¼€å§‹ï¼Œ\u003cgè¡¨ç¤ºä»¥gå¼€å§‹çš„å•è¯ã€‚ (11), æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸ºgoçš„å•è¯ã€‚æ³¨æ„ï¼šä¸èƒ½åŒ…æ‹¬goo,goodç­‰å­—ç¬¦ä¸² $ grep -n \"\\\u003cgo\\\u003e\" input.txt è¯´æ˜ï¼š\u003cè¡¨ç¤ºå•è¯çš„å¼€å§‹ï¼Œ\u003eè¡¨ç¤ºå•è¯ç»“å°¾ã€‚\u003cgo\u003eè¡¨ç¤ºä»¥å­—æ¯gå¼€å¤´ï¼Œä»¥å­—æ¯oç»“å°¾ã€‚ (12), æŸ¥æ‰¾åŒ…æ‹¬2-5ä¸ªå­—æ¯oçš„è¡Œã€‚ $ grep -n \"o\\{2,5\\}\" input.txt è¯´æ˜ï¼špattern{n,m}è¡¨ç¤ºnåˆ°mä¸ªpatternã€‚o{2,5}è¡¨ç¤º2-5ä¸ªå­—æ¯oã€‚ (13), æŸ¥æ‰¾åŒ…æ‹¬2ä¸ªä»¥ä¸Šå­—æ¯o(åŒ…æ‹¬2ä¸ª)çš„è¡Œã€‚ $ grep -n \"ooo*\" input.txt æˆ– $ grep -n \"oo\\+\" input.txt æˆ– $ grep -n \"o\\{2,\\}\" input.txt è¯´æ˜ï¼š ooo*: å‰é¢ä¸¤ä¸ªooè¡¨ç¤ºåŒ¹é…2ä¸ªå­—æ¯oï¼Œåé¢çš„o*è¡¨ç¤ºåŒ¹é…0åˆ°å¤šä¸ªå­—æ¯oã€‚ oo+: ç¬¬ä¸€ä¸ªå­—æ¯oè¡¨ç¤ºåŒ¹é…å•ä¸ªå­—æ¯oï¼›æœ€åçš„â€œo+â€ä¸€èµ·å‘æŒ¥ä½œç”¨ï¼Œå…¶ä¸­ï¼Œ+æ˜¯è½¬ä¹‰åçš„+ï¼Œè¡¨ç¤º1åˆ°å¤šä¸ªï¼›è€Œo+è¡¨ç¤º1åˆ°å¤šä¸ªå­—æ¯oã€‚ pattern{n,}è¡¨ç¤ºå¤šäºnä¸ªpatternã€‚o{2,}è¡¨ç¤ºå¤šäº2ä¸ªå­—æ¯oã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:6:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"5. egrep ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:7:0","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"5.1 egrepè¯´æ˜ egrepæ˜¯æ‰©å±•çš„grepï¼Œå³å®ƒçš„åŠŸèƒ½æ¯”grepæ›´å¤šä¸€äº›ã€‚â€œegrep\"ç­‰ä»·äº\"grep -eâ€ã€‚ egrepç›¸æ¯”ä¸grepï¼Œæ”¯æŒæ‹¬å·â€œ()â€ä»¥åŠæ“ä½œç¬¦â€œ|â€(è¡¨ç¤ºæˆ–)ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:7:1","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["bash"],"content":"5.2 egrepåº”ç”¨å®ä¾‹ ä»ç„¶ä»¥ä¸Šé¢çš„input.txtä¸ºè¾“å…¥æ–‡æœ¬è¿›è¡Œè¯´æ˜ (01), æŸ¥æ‰¾åŒ…å«theæˆ–è€…thisçš„è¡Œ $ egrep -n \"the|this\" input.txt è¯´æ˜ï¼š-nè¡¨ç¤ºè¾“å‡ºåŒ¹é…é¡¹çš„è¡Œå·ï¼Œâ€œthe|this\"è¡¨ç¤ºåŒ…æ‹¬theæˆ–è€…åŒ…æ‹¬thisçš„é¡¹ã€‚ (02), æŸ¥æ‰¾åŒ…å«theæˆ–è€…thisçš„è¡Œ $ egrep -vn \"(the|this)\" input.txt è¯´æ˜ï¼š-nè¡¨ç¤ºè¾“å‡ºåŒ¹é…é¡¹çš„è¡Œå·ï¼Œâ€œthe|this\"è¡¨ç¤ºåŒ…æ‹¬theæˆ–è€…åŒ…æ‹¬thisçš„é¡¹ï¼›-vè¡¨ç¤ºåŒ¹é…çš„å¯¹ç«‹é¢ã€‚å³ -v â€œthe|this\"è¡¨ç¤ºæ—¢ä¸åŒ…æ‹¬theåˆä¸åŒ…æ‹¬thisçš„é¡¹ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/bash_note_02/:7:2","tags":["bash"],"title":"bash ç¼–ç¨‹ç¬”è®° (äºŒ)","uri":"/posts/program/bash/bash_note_02/"},{"categories":["cpp"],"content":"æ•´ç†éƒ¨åˆ†ç°ä»£C++ä½œç”¨åœ¨å‡½æ•°åçš„å…³é”®å­—","date":"2023-01-15","objectID":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/","tags":["cpp"],"title":"C++:å‡½æ•°åçš„å…³é”®å­—","uri":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/"},{"categories":["cpp"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ C++å‡½æ•°åé¢åŠ constå…³é”®å­— C++å‡½æ•°åé¢åŠ throwå…³é”®å­— C++11å¼•å…¥çš„å…³é”®å­—=defaultã€=deleteã€overrideã€final 1. =default 2. =delete 3. override C++å‡½æ•°åé¢åŠ constå…³é”®å­— éé™æ€æˆå‘˜å‡½æ•°åé¢åŠ constï¼ˆåŠ åˆ°éæˆå‘˜å‡½æ•°æˆ–é™æ€æˆå‘˜åé¢ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼‰,è¡¨ç¤ºæˆå‘˜å‡½æ•°éšå«ä¼ å…¥çš„thisæŒ‡é’ˆä¸ºconstæŒ‡é’ˆï¼Œå†³å®šäº†åœ¨è¯¥æˆå‘˜å‡½æ•°ä¸­ï¼Œä»»æ„ä¿®æ”¹å®ƒæ‰€åœ¨çš„ç±»çš„æˆå‘˜çš„æ“ä½œéƒ½æ˜¯ä¸å…è®¸çš„ï¼ˆå› ä¸ºéšå«äº†å¯¹thisæŒ‡é’ˆçš„constå¼•ç”¨ï¼‰ å”¯ä¸€çš„ä¾‹å¤–æ˜¯å¯¹äºmutableä¿®é¥°çš„æˆå‘˜ã€‚ åŠ äº†constçš„æˆå‘˜å‡½æ•°å¯ä»¥è¢«éconstå¯¹è±¡å’Œconstå¯¹è±¡è°ƒç”¨,ä½†ä¸åŠ constçš„æˆå‘˜å‡½æ•°åªèƒ½è¢«éconstå¯¹è±¡è°ƒç”¨ 1 2 3 4 char getData() const { return this-\u003eletter; } C++å‡½æ•°åé¢åŠ throwå…³é”®å­— void fun() throw() è¡¨ç¤ºfunä¸å…è®¸æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œå³funæ˜¯å¼‚å¸¸å®‰å…¨çš„ã€‚ void fun() throw(â€¦) è¡¨ç¤ºfunå¯ä»¥æŠ›å‡ºä»»ä½•å½¢å¼çš„å¼‚å¸¸ã€‚ void fun() throw(exceptionType) è¡¨ç¤ºfunåªèƒ½æŠ›å‡ºexceptionTypeç±»å‹çš„å¼‚å¸¸ã€‚ void GetTag() throw(int); è¡¨ç¤ºåªæŠ›å‡ºintç±»å‹å¼‚å¸¸ void GetTag() throw(intï¼Œchar); è¡¨ç¤ºæŠ›å‡ºinï¼Œcharç±»å‹å¼‚å¸¸ void GetTag() throw(); è¡¨ç¤ºä¸ä¼šæŠ›å‡ºä»»ä½•ç±»å‹å¼‚å¸¸ void GetTag() throw(â€¦); è¡¨ç¤ºæŠ›å‡ºä»»ä½•ç±»å‹å¼‚å¸¸ é‚£ä¹ˆï¼Œvoid GetTag() throw(int); è¡¨ç¤ºåªæŠ›å‡ºintç±»å‹å¼‚å¸¸ è¿™å¥è§£é‡Šæ€ä¹ˆç†è§£å‘¢ï¼Ÿ å¹¶ä¸è¡¨ç¤ºä¸€å®šä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯ä¸€æ—¦æŠ›å‡ºå¼‚å¸¸åªä¼šæŠ›å‡ºintç±»å‹ã€‚ å¦‚æœæŠ›å‡ºéintç±»å‹å¼‚å¸¸ï¼Œè°ƒç”¨unexsetpion()å‡½æ•°ï¼Œé€€å‡ºç¨‹åºã€‚ C++11å¼•å…¥çš„å…³é”®å­—=defaultã€=deleteã€overrideã€final ","date":"2023-01-15","objectID":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/:0:0","tags":["cpp"],"title":"C++:å‡½æ•°åçš„å…³é”®å­—","uri":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/"},{"categories":["cpp"],"content":"1. =default åœ¨C++11ä¸­ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨é»˜è®¤çš„æ„é€ ã€ææ„å‡½æ•°ï¼Œéœ€è¦åœ¨å‚æ•°åˆ—è¡¨åé¢åŠ ä¸Š=defaultå…³é”®å­—ï¼Œä¸ä¹‹å¯¹åº”ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨é»˜è®¤çš„æ„é€ ã€ææ„å‡½æ•°ï¼Œå°±åœ¨å‚æ•°åˆ—è¡¨åé¢åŠ ä¸Š=deleteï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±ä¼šåˆ é™¤å¯¹åº”çš„é»˜è®¤æ„é€ ã€ææ„å‡½æ•°ã€‚ 1 2 3 4 5 6 7 8 9 //demo.h #pragma once class CobjectA { public: CobjectA(int i); CobjectA() = default; }; å†æ¬¡ç¼–è¯‘è¾“å‡ºï¼š 1 Test Con ! è¿™æ ·å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¼–è¯‘å™¨é»˜è®¤ç”Ÿæˆçš„æ„é€ å‡½æ•°ï¼Œåªéœ€è¦åœ¨å¤´æ–‡ä»¶å£°æ˜çš„æ—¶å€™ï¼Œåœ¨å‚æ•°åˆ—è¡¨ååŠ ä¸Šå…³é”®å­—=defaultï¼Œä¸éœ€è¦åœ¨å¯¹åº”çš„cppæ–‡ä»¶ä¸­è¿›è¡Œå®šä¹‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/:1:0","tags":["cpp"],"title":"C++:å‡½æ•°åçš„å…³é”®å­—","uri":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/"},{"categories":["cpp"],"content":"2. =delete ä¸ºäº†ä¸è®©ä¸€ä¸ªç±»è¢«æ‹·è´ï¼Œå¯ä»¥å°†å…¶æ‹·è´æ„é€ å‡½æ•°å£°æ˜ä¸ºprivateå±æ€§ï¼Œä½†æ˜¯æœ‰äº†deleteå…³é”®å­—åï¼Œå¯ä»¥ç›´æ¥åœ¨æ‹·è´æ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨åé¢åŠ ä¸Š=deleteï¼Œå¯¹äºä¸€äº›ä¸éœ€è¦æ„é€ ã€ææ„å‡½æ•°çš„ç±»ï¼Œå¯ä»¥åœ¨å…¶é»˜è®¤çš„æ„é€ ã€ææ„å‡½æ•°å‚æ•°åˆ—è¡¨ååŠ ä¸Š=deleteï¼Œå‡å°‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/:2:0","tags":["cpp"],"title":"C++:å‡½æ•°åçš„å…³é”®å­—","uri":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/"},{"categories":["cpp"],"content":"3. override åœ¨ç»§æ‰¿æœºåˆ¶ä¸­ä¼šç”¨åˆ°overrideå…³é”®å­—ï¼Œä½¿ç”¨è¯¥å…³é”®å­—å¯ä»¥é¿å…ä¸€äº›ä½çº§é”™è¯¯çš„å‡ºç°ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ç±»Aä¸ç±»Bï¼Œå¹¶è®©Bç»§æ‰¿Aã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include \u003ciostream\u003e class A { public: virtual void func1() { std::cout \u003c\u003c \"class A func1\" \u003c\u003c std::endl; } }; class B : A { public: virtual void func1() override { std::cout \u003c\u003c \"class B func1\" \u003c\u003c std::endl; } }; int main() { A a; a.func1(); B b; b.func1(); return 0; } Aä¸­æœ‰è™šå‡½æ•°func1ï¼Œåœ¨Bä¸­ç»§æ‰¿åé‡æ–°å®ç°äº†ä¸€ä¸‹ï¼Œè¾“å‡ºç»“æœï¼š 1 2 class A func1 class B func1 åœ¨Bä¸­æ”¹å†™func1ï¼Œå…¶åå¢åŠ äº†overrideå…³é”®å­—ï¼Œå¦‚æœå­˜åœ¨è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæœ¬æƒ³æ”¹å†™ä»Aä¸­ç»§æ‰¿æ¥çš„func1ï¼Œç”±äºç–å¿½ï¼Œä¿®æ”¹äº†å‡½æ•°çš„ç­¾åï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include \u003ciostream\u003e class A { public: virtual void func1() { std::cout \u003c\u003c \"class A func1\" \u003c\u003c std::endl; } }; class B : A { public: virtual void func2() override //å°†func1å†™æˆäº†func2 { std::cout \u003c\u003c \"class B func2\" \u003c\u003c std::endl; } }; int main() { A a; a.func1(); B b; b.func2(); return 0; } ç»“æœç¼–è¯‘å‡ºé”™ï¼š 1 2 3 test2.cpp:15:18: error: â€˜virtual void B::func2()â€™ marked â€˜overrideâ€™, but does not override 15 | virtual void func2() override //å°†func1å†™æˆäº†func2 | æç¤ºæ²¡æœ‰é‡å†™åŸºç±»çš„æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œæœ‰äº†overrideå…³é”®å­—ï¼Œä¸€å®šè¦é‡å†™åŸºç±»çš„æ–¹æ³•ï¼Œè¿™é‡Œçš„func2ç›¸å½“äºæ˜¯åœ¨ç±»Bä¸­é‡æ–°å®šä¹‰çš„ä¸€ä¸ªå‡½æ•°ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include \u003ciostream\u003e class A { public: virtual void func1() { std::cout \u003c\u003c \"class A func1\" \u003c\u003c std::endl; } }; class B : A { public: virtual void func2() //è¿™é‡Œå»æ‰overrideå…³é”®å­—ï¼Œç›¸å½“äºè‡ªå·±å®šä¹‰äº†ä¸€ä¸ªfunc2å‡½æ•° { std::cout \u003c\u003c \"class B func2\" \u003c\u003c std::endl; } }; int main() { A a; a.func1(); B b; b.func2(); return 0; } è¾“å‡ºç»“æœï¼š 1 2 class A func1 class B func2 ","date":"2023-01-15","objectID":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/:3:0","tags":["cpp"],"title":"C++:å‡½æ•°åçš„å…³é”®å­—","uri":"/posts/program/cpp/c++%E5%87%BD%E6%95%B0%E5%90%8E%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97/"},{"categories":["cmake"],"content":"cmake ç¼–ç¨‹","date":"2023-01-15","objectID":"/posts/program/cmake/note/","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"[TOC] CMake -D å®šä¹‰ -DCMAKE_INSTALL_PREFIX= æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œç›¸å½“äº â€“prefix= -DCMAKE_C_COMPILER= æŒ‡å®š C ç¼–è¯‘å™¨ï¼Œç›¸å½“äº CC= -DCMAKE_CXX_COMPILER=æŒ‡å®š CXX ç¼–è¯‘å™¨ï¼Œç›¸å½“äº CXX= CMakeä¸­æ¡ä»¶åˆ¤æ–­è¯­å¥ 1 2 3 4 5 if(\u003cconstant\u003e) ... else() ... endif() \u003cconstant\u003eè¡¨ç¤ºä¸€ä¸ªå¸¸é‡ï¼Œå…¶å–å€¼ä¸å¯¹åº”é€»è¾‘å€¼å¦‚ä¸‹ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼š é€»è¾‘å€¼ å¸¸é‡å€¼ true 1ã€ONã€YESã€TRUEã€Yã€é0æ•°å­— false 0ã€OFFã€NOã€FALSEã€Nã€IGNOREã€NOTFOUNTã€ç©ºå­—ç¬¦ä¸²ã€-NOTFOUNDç»“å°¾å­—ç¬¦ä¸² å˜é‡ 1 if(\u003cvariable\u003e) \u003cvariable\u003eè¡¨ç¤ºä¸€ä¸ªå˜é‡ï¼Œå˜é‡å–å€¼ä¸æ˜¯ä¸Šè¿°å®šä¹‰çš„falseå¸¸é‡æ—¶å…¶é€»è¾‘å€¼ä¸ºtrueï¼Œå¦åˆ™é€»è¾‘å€¼ä¸ºfalseã€‚ æ³¨ï¼š å®å‚æ•°ä¸æ˜¯å˜é‡ï¼Œç¯å¢ƒå˜é‡ä¸å¯ä½œä¸ºæ¡ä»¶ã€‚ ä½¿ç”¨å˜é‡æ—¶ï¼Œä¸è¦ç”¨${}è¡¨ç¤ºå˜é‡ï¼Œç›´æ¥ä½¿ç”¨å˜é‡åå³å¯ã€‚ å­—ç¬¦ä¸² 1 if(\u003cstring\u003e) \u003cstring\u003eè¡¨ç¤ºå¸¦å¼•å·çš„å­—ç¬¦ä¸²ã€‚ä»¥ä¸‹æƒ…å†µå…¶é€»è¾‘å€¼ä¸ºtrue: å­—ç¬¦ä¸²å†…å®¹ä¸ºä¸Šè¿°å®šä¹‰çš„trueå¸¸é‡ ç­–ç•¥ CMP0054 æœªè®¾ç½®ä¸º NEWï¼Œå¹¶ä¸”å­—ç¬¦ä¸²çš„å€¼æ°å¥½æ˜¯å— CMP0054 è¡Œä¸ºå½±å“çš„å˜é‡åç§°ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:0:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"é€»è¾‘è¿ç®— 1 2 3 4 if(NOT \u003ccondition\u003e) # éè¿ç®— if(\u003ccond1\u003e AND \u003ccond2\u003e) # ä¸è¿ç®— if(\u003ccond1\u003e OR \u003ccond2\u003e) #æˆ–è¿ç®— if((condition) AND (condition OR (condition))) # æœ‰æ‹¬å·æ—¶ï¼Œå…ˆè®¡ç®—æ‹¬å·çš„é€»è¾‘å€¼ ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:1:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"å­˜åœ¨æ€§åˆ¤æ–­ 1 2 3 4 5 6 if(COMMAND command-name) # true ç»™å®šå‚æ•°æ˜¯å¯è°ƒç”¨çš„å‘½ä»¤ã€å®ã€å‡½æ•°æ—¶ if(POLICY policy-id) # true ç»™å®šçš„ç­–ç•¥å­˜åœ¨æ—¶ if(TARGET target-name) # true ç»™å®šçš„ç›®æ ‡å‚æ•°æ˜¯é€šè¿‡add_executable()ã€add_library() æˆ– add_custom_target() å‘½ä»¤åˆ›å»ºå¹¶å­˜åœ¨çš„ if(TEST test-name) # true ç»™å®šå‚æ•°æ˜¯é€šè¿‡add_test()åˆ›å»ºå¹¶å­˜åœ¨çš„ if(DEFINED \u003cname\u003e|CACHE{\u003cname\u003e}|ENV{\u003cname\u003e}) # true å¦‚æœå˜é‡ã€ç¼“å­˜ã€ç¯å¢ƒå˜é‡å­˜åœ¨ï¼ˆå…¶å–å€¼æ— å…³ï¼‰ if(\u003cvariable|string\u003e IN_LIST \u003cvariable\u003e) # true å¦‚æœ\u003cvariable|string\u003eå­˜åœ¨äºåˆ—è¡¨å˜é‡\u003cvariable\u003eä¸­ 1 2 3 4 5 6 # ä»¥ä¸‹è·¯å¾„å‚æ•°å¯ä»¥ä¸ºç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹æ˜¯æŒ‡ç›¸å¯¹äºå½“å‰æ‰§è¡Œcmakeçš„è·¯å¾„ã€‚ if(EXISTS path-to-file-or-directory) # true å¦‚æœæ–‡ä»¶/ç›®å½•å­˜åœ¨ï¼Œå½“å‚æ•°æ˜¯è¿æ¥æ—¶è¡¨ç¤ºè¿æ¥æŒ‡å‘çš„å®ä½“å­˜åœ¨ã€‚ if(file1 IS_NEWER_THAN file2) # true file1æ¯”file2æ–° if(IS_DIRECTORY path-to-directory) # true å¦‚æœå‚æ•°æ˜¯ç›®å½• if(IS_SYMLINK file-name)# true å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªé“¾æ¥ if(IS_ABSOLUTE path) # true å¦‚æœå‚æ•°æ˜¯ç»å¯¹è·¯å¾„ ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:2:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"æ­£åˆ™åŒ¹é… å¦‚æœ\u003cvariable|string\u003eåŒ¹é…äº†æ­£åˆ™è¡¨è¾¾å¼regexï¼Œåˆ™ä¸ºtrue \u003cvariable|string\u003eå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ–è€…å†…å®¹ä¸ºå­—ç¬¦ä¸²çš„å˜é‡ã€‚ 1 if(\u003cvariable|string\u003e MATCHES regex) ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:3:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"æ•°å­—æ¯”è¾ƒ \u003cvariable|string\u003eè¡¨ç¤ºå­˜å‚¨æ•°å­—çš„å˜é‡ï¼Œæˆ–åˆæ³•çš„æ•°å­—å­—ç¬¦ä¸²ï¼ˆå¦‚ â€œ512â€ï¼‰ 1 2 3 4 5 if(\u003cvariable|string\u003e LESS \u003cvariable|string\u003e) # \u003c if(\u003cvariable|string\u003e GREATER \u003cvariable|string\u003e) # \u003e if(\u003cvariable|string\u003e EQUAL \u003cvariable|string\u003e) # == if(\u003cvariable|string\u003e LESS_EQUAL \u003cvariable|string\u003e) # \u003c= if(\u003cvariable|string\u003e GREATER_EQUAL \u003cvariable|string\u003e) # \u003e= ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:4:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"å­—ç¬¦ä¸²æ¯”è¾ƒ \u003cvariable|string\u003eå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ–è€…å†…å®¹ä¸ºå­—ç¬¦ä¸²çš„å˜é‡ã€‚ 1 2 3 4 5 if(\u003cvariable|string\u003e STRLESS \u003cvariable|string\u003e) # \u003c if(\u003cvariable|string\u003e STRGREATER \u003cvariable|string\u003e) # \u003e if(\u003cvariable|string\u003e STREQUAL \u003cvariable|string\u003e) # == if(\u003cvariable|string\u003e STRLESS_EQUAL \u003cvariable|string\u003e) # \u003c= if(\u003cvariable|string\u003e STRGREATER_EQUAL \u003cvariable|string\u003e) # \u003e= ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:5:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"ç‰ˆæœ¬å·æ¯”è¾ƒ \u003cvariable|string\u003eè¡¨ç¤ºå­˜å‚¨ç‰ˆæœ¬å·çš„å˜é‡ï¼Œæˆ–åˆæ³•çš„ç‰ˆæœ¬å·å­—ç¬¦ä¸²ï¼ˆå¦‚ â€œ3.1.4â€ï¼‰ 1 2 3 4 5 if(\u003cvariable|string\u003e VERSION_LESS \u003cvariable|string\u003e) # \u003c if(\u003cvariable|string\u003e VERSION_GREATER \u003cvariable|string\u003e) # \u003e if(\u003cvariable|string\u003e VERSION_EQUAL \u003cvariable|string\u003e) # == if(\u003cvariable|string\u003e VERSION_LESS_EQUAL \u003cvariable|string\u003e) # \u003c= if(\u003cvariable|string\u003e VERSION_GREATER_EQUAL \u003cvariable|string\u003e) # \u003e= ","date":"2023-01-15","objectID":"/posts/program/cmake/note/:6:0","tags":["cmake"],"title":"cmake note","uri":"/posts/program/cmake/note/"},{"categories":["cmake"],"content":"cmake ç¼–ç¨‹","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ CMake CMakeä¸­å¸¸ç”¨é¢„å®šä¹‰å˜é‡ CMakeçš„é¢„å®šä¹‰å˜é‡ ç³»ç»Ÿä¿¡æ¯é¢„å®šä¹‰å˜é‡ å¼€å…³é€‰é¡¹ å¸¸ç”¨è¯­æ³• CMAKE_MINIMUM_REQUIRED PROJECT å¤–éƒ¨æ„å»ºä¸å†…éƒ¨æ„å»º SET ADD_SUBDIRECTORY INCLUDE_DIRECTORIES ADD_EXECUTABLE ADD_LIBRARY å˜é‡EXECUTABLE_OUTPUT_PATH, LIBRARY_OUTPUT_PATH LINK_DIRECTORIES TARGET_LINK_LIBRARIES MESSAGE SET_TARGET_PROPERTIES AUX_SOURCE_DIRECTORY åŸºæœ¬æ§åˆ¶è¯­æ³• å®æˆ˜ å•ä¸ªæºæ–‡ä»¶ å¤šä¸ªæºæ–‡ä»¶ åŒä¸€ç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ å¤šä¸ªç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ è‡ªå®šä¹‰ç¼–è¯‘é€‰é¡¹ å®‰è£…å’Œæµ‹è¯• å®šåˆ¶å®‰è£…è§„åˆ™ ä¸ºå·¥ç¨‹æ·»åŠ æµ‹è¯• å‚è€ƒèµ„æ–™ CMake CMakeLists.txt cmake PATH ccmake PATH ccmake å’Œ cmake çš„åŒºåˆ«åœ¨äºå‰è€…æä¾›äº†ä¸€ä¸ªäº¤äº’å¼çš„ç•Œé¢ PATH æ˜¯ CMakeLists.txt æ‰€åœ¨çš„ç›®å½• ä½¿ç”¨ make å‘½ä»¤è¿›è¡Œç¼–è¯‘ã€‚ CMakeä¸­å¸¸ç”¨é¢„å®šä¹‰å˜é‡ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:0:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"CMakeçš„é¢„å®šä¹‰å˜é‡ PROJECT_SOURCE_DIRï¼šå·¥ç¨‹æ ¹ç›®å½•ï¼› PROJECT_BINARY_DIRï¼šè¿è¡Œcmakeå‘½ä»¤çš„ç›®å½•ã€‚ç¬”è€…å»ºè®®å®šä¹‰ä¸º${PROJECT_SOURCE_DIR}/ buildä¸‹ã€‚å…·ä½“åŸå› è§åæ–‡å¤–éƒ¨ç¼–è¯‘éƒ¨åˆ†ï¼› CMAKE_INCLUDE_PATHï¼šç¯å¢ƒå˜é‡ï¼Œécmakeå˜é‡ï¼› CMAKE_LIBRARY_PATHï¼šç¯å¢ƒå˜é‡ï¼› CMAKE_CURRENT_SOURCE_DIRï¼šå½“å‰å¤„ç†çš„CMakeLists.txtæ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼› CMAKE_CURRENT_BINARY_DIRï¼štargetç¼–è¯‘ç›®å½•ï¼› ä½¿ç”¨ADD_SURDIRECTORYæŒ‡ä»¤å¯ä»¥æ›´æ”¹è¯¥å˜é‡çš„å€¼ï¼› SET(EXECUTABLE_OUTPUT_PATH \u003c dir \u003e) æŒ‡ä»¤ä¸ä¼šå¯¹è¯¥å˜é‡æœ‰å½±å“ï¼Œä½†æ”¹å˜äº†æœ€ç»ˆç›®æ ‡æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼› CMAKE_CURRENT_LIST_FILEï¼šè¾“å‡ºè°ƒç”¨è¯¥å˜é‡çš„CMakeLists.txtçš„å®Œæ•´è·¯å¾„ï¼› CMAKE_CURRENT_LIST_LINEï¼šè¾“å‡ºè¯¥å˜é‡æ‰€åœ¨çš„è¡Œï¼› CMAKE_MODULE_PATHï¼šå®šä¹‰è‡ªå·±çš„cmakeæ¨¡å—æ‰€åœ¨è·¯å¾„ï¼› EXECUTABLE_OUTPUT_PATHï¼šé‡æ–°å®šä¹‰ç›®æ ‡äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼› LIBRARY_OUTPUT_PATHï¼šé‡æ–°å®šä¹‰ç›®æ ‡é“¾æ¥åº“æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼› PROJECT_NAMEï¼šè¿”å›ç”±PROJECTæŒ‡ä»¤å®šä¹‰çš„é¡¹ç›®åç§°ï¼› CMAKE_ALLOW_LOOSE_LOOP_CONSTRUCTSï¼šç”¨æ¥æ§åˆ¶IFâ€¦ELSEâ€¦è¯­å¥çš„ä¹¦å†™æ–¹å¼ï¼› ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:1:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"ç³»ç»Ÿä¿¡æ¯é¢„å®šä¹‰å˜é‡ CMAKE_MAJOR_VERSION cmakeä¸»ç‰ˆæœ¬å·,å¦‚2.8.6ä¸­çš„2 CMAKE_MINOR_VERSION cmakeæ¬¡ç‰ˆæœ¬å·,å¦‚2.8.6ä¸­çš„8 CMAKE_PATCH_VERSION cmakeè¡¥ä¸ç­‰çº§,å¦‚2.8.6ä¸­çš„6 CMAKE_SYSTEM ç³»ç»Ÿåç§°,ä¾‹å¦‚Linux-2.6.22 CMAKE_SYSTEM_NAME ä¸åŒ…å«ç‰ˆæœ¬çš„ç³»ç»Ÿå,å¦‚Linux CMAKE_SYSTEM_VERSION ç³»ç»Ÿç‰ˆæœ¬,å¦‚2.6.22 CMAKE_SYSTEM_PROCESSOR å¤„ç†å™¨åç§°,å¦‚i686 UNIX åœ¨æ‰€æœ‰çš„ç±»UNIXå¹³å°ä¸ºTRUE,åŒ…æ‹¬OS Xå’Œcygwin WIN32 åœ¨æ‰€æœ‰çš„win32å¹³å°ä¸ºTRUE,åŒ…æ‹¬cygwin ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:2:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å¼€å…³é€‰é¡¹ BUILD_SHARED_LIBS æ§åˆ¶é»˜è®¤çš„åº“ç¼–è¯‘æ–¹å¼ã€‚ æ³¨ï¼šå¦‚æœæœªè¿›è¡Œè®¾ç½®,ä½¿ç”¨ADD_LIBRARYæ—¶åˆæ²¡æœ‰æŒ‡å®šåº“ç±»å‹,é»˜è®¤ç¼–è¯‘ç”Ÿæˆçš„åº“éƒ½æ˜¯é™æ€åº“ã€‚ CMAKE_C_FLAGS è®¾ç½®Cç¼–è¯‘é€‰é¡¹ CMAKE_CXX_FLAGS è®¾ç½®C++ç¼–è¯‘é€‰é¡¹ å¸¸ç”¨è¯­æ³• CMakeLists.txt çš„è¯­æ³•æ¯”è¾ƒç®€å•ï¼Œç”±å‘½ä»¤ã€æ³¨é‡Šå’Œç©ºæ ¼ç»„æˆï¼Œå…¶ä¸­å‘½ä»¤æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚ç¬¦å· # åé¢çš„å†…å®¹è¢«è®¤ä¸ºæ˜¯æ³¨é‡Šã€‚å‘½ä»¤ç”±å‘½ä»¤åç§°ã€å°æ‹¬å·å’Œå‚æ•°ç»„æˆï¼Œå‚æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼è¿›è¡Œé—´éš”ã€‚ æ¯ä¸€ä¸ªéœ€è¦è¿›è¡Œcmakeæ“ä½œçš„ç›®å½•ä¸‹é¢ï¼Œéƒ½å¿…é¡»å­˜åœ¨æ–‡ä»¶CMakeLists.txt ã€‚ cmakeæŒ‡ä»¤ä¸åŒºåˆ†å¤§å°å†™ã€‚ cmakeå†…ç½®å˜é‡æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œæˆ–è€…å¹²è„†å°±è¯´ï¼Œcmakeçš„æ‰€æœ‰å˜é‡éƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ å˜é‡ä½¿ç”¨${}æ–¹å¼å–å€¼ï¼Œä½†æ˜¯åœ¨ IF æ§åˆ¶è¯­å¥ä¸­æ˜¯ç›´æ¥ä½¿ç”¨å˜é‡åï¼› æŒ‡ä»¤(å‚æ•° 1 å‚æ•° 2â€¦)ï¼Œå‚æ•°ä½¿ç”¨æ‹¬å¼§æ‹¬èµ·ï¼Œå‚æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼æˆ–åˆ†å·åˆ†å¼€ï¼› ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:3:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"CMAKE_MINIMUM_REQUIRED è¯¥è¯­å¥ä¸€èˆ¬éƒ½å¯ä»¥æ”¾ç½®åœ¨CMakeLists.txtçš„å¼€å¤´ï¼Œç”¨äºè¯´æ˜CMakeæœ€ä½ç‰ˆæœ¬è¦æ±‚ã€‚ è¿™è¡Œå‘½ä»¤æ˜¯å¯é€‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å†™è¿™å¥è¯ï¼Œä½†åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¦‚æœCMakeLists.txtæ–‡ä»¶ä¸­ä½¿ç”¨äº†ä¸€äº›é«˜ç‰ˆæœ¬cmakeç‰¹æœ‰çš„ä¸€äº›å‘½ä»¤çš„æ—¶å€™ï¼Œå°±éœ€è¦åŠ ä¸Šè¿™æ ·ä¸€è¡Œï¼Œæé†’ç”¨æˆ·å‡çº§åˆ°è¯¥ç‰ˆæœ¬ä¹‹åå†æ‰§è¡Œcmakeã€‚ 1 cmake_minimum_required (VERSION 2.6) ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:4:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"PROJECT 1 PROJECT(name) nameï¼šå·¥ç¨‹åç§° è¯¥æŒ‡ä»¤ä¸€èˆ¬ç½®äºCMakeLists.txtçš„å¼€å¤´ï¼Œå®šä¹‰äº†å·¥ç¨‹çš„åç§°ã€‚ä½†é¡¹ç›®æœ€ç»ˆç¼–è¯‘ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å¹¶ä¸ä¸€å®šæ˜¯è¿™ä¸ªé¡¹ç›®åç§°ã€‚ æ‰§è¡Œäº†è¯¥æ¡æŒ‡ä»¤ä¹‹åï¼Œå°†ä¼šè‡ªåŠ¨åˆ›å»ºä¸¤ä¸ªå˜é‡ï¼š 1 2 \u003c projectname \u003e_BINARY_DIRï¼šäºŒè¿›åˆ¶æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼› \u003c projectname \u003e_SOURCE_DIRï¼šæºä»£ç è·¯å¾„ï¼› 1 project(CRNode) æ‰§è¡Œäº†ä¸Šä¸€æ¡æŒ‡ä»¤ï¼Œå³å®šä¹‰äº†ä¸€ä¸ªé¡¹ç›®åç§°CRNodeï¼Œç›¸åº”çš„ä¼šç”Ÿæˆä¸¤ä¸ªå˜é‡ï¼šCRNode_BINARY_DIR, CRNode_SOURCE_DIRã€‚ cmakeä¸­é¢„å®šä¹‰äº†ä¸¤ä¸ªå˜é‡ï¼šPROJECT_BINARY_DIRä¸PROJECT_SOURCE_DIRã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š 1 2 PROJECT_BINARY_DIR = CRNode_BINARY_DIR PROJECT_SOURCE_DIR = CRNode_SOURCE_DIR æ¨èç›´æ¥ä½¿ç”¨PROJECT_BINARY_DIRä¸PROJECT_SOURCE_DIRï¼Œè¿™æ ·åŠæ—¶é¡¹ç›®åç§°å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿä¸ä¼šå½±å“CMakeLists.txtæ–‡ä»¶ã€‚ å…³äºä¸Šé¢ä¸¤ä¸ªå˜é‡æ˜¯å¦ç›¸åŒçš„é—®é¢˜ï¼Œæ¶‰åŠåˆ°ç¼–è¯‘æ–¹æ³•æ˜¯å†…éƒ¨ç¼–è¯‘è¿˜æ˜¯å¤–éƒ¨ç¼–è¯‘ã€‚å¦‚æœæ˜¯å†…éƒ¨ç¼–è¯‘ï¼Œåˆ™ä¸Šé¢ä¸¤ä¸ªå˜é‡ç›¸åŒï¼›å¦‚æœæ˜¯å¤–éƒ¨ç¼–è¯‘ï¼Œåˆ™ä¸¤ä¸ªå˜é‡ä¸åŒã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:5:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å¤–éƒ¨æ„å»ºä¸å†…éƒ¨æ„å»º å‡è®¾æ­¤æ—¶å·²ç»å®Œæˆäº†CMakeLists.txtçš„ç¼–å†™ï¼Œåœ¨CMakeLists.txtæ‰€åœ¨ç›®å½•ä¸‹ï¼Œæœ‰ä¸¤ç§æ‰§è¡Œcmakeçš„æ–¹æ³•ï¼š 1 2 cmake ./ make ä»¥åŠï¼š 1 2 3 4 mkdir build cd ./build cmake ../ make ç¬¬ä¸€ç§æ–¹æ³•æ˜¯å†…éƒ¨æ„å»ºï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯å¤–éƒ¨æ„å»ºã€‚ä¸Šè¿°ä¸¤ç§æ–¹æ³•ä¸­ï¼Œæœ€å¤§ä¸åŒåœ¨äºcmakeä¸makeçš„å·¥ä½œè·¯å¾„ä¸åŒã€‚ å†…éƒ¨æ„å»ºæ–¹æ³•ä¸­ï¼Œcmakeç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶éƒ½ä¼šå­˜æ”¾åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼›å¤–éƒ¨æ„å»ºæ–¹æ³•ä¸­ï¼Œä¸­é—´æ–‡ä»¶ä¸å¯æ‰§è¡Œæ–‡ä»¶éƒ½å­˜æ”¾åœ¨buildç›®å½•ä¸­ã€‚ å»ºè®®ä½¿ç”¨å¤–éƒ¨æ„å»ºæ–¹æ³•ã€‚ä¼˜ç‚¹æ˜¾è€Œæ˜“è§ï¼šæœ€å¤§é™åº¦çš„ä¿æŒäº†ä»£ç ç›®å½•çš„æ•´æ´ï¼Œç”Ÿæˆã€ç¼–è¯‘ä¸å®‰è£…æ˜¯ä¸åŒäºé¡¹ç›®ç›®å½•çš„å…¶ä»–ç›®å½•ä¸­ï¼Œåœ¨å¤–éƒ¨æ„å»ºæ–¹æ³•ä¸‹ï¼ŒPROJECT_SOURCE_DIRæŒ‡å‘ç›®å½•ä¸å†…éƒ¨æ„å»ºç›¸åŒï¼Œä¸ºCMakeLists.txtæ‰€åœ¨æ ¹ç›®å½•ï¼›è€ŒPROJECT_BINARY_DIRä¸åŒï¼Œå®ƒæŒ‡å‘CMakeLists.txtæ‰€åœ¨æ ¹ç›®å½•ä¸‹çš„buildç›®å½•ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:5:1","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"SET 1 SET(VAR [VALUE] [CACHE TYPEDOCSTRING [FORCE]]) eg: 1 SET(CMAKE_INSTALL_PREFIX /usr/local) æˆ‘ä»¬æ˜¾å¼çš„å°†CMAKE_INSTALL_PREFIXçš„å€¼å®šä¹‰ä¸º/usr/localï¼Œå¦‚æ­¤åœ¨å¤–éƒ¨æ„å»ºæƒ…å†µä¸‹æ‰§è¡Œmake installå‘½ä»¤æ—¶ï¼Œmakeä¼šå°†ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°/usr/local/binç›®å½•ä¸‹ã€‚ å½“ç„¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶çš„å®‰è£…è·¯å¾„CMAKE_INSTALL_PREFIXä¹Ÿå¯ä»¥åœ¨æ‰§è¡Œcmakeå‘½ä»¤çš„æ—¶å€™æŒ‡å®šï¼Œcmakeå‚æ•°å¦‚ä¸‹ï¼š 1 cmake -DCMAKE_INSTALL_PREFIX=/usr .. å¦‚æœcmakeå‚æ•°å’ŒCMakeLists.txtæ–‡ä»¶ä¸­éƒ½ä¸æŒ‡å®šè¯¥å€¼çš„è¯ï¼Œåˆ™è¯¥å€¼ä¸ºé»˜è®¤çš„/usr/localã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:6:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"ADD_SUBDIRECTORY 1 ADD_SUBDIRECTORY(source_dir [binary_dir] [EXCLUDE_FROM_ALL]) source_dirï¼šæºæ–‡ä»¶è·¯å¾„ï¼› [binary_dir]ï¼šä¸­é—´äºŒè¿›åˆ¶ä¸ç›®æ ‡äºŒè¿›åˆ¶å­˜æ”¾è·¯å¾„ï¼› [EXECLUDE_FROM_ALL]ï¼šå°†è¿™ä¸ªç›®å½•ä»ç¼–è¯‘è¿‡ç¨‹ä¸­æ’é™¤ï¼› è¿™ä¸ªæŒ‡ä»¤ç”¨äºå‘å½“å‰å·¥ç¨‹æ·»åŠ å­˜æ”¾æºæ–‡ä»¶çš„å­ç›®å½•ï¼Œå¹¶å¯ä»¥æŒ‡å®šä¸­é—´äºŒè¿›åˆ¶å’Œç›®æ ‡äºŒè¿›åˆ¶å­˜æ”¾çš„ä½ç½®ã€‚ EXCLUDE_FROM_ALL å‚æ•°çš„å«ä¹‰æ˜¯å°†è¿™ä¸ªç›®å½•ä»ç¼–è¯‘è¿‡ç¨‹ä¸­æ’é™¤ã€‚æ¯”å¦‚ï¼Œå·¥ç¨‹æœ‰æ—¶å€™å­˜åœ¨exampleï¼Œå¯èƒ½å°±éœ€è¦å·¥ç¨‹æ„å»ºå®Œæˆåï¼Œå†è¿›å…¥exampleç›®å½•å•ç‹¬è¿›è¡Œæ„å»ºã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:7:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"INCLUDE_DIRECTORIES 1 INCLUDE_DIRECTORIES([AFTER|BEFORE] [SYSTEM] dir1 dir2 ...) [AFTER|BEFORE]ï¼šè¿½åŠ æ ‡å¿—ï¼ŒæŒ‡å®šæ§åˆ¶è¿½åŠ æˆ–ç½®å‰ï¼› [SYSTEM]ï¼šï¼ˆç¬”è€…ä¹Ÿä¸çŸ¥é“å¹²å˜›ç”¨çš„ï¼‰ dir1, â€¦, dir nï¼šæ·»åŠ çš„ä¸€ç³»åˆ—å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼› å‘å·¥ç¨‹æ·»åŠ å¤šä¸ªç‰¹å®šçš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼Œè·¯å¾„ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚ç±»ä¼¼äºgccä¸­çš„ç¼–è¯‘å‚æ•°-lï¼Œå³æŒ‡å®šç¼–è¯‘è¿‡ç¨‹ä¸­ç¼–è¯‘å™¨æœç´¢å¤´æ–‡ä»¶çš„è·¯å¾„ã€‚å½“é¡¹ç›®éœ€è¦çš„å¤´æ–‡ä»¶ä¸åœ¨ç³»ç»Ÿé»˜è®¤çš„æœç´¢è·¯å¾„æ—¶ï¼Œåˆ™æŒ‡å®šè¯¥è·¯å¾„ã€‚ AFTER/BEFOREå‚æ•°ï¼Œæ§åˆ¶è¿½åŠ æˆ–ç½®å‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿½åŠ å½“å‰å¤´æ–‡ä»¶æœç´¢è·¯å¾„çš„åé¢ã€‚ æ³¨ï¼šå¦‚æœè·¯å¾„åŒ…å«ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·å°†å®ƒæ‹¬èµ·æ¥ã€‚ egï¼š 1 INCLUDE_DIRECTORIES(/usr/include/thrift) ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:8:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"ADD_EXECUTABLE 1 ADD_EXECUTABLE(exename srcname) exenameï¼šå¯æ‰§è¡Œæ–‡ä»¶å srcnameï¼šç”Ÿæˆè¯¥å¯æ‰§è¡Œæ–‡ä»¶çš„æºæ–‡ä»¶ è¯¥å‘½ä»¤ç»™å‡ºæºæ–‡ä»¶åç§°ï¼Œå¹¶æŒ‡å‡ºéœ€è¦ç¼–è¯‘å‡ºçš„å¯æ‰§è¡Œæ–‡ä»¶åã€‚ egï¼š 1 ADD_EXECUTABLE(hello ${SRC_LIST}) ä¸Šè¿°ä¾‹ç¨‹è¯´æ˜SRC_LISTå˜é‡ä¸­çš„æºæ–‡ä»¶ï¼Œéœ€è¦ç¼–è¯‘å‡ºåä¸ºhelloçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ eg: 1 2 3 4 5 6 7 8 9 10 SET(SRC_LIST main.cc rpc/CRNode.cpp rpc/Schd_types.cpp task/TaskExecutor.cpp task/TaskMoniter.cpp util/Const.cpp util/Globals.cc ) ADD_EXECUTABLE(CRNode ${SRC_LIST}) è¯¥ä¾‹ç¨‹ä¸­ï¼Œå®šä¹‰äº†è¯¥å·¥ç¨‹ä¼šç”Ÿæˆä¸€ä¸ªåä¸ºCRNodeçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰€ä¾èµ–çš„æºæ–‡ä»¶æ˜¯å˜é‡SRC_LISTå®šä¹‰çš„æºæ–‡ä»¶åˆ—è¡¨ã€‚ æ³¨ï¼šå¦‚æœå‰æ–‡PROJECT()æŒ‡ä»¤ä¸­å®šä¹‰çš„é¡¹ç›®åç§°ä¹Ÿå®šä¹‰ä¸ºCRNodeï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä¸¤è€…ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:9:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"ADD_LIBRARY 1 ADD_LIBRARY(libname [SHARED|STATIC|MODULE] [EXCLUDE_FROM_ALL] source1 source2 ... sourceN) libnameï¼šåº“æ–‡ä»¶åç§°ï¼› [SHARED|STATIC|MODULE]ï¼šç”Ÿæˆåº“æ–‡ä»¶ç±»å‹ï¼ˆå…±äº«åº“/é™æ€åº“ï¼‰ [EXCLUDE_FROM_ALL]ï¼šè¡¨ç¤ºè¯¥åº“ä¸ä¼šè¢«é»˜è®¤æ„å»º source1, â€¦, sourceNï¼šç”Ÿæˆåº“æ‰€ä¾èµ–çš„æºæ–‡ä»¶ egï¼š 1 ADD_LIBRARY(hello SHARED ${LIBHELLO_SRC}) ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:10:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å˜é‡EXECUTABLE_OUTPUT_PATH, LIBRARY_OUTPUT_PATH EXECUTABLE_OUTPUT_PATHä¸ºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼ŒLIBRARY_OUTPUT_PATHä¸ºç”Ÿæˆåº“æ–‡ä»¶è·¯å¾„ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡SETæŒ‡ä»¤å¯¹å…¶è¿›è¡Œè®¾ç½®æœ€ç»ˆçš„ç›®æ ‡äºŒè¿›åˆ¶çš„ä½ç½®ï¼Œå³æœ€ç»ˆç”Ÿæˆçš„å·¥ç¨‹å¯æ‰§è¡Œæ–‡ä»¶ä¸æœ€ç»ˆçš„å…±äº«åº“ï¼Œè€Œä¸åŒ…å«ç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶ã€‚ 1 2 SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin) SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib) æ³¨ï¼šæŒ‡ä»¤ADD_EXECUTABLE, ADD_LIBRARYå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœéœ€è¦æ”¹å˜ç›®æ ‡å­˜æ”¾è·¯å¾„ï¼Œå°±åœ¨è¯¥å¤„æ·»åŠ ä¸Šè¿°å®šä¹‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:11:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"LINK_DIRECTORIES 1 LINK_DIRECTORIES(directory1 directory2 ...) è¯¥æŒ‡ä»¤ç”¨äºæ·»åŠ å¤–éƒ¨åº“çš„æœç´¢è·¯å¾„ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:12:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"TARGET_LINK_LIBRARIES 1 TARGET_LINK_LIBRARIES(target library1 \u003cdebug | optimized\u003e library2 ..) targetï¼šç›®æ ‡æ–‡ä»¶ï¼› library1, â€¦, libraryNï¼šé“¾æ¥å¤–éƒ¨åº“æ–‡ä»¶ï¼› æŒ‡å®šé“¾æ¥ç›®æ ‡æ–‡ä»¶æ—¶éœ€è¦é“¾æ¥çš„å¤–éƒ¨åº“ï¼Œæ•ˆæœç±»ä¼¼äºgccç¼–è¯‘å‚æ•°-Lï¼Œè§£å†³å¤–éƒ¨åº“ä¾èµ–çš„é—®é¢˜ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:13:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"MESSAGE 1 MESSAGE([SEND_ERROR | STATUS | FATAL_ERROR] â€œmessage to displayâ€ â€¦) å‘ç»ˆç«¯è¾“å‡ºç”¨æˆ·å®šä¹‰çš„ä¿¡æ¯æˆ–å˜é‡å€¼ SEND_ERRORï¼šäº§ç”Ÿé”™è¯¯ï¼Œç”Ÿæˆè¿‡ç¨‹è¢«è·³è¿‡ï¼› STATUSï¼šè¾“å‡ºå‰ç¼€ä¸º â€“ çš„ä¿¡æ¯ï¼› FATAL_ERRORï¼šç«‹å³ç»ˆæ­¢æ‰€æœ‰cmakeè¿‡ç¨‹ï¼› ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:14:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"SET_TARGET_PROPERTIES 1 2 SET_TARGET_PROPERTIES(target1 target2 ... PROPERTIES prop1 value1 prop2 value2 ...) è®¾ç½®ç›®æ ‡çš„æŸäº›å±æ€§ï¼Œæ”¹å˜å®ƒä»¬æ„å»ºçš„æ–¹å¼ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:15:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"AUX_SOURCE_DIRECTORY åŸºæœ¬æ§åˆ¶è¯­æ³• å®æˆ˜ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:16:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å•ä¸ªæºæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 # CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚ # cmake_minimum_requiredï¼šæŒ‡å®šè¿è¡Œæ­¤é…ç½®æ–‡ä»¶æ‰€éœ€çš„ CMake çš„æœ€ä½ç‰ˆæœ¬ cmake_minimum_required (VERSION 2.8) # é¡¹ç›®ä¿¡æ¯ # projectï¼šå‚æ•°å€¼æ˜¯ Demo1ï¼Œè¯¥å‘½ä»¤è¡¨ç¤ºé¡¹ç›®çš„åç§°æ˜¯ Demo1 project (Demo1) # æŒ‡å®šç”Ÿæˆç›®æ ‡ # add_executableï¼š å°†åä¸º main.cc çš„æºæ–‡ä»¶ç¼–è¯‘æˆä¸€ä¸ªåç§°ä¸º Demo çš„å¯æ‰§è¡Œæ–‡ä»¶ add_executable(Demo main.cc) cmake . ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:17:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å¤šä¸ªæºæ–‡ä»¶ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:18:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"åŒä¸€ç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ 1 2 3 4 5 6 7 8 # CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚ cmake_minimum_required (VERSION 2.8) # é¡¹ç›®ä¿¡æ¯ project (Demo2) # æŒ‡å®šç”Ÿæˆç›®æ ‡ add_executable(Demo main.cc MathFunctions.cc) aux_source_directory: æŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ï¼Œç„¶åå°†ç»“æœå­˜è¿›æŒ‡å®šå˜é‡åã€‚ 1 aux_source_directory(\u003cdir\u003e \u003cvariable\u003e) 1 2 3 4 5 6 7 8 9 10 11 12 # CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚ cmake_minimum_required (VERSION 2.8) # é¡¹ç›®ä¿¡æ¯ project (Demo2) # æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ # å¹¶å°†åç§°ä¿å­˜åˆ° DIR_SRCS å˜é‡ aux_source_directory(. DIR_SRCS) # æŒ‡å®šç”Ÿæˆç›®æ ‡ add_executable(Demo ${DIR_SRCS}) ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:18:1","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å¤šä¸ªç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ add_subdirectory : é¡¹ç›®åŒ…å«ä¸€ä¸ªå­ç›®å½• mathï¼Œè¿™æ · math ç›®å½•ä¸‹çš„ CMakeLists.txt æ–‡ä»¶å’Œæºä»£ç ä¹Ÿä¼šè¢«å¤„ç†ã€‚ target_link_librariesï¼šæŒ‡æ˜å¯æ‰§è¡Œæ–‡ä»¶ main éœ€è¦è¿æ¥ä¸€ä¸ªåä¸º MathFunctions çš„é“¾æ¥åº“ ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚ cmake_minimum_required (VERSION 2.8) # é¡¹ç›®ä¿¡æ¯ project (Demo3) # æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ # å¹¶å°†åç§°ä¿å­˜åˆ° DIR_SRCS å˜é‡ aux_source_directory(. DIR_SRCS) # æ·»åŠ  math å­ç›®å½• add_subdirectory(math) # æŒ‡å®šç”Ÿæˆç›®æ ‡ add_executable(Demo main.cc) # æ·»åŠ é“¾æ¥åº“ target_link_libraries(Demo MathFunctions) å­ç›®å½•ä¸­çš„ CMakeLists.txtï¼š 1 2 3 4 5 6 # æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ # å¹¶å°†åç§°ä¿å­˜åˆ° DIR_LIB_SRCS å˜é‡ aux_source_directory(. DIR_LIB_SRCS) # ç”Ÿæˆé“¾æ¥åº“ add_library (MathFunctions ${DIR_LIB_SRCS}) è¯¥æ–‡ä»¶ä¸­ä½¿ç”¨å‘½ä»¤ add_library å°† src ç›®å½•ä¸­çš„æºæ–‡ä»¶ç¼–è¯‘ä¸ºé™æ€é“¾æ¥åº“ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:18:2","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"è‡ªå®šä¹‰ç¼–è¯‘é€‰é¡¹ CMake å…è®¸ä¸ºé¡¹ç›®å¢åŠ ç¼–è¯‘é€‰é¡¹ï¼Œä»è€Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„ç¯å¢ƒå’Œéœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„ç¼–è¯‘æ–¹æ¡ˆã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚ cmake_minimum_required (VERSION 2.8) # é¡¹ç›®ä¿¡æ¯ project (Demo4) # åŠ å…¥ä¸€ä¸ªé…ç½®å¤´æ–‡ä»¶ï¼Œç”¨äºå¤„ç† CMake å¯¹æºç çš„è®¾ç½® configure_file ( \"${PROJECT_SOURCE_DIR}/config.h.in\" \"${PROJECT_BINARY_DIR}/config.h\" ) # æ˜¯å¦ä½¿ç”¨è‡ªå·±çš„ MathFunctions åº“ option (USE_MYMATH \"Use provided math implementation\" ON) # æ˜¯å¦åŠ å…¥ MathFunctions åº“ if (USE_MYMATH) include_directories (\"${PROJECT_SOURCE_DIR}/math\") add_subdirectory (math) set (EXTRA_LIBS ${EXTRA_LIBS} MathFunctions) endif (USE_MYMATH) # æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ # å¹¶å°†åç§°ä¿å­˜åˆ° DIR_SRCS å˜é‡ aux_source_directory(. DIR_SRCS) # æŒ‡å®šç”Ÿæˆç›®æ ‡ add_executable(Demo ${DIR_SRCS}) target_link_libraries (Demo ${EXTRA_LIBS}) å…¶ä¸­ï¼š ç¬¬7è¡Œçš„ configure_file å‘½ä»¤ç”¨äºåŠ å…¥ä¸€ä¸ªé…ç½®å¤´æ–‡ä»¶ config.h ï¼Œè¿™ä¸ªæ–‡ä»¶ç”±CMake ä» config.h.in ç”Ÿæˆï¼Œé€šè¿‡è¿™æ ·çš„æœºåˆ¶ï¼Œå°†å¯ä»¥é€šè¿‡é¢„å®šä¹‰ä¸€äº›å‚æ•°å’Œå˜é‡æ¥æ§åˆ¶ä»£ç çš„ç”Ÿæˆã€‚ ç¬¬13è¡Œçš„ option å‘½ä»¤æ·»åŠ äº†ä¸€ä¸ª USE_MYMATH é€‰é¡¹ï¼Œå¹¶ä¸”é»˜è®¤å€¼ä¸º ON ã€‚ ç¬¬17è¡Œæ ¹æ® USE_MYMATH å˜é‡çš„å€¼æ¥å†³å®šæ˜¯å¦ä½¿ç”¨æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ MathFunctions åº“ã€‚ config.h.in 1 #cmakedefine USE_MYMATH CMake ä¼šè‡ªåŠ¨æ ¹æ® CMakeLists é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®è‡ªåŠ¨ç”Ÿæˆ config.h æ–‡ä»¶ã€‚ ä»ä¸­å¯ä»¥æ‰¾åˆ°åˆšåˆšå®šä¹‰çš„ USE_MYMATH é€‰é¡¹ï¼ŒæŒ‰é”®ç›˜çš„æ–¹å‘é”®å¯ä»¥åœ¨ä¸åŒçš„é€‰é¡¹çª—å£é—´è·³è½¬ï¼ŒæŒ‰ä¸‹ enter é”®å¯ä»¥ä¿®æ”¹è¯¥é€‰é¡¹ã€‚ä¿®æ”¹å®Œæˆåå¯ä»¥æŒ‰ä¸‹ c é€‰é¡¹å®Œæˆé…ç½®ï¼Œä¹‹åå†æŒ‰ g é”®ç¡®è®¤ç”Ÿæˆ Makefile ã€‚ccmake çš„å…¶ä»–æ“ä½œå¯ä»¥å‚è€ƒçª—å£ä¸‹æ–¹ç»™å‡ºçš„æŒ‡ä»¤æç¤ºã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:19:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å®‰è£…å’Œæµ‹è¯• CMake ä¹Ÿå¯ä»¥æŒ‡å®šå®‰è£…è§„åˆ™ï¼Œä»¥åŠæ·»åŠ æµ‹è¯•ã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½åˆ†åˆ«å¯ä»¥é€šè¿‡åœ¨äº§ç”Ÿ Makefile åä½¿ç”¨ make install å’Œ make test æ¥æ‰§è¡Œã€‚åœ¨ä»¥å‰çš„ GNU Makefile é‡Œï¼Œä½ å¯èƒ½éœ€è¦ä¸ºæ­¤ç¼–å†™ install å’Œ test ä¸¤ä¸ªä¼ªç›®æ ‡å’Œç›¸åº”çš„è§„åˆ™ï¼Œä½†åœ¨ CMake é‡Œï¼Œè¿™æ ·çš„å·¥ä½œåŒæ ·åªéœ€è¦ç®€å•çš„è°ƒç”¨å‡ æ¡å‘½ä»¤ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:20:0","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"å®šåˆ¶å®‰è£…è§„åˆ™ math/CMakeLists.txt æŒ‡æ˜ MathFunctions åº“çš„å®‰è£…è·¯å¾„ 1 2 3 # æŒ‡å®š MathFunctions åº“çš„å®‰è£…è·¯å¾„ install (TARGETS MathFunctions DESTINATION bin) install (FILES MathFunctions.h DESTINATION include) æ”¹æ ¹ç›®å½•çš„ CMakeLists æ–‡ä»¶ 1 2 3 4 # æŒ‡å®šå®‰è£…è·¯å¾„ install (TARGETS Demo DESTINATION bin) install (FILES \"${PROJECT_BINARY_DIR}/config.h\" DESTINATION include) é€šè¿‡ä¸Šé¢çš„å®šåˆ¶ï¼Œç”Ÿæˆçš„ Demo æ–‡ä»¶å’Œ MathFunctions å‡½æ•°åº“ libMathFunctions.o æ–‡ä»¶å°†ä¼šè¢«å¤åˆ¶åˆ° /usr/local/bin ä¸­ï¼Œè€Œ MathFunctions.h å’Œç”Ÿæˆçš„ config.h æ–‡ä»¶åˆ™ä¼šè¢«å¤åˆ¶åˆ° /usr/local/include ä¸­ã€‚ï¼ˆè¿™é‡Œçš„ /usr/local/ æ˜¯é»˜è®¤å®‰è£…åˆ°çš„æ ¹ç›®å½•ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ CMAKE_INSTALL_PREFIX å˜é‡çš„å€¼æ¥æŒ‡å®šè¿™äº›æ–‡ä»¶åº”è¯¥æ‹·è´åˆ°å“ªä¸ªæ ¹ç›®å½•ï¼‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:20:1","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"ä¸ºå·¥ç¨‹æ·»åŠ æµ‹è¯• æ·»åŠ æµ‹è¯•åŒæ ·å¾ˆç®€å•ã€‚CMake æä¾›äº†ä¸€ä¸ªç§°ä¸º CTest çš„æµ‹è¯•å·¥å…·ã€‚æˆ‘ä»¬è¦åšçš„åªæ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ CMakeLists æ–‡ä»¶ä¸­è°ƒç”¨ä¸€ç³»åˆ—çš„ add_test å‘½ä»¤ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 # å¯ç”¨æµ‹è¯• enable_testing() # æµ‹è¯•ç¨‹åºæ˜¯å¦æˆåŠŸè¿è¡Œ add_test (test_run Demo 5 2) # æµ‹è¯•å¸®åŠ©ä¿¡æ¯æ˜¯å¦å¯ä»¥æ­£å¸¸æç¤º add_test (test_usage Demo) set_tests_properties (test_usage PROPERTIES PASS_REGULAR_EXPRESSION \"Usage: .* base exponent\") # æµ‹è¯• 5 çš„å¹³æ–¹ add_test (test_5_2 Demo 5 2) set_tests_properties (test_5_2 PROPERTIES PASS_REGULAR_EXPRESSION \"is 25\") # æµ‹è¯• 10 çš„ 5 æ¬¡æ–¹ add_test (test_10_5 Demo 10 5) set_tests_properties (test_10_5 PROPERTIES PASS_REGULAR_EXPRESSION \"is 100000\") # æµ‹è¯• 2 çš„ 10 æ¬¡æ–¹ add_test (test_2_10 Demo 2 10) set_tests_properties (test_2_10 PROPERTIES PASS_REGULAR_EXPRESSION \"is 1024\") ä¸Šé¢çš„ä»£ç åŒ…å«äº†å››ä¸ªæµ‹è¯•ã€‚ç¬¬ä¸€ä¸ªæµ‹è¯• test_run ç”¨æ¥æµ‹è¯•ç¨‹åºæ˜¯å¦æˆåŠŸè¿è¡Œå¹¶è¿”å› 0 å€¼ã€‚å‰©ä¸‹çš„ä¸‰ä¸ªæµ‹è¯•åˆ†åˆ«ç”¨æ¥æµ‹è¯• 5 çš„ å¹³æ–¹ã€10 çš„ 5 æ¬¡æ–¹ã€2 çš„ 10 æ¬¡æ–¹æ˜¯å¦éƒ½èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚å…¶ä¸­ PASS_REGULAR_EXPRESSION ç”¨æ¥æµ‹è¯•è¾“å‡ºæ˜¯å¦åŒ…å«åé¢è·Ÿç€çš„å­—ç¬¦ä¸²ã€‚ å¯ä»¥é€šè¿‡ç¼–å†™å®æ¥å®ç° 1 2 3 4 5 6 7 8 9 10 11 # å®šä¹‰ä¸€ä¸ªå®ï¼Œç”¨æ¥ç®€åŒ–æµ‹è¯•å·¥ä½œ macro (do_test arg1 arg2 result) add_test (test_${arg1}_${arg2} Demo ${arg1} ${arg2}) set_tests_properties (test_${arg1}_${arg2} PROPERTIES PASS_REGULAR_EXPRESSION ${result}) endmacro (do_test) # ä½¿ç”¨è¯¥å®è¿›è¡Œä¸€ç³»åˆ—çš„æ•°æ®æµ‹è¯• do_test (5 2 \"is 25\") do_test (10 5 \"is 100000\") do_test (2 10 \"is 1024\") å‚è€ƒèµ„æ–™ CMake å…¥é—¨å®æˆ˜ CMake å…¥é—¨å®æˆ˜æºç  CMakeè¯­æ³• ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/:20:2","tags":["cmake"],"title":"cmake çŸ¥è¯†æ•´ç†","uri":"/posts/program/cmake/cmake%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"},{"categories":["cmake"],"content":"cmake ç¼–ç¨‹","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE/","tags":["cmake"],"title":"CMakeäº¤å‰ç¼–è¯‘é…ç½®","uri":"/posts/program/cmake/cmake%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE/"},{"categories":["cmake"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ å‡ ä¸ªé‡è¦çš„å˜é‡ ä½¿ç”¨å˜é‡æ¥æ§åˆ¶ç¼–è¯‘æ­¥éª¤ demo CMakeç»™äº¤å‰ç¼–è¯‘é¢„ç•™äº†ä¸€ä¸ªå¾ˆå¥½çš„å˜é‡å³CMAKE_TOOLCHAIN_FILE,å®ƒå®šä¹‰äº†ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼Œè¿™ä¸ªæ–‡ä»¶å³toolChain,é‡Œé¢setäº†ä¸€ç³»åˆ—ä½ éœ€è¦æ”¹å˜çš„å˜é‡å’Œå±æ€§ï¼ŒåŒ…æ‹¬C_COMPILER,CXX_COMPILER,å¦‚æœç”¨Qtçš„è¯éœ€è¦æ›´æ”¹QT_QMAKE_EXECUTABLEä»¥åŠå¦‚æœç”¨BOOSTçš„è¯éœ€è¦æ›´æ”¹çš„BOOST_ROOT(å…·ä½“æŸ¥çœ‹ç›¸å…³Findxxx.cmakeé‡Œé¢æŒ‡å®šçš„è·¯å¾„)ã€‚CMakeä¸ºäº†ä¸è®©ç”¨æˆ·æ¯æ¬¡äº¤å‰ç¼–è¯‘éƒ½è¦é‡æ–°è¾“å…¥è¿™äº›å‘½ä»¤ï¼Œå› æ­¤å®ƒå¸¦æ¥toolChainæœºåˆ¶ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ä¸€ä¸ªcmakeè„šæœ¬ï¼Œå†…åµŒäº†ä½ éœ€è¦æ”¹å˜ä»¥åŠéœ€è¦setçš„æ‰€æœ‰äº¤å‰ç¯å¢ƒçš„è®¾ç½®ã€‚ å‡ ä¸ªé‡è¦çš„å˜é‡ CMAKE_SYSTEM_NAME: å³ä½ ç›®æ ‡æœºtargetæ‰€åœ¨çš„æ“ä½œç³»ç»Ÿåç§°ï¼Œæ¯”å¦‚ARMæˆ–è€…Linuxä½ å°±éœ€è¦å†™\"Linux\",å¦‚æœWindowså¹³å°ä½ å°±å†™\"Windows\",å¦‚æœä½ çš„åµŒå…¥å¼å¹³å°æ²¡æœ‰ç›¸å…³OSä½ å³éœ€è¦å†™æˆ\"Generic\",åªæœ‰å½“CMAKE_SYSTEM_NAMEè¿™ä¸ªå˜é‡è¢«è®¾ç½®äº†ï¼ŒCMakeæ‰è®¤ä¸ºæ­¤æ—¶æ­£åœ¨äº¤å‰ç¼–è¯‘ï¼Œå®ƒä¼šé¢å¤–è®¾ç½®ä¸€ä¸ªå˜é‡CMAKE_CROSSCOMPILINGä¸ºTRUE. CMAKE_C_COMPILER: é¡¾åæ€ä¹‰ï¼Œå³Cè¯­è¨€ç¼–è¯‘å™¨ï¼Œè¿™é‡Œå¯ä»¥å°†å˜é‡è®¾ç½®æˆå®Œæ•´è·¯å¾„æˆ–è€…æ–‡ä»¶åï¼Œè®¾ç½®æˆå®Œæ•´è·¯å¾„æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯CMakeä¼šå»è¿™ä¸ªè·¯å¾„ä¸‹å»å¯»æ‰¾ç¼–è¯‘ç›¸å…³çš„å…¶ä»–å·¥å…·æ¯”å¦‚linker,binutilsç­‰ï¼Œå¦‚æœä½ å†™çš„æ–‡ä»¶åå¸¦æœ‰arm-elfç­‰ç­‰å‰ç¼€ï¼ŒCMakeä¼šè¯†åˆ«åˆ°å¹¶ä¸”å»å¯»æ‰¾ç›¸å…³çš„äº¤å‰ç¼–è¯‘å™¨ã€‚ CMAKE_CXX_COMPILER: åŒä¸Šï¼Œæ­¤æ—¶ä»£è¡¨çš„æ˜¯C++ç¼–è¯‘å™¨ã€‚ CMAKE_FIND_ROOT_PATH: ä»£è¡¨äº†ä¸€ç³»åˆ—çš„ç›¸å…³æ–‡ä»¶å¤¹è·¯å¾„çš„æ ¹è·¯å¾„çš„å˜æ›´ï¼Œæ¯”å¦‚ä½ è®¾ç½®äº†/opt/arm/,æ‰€æœ‰çš„Find_xxx.cmakeéƒ½ä¼šä¼˜å…ˆæ ¹æ®è¿™ä¸ªè·¯å¾„ä¸‹çš„/usr/lib,/libç­‰è¿›è¡ŒæŸ¥æ‰¾ï¼Œç„¶åæ‰ä¼šå»ä½ è‡ªå·±çš„/usr/libå’Œ/libè¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœä½ æœ‰ä¸€äº›åº“æ˜¯ä¸è¢«åŒ…å«åœ¨/opt/armé‡Œé¢çš„ï¼Œä½ ä¹Ÿå¯ä»¥æ˜¾ç¤ºæŒ‡å®šå¤šä¸ªå€¼ç»™CMAKE_FIND_ROOT_PATH,æ¯”å¦‚ 1 set(CMAKE_FIND_ROOT_PATH /opt/arm /opt/inst) CMAKE_FIND_ROOT_PATH_MODE_PROGRAM: å¯¹FIND_PROGRAM()èµ·ä½œç”¨ï¼Œæœ‰ä¸‰ç§å–å€¼ï¼ŒNEVER,ONLY,BOTH,ç¬¬ä¸€ä¸ªè¡¨ç¤ºä¸åœ¨ä½ CMAKE_FIND_ROOT_PATHä¸‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºåªåœ¨è¿™ä¸ªè·¯å¾„ä¸‹æŸ¥æ‰¾ï¼Œç¬¬ä¸‰ä¸ªè¡¨ç¤ºå…ˆæŸ¥æ‰¾è¿™ä¸ªè·¯å¾„ï¼Œå†æŸ¥æ‰¾å…¨å±€è·¯å¾„ï¼Œå¯¹äºè¿™ä¸ªå˜é‡æ¥è¯´ï¼Œä¸€èˆ¬éƒ½æ˜¯è°ƒç”¨å®¿ä¸»æœºçš„ç¨‹åºï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½è®¾ç½®æˆNEVER CMAKE_FIND_ROOT_PATH_MODE_LIBRARY: å¯¹FIND_LIBRARY()èµ·ä½œç”¨ï¼Œè¡¨ç¤ºåœ¨é“¾æ¥çš„æ—¶å€™çš„åº“çš„ç›¸å…³é€‰é¡¹ï¼Œå› æ­¤è¿™é‡Œéœ€è¦è®¾ç½®æˆONLYæ¥ä¿è¯æˆ‘ä»¬çš„åº“æ˜¯åœ¨äº¤å‰ç¯å¢ƒä¸­æ‰¾çš„. CMAKE_FIND_ROOT_PATH_MODE_INCLUDE: å¯¹FIND_PATH()å’ŒFIND_FILE()èµ·ä½œç”¨ï¼Œä¸€èˆ¬æ¥è¯´ä¹Ÿæ˜¯ONLY,å¦‚æœä½ æƒ³æ”¹å˜ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯åœ¨ç›¸å…³çš„FINDå‘½ä»¤ä¸­å¢åŠ optionæ¥æ”¹å˜å±€éƒ¨è®¾ç½®ï¼Œæœ‰NO_CMAKE_FIND_ROOT_PATH,ONLY_CMAKE_FIND_ROOT_PATH,BOTH_CMAKE_FIND_ROOT_PATH BOOST_ROOTï¼š å¯¹äºéœ€è¦booståº“çš„ç”¨æˆ·æ¥è¯´ï¼Œç›¸å…³çš„booståº“è·¯å¾„é…ç½®ä¹Ÿéœ€è¦è®¾ç½®ï¼Œå› æ­¤è¿™é‡Œçš„è·¯å¾„å³ARMä¸‹çš„boostè·¯å¾„ï¼Œé‡Œé¢æœ‰includeå’Œlibã€‚ QT_QMAKE_EXECUTABLE: å¯¹äºQtç”¨æˆ·æ¥è¯´ï¼Œéœ€è¦æ›´æ”¹ç›¸å…³çš„qmakeå‘½ä»¤åˆ‡æ¢æˆåµŒå…¥å¼ç‰ˆæœ¬ï¼Œå› æ­¤è¿™é‡Œéœ€è¦æŒ‡å®šæˆç›¸åº”çš„qmakeè·¯å¾„ï¼ˆæŒ‡å®šåˆ°qmakeæœ¬èº«ï¼‰ ä½¿ç”¨å˜é‡æ¥æ§åˆ¶ç¼–è¯‘æ­¥éª¤ CMAKE_CROSSCOMPILINGï¼šæ˜¯å¦å¤„äºäº¤å‰ç¼–è¯‘ç¯å¢ƒ ANDROIDï¼šå®‰å“çš„ç¼–è¯‘ç¯å¢ƒ APPLEï¼šæ˜¯å¦æ˜¯è‹¹æœç³»åˆ—çš„ç¼–è¯‘ç¯å¢ƒ IOSï¼šæ˜¯å¦æ˜¯è‹¹æœæ‰‹æœºç¯å¢ƒ UNIXï¼šæ˜¯å¦æ˜¯ UNIX æˆ–è€… UNIX-like çš„ç¯å¢ƒ WIN32ã€MSVCï¼šæ˜¯å¦æ˜¯ Windows demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 # this is required SET(CMAKE_SYSTEM_NAME Linux) # where is the target environment SET(TOOLCHAIN_DIR \"/usr/local/aarch64-himix100-linux-toolchain-libra-v3\") SET(CMAKE_FIND_ROOT_PATH ${TOOLCHAIN_DIR}) # search for programs in the build host directories (not necessary) SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER) # for libraries and headers in the target directories SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY) SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY) # specify the cross compiler SET(CMAKE_C_COMPILER ${TOOLCHAIN_DIR}/bin/aarch64-himix100-linux-gcc) SET(CMAKE_CXX_COMPILER ${TOOLCHAIN_DIR}/bin/aarch64-himix100-linux-gcc) SET(STRIP ${TOOLCHAIN_DIR}/bin/aarch64-himix100-linux-strip) # configure Boost and Qt SET(QT_QMAKE_EXECUTABLE /opt/qt-embedded/qmake) SET(BOOST_ROOT /opt/boost_arm) æŒ‡å®šç¼–è¯‘å·¥å…·é“¾ 1 2 3 4 mkdir build cd build cmake .. -DCMAKE_TOOLCHAIN_FILE=xxx/toochain.cmake make ","date":"2023-01-15","objectID":"/posts/program/cmake/cmake%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE/:0:0","tags":["cmake"],"title":"CMakeäº¤å‰ç¼–è¯‘é…ç½®","uri":"/posts/program/cmake/cmake%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç±»çš„æˆå‘˜ 1. ç±»çš„å±æ€§ 1.1. é™æ€å±æ€§çš„åˆ›å»ºæ–¹å¼ 1.2. å®ä¾‹å±æ€§ 2. ç±»çš„æ–¹æ³• ç±»æˆå‘˜çš„ä¿®é¥°ç¬¦ ç±»çš„ç‰¹æ®Šæˆå‘˜ ç±»çš„ä¸“æœ‰æ–¹æ³•ï¼š ç»§æ‰¿ 1. å•ç»§æ‰¿ 2. å¤šç»§æ‰¿ 3. æ–¹æ³•é‡å†™ è¿ç®—ç¬¦é‡è½½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Document(): def __init__(self, title, author, context): print('init function called') self.title = title self.author = author self.__context = context # __ å¼€å¤´çš„å±æ€§æ˜¯ç§æœ‰å±æ€§ def get_context_length(self): return len(self.__context) def intercept_context(self, length): self.__context = self.__context[:length] harry_potter_book = Document('Harry Potter', 'J. K. Rowling', '... Forever Do not believe any thing is capable of thinking independently ...') print(harry_potter_book.title) print(harry_potter_book.author) print(harry_potter_book.get_context_length()) harry_potter_book.intercept_context(10) print(harry_potter_book.get_context_length()) print(harry_potter_book.__context) ç±»ï¼šä¸€ç¾¤æœ‰ç€ç›¸ä¼¼æ€§çš„äº‹ç‰©çš„é›†åˆï¼Œè¿™é‡Œå¯¹åº” Python çš„ classã€‚ å¯¹è±¡ï¼šé›†åˆä¸­çš„ä¸€ä¸ªäº‹ç‰©ï¼Œè¿™é‡Œå¯¹åº”ç”± class ç”Ÿæˆçš„æŸä¸€ä¸ª objectï¼Œæ¯”å¦‚ä»£ç ä¸­çš„ harry_potter_bookã€‚ å±æ€§ï¼šå¯¹è±¡çš„æŸä¸ªé™æ€ç‰¹å¾ï¼Œæ¯”å¦‚ä¸Šè¿°ä»£ç ä¸­çš„ titleã€author å’Œ __contextã€‚ å‡½æ•°ï¼šå¯¹è±¡çš„æŸä¸ªåŠ¨æ€èƒ½åŠ›ï¼Œæ¯”å¦‚ä¸Šè¿°ä»£ç ä¸­çš„ intercept_context () å‡½æ•°ã€‚ 1. ç±»çš„æˆå‘˜ ç±»çš„æˆå‘˜åŒ…æ‹¬ï¼šå±æ€§å’Œæ–¹æ³•ã€‚ å±æ€§å¯ä»¥åˆ†ä¸ºï¼šé™æ€å±æ€§å’Œå®ä¾‹å±æ€§ æ–¹æ³•å¯ä»¥åˆ†ä¸ºï¼šæ™®é€šæ–¹æ³•ã€ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 #!/usr/bin/python3 class MyClass: \"\"\"ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹\"\"\" i = 12345 def f(self): return 'hello world' # å®ä¾‹åŒ–ç±» x = MyClass() # è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³• print(\"MyClass ç±»çš„å±æ€§ i ä¸ºï¼š\", x.i) print(\"MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š\", x.f()) ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:0:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"1.1. ç±»çš„å±æ€§ å±æ€§å¯ä»¥åˆ†ä¸ºï¼šé™æ€å±æ€§å’Œå®ä¾‹å±æ€§ã€‚ å®ä¾‹å±æ€§å±äºå¯¹è±¡ï¼Œè€Œé™æ€å±æ€§å±äºç±»ã€‚ é€šè¿‡ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¦‚æœæ¯ä¸ªå¯¹è±¡éƒ½å…·æœ‰ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨é™æ€å±æ€§ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:1:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"1.1.1. é™æ€å±æ€§çš„åˆ›å»ºæ–¹å¼ é™æ€å±æ€§æ˜¯å±äºç±»çš„ï¼Œæ‰€ä»¥ä¸ç”¨åˆ›å»ºå¯¹è±¡è®¿é—®ã€‚ 1 2 3 4 5 6 7 8 9 10 #!/usr/bin/python3 class Province: # é™æ€å­—æ®µ country ï¼ 'ä¸­å›½' # ç›´æ¥è®¿é—®é™æ€å­—æ®µ Province.country ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:1:1","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"1.1.2. å®ä¾‹å±æ€§ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 lass Goods: def __init__(self): # åŸä»· self.original_price = 100 # æŠ˜æ‰£ self.discount = 0.8 @property def price(self): # å®é™…ä»·æ ¼ = åŸä»· * æŠ˜æ‰£ new_price = self.original_price * self.discount return new_price @price.setter def price(self, value): self.original_price = value @price.deleter def price(self): del self.original_price å®ä¾‹å±æ€§å¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚@propertyè£…é¥°å™¨å¯ä»¥æŠŠä¸€ä¸ªå®ä¾‹æ–¹æ³•å˜æˆå…¶åŒåå±æ€§ï¼Œä»¥æ”¯æŒ.å·è®¿é—®ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å±æ€§çš„è®¿é—®ç‰¹ç‚¹ï¼Œåˆ†åˆ«å°†ä¸‰ä¸ªæ–¹æ³•å®šä¹‰ä¸ºå¯¹åŒä¸€ä¸ªå±æ€§ï¼šè·å–ã€ä¿®æ”¹ã€åˆ é™¤ã€‚ æ‰©å±•ï¼š å¯¹äºé™æ€å±æ€§è¿˜å¯ä»¥ä½¿ç”¨propertyå‡½æ•°çš„å½¢å¼å®šä¹‰ä¸€ä¸ªå±æ€§ã€‚ä¸@propertyå®ç°åŸç†ç±»ä¼¼ã€‚ property(fget=None, fset=None, fdel=None, doc=None) 1 2 3 4 5 6 7 8 9 10 11 12 13 class Foo: def get_bar(self): return 'get_bar' # *å¿…é¡»ä¸¤ä¸ªå‚æ•° def set_bar(self, value): return 'set value' + value def del_bar(self): return 'del_bar' age = property(fget=get_bar,fset=set_bar,fdel=del_bar,doc='description...') ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:1:2","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"1.2. ç±»çš„æ–¹æ³• æ–¹æ³•åŒ…æ‹¬ï¼šæ™®é€šæ–¹æ³•ã€ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚ æ™®é€šæ–¹æ³•ï¼šç”±å¯¹è±¡è°ƒç”¨ï¼›è‡³å°‘ä¸€ä¸ªselfå‚æ•°ï¼›æ‰§è¡Œæ™®é€šæ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨å°†è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡èµ‹å€¼ç»™selfï¼› ç±»æ–¹æ³•ï¼šç”±ç±»è°ƒç”¨ï¼› è‡³å°‘ä¸€ä¸ªclså‚æ•°ï¼›æ‰§è¡Œç±»æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨å°†è°ƒç”¨è¯¥æ–¹æ³•çš„ç±»å¤åˆ¶ç»™clsï¼› é™æ€æ–¹æ³•ï¼šç”±ç±»è°ƒç”¨ï¼›æ— é»˜è®¤å‚æ•°ï¼› å¦‚æœPythonä¸­æ²¡æœ‰å±æ€§ï¼Œæ–¹æ³•å®Œå…¨å¯ä»¥ä»£æ›¿å…¶åŠŸèƒ½ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 class Foo: def __init__(self, name): self.name = name def ord_func(self): \"\"\" å®šä¹‰æ™®é€šæ–¹æ³•ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªselfå‚æ•° \"\"\" # print self.name print('æ™®é€šæ–¹æ³•') @classmethod def class_func(cls): \"\"\" å®šä¹‰ç±»æ–¹æ³•ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªclså‚æ•° \"\"\" print('ç±»æ–¹æ³•') @staticmethod def static_func(): \"\"\" å®šä¹‰é™æ€æ–¹æ³• ï¼Œæ— é»˜è®¤å‚æ•°\"\"\" print('é™æ€æ–¹æ³•') 2. ç±»æˆå‘˜çš„ä¿®é¥°ç¬¦ å¯¹äºæ¯ä¸€ä¸ªç±»çš„æˆå‘˜è€Œè¨€éƒ½æœ‰ä¸¤ç§å½¢å¼ï¼š å…¬æœ‰æˆå‘˜ï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®ã€‚ ç§æœ‰æˆå‘˜ï¼Œåªæœ‰åœ¨ç±»çš„å†…éƒ¨æ‰èƒ½æ–¹æ³•ã€‚ ç§æœ‰æˆå‘˜å’Œå…¬æœ‰æˆå‘˜çš„å®šä¹‰ä¸åŒï¼šç§æœ‰æˆå‘˜å‘½åæ—¶ï¼Œå‰ä¸¤ä¸ªå­—ç¬¦æ˜¯ä¸‹åˆ’çº¿ã€‚ï¼ˆç‰¹æ®Šæˆå‘˜é™¤å¤–ï¼Œä¾‹å¦‚ï¼šinitã€callã€__dict__ç­‰ï¼‰ psï¼šå¦‚æœæƒ³è¦å¼ºåˆ¶è®¿é—®ç§æœ‰å­—æ®µï¼Œå¯ä»¥é€šè¿‡ ã€å¯¹è±¡._ç±»å__ç§æœ‰å­—æ®µæ˜ ã€‘è®¿é—®ï¼ˆå¦‚ï¼šobj._C__fooï¼‰ï¼Œä¸å»ºè®®å¼ºåˆ¶è®¿é—®ç§æœ‰æˆå‘˜ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 class C: name = 'å…¬æœ‰é™æ€å­—æ®µ' __sname ='ç§æœ‰é™æ€å­—æ®µ' def pub_func(self): print(C.name) def pra_func(self): print(C._sname) class D(C): def pub_show(self): print(C.name) def pra_show(self): print(C._sname) æ³¨ï¼šä¸å»ºè®®å¼ºåˆ¶è®¿é—®ç§æœ‰æˆå‘˜ã€‚ 3. ç±»çš„ç‰¹æ®Šæˆå‘˜ __doc__ : è¡¨ç¤ºç±»çš„æè¿°ä¿¡æ¯ã€‚ __module__ : è¡¨ç¤ºå½“å‰æ“ä½œçš„å¯¹è±¡åœ¨å“ªä¸ªæ¨¡å— __class__ : è¡¨ç¤ºå½“å‰æ“ä½œçš„å¯¹è±¡çš„ç±»æ˜¯ä»€ä¹ˆ __init__ : æ„é€ æ–¹æ³•ï¼Œé€šè¿‡ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ‰§è¡Œã€‚ 1 2 3 4 5 6 7 8 #!/usr/bin/python3 class Complex: def __init__(self, realpart, imagpart): self.r = realpart self.i = imagpart x = Complex(3.0, -4.5) print(x.r, x.i) # è¾“å‡ºç»“æœï¼š3.0 -4.5 __del__ : å½“å¯¹è±¡åœ¨å†…å­˜ä¸­è¢«é‡Šæ”¾æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ‰§è¡Œã€‚ __call__ : å¯¹è±¡åé¢åŠ æ‹¬å·ï¼Œè§¦å‘æ‰§è¡Œã€‚ __dict__ : ç±»æˆ–å¯¹è±¡ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚ __str__ : å¦‚æœä¸€ä¸ªç±»ä¸­å®šä¹‰äº†__str__æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨æ‰“å° å¯¹è±¡ æ—¶ï¼Œé»˜è®¤è¾“å‡ºè¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚æœ‰ç‚¹åƒjavaä¸­çš„toStringæ–¹æ³•ã€‚ __getitem__ã€__setitem__ã€__delitem__ : ç”¨äºç´¢å¼•æ“ä½œï¼Œå¦‚å­—å…¸ã€‚ä»¥ä¸Šåˆ†åˆ«è¡¨ç¤ºè·å–ã€è®¾ç½®ã€åˆ é™¤æ•°æ®ã€‚ __getslice__ã€__setslice__ã€__delslice__ : ä¸‰ä¸ªæ–¹æ³•ç”¨äºåˆ†ç‰‡æ“ä½œã€‚ __iter__ : ç”¨äºè¿­ä»£å™¨ï¼Œä¹‹æ‰€ä»¥åˆ—è¡¨ã€å­—å…¸ã€å…ƒç»„å¯ä»¥è¿›è¡Œforå¾ªç¯ï¼Œæ˜¯å› ä¸ºç±»å‹å†…éƒ¨å®šä¹‰äº† __iter__ã€‚ 4. ç±»çš„ä¸“æœ‰æ–¹æ³•ï¼š __init__ : æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨ __del__ : ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨ __repr__ : æ‰“å°ï¼Œè½¬æ¢ __setitem__ : æŒ‰ç…§ç´¢å¼•èµ‹å€¼ __getitem__: æŒ‰ç…§ç´¢å¼•è·å–å€¼ __len__: è·å¾—é•¿åº¦ __cmp__: æ¯”è¾ƒè¿ç®— __call__: å‡½æ•°è°ƒç”¨ __add__: åŠ è¿ç®— __sub__: å‡è¿ç®— __mul__: ä¹˜è¿ç®— __truediv__: é™¤è¿ç®— __mod__: æ±‚ä½™è¿ç®— __pow__: ä¹˜æ–¹ 5. ç»§æ‰¿ ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:2:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"5.1. å•ç»§æ‰¿ Python åŒæ ·æ”¯æŒç±»çš„ç»§æ‰¿ï¼Œå¦‚æœä¸€ç§è¯­è¨€ä¸æ”¯æŒç»§æ‰¿ï¼Œç±»å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æ´¾ç”Ÿç±»çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤º: 1 2 3 4 5 6 class DerivedClassName(BaseClassName): \u003cstatement-1\u003e . . . \u003cstatement-N\u003e å­ç±»ï¼ˆæ´¾ç”Ÿç±» DerivedClassNameï¼‰ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆåŸºç±» BaseClassNameï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ BaseClassNameï¼ˆå®ä¾‹ä¸­çš„åŸºç±»åï¼‰å¿…é¡»ä¸æ´¾ç”Ÿç±»å®šä¹‰åœ¨ä¸€ä¸ªä½œç”¨åŸŸå†…ã€‚é™¤äº†ç±»ï¼Œè¿˜å¯ä»¥ç”¨è¡¨è¾¾å¼ï¼ŒåŸºç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­æ—¶è¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨: 1 class DerivedClassName(modname.BaseClassName): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 #!/usr/bin/python3 #ç±»å®šä¹‰ class people: #å®šä¹‰åŸºæœ¬å±æ€§ name = '' age = 0 #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—® __weight = 0 #å®šä¹‰æ„é€ æ–¹æ³• def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\"%s è¯´: æˆ‘ %d å²ã€‚\" %(self.name,self.age)) #å•ç»§æ‰¿ç¤ºä¾‹ class student(people): grade = '' def __init__(self,n,a,w,g): #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½ people.__init__(self,n,a,w) self.grade = g #è¦†å†™çˆ¶ç±»çš„æ–¹æ³• def speak(self): print(\"%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§\"%(self.name,self.age,self.grade)) s = student('ken',10,60,3) s.speak() ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:3:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"5.2. å¤šç»§æ‰¿ 1 2 3 4 5 6 class DerivedClassName(Base1, Base2, Base3): \u003cstatement-1\u003e . . . \u003cstatement-N\u003e éœ€è¦æ³¨æ„åœ†æ‹¬å·ä¸­çˆ¶ç±»çš„é¡ºåºï¼Œè‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpythonä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 #!/usr/bin/python3 #ç±»å®šä¹‰ class people: #å®šä¹‰åŸºæœ¬å±æ€§ name = '' age = 0 #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—® __weight = 0 #å®šä¹‰æ„é€ æ–¹æ³• def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\"%s è¯´: æˆ‘ %d å²ã€‚\" %(self.name,self.age)) #å•ç»§æ‰¿ç¤ºä¾‹ class student(people): grade = '' def __init__(self,n,a,w,g): #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½ people.__init__(self,n,a,w) self.grade = g #è¦†å†™çˆ¶ç±»çš„æ–¹æ³• def speak(self): print(\"%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§\"%(self.name,self.age,self.grade)) #å¦ä¸€ä¸ªç±»ï¼Œå¤šé‡ç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡ class speaker(): topic = '' name = '' def __init__(self,n,t): self.name = n self.topic = t def speak(self): print(\"æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s\"%(self.name,self.topic)) #å¤šé‡ç»§æ‰¿ class sample(speaker,student): a ='' def __init__(self,n,a,w,g,t): student.__init__(self,n,a,w,g) speaker.__init__(self,n,t) test = sample(\"Tim\",25,80,4,\"Python\") test.speak() #æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­å‚æ•°ä½ç½®æ’å‰çˆ¶ç±»çš„æ–¹æ³• ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:4:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"5.3. æ–¹æ³•é‡å†™ å¦‚æœä½ çš„çˆ¶ç±»æ–¹æ³•çš„åŠŸèƒ½ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥åœ¨å­ç±»é‡å†™ä½ çˆ¶ç±»çš„æ–¹æ³•ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 #!/usr/bin/python3 class Parent: # å®šä¹‰çˆ¶ç±» def myMethod(self): print ('è°ƒç”¨çˆ¶ç±»æ–¹æ³•') class Child(Parent): # å®šä¹‰å­ç±» def myMethod(self): print ('è°ƒç”¨å­ç±»æ–¹æ³•') c = Child() # å­ç±»å®ä¾‹ c.myMethod() # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³• super(Child,c).myMethod() #ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³• super() å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•ã€‚ æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š 6. è¿ç®—ç¬¦é‡è½½ PythonåŒæ ·æ”¯æŒè¿ç®—ç¬¦é‡è½½ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç±»çš„ä¸“æœ‰æ–¹æ³•è¿›è¡Œé‡è½½ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/usr/bin/python3 class Vector: def __init__(self, a, b): self.a = a self.b = b def __str__(self): return 'Vector (%d, %d)' % (self.a, self.b) def __add__(self,other): return Vector(self.a + other.a, self.b + other.b) v1 = Vector(2,10) v2 = Vector(5,-2) print (v1 + v2) ","date":"2023-01-15","objectID":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/:5:0","tags":["python"],"title":"Pythonä¸­çš„class","uri":"/posts/program/python/3_python%E4%B8%AD%E7%9A%84class/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. python ä¸­çš„ç±» 2. ç±» class ä¸­ä¸ºå•¥ç”¨ä½¿ç”¨ self 3. åœ¨Pythonä¸­ç±»çš„å®šä¹‰ 4. def __init__self æ–¹æ³• 5. ä¸ºå•¥è¦ä½¿ç”¨ self 6. self åˆ°åº•æ˜¯ä»€ä¹ˆ ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:0:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.1. python ä¸­çš„ç±» åœ¨Pythonç±»ä¸­è§„å®šï¼Œå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ä¾‹å¯¹è±¡æœ¬èº«ï¼Œå¹¶ä¸”çº¦å®šä¿—æˆï¼ŒæŠŠå…¶åå­—å†™ä¸ºselfã€‚å…¶ä½œç”¨ç›¸å½“äºjavaä¸­çš„thisï¼Œè¡¨ç¤ºå½“å‰ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨å½“å‰ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚ classæ˜¯é¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³ï¼Œinstanceï¼ˆä¹Ÿå³æ˜¯ objectï¼Œå¯¹è±¡ï¼‰æ˜¯æ ¹æ® class åˆ›å»ºçš„ã€‚ä¸€ä¸ªç±»ï¼ˆclassï¼‰åº”è¯¥åŒ…å«æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ï¼Œé€šä¿—æ¥è®²å°±æ˜¯å±æ€§å’Œå‡½æ•°ï¼ˆå³è°ƒç”¨æ–¹æ³•ï¼‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:1:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.2. ç±» class ä¸­ä¸ºå•¥ç”¨ä½¿ç”¨ self åœ¨ç±»çš„ä»£ç ï¼ˆå‡½æ•°ï¼‰ä¸­ï¼Œéœ€è¦è®¿é—®å½“å‰çš„å®ä¾‹ä¸­çš„å˜é‡å’Œå‡½æ•°ï¼Œå³è®¿é—®Instanceä¸­çš„ï¼š å¯¹åº”çš„å˜é‡ï¼ˆproperty)ï¼šInstance.ProperyNamï¼Œå»è¯»å–ä¹‹å‰çš„å€¼å’Œå†™å…¥æ–°çš„å€¼ã€‚ è°ƒç”¨å¯¹åº”å‡½æ•°ï¼ˆfunctionï¼‰ï¼šInstance.function()ï¼Œå³æ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œã€‚ éœ€è¦è®¿é—®å®ä¾‹çš„å˜é‡å’Œè°ƒç”¨å®ä¾‹çš„å‡½æ•°ï¼Œå½“ç„¶éœ€è¦å¯¹åº”çš„å®ä¾‹Instanceå¯¹è±¡æœ¬èº«ã€‚ Pythonä¸­å°±è§„å®šå¥½äº†ï¼Œå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±å¿…é¡»æ˜¯å®ä¾‹å¯¹è±¡æœ¬èº«ï¼Œå¹¶ä¸”å»ºè®®ï¼Œçº¦å®šä¿—æˆï¼ŒæŠŠå…¶åå­—å†™ä¸ºselfã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦selfï¼ˆéœ€è¦ç”¨åˆ°selfï¼‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:2:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.3. åœ¨Pythonä¸­ç±»çš„å®šä¹‰ åœ¨pythonä¸­ï¼Œç±»æ˜¯é€šè¿‡å…³é”®å­— class å®šä¹‰çš„ï¼š class åé¢ç´§è·Ÿç±»åï¼Œå³ Personï¼Œç±»åé€šå¸¸å¤§å†™å­—æ¯å¼€å¤´ï¼Œç´§æ¥ç€æ˜¯(object),è¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œé€šå¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ ç»§æ‰¿ç±»ï¼Œå°±ä½¿ç”¨ object ç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±»ã€‚ 1 2 class Personï¼ˆobjectï¼‰: pass å°† Personç±»å®ä¾‹åŒ–ï¼Œåˆ›å»ºå®ä¾‹åŒ–æ˜¯é€šè¿‡ ç±»å+() å®ç°çš„ã€‚ 1 2 3 4 5 6 7 8 9 10 11 class Person(object): pass student = Person() # åˆ›å»ºç±»çš„å®ä¾‹åŒ– print(student) print(Person) --------------------------------- è¾“å‡ºï¼š \u003c__main__.Person object at 0x7f8a4bb14e20\u003e \u003cclass '__main__.Person'\u003e å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡ student æŒ‡å‘çš„å°±æ˜¯ä¸€ä¸ª Personçš„ objectï¼Œåé¢çš„ 0x7f8a4bb14e20 æ˜¯å†…å­˜åœ°å€ï¼Œæ¯ä¸ª object çš„åœ°å€éƒ½ä¸ä¸€æ ·ï¼Œè€Œ Person æœ¬èº«åˆ™æ˜¯ä¸€ä¸ªç±»ã€‚ ä¹Ÿå¯ä»¥ç»™å®ä¾‹å˜é‡ç»‘å®šå±æ€§ï¼Œæ¯”å¦‚ï¼šä¸º student ç»‘å®š name å’Œ score å±æ€§ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Person(object): pass student = Person() # print(student) # print(Person) student.name = \"Gavin\" # ä¸ºå®ä¾‹å˜é‡ # student ç»‘å®š name å±æ€§ ç±»ä¼¼äº èµ‹å€¼ æ“ä½œ student.score = 100 # ä¸º å…¶ç»‘å®š # score å±æ€§ print(student.name) print(student.score) --------------------------------- è¾“å‡ºï¼š Gavin 100 ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:3:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.4. def init(self) æ–¹æ³• ä¸Šè¿°çš„æ–¹æ³•è™½ç„¶å¯ä»¥ä¸ºç±»çš„å®ä¾‹å˜é‡ç»‘å®šå±æ€§ï¼Œä½†æ˜¯ä¸å¤Ÿæ–¹ä¾¿å’Œelegant , ç”±äºç±» å¯ä»¥èµ·åˆ°æ¨¡æ¿çš„ä½œç”¨ï¼Œæ•…åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå¯ä»¥å°†æˆ‘ä»¬è®¤ä¸ºå¿…é¡»ç»‘å®š å±æ€§ å¼ºåˆ¶å¡«å†™è¿›å»ï¼Œåœ¨pythonä¸­ï¼Œæ˜¯é€šè¿‡ ç±»ä¸­é€šå¸¸éƒ½ä¼šä½¿ç”¨çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå³def init(self) æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹å˜é‡çš„æ—¶å€™ï¼Œå°±æŠŠ name å’Œ score ç­‰å±æ€§ç»‘ä¸Šå»ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 class Person(object): def __init__(self,name,score): self.name = name self.score = score student = Person('Gavin',100) # ä¼ å…¥ __init__ æ–¹æ³•ä¸­éœ€è¦çš„å‚æ•° print(student.name) print(student.score) --------------------------------- è¾“å‡ºï¼š Gavin 100 ä¼ å…¥ç©ºå‚æ•°çš„æƒ…å†µï¼Œä¼šæŠ¥é”™ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Person(object): def __init__(self,name,score): self.name = name self.score = score student = Person() print(student.name) print(student.score) --------------------------------- è¾“å‡ºï¼š File \"/mnt/DATA/code/COMMON/Program/python/self/self2.py\", line 6, in \u003cmodule\u003e student = Person() TypeError: __init__() missing 2 required positional arguments: 'name' and 'score' æ³¨æ„ï¼š 1ã€init æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯ self ï¼Œè¡¨ç¤ºåˆ›å»ºçš„å®ä¾‹æœ¬èº«ï¼Œå› æ­¤ï¼Œåœ¨ init æ–¹æ³•çš„å†…éƒ¨ï¼Œå°±å¯ä»¥æŠŠå„ç§å±æ€§ç»‘å®šåˆ° selfï¼Œå› ä¸º self å°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚ 2ã€ä½¿ç”¨äº† init æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™å°±ä¸èƒ½ä¼ å…¥ ç©ºçš„å‚æ•°äº†ï¼Œå¿…é¡»ä¼ å…¥ä¸ init æ–¹æ³•åŒ¹é…çš„å‚æ•°ï¼Œä½†æ˜¯ self ä¸éœ€è¦ä¼ ï¼Œpythonè§£é‡Šå™¨ä¼šè‡ªå·±æŠŠå®ä¾‹å˜é‡ä¼ è¿›å»ã€‚ åœ¨ç±»ä¸­å®šä¹‰å¤šä¸ªå‡½æ•°ç›¸äº’è°ƒç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class Person(object): def __init__(self, x, y): self.x = x self.y = y def add(self): sum = self.x + self.y return sum def square(self): squr = pow(self.x, 2) + pow(self.y, 2) return squr def add_square(self): c = self.add() + self.square() return c student = Person(3, 4) print(student.add()) print(student.square()) print(\"--------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿-----------\") print(student.add_square()) --------------------------------- è¾“å‡ºï¼š 7 25 --------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿----------- 32 é€šè¿‡ä¸Šè¿°çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œä¸æ™®é€šçš„å‡½æ•°ç›¸æ¯”ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°åªæœ‰ä¸¤ç‚¹ä¸åŒï¼š 1ã€ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯ self ï¼Œå¹¶ä¸”è°ƒç”¨æ—¶ä¸ç”¨ä¼ é€’è¯¥å‚æ•° 2ã€åœ¨ç±»ä¸­å‡½æ•°ç›¸äº’è°ƒç”¨è¦åŠ  self ï¼Œå¦‚ä¸Šä¾‹ä¸­ï¼š c = self.add()+self.square(), ä¸åŠ  self ï¼Œä¼šæŠ¥é”™ï¼š å‡½æ•°æœªå®šä¹‰ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œç±»çš„æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ²¡ç”šåŒºåˆ«ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œä¾‹å­å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class Person(object): def __init__(self, x, y): self.x = x self.y = y def add(self, z=16): # è®¾ç½® é»˜è®¤å˜é‡ z =16,è¿™åªæ˜¯ä¸ªæ™®é€šçš„å±€éƒ¨å˜é‡ï¼Œéå®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡éœ€è¦ self.z = z,è¿™æ ·å®šä¹‰ sum = self.x + self.y + z return sum def square(self): squr = pow(self.x, 2) + pow(self.y, 2) return squr def add_square(self, z): # è°ƒç”¨æ—¶ä¼ å…¥å˜é‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªæ™®é€šçš„å±€éƒ¨å˜é‡ï¼Œéå®ä¾‹å˜é‡ c = self.add() + self.square() + z return c student = Person(3, 4) print(student.add()) print(student.square()) print(\"--------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿-----------\") print(student.add_square(16)) --------------------------------- è¾“å‡ºï¼š 23 25 --------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿----------- 64 ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:4:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.5. ä¸ºå•¥è¦ä½¿ç”¨ self çœ‹äº†ä¸Šè¿°çš„ä¾‹å­å¯èƒ½è¿˜æ˜¯ä¸æ˜ç™½ self åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Œä¸ºå•¥è¦ä½¿ç”¨ self è¿™é¬¼ä¸œè¥¿ï¼Ÿæ²¡å…³ç³»ï¼Œå¾€ä¸‹çœ‹ï¼š å…¶å® self è¿™å®¶ä¼™ç®€å•çš„è¯´å°±æ˜¯æŠŠ class ä¸­ å®šä¹‰çš„ å˜é‡å’Œå‡½æ•° å˜æˆ å®ä¾‹å˜é‡å’Œå®ä¾‹å‡½æ•°ï¼Œä½œä¸ºç±» class çš„æˆå‘˜ï¼Œä½¿å¾—æˆå‘˜é—´èƒ½äº’ç›¸è°ƒç”¨ï¼Œè€Œä¸éœ€è¦ä»å¤–éƒ¨è°ƒç”¨ æ•°æ®ï¼ˆå˜é‡ï¼‰å’Œ æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ï¼Œä»¥å®ç°æ•°æ®çš„å°è£…ï¼Œä»¥ä¸Šé¢çš„ Person ç±»ä¸ºä¾‹ï¼š åˆ›å»ºå®ä¾‹çš„æ—¶å€™éœ€è¦ç»™å‡ºå®ä¾‹å˜é‡ x,y, è°ƒç”¨å‡½æ•°æ—¶ç»™å‡º z ï¼Œè°ƒç”¨å¾ˆå®¹æ˜“ï¼Œå´ä¸çŸ¥é“å†…éƒ¨å®ç°çš„ç»†èŠ‚ã€‚ æ€»ä¹‹ï¼Œç±»æ˜¯åˆ›å»ºå®ä¾‹çš„æ¨¡æ¿ï¼Œè€Œå®ä¾‹åˆ™æ˜¯ä¸€ä¸ªä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå„ä¸ªå®ä¾‹æ‹¥æœ‰çš„æ•°æ®éƒ½ç›¸äº’ç‹¬ç«‹ã€äº’ä¸å½±å“ï¼›æ–¹æ³•æ˜¯ä¸å®ä¾‹ç»‘å®šçš„å‡½æ•°ï¼Œå’Œæ™®é€šçš„å‡½æ•°ä¸åŒï¼Œæ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹çš„æ•°æ®ã€‚ å…¶å® self ä¸­å­˜å‚¨çš„æ˜¯å®ä¾‹å˜é‡å’Œå®ä¾‹å‡½æ•°çš„å±æ€§ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå­—å…¸ï¼ˆ dict ï¼‰ï¼Œå¦‚ï¼š{'name':'zhang','age':'18'}å°±æ˜¯è¿™äº›ã€‚ æ³¨æ„åªæœ‰æ•°æ®å±æ€§ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºæ–°çš„ç±»çš„æ–¹æ³•ã€‚ ç±»â€”â€“\u003eé€šè¿‡å®ä¾‹åŒ–ç”Ÿæˆâ€”-å¯¹è±¡â€”-\u003eï¼ˆå¯¹è±¡åªæ˜¯ä¸€ä¸²ç±»ä¼¼äºå­—å…¸çš„æ•°æ®ï¼Œæ²¡æœ‰æŠŠç±»çš„é‡Œçš„æ–¹æ³•å¤åˆ¶ç»™ä½ ï¼Œpythonæ²¡æœ‰newè¿™ä¸ªæ–¹æ³•ï¼ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 class Person(object): def __init__(self, x, y): self.x = x self.y = y def add(self, z=16): # è®¾ç½® z ä¸ºå®ä¾‹å˜é‡ï¼Œå³ self.z = z, z # æ˜¯ class çš„ä¸€ä¸ªæˆå‘˜äº†ï¼Œè€Œéæ™®é€šå±€éƒ¨å˜é‡ self.z = z sum = self.x + self.y + z # zè™½ç„¶å·²è¢«å®ä¾‹åŒ–ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥å½“ä½œ æ™®é€šå˜é‡æ¥ç”¨ r return sum def square(self): squr = pow(self.x, 2) + pow(self.y, 2) return squr def add_square(self): c = self.add() + self.square() + self.z # è°ƒç”¨å®ä¾‹å˜é‡ z return c student = Person(3, 4) print(student.add()) print(student.square()) print(\"--------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿-----------\") print(student.add_square()) print(student.z) # å‡½æ•°add ä¸­çš„ z è¢«å®ä¾‹åŒ–ä»¥åï¼Œå°±å¯ä»¥åˆ©ç”¨å®ä¾‹åŒ–çš„æ–¹æ³•è®¿é—®å®ƒ --------------------------------- è¾“å‡ºï¼š 23 25 --------- æˆ‘æ˜¯å¯çˆ±çš„åˆ†å‰²çº¿----------- 64 16 é€šè¿‡è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ z æœ¬æ¥æ˜¯ add() å‡½æ•°çš„é»˜è®¤å½¢å‚ï¼Œé€šè¿‡å°†å…¶å®ä¾‹åŒ–ï¼Œå°±å¯ä»¥åœ¨å…¶ä»–å‡½æ•°ä½“å†…è°ƒç”¨å®ä¾‹å˜é‡z è¢«å®ä¾‹åŒ–ä»¥åï¼Œå°±å¯ä»¥åˆ©ç”¨å®ä¾‹åŒ–çš„æ–¹æ³•è®¿é—®å®ƒã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:5:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"0.6. self åˆ°åº•æ˜¯ä»€ä¹ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class Box(object): def __init__(self, boxname, size, color): self.boxname = boxname self.size = size self.color = color # selfå°±æ˜¯ç”¨äºå­˜å‚¨å¯¹è±¡å±æ€§çš„é›†åˆï¼Œå°±ç®—æ²¡æœ‰å±æ€§selfä¹Ÿæ˜¯å¿…å¤‡çš„ def open(self, myself): print( \"--\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (myself.color, myself.size, myself.boxname) ) print(\"--\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (self.color, self.size, self.boxname)) def close(self): print(\"--\u003eå…³é—­%sï¼Œè°¢è°¢\" % self.boxname) b = Box(\"é­”ç›’\", \"14m\", \"çº¢è‰²\") b.close() b.open(b) # æœ¬æ¥å°±ä¼šè‡ªåŠ¨ä¼ ä¸€ä¸ªselfï¼Œç°åœ¨ä¼ å…¥bï¼Œå°±ä¼šè®©openå¤šå¾—åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡æœ¬èº«ï¼Œprintçœ‹çœ‹æ˜¯ä»€ä¹ˆã€‚ print(b.__dict__) # è¿™é‡Œè¿”å›çš„å°±æ˜¯selfæœ¬èº«ï¼Œselfå­˜å‚¨å±æ€§ï¼Œæ²¡æœ‰åŠ¨ä½œã€‚ --------------------------------- è¾“å‡ºï¼š --\u003eå…³é—­é­”ç›’ï¼Œè°¢è°¢ --\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ --\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ {'boxname': 'é­”ç›’', 'size': '14m', 'color': 'çº¢è‰²'} selfä»£è¡¨ç±»çš„å®ä¾‹ï¼Œè€Œéç±»ï¼›self å°±æ˜¯ å¯¹è±¡/å®ä¾‹ å±æ€§é›†åˆ Box æ˜¯ä¸ªç±»â€”â€“ã€‹self å®ä¾‹åŒ–â€”â€”ã€‹ bå¯¹è±¡/ å®ä¾‹ class æŠ½è±¡ä½“â€”â€”ã€‹å®ä¾‹åŒ–â€”â€”ã€‹å¯¹è±¡/å®ä¾‹ï¼Œå«æœ‰å±æ€§ï¼š{â€˜boxnameâ€™:â€˜é­”ç›’â€™, â€˜sizeâ€™ï¼šâ€˜14mâ€™, â€˜colorâ€™:â€˜redâ€™}ï¼Œå³ self self çœ‹ä¼¼æ˜¯æ•´ä¸ªå¯¹è±¡ï¼Œå®é™…ä¸Šæ¸…æ¥šåœ°æè¿°äº†ç±»å°±æ˜¯äº§ç”Ÿå¯¹è±¡çš„è¿‡ç¨‹ï¼Œæè¿°äº† self å°±æ˜¯å¾—åˆ°äº† å¯¹è±¡ï¼Œæ‰€ä»¥ self å†…çš„é”®å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨ æ­£å¦‚è‡ªç„¶ç•Œä¸­ä¸€ä¸ªæœ‰æ•ˆçš„å¯¹è±¡ï¼Œå¿…é¡»åŒ…æ‹¬ï¼š æè¿°å¯¹è±¡çš„å±æ€§ï¼› å¯¹è±¡çš„æ–¹æ³• æ‰€ä»¥ selfæ˜¯å¿…é¡»çš„ï¼Œä¹Ÿæ˜¯å¯¹è±¡ä¸­é‡è¦çš„ç‰¹æ€§ã€‚ çœ‹ä¸‹é¢çš„ä»£ç ï¼Œæ„Ÿè§‰å°±æ›´ç¥å¥‡äº†ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 class Box(object): def myInit(mySelf, boxname, size, color): print(mySelf.__dict__) # æ˜¾ç¤ºä¸º{}ç©ºå­—å…¸ mySelf.boxname = boxname mySelf.__dict__[\"aa\"] = \"w\" # ç”šè‡³å¯ä»¥åƒå­—å…¸ä¸€æ ·æ“ä½œ mySelf.size = size mySelf.color = color # è‡ªå·±å†™ä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼Œä¸€æ ·å¥æ•ˆ,ç”šè‡³ä¸ç”¨selfå‘½åã€‚å…¶å®ƒå‡½æ•°å½“ä¸­ç”¨æ ‡å‡†self return mySelf # è¿”å›ç»™å®ä¾‹åŒ–è¿‡ç¨‹ä¸€ä¸ªå¯¹è±¡ï¼ç¥å¥‡ï¼å¹¶ä¸”å«æœ‰å¯¹è±¡å±æ€§/å­—å…¸ # def __init__(self, boxname, size, color): # self.boxname = boxname # self.size = size # self.color = color #æ³¨é‡Šæ‰åŸæ¥æ ‡å‡†çš„åˆå§‹åŒ– def open(self, myself): print(self) print( \"--\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (myself.color, myself.size, myself.boxname) ) print(\"--\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (myself.color, myself.size, myself.boxname)) def close(self): print(\"--\u003eå…³é—­%sï¼Œè°¢è°¢\" % self.boxname) # ç»è¿‡æ”¹é€ ï¼Œè¿è¡Œç»“æœå’Œæ ‡å‡†åˆå§‹åŒ–æ²¡åŒºåˆ« b = Box().myInit(\"é­”ç›’\", \"14m\", \"çº¢è‰²\") # b = Box('é­”ç›’', '14m', 'çº¢è‰²')#æ³¨é‡Šæ‰åŸæ¥æ ‡å‡†çš„åˆå§‹åŒ–æ–¹æ³• b.close() b.open(b) # æœ¬æ¥å°±ä¼šè‡ªåŠ¨ä¼ ä¸€ä¸ªselfï¼Œç°åœ¨ä¼ å…¥bï¼Œå°±ä¼šè®©openå¤šå¾—åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡æœ¬èº«ï¼Œprintçœ‹çœ‹æ˜¯ä»€ä¹ˆã€‚ print(b.__dict__) # è¿™é‡Œè¿”å›çš„å°±æ˜¯selfæœ¬èº«ï¼Œselfå­˜å‚¨å±æ€§ï¼Œæ²¡æœ‰åŠ¨ä½œã€‚ --------------------------------- è¾“å‡ºï¼š --\u003eå…³é—­é­”ç›’ï¼Œè°¢è°¢ \u003c__main__.Box object at 0x7f0c536c3e20\u003e --\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ --\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ {'boxname': 'é­”ç›’', 'aa': 'w', 'size': '14m', 'color': 'çº¢è‰²'} æ¢ä¸ªè§’åº¦æ¥è®²ï¼Œå¯¹ç±»çš„æ“ä½œæœ‰ï¼š å®šä¹‰å±æ€§ ï¼› è°ƒç”¨æ–¹æ³• å¯¹ç±»çš„åé¦ˆæœ‰ï¼š å¾—åˆ°å±æ€§ ï¼› æ‰§è¡Œæ–¹æ³• åœ¨ class ç±»çš„å‡½æ•°ä¸­ï¼Œä¸ºä»€ä¹ˆ selfæ˜¯å¿…è¦çš„ï¼Œå› ä¸º self æ˜¯å¯¹è±¡çš„è½½ä½“ï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªå­—å…¸ï¼Œçœ‹ä¸‹é¢ä»£ç ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 class Box(object): def myInit(mySelf, boxname, size, color): print(mySelf.__dict__) # æ˜¾ç¤ºä¸º{}ç©ºå­—å…¸ mySelf.boxname = boxname mySelf.__dict__[\"aa\"] = \"w\" # ç”šè‡³å¯ä»¥åƒå­—å…¸ä¸€æ ·æ“ä½œ mySelf.size = size mySelf.color = color # è‡ªå·±å†™ä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼Œä¸€æ ·å¥æ•ˆ,ç”šè‡³ä¸ç”¨selfå‘½åã€‚å…¶å®ƒå‡½æ•°å½“ä¸­ç”¨æ ‡å‡†self return mySelf # è¿”å›ç»™å®ä¾‹åŒ–è¿‡ç¨‹ä¸€ä¸ªå¯¹è±¡ï¼ç¥å¥‡ï¼å¹¶ä¸”å«æœ‰å¯¹è±¡å±æ€§/å­—å…¸ # def __init__(self, boxname, size, color): # self.boxname = boxname # self.size = size # self.color = color #æ³¨é‡Šæ‰åŸæ¥æ ‡å‡†çš„åˆå§‹åŒ– def open(self, myself): print(self) print( \"--\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (myself.color, myself.size, myself.boxname) ) print(\"--\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ª%s,%sçš„%s\" % (myself.color, myself.size, myself.boxname)) def close(self): print(\"--\u003eå…³é—­%sï¼Œè°¢è°¢\" % self.boxname) # ç»è¿‡æ”¹é€ ï¼Œè¿è¡Œç»“æœå’Œæ ‡å‡†åˆå§‹åŒ–æ²¡åŒºåˆ« b = Box().myInit(\"é­”ç›’\", \"14m\", \"çº¢è‰²\") # b = Box('é­”ç›’', '14m', 'çº¢è‰²')#æ³¨é‡Šæ‰åŸæ¥æ ‡å‡†çš„åˆå§‹åŒ–æ–¹æ³• b.close() b.open(b) # æœ¬æ¥å°±ä¼šè‡ªåŠ¨ä¼ ä¸€ä¸ªselfï¼Œç°åœ¨ä¼ å…¥bï¼Œå°±ä¼šè®©openå¤šå¾—åˆ°ä¸€ä¸ªå®ä¾‹å¯¹è±¡æœ¬èº«ï¼Œprintçœ‹çœ‹æ˜¯ä»€ä¹ˆã€‚ print(b.__dict__) # è¿™é‡Œè¿”å›çš„å°±æ˜¯selfæœ¬èº«ï¼Œselfå­˜å‚¨å±æ€§ï¼Œæ²¡æœ‰åŠ¨ä½œã€‚ --------------------------------- è¾“å‡ºï¼š --\u003eå…³é—­é­”ç›’ï¼Œè°¢è°¢ \u003c__main__.Box object at 0x7fe655060e20\u003e --\u003eç”¨è‡ªå·±çš„myselfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ --\u003eç”¨ç±»è‡ªå·±çš„selfï¼Œæ‰“å¼€é‚£ä¸ªçº¢è‰²,14mçš„é­”ç›’ {'boxname': 'é­”ç›’', 'aa': 'w', 'size': '14m', 'color': 'çº¢è‰²'} æ³¨æ„æ­¤å¤„çš„ï¼š mySelf.dict[â€˜aaâ€™] = â€˜wâ€™ #ç”šè‡³å¯ä»¥åƒå­—å…¸ä¸€æ ·æ“ä½œï¼› åœ¨ b.dict çš„ç»“æœä¸­æ˜¾ç¤ºä¸ºï¼šâ€˜aaâ€™:â€˜wâ€™ æ•…å¯ä»¥æŠŠ self ç†è§£æˆå­˜å‚¨ å®ä¾‹åŒ–å¯¹è±¡å±æ€§çš„å­—å…¸(dict), self å­˜å‚¨å±æ€§ï¼Œè€Œæ²¡æœ‰åŠ¨ä½œæ‰§è¡Œã€‚ selfæ€»æ˜¯æŒ‡è°ƒç”¨æ—¶çš„ç±»çš„å®ä¾‹ã€‚ python ä¸­ä¸€äº›ç‰¹æ®Šçš„å®ä¾‹å˜é‡ï¼š ç§æœ‰å˜é‡(private),åªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ï¼Œç§æœ‰å˜é‡æ˜¯åœ¨åç§°å‰ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¦‚ï¼š__nameï¼Œå…¶å®ç§æœ‰å˜é‡ä¹Ÿä¸æ˜¯å®Œå…¨ä¸èƒ½è¢«å¤–éƒ¨è®¿é—®ï¼Œä¸èƒ½ç›´æ¥è®¿é—®æ˜¯å› ä¸ºpythonè§£é‡Šå™¨å¯¹å¤–æŠŠ __name å˜é‡æ”¹æˆäº† _ç±»å__name,æ‰€ä»ç„¶å¯ä»¥é€šè¿‡ _ç±»å__name æ¥è®¿é—® __nameã€‚ åœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼__xxx__çš„ï¼Œä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ç”¨__name__ã€__score__è¿™æ ·çš„å˜é‡åã€‚ ä»¥ä¸€ä¸ªä¸‹","date":"2023-01-15","objectID":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/:6:0","tags":["python"],"title":"Pythonä¸­çš„selfç”¨æ³•","uri":"/posts/program/python/2_python%E4%B8%AD%E7%9A%84self%E7%94%A8%E6%B3%95/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. åˆ—è¡¨å’Œå…ƒç»„ 2. Python ä¸­çš„åˆ—è¡¨å’Œå…ƒç»„éƒ½æ”¯æŒè´Ÿæ•°ç´¢å¼• 3. åˆ—è¡¨å’Œå…ƒç»„éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œ 4. åˆ—è¡¨å’Œå…ƒç»„éƒ½å¯ä»¥éšæ„åµŒå¥— 5. ä¸¤è€…ä¹Ÿå¯ä»¥é€šè¿‡ list å’Œ tuple å‡½æ•°ç›¸äº’è½¬æ¢ 6. åˆ—è¡¨å’Œå…ƒç»„å¸¸ç”¨çš„å†…ç½®å‡½æ•° 7. åˆ—è¡¨å’Œå…ƒç»„å­˜å‚¨æ–¹å¼çš„å·®å¼‚ 8. åˆ—è¡¨å’Œå…ƒç»„çš„æ€§èƒ½ 9. åˆ—è¡¨å’Œå…ƒç»„çš„ä½¿ç”¨åœºæ™¯ ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:0:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"1. åˆ—è¡¨å’Œå…ƒç»„ ç›¸åŒç‚¹ï¼š åˆ—è¡¨å’Œå…ƒç»„ï¼Œéƒ½æ˜¯ä¸€ä¸ªå¯ä»¥æ”¾ç½®ä»»æ„æ•°æ®ç±»å‹çš„æœ‰åºé›†åˆã€‚ ä¸åŒç‚¹ï¼š åˆ—è¡¨æ˜¯åŠ¨æ€çš„ï¼Œé•¿åº¦å¤§å°ä¸å›ºå®šï¼Œå¯ä»¥éšæ„åœ°å¢åŠ ã€åˆ å‡æˆ–è€…æ”¹å˜å…ƒç´ ï¼ˆmutableï¼‰ã€‚ è€Œå…ƒç»„æ˜¯é™æ€çš„ï¼Œé•¿åº¦å¤§å°å›ºå®šï¼Œæ— æ³•å¢åŠ åˆ å‡æˆ–è€…æ”¹å˜ï¼ˆimmutableï¼‰ã€‚ 1 2 3 4 5 6 7 8 9 10 l = [1, 2, 3, 4] l[3] = 40 # å’Œå¾ˆå¤šè¯­è¨€ç±»ä¼¼ï¼Œpython ä¸­ç´¢å¼•åŒæ ·ä» 0 å¼€å§‹ï¼Œl[3] è¡¨ç¤ºè®¿é—®åˆ—è¡¨çš„ç¬¬å››ä¸ªå…ƒç´  l [1, 2, 3, 40] tup = (1, 2, 3, 4) tup[3] = 40 Traceback (most recent call last): File \"\u003cstdin\u003e\", line 1, in \u003cmodule\u003e TypeError: 'tuple' object does not support item assignment æƒ³å¯¹å·²æœ‰çš„å…ƒç»„åšä»»ä½•\"æ”¹å˜â€œ åªèƒ½åˆ›å»ºæ–°çš„å…ƒç»„ï¼Œå¯¹äºåˆ—è¡¨æ¥è¯´ï¼Œç”±äºå…¶æ˜¯åŠ¨æ€çš„ï¼Œæˆ‘ä»¬åªéœ€ç®€å•åœ°åœ¨åˆ—è¡¨æœ«å°¾ï¼ŒåŠ å…¥å¯¹åº”å…ƒç´ å°±å¯ä»¥äº†ã€‚ 1 2 3 4 5 6 7 8 9 tup = (1, 2, 3, 4) new_tup = tup + (5, ) # åˆ›å»ºæ–°çš„å…ƒç»„ new_tupï¼Œå¹¶ä¾æ¬¡å¡«å……åŸå…ƒç»„çš„å€¼ new _tup (1, 2, 3, 4, 5) l = [1, 2, 3, 4] l.append(5) # æ·»åŠ å…ƒç´  5 åˆ°åŸåˆ—è¡¨çš„æœ«å°¾ l [1, 2, 3, 4, 5] ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:1:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"2. Python ä¸­çš„åˆ—è¡¨å’Œå…ƒç»„éƒ½æ”¯æŒè´Ÿæ•°ç´¢å¼• Python ä¸­çš„åˆ—è¡¨å’Œå…ƒç»„éƒ½æ”¯æŒè´Ÿæ•°ç´¢å¼•ï¼Œ-1 è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œ-2 è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:2:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"3. åˆ—è¡¨å’Œå…ƒç»„éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œ 1 2 3 4 5 6 7 l = [1, 2, 3, 4] l[1:3] # è¿”å›åˆ—è¡¨ä¸­ç´¢å¼•ä» 1 åˆ° 2 çš„å­åˆ—è¡¨ [2, 3] tup = (1, 2, 3, 4) tup[1:3] # è¿”å›å…ƒç»„ä¸­ç´¢å¼•ä» 1 åˆ° 2 çš„å­å…ƒç»„ (2, 3) ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:3:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"4. åˆ—è¡¨å’Œå…ƒç»„éƒ½å¯ä»¥éšæ„åµŒå¥— 1 2 3 l = [[1, 2, 3], [4, 5]] # åˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ ä¹Ÿæ˜¯ä¸€ä¸ªåˆ—è¡¨ tup = ((1, 2, 3), (4, 5, 6)) # å…ƒç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä¹Ÿæ˜¯ä¸€å…ƒç»„ ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:4:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"5. ä¸¤è€…ä¹Ÿå¯ä»¥é€šè¿‡ list() å’Œ tuple() å‡½æ•°ç›¸äº’è½¬æ¢ 1 2 3 4 5 list((1, 2, 3)) [1, 2, 3] tuple([1, 2, 3]) (1, 2, 3) ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:5:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"6. åˆ—è¡¨å’Œå…ƒç»„å¸¸ç”¨çš„å†…ç½®å‡½æ•° count(item) è¡¨ç¤ºç»Ÿè®¡åˆ—è¡¨ / å…ƒç»„ä¸­ item å‡ºç°çš„æ¬¡æ•°ã€‚ index(item) è¡¨ç¤ºè¿”å›åˆ—è¡¨ / å…ƒç»„ä¸­ item ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ã€‚ list.reverse() å’Œ list.sort() åˆ†åˆ«è¡¨ç¤ºåŸåœ°å€’è½¬åˆ—è¡¨å’Œæ’åºï¼ˆæ³¨æ„ï¼Œå…ƒç»„æ²¡æœ‰å†…ç½®çš„è¿™ä¸¤ä¸ªå‡½æ•°)ã€‚ reversed() å’Œ sorted() åŒæ ·è¡¨ç¤ºå¯¹åˆ—è¡¨ / å…ƒç»„è¿›è¡Œå€’è½¬å’Œæ’åºï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ªå€’è½¬åæˆ–è€…æ’å¥½åºçš„æ–°çš„åˆ—è¡¨ / å…ƒç»„ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 l = [3, 2, 3, 7, 8, 1] l.count(3) 2 l.index(7) 3 l.reverse() l [1, 8, 7, 3, 2, 3] l.sort() l [1, 2, 3, 3, 7, 8] tup = (3, 2, 3, 7, 8, 1) tup.count(3) 2 tup.index(7) 3 list(reversed(tup)) [1, 8, 7, 3, 2, 3] sorted(tup) [1, 2, 3, 3, 7, 8] ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:6:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"7. åˆ—è¡¨å’Œå…ƒç»„å­˜å‚¨æ–¹å¼çš„å·®å¼‚ åˆ—è¡¨çš„å­˜å‚¨ç©ºé—´ç•¥å¤§äºå…ƒç»„ã€‚ åˆ—è¡¨æ˜¯åŠ¨æ€çš„ã€å¯å˜çš„ï¼Œå®ƒéœ€è¦å­˜å‚¨æŒ‡é’ˆï¼Œæ¥æŒ‡å‘å¯¹åº”çš„å…ƒç´ ï¼Œä¸ºäº†å‡å°æ¯æ¬¡å¢åŠ  / åˆ å‡æ“ä½œæ—¶ç©ºé—´åˆ†é…çš„å¼€é”€ï¼ŒPython æ¯æ¬¡åˆ†é…ç©ºé—´æ—¶éƒ½ä¼šé¢å¤–å¤šåˆ†é…ä¸€äº›ï¼Œè¿™æ ·çš„æœºåˆ¶ï¼ˆover-allocatingï¼‰ä¿è¯äº†å…¶æ“ä½œçš„é«˜æ•ˆæ€§ï¼šå¢åŠ  / åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)ã€‚ã€‚å…ƒç»„é•¿åº¦å¤§å°å›ºå®šï¼Œå…ƒç´ ä¸å¯å˜ï¼Œæ‰€ä»¥å­˜å‚¨ç©ºé—´å›ºå®šã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:7:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"8. åˆ—è¡¨å’Œå…ƒç»„çš„æ€§èƒ½ åˆ—è¡¨çš„æ€§èƒ½ç•¥é€Šäºå…ƒç»„ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:8:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"9. åˆ—è¡¨å’Œå…ƒç»„çš„ä½¿ç”¨åœºæ™¯ 1. å¦‚æœå­˜å‚¨çš„æ•°æ®å’Œæ•°é‡ä¸å˜ï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦è¿”å›çš„æ˜¯ä¸€ä¸ªåœ°ç‚¹çš„ç»çº¬åº¦ï¼Œç„¶åç›´æ¥ä¼ ç»™å‰ç«¯æ¸²æŸ“ï¼Œé‚£ä¹ˆè‚¯å®šé€‰ç”¨å…ƒç»„æ›´åˆé€‚ã€‚ 1 2 3 def get_location(): ..... return (longitude, latitude) 2. å¦‚æœå­˜å‚¨çš„æ•°æ®æˆ–æ•°é‡æ˜¯å¯å˜çš„ï¼Œæ¯”å¦‚ç¤¾äº¤å¹³å°ä¸Šçš„ä¸€ä¸ªæ—¥å¿—åŠŸèƒ½ï¼Œæ˜¯ç»Ÿè®¡ä¸€ä¸ªç”¨æˆ·åœ¨ä¸€å‘¨ä¹‹å†…çœ‹äº†å“ªäº›ç”¨æˆ·çš„å¸–å­ï¼Œé‚£ä¹ˆåˆ™ç”¨åˆ—è¡¨æ›´åˆé€‚ã€‚ 1 2 3 4 viewer_owner_id_list = [] # é‡Œé¢çš„æ¯ä¸ªå…ƒç´ è®°å½•äº†è¿™ä¸ª viewer ä¸€å‘¨å†…çœ‹è¿‡çš„æ‰€æœ‰ owner çš„ id records = queryDB(viewer_id) # ç´¢å¼•æ•°æ®åº“ï¼Œæ‹¿åˆ°æŸä¸ª viewer ä¸€å‘¨å†…çš„æ—¥å¿— for record in records: viewer_owner_id_list.append(record.id) ","date":"2023-01-15","objectID":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/:9:0","tags":["python"],"title":"Pythonä¸­çš„åˆ—è¡¨å’Œå…ƒç»„","uri":"/posts/program/python/7_python%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸","uri":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç®€ä»‹ å­—å…¸æ’åº 1. å­—å…¸æ’åº 2. å­—å…¸åˆ—è¡¨æ’åº è®¡ç®—å­—å…¸å€¼ä¹‹å’Œ ç§»é™¤å­—å…¸ç‚¹é”®å€¼ åˆå¹¶å­—å…¸ ä½¿ç”¨å­—å…¸æ ¼å¼åŒ–å­—ç¬¦ä¸² 1. ç®€ä»‹ å­—å…¸æ˜¯å¦ä¸€ç§å¯å˜å®¹å™¨æ¨¡å‹ï¼Œä¸”å¯å­˜å‚¨ä»»æ„ç±»å‹å¯¹è±¡ã€‚ å­—å…¸çš„æ¯ä¸ªé”®å€¼ key=\u003evalue å¯¹ç”¨å†’å· : åˆ†å‰²ï¼Œæ¯ä¸ªå¯¹ä¹‹é—´ç”¨é€—å·(,)åˆ†å‰²ï¼Œæ•´ä¸ªå­—å…¸åŒ…æ‹¬åœ¨èŠ±æ‹¬å· {} ä¸­ ,æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1 d = {key1 : value1, key2 : value2, key3 : value3 } é”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†å€¼åˆ™ä¸å¿…ã€‚ å€¼å¯ä»¥å–ä»»ä½•æ•°æ®ç±»å‹ï¼Œä½†é”®å¿…é¡»æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚å­—ç¬¦ä¸²ï¼Œæ•°å­—ã€‚ 1.1. å­—å…¸æ’åº ","date":"2023-01-15","objectID":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/:0:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸","uri":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/"},{"categories":["python"],"content":"1.2. å­—å…¸æ’åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # coding:utf-8 from random import randint def key_sort(dict): print(\"æŒ‰é”®(key)æ’åº:\") # sorted(key_value) è¿”å›é‡æ–°æ’åºçš„åˆ—è¡¨ # å­—å…¸æŒ‰é”®æ’åº for i in sorted(dict): print((i, dict[i]), end=\" \") print(\"\\r\") def value_sort(dict): print(\"æŒ‰é”®(value)æ’åº:\") # sorted(key_value) è¿”å›é‡æ–°æ’åºçš„åˆ—è¡¨ # å­—å…¸æŒ‰é”®æ’åº for i in sorted(dict.items(), key=lambda kv: (kv[1])): print(i) print(\"\\r\") def main(): d = {x: randint(60, 100) for x in \"xyzabc\"} key_sort(d) value_sort(d) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() ","date":"2023-01-15","objectID":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/:1:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸","uri":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/"},{"categories":["python"],"content":"1.3. å­—å…¸åˆ—è¡¨æ’åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # coding:utf-8 def main(): lis = [ {\"name\": \"Taobao\", \"age\": 100}, {\"name\": \"Runoob\", \"age\": 7}, {\"name\": \"Google\", \"age\": 100}, {\"name\": \"Wiki\", \"age\": 200}, ] print(\"\\r\") # é€šè¿‡ age å‡åºæ’åº print(\"åˆ—è¡¨é€šè¿‡ age å‡åºæ’åº: \") print(sorted(lis, key=lambda i: i[\"age\"])) print(\"\\r\") # å…ˆæŒ‰ age æ’åºï¼Œå†æŒ‰ name æ’åº print(\"åˆ—è¡¨é€šè¿‡ age å’Œ name æ’åº: \") print(sorted(lis, key=lambda i: (i[\"age\"], i[\"name\"]))) print(\"\\r\") # æŒ‰ age é™åºæ’åº print(\"åˆ—è¡¨é€šè¿‡ age é™åºæ’åº: \") print(sorted(lis, key=lambda i: i[\"age\"], reverse=True)) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() 2. è®¡ç®—å­—å…¸å€¼ä¹‹å’Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # coding:utf-8 from random import randint def returnSum(Dict): sum = 0 for i in Dict: sum = sum + Dict[i] return sum def main(): d = {x: randint(60, 100) for x in \"xyzabc\"} print(returnSum(d)) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() 3. ç§»é™¤å­—å…¸ç‚¹é”®å€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 # coding:utf-8 from random import randint def main(): test_dict = {x: randint(0, 50) for x in \"abcdefg\"} # è¾“å‡ºåŸå§‹çš„å­—å…¸ print (\"å­—å…¸ç§»é™¤å‰ : \" + str(test_dict)) # ä½¿ç”¨ del ç§»é™¤ Zhihu del test_dict['a'] # ä½¿ç”¨ pop ç§»é™¤ Zhihu removed_value = test_dict.pop('b') print(\"removed_value : \" + str(removed_value)) # ä½¿ç”¨ pop ç§»é™¤ Zhihu new_dict = {key:val for key, val in test_dict.items() if key != 'c'} # è¾“å‡ºç§»é™¤åçš„å­—å…¸ print (\"å­—å…¸ç§»é™¤å : \" + str(test_dict)) print (\"å­—å…¸ç§»é™¤å : \" + str(new_dict)) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() 4. åˆå¹¶å­—å…¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # coding:utf-8 from random import randint def Merge1(dict1, dict2): return(dict2.update(dict1)) def Merge2(dict1, dict2): res = {**dict1, **dict2} return res def main(): d1 = {x: randint(0, 50) for x in \"abc\"} d2 = {x: randint(50, 100) for x in \"xyz\"} Merge1(d1, d2) print(d2) dict2 = Merge2(d1, d2) print(dict2) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() 5. ä½¿ç”¨å­—å…¸æ ¼å¼åŒ–å­—ç¬¦ä¸² 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # coding:utf-8 from random import randint def main(): # å­—ç¬¦ä¸²æ¨¡æ¿ä¸­ä½¿ç”¨key temp = 'æ•™ç¨‹æ˜¯:%(name)s, ä»·æ ¼æ˜¯:%(price)010.2f, å‡ºç‰ˆç¤¾æ˜¯:%(publish)s' book = {'name':'PythonåŸºç¡€æ•™ç¨‹', 'price': 99, 'publish': 'Cè¯­è¨€ä¸­æ–‡ç½‘'} # ä½¿ç”¨å­—å…¸ä¸ºå­—ç¬¦ä¸²æ¨¡æ¿ä¸­çš„keyä¼ å…¥å€¼ print(temp % book) book = {'name':'Cè¯­è¨€å°ç™½å˜æ€ªå…½', 'price':159, 'publish': 'Cè¯­è¨€ä¸­æ–‡ç½‘'} # ä½¿ç”¨å­—å…¸ä¸ºå­—ç¬¦ä¸²æ¨¡æ¿ä¸­çš„keyä¼ å…¥å€¼ print(temp % book) # ä¸»å‡½æ•° if __name__ == \"__main__\": main() ","date":"2023-01-15","objectID":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/:2:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸","uri":"/posts/program/python/5_python%E4%B8%AD%E7%9A%84%E5%AD%97%E5%85%B8/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ å­—å…¸å’Œé›†åˆåŸºç¡€ å­—å…¸æ˜¯ä¸€ç³»åˆ—ç”±é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰é…å¯¹ç»„æˆçš„å…ƒç´ çš„é›†åˆï¼Œåœ¨ Python3.7+ï¼Œå­—å…¸è¢«ç¡®å®šä¸ºæœ‰åºï¼ˆæ³¨æ„ï¼šåœ¨ 3.6 ä¸­ï¼Œå­—å…¸æœ‰åºæ˜¯ä¸€ä¸ª implementation detailï¼Œåœ¨ 3.7 æ‰æ­£å¼æˆä¸ºè¯­è¨€ç‰¹æ€§ï¼Œå› æ­¤ 3.6 ä¸­æ— æ³• 100% ç¡®ä¿å…¶æœ‰åºæ€§ï¼‰ï¼Œè€Œ 3.6 ä¹‹å‰æ˜¯æ— åºçš„ï¼Œå…¶é•¿åº¦å¤§å°å¯å˜ï¼Œå…ƒç´ å¯ä»¥ä»»æ„åœ°åˆ å‡å’Œæ”¹å˜ã€‚ ç›¸æ¯”äºåˆ—è¡¨å’Œå…ƒç»„ï¼Œå­—å…¸çš„æ€§èƒ½æ›´ä¼˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæŸ¥æ‰¾ã€æ·»åŠ å’Œåˆ é™¤æ“ä½œï¼Œå­—å…¸éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å†…å®Œæˆã€‚ è€Œé›†åˆå’Œå­—å…¸åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯é›†åˆæ²¡æœ‰é”®å’Œå€¼çš„é…å¯¹ï¼Œæ˜¯ä¸€ç³»åˆ—æ— åºçš„ã€å”¯ä¸€çš„å…ƒç´ ç»„åˆã€‚ Python ä¸­å­—å…¸å’Œé›†åˆï¼Œæ— è®ºæ˜¯é”®è¿˜æ˜¯å€¼ï¼Œéƒ½å¯ä»¥æ˜¯æ··åˆç±»å‹ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 d1 = {'name': 'jason', 'age': 20, 'gender': 'male'} d2 = dict({'name': 'jason', 'age': 20, 'gender': 'male'}) d3 = dict([('name', 'jason'), ('age', 20), ('gender', 'male')]) d4 = dict(name='jason', age=20, gender='male') d1 == d2 == d3 ==d4 True s = {1, 'hello', 5.0} s1 = {1, 2, 3} s2 = set([1, 2, 3]) s1 == s2 True ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:0:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"å…ƒç´ è®¿é—® ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:1:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"å­—å…¸ å­—å…¸è®¿é—®å¯ä»¥ç›´æ¥ç´¢å¼•é”®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ 1 2 3 4 5 6 7 d = {'name': 'jason', 'age': 20} d['name'] 'jason' d['location'] Traceback (most recent call last): File \"\u003cstdin\u003e\", line 1, in \u003cmodule\u003e KeyError: 'location' ä¹Ÿå¯ä»¥ä½¿ç”¨ get(key, default) å‡½æ•°æ¥è¿›è¡Œç´¢å¼•ã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè°ƒç”¨ get() å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼Œè¿”å›äº†'null'ã€‚ 1 2 3 4 5 d = {'name': 'jason', 'age': 20} d.get('name') 'jason' d.get('location', 'null') 'null' ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:1:1","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"é›†åˆ é›†åˆå¹¶ä¸æ”¯æŒç´¢å¼•æ“ä½œï¼Œå› ä¸ºé›†åˆæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå’Œåˆ—è¡¨ä¸ä¸€æ ·ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:1:2","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"å¢åŠ ã€åˆ é™¤ã€æ›´æ–°ç­‰æ“ä½œ å­—å…¸å’Œé›†åˆä¹ŸåŒæ ·æ”¯æŒå¢åŠ ã€åˆ é™¤ã€æ›´æ–°ç­‰æ“ä½œã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 d = {'name': 'jason', 'age': 20} d['gender'] = 'male' # å¢åŠ å…ƒç´ å¯¹'gender': 'male' d['dob'] = '1999-02-01' # å¢åŠ å…ƒç´ å¯¹'dob': '1999-02-01' d {'name': 'jason', 'age': 20, 'gender': 'male', 'dob': '1999-02-01'} d['dob'] = '1998-01-01' # æ›´æ–°é”®'dob'å¯¹åº”çš„å€¼ d.pop('dob') # åˆ é™¤é”®ä¸º'dob'çš„å…ƒç´ å¯¹ '1998-01-01' d {'name': 'jason', 'age': 20, 'gender': 'male'} s = {1, 2, 3} s.add(4) # å¢åŠ å…ƒç´  4 åˆ°é›†åˆ s {1, 2, 3, 4} s.remove(4) # ä»é›†åˆä¸­åˆ é™¤å…ƒç´  4 s {1, 2, 3} é›†åˆçš„ pop() æ“ä½œæ˜¯åˆ é™¤é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¯æ˜¯é›†åˆæœ¬èº«æ˜¯æ— åºçš„ï¼Œä½ æ— æ³•çŸ¥é“ä¼šåˆ é™¤å“ªä¸ªå…ƒç´ ï¼Œå› æ­¤è¿™ä¸ªæ“ä½œå¾—è°¨æ…ä½¿ç”¨ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:2:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"æ’åº 1 2 3 4 5 6 7 d = {'b': 1, 'a': 2, 'c': 10} d_sorted_by_key = sorted(d.items(), key=lambda x: x[0]) # æ ¹æ®å­—å…¸é”®çš„å‡åºæ’åº d_sorted_by_value = sorted(d.items(), key=lambda x: x[1]) # æ ¹æ®å­—å…¸å€¼çš„å‡åºæ’åº d_sorted_by_key [('a', 2), ('b', 1), ('c', 10)] d_sorted_by_value [('b', 1), ('a', 2), ('c', 10)] è¿”å›äº†ä¸€ä¸ªåˆ—è¡¨ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ˜¯ç”±åŸå­—å…¸çš„é”®å’Œå€¼ç»„æˆçš„å…ƒç»„ã€‚ å¯¹äºé›†åˆï¼Œå…¶æ’åºå’Œå‰é¢è®²è¿‡çš„åˆ—è¡¨ã€å…ƒç»„å¾ˆç±»ä¼¼ï¼Œç›´æ¥è°ƒç”¨ sorted(set) å³å¯ï¼Œç»“æœä¼šè¿”å›ä¸€ä¸ªæ’å¥½åºçš„åˆ—è¡¨ã€‚ 1 2 3 s = {3, 4, 2, 1} sorted(s) # å¯¹é›†åˆçš„å…ƒç´ è¿›è¡Œå‡åºæ’åº [1, 2, 3, 4] ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:3:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"æ€§èƒ½ å¯¹äºå­—å…¸è€Œè¨€ï¼Œè¿™å¼ è¡¨å­˜å‚¨äº†å“ˆå¸Œå€¼ï¼ˆhashï¼‰ã€é”®å’Œå€¼è¿™ 3 ä¸ªå…ƒç´ ã€‚ è€Œå¯¹é›†åˆæ¥è¯´ï¼ŒåŒºåˆ«å°±æ˜¯å“ˆå¸Œè¡¨å†…æ²¡æœ‰é”®å’Œå€¼çš„é…å¯¹ï¼Œåªæœ‰å•ä¸€çš„å…ƒç´ äº†ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/:4:0","tags":["python"],"title":"Pythonä¸­çš„å­—å…¸å’Œé›†åˆ","uri":"/posts/program/python/8_python%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:0:0","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"å­—ç¬¦ä¸²åŸºç¡€ Python ä¸­å•å¼•å·ã€åŒå¼•å·å’Œä¸‰å¼•å·çš„å­—ç¬¦ä¸²æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ²¡æœ‰åŒºåˆ«ã€‚ 1 2 3 4 5 s1 = 'hello' s2 = \"hello\" s3 = \"\"\"hello\"\"\" s1 == s2 == s3 True Python çš„ä¸‰å¼•å·å­—ç¬¦ä¸²ï¼Œåˆ™ä¸»è¦åº”ç”¨äºå¤šè¡Œå­—ç¬¦ä¸²çš„æƒ…å¢ƒï¼Œæ¯”å¦‚å‡½æ•°çš„æ³¨é‡Šç­‰ç­‰ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:1:0","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"è½¬ä¹‰å­—ç¬¦ ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:1:1","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ Python çš„å­—ç¬¦ä¸²åŒæ ·æ”¯æŒç´¢å¼•ï¼Œåˆ‡ç‰‡å’Œéå†ç­‰ç­‰æ“ä½œã€‚ 1 2 3 4 5 name = 'jason' name[0] 'j' name[1:3] 'as' Python çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰,Python ä¸­å­—ç¬¦ä¸²çš„æ”¹å˜ï¼Œé€šå¸¸åªèƒ½é€šè¿‡åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²æ¥å®Œæˆã€‚ 1 2 3 4 5 # æ˜¯ç›´æ¥ç”¨å¤§å†™çš„'H'ï¼Œé€šè¿‡åŠ å·'+'æ“ä½œç¬¦ï¼Œä¸åŸå­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œçš„å­å­—ç¬¦ä¸²æ‹¼æ¥è€Œæˆæ–°çš„å­—ç¬¦ä¸²ã€‚ s = 'H' + s[1:] # æ˜¯ç›´æ¥æ‰«æåŸå­—ç¬¦ä¸²ï¼ŒæŠŠå°å†™çš„'h'æ›¿æ¢æˆå¤§å†™çš„'H'ï¼Œå¾—åˆ°æ–°çš„å­—ç¬¦ä¸²ã€‚ s = s.replace('h', 'H') ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦'+='çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•ã€‚ 1 2 3 s = '' for n in range(0, 100000): s += str(n) å¯¹äºå­—ç¬¦ä¸²æ‹¼æ¥é—®é¢˜ï¼Œé™¤äº†ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å†…ç½®çš„ join å‡½æ•°ã€‚string.join(iterable)ï¼Œè¡¨ç¤ºæŠŠæ¯ä¸ªå…ƒç´ éƒ½æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼è¿æ¥èµ·æ¥ã€‚ 1 2 3 4 l = [] for n in range(0, 100000): l.append(str(n)) l = ' '.join(l) ç”±äºåˆ—è¡¨çš„ append æ“ä½œæ˜¯ O(1) å¤æ‚åº¦ï¼Œå­—ç¬¦ä¸²åŒç†ã€‚å› æ­¤ï¼Œè¿™ä¸ªå«æœ‰ for å¾ªç¯ä¾‹å­çš„æ—¶é—´å¤æ‚åº¦ä¸º n*O(1)=O(n)ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:2:0","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"split() string.split(separator)ï¼Œè¡¨ç¤ºæŠŠå­—ç¬¦ä¸²æŒ‰ç…§ separator åˆ†å‰²æˆå­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ†å‰²åå­å­—ç¬¦ä¸²ç»„åˆçš„åˆ—è¡¨ string.strip(str)ï¼Œè¡¨ç¤ºå»æ‰é¦–å°¾çš„ str å­—ç¬¦ä¸² string.lstrip(str)ï¼Œè¡¨ç¤ºåªå»æ‰å¼€å¤´çš„ str å­—ç¬¦ä¸² string.rstrip(str)ï¼Œè¡¨ç¤ºåªå»æ‰å°¾éƒ¨çš„ str å­—ç¬¦ä¸² 1 2 3 s = ' my name is jason ' s.strip() 'my name is jason' ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:3:0","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"å­—ç¬¦ä¸²çš„æ ¼å¼åŒ– 1 2 3 4 5 6 print('no data available for person with id: {}, name: {}'.format(id, name)) 'no data available for person with id: 123, name: jason' # åœ¨ Python ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²æ ¼å¼åŒ–é€šå¸¸ç”¨ % æ¥è¡¨ç¤º print('no data available for person with id: %s, name: %s' % (id, name)) ","date":"2023-01-15","objectID":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/:4:0","tags":["python"],"title":"Pythonä¸­çš„å­—ç¬¦ä¸²æ“ä½œ","uri":"/posts/program/python/9_%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/"},{"categories":["python"],"content":"python ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/python/6_python%E8%A3%85%E9%A5%B0%E5%99%A8/","tags":["python"],"title":"Pythonä¸­çš„è£…é¥°å™¨","uri":"/posts/program/python/6_python%E8%A3%85%E9%A5%B0%E5%99%A8/"},{"categories":["python"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ è£…é¥°å™¨(Decorators) è£…é¥°å™¨(Decorators) è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯Pythonä¸­ä¸€ä¸ªé‡è¦éƒ¨åˆ†ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¸åŒäºæ™®é€šå‡½æ•°ï¼Œè£…é¥°å™¨çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚é€šè¿‡åˆ©ç”¨è£…é¥°å™¨ï¼Œæˆ‘ä»¬å¯ä»¥è®©å…¶ä»–å‡½æ•°åœ¨ä¸åšä»»ä½•ä»£ç æ”¹åŠ¨çš„æƒ…å†µä¸‹å¢åŠ é¢å¤–çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿè®©ä»£ç æ›´åŠ ç®€æ´ã€‚ ","date":"2023-01-15","objectID":"/posts/program/python/6_python%E8%A3%85%E9%A5%B0%E5%99%A8/:0:0","tags":["python"],"title":"Pythonä¸­çš„è£…é¥°å™¨","uri":"/posts/program/python/6_python%E8%A3%85%E9%A5%B0%E5%99%A8/"},{"categories":["rust"],"content":"rust ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/rust/1.rust%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","tags":["rust"],"title":"rustç¯å¢ƒæ­å»º","uri":"/posts/program/rust/1.rust%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["rust"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ Rust ç¨‹åºè®¾è®¡è¯­è¨€ ä¸­æ–‡ç‰ˆ å®‰è£… rust Getting started 1 2 3 4 5 6 7 8 9 10 11 # å®‰è£… curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh # å‡çº§ rustup update # å¸è½½ rustup self uninstall # æŸ¥çœ‹ç‰ˆæœ¬ rustc --version vscode æ’ä»¶ï¼šrust-analyzer ï¼š Rust è¯­è¨€æœåŠ¡å™¨ (RLS) å·²è¢«å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ rust-analyzerã€‚RLS ç”¨æˆ·åº”è¯¥æ”¹ç”¨ rust-analyzerã€‚ ï¼ˆ2022-07-02ï¼‰ ç¼–è¯‘è¿è¡Œ rustc rustc åªé€‚åˆç®€å•çš„ç¨‹åºã€‚ 1 rustc main.rs cargo Cargo æ˜¯ Rust çš„æ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å™¨ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # æŸ¥çœ‹ç‰ˆæœ¬ cargo --version # æ„å»ºé¡¹ç›® cargo new hello_cargo cd hello_cargo # æ„å»ºäº†é¡¹ç›®ï¼Œå¹¶ä½¿ç”¨ ./target/debug/hello_cargo è¿è¡Œäº†ç¨‹åº cargo build # cargo run åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­åŒæ—¶ç¼–è¯‘ä»£ç å¹¶è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ cargo run # å¿«é€Ÿæ£€æŸ¥ä»£ç ç¡®ä¿å…¶å¯ä»¥ç¼–è¯‘ï¼Œä½†å¹¶ä¸äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ cargo check # ä¼˜åŒ–ç¼–è¯‘é¡¹ç›® cargo build --release cargo build --debug ä½¿ç”¨ Cargo å½“ä½œä¹ æƒ¯ 1 2 3 git clone example.org/someproject cd someproject cargo build ","date":"2023-01-15","objectID":"/posts/program/rust/1.rust%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/:0:0","tags":["rust"],"title":"rustç¯å¢ƒæ­å»º","uri":"/posts/program/rust/1.rust%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"categories":["rust"],"content":"rust ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ Rust ç¨‹åºè®¾è®¡è¯­è¨€ ä¸­æ–‡ç‰ˆ å…³é”®å­— as - å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ¶ˆé™¤ç‰¹å®šåŒ…å«é¡¹çš„ trait çš„æ­§ä¹‰ï¼Œæˆ–è€…å¯¹ use å’Œ extern crate è¯­å¥ä¸­çš„é¡¹é‡å‘½å async - è¿”å›ä¸€ä¸ª Future è€Œä¸æ˜¯é˜»å¡å½“å‰çº¿ç¨‹ await - æš‚åœæ‰§è¡Œï¼Œç›´åˆ° Future çš„ç»“æœå‡†å¤‡å¥½ break - ç«‹åˆ»é€€å‡ºå¾ªç¯ const - å®šä¹‰å¸¸é‡æˆ–ä¸å˜è£¸æŒ‡é’ˆï¼ˆconstant raw pointerï¼‰ continue - ç»§ç»­è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£ crate - é“¾æ¥ï¼ˆlinkï¼‰ä¸€ä¸ªå¤–éƒ¨ crate æˆ–ä¸€ä¸ªä»£è¡¨å®å®šä¹‰çš„ crate çš„å®å˜é‡ dyn - åŠ¨æ€åˆ†å‘ trait å¯¹è±¡ else - ä½œä¸º if å’Œ if let æ§åˆ¶æµç»“æ„çš„ fallback enum - å®šä¹‰ä¸€ä¸ªæšä¸¾ extern - é“¾æ¥ä¸€ä¸ªå¤–éƒ¨ crate ã€å‡½æ•°æˆ–å˜é‡ false - å¸ƒå°”å­—é¢é‡ false fn - å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ– å‡½æ•°æŒ‡é’ˆç±»å‹ (function pointer type) for - éå†ä¸€ä¸ªè¿­ä»£å™¨æˆ–å®ç°ä¸€ä¸ª trait æˆ–è€…æŒ‡å®šä¸€ä¸ªæ›´é«˜çº§çš„ç”Ÿå‘½å‘¨æœŸ if - åŸºäºæ¡ä»¶è¡¨è¾¾å¼çš„ç»“æœåˆ†æ”¯ impl - å®ç°è‡ªæœ‰æˆ– trait åŠŸèƒ½ in - for å¾ªç¯è¯­æ³•çš„ä¸€éƒ¨åˆ† let - ç»‘å®šä¸€ä¸ªå˜é‡ loop - æ— æ¡ä»¶å¾ªç¯ match - æ¨¡å¼åŒ¹é… mod - å®šä¹‰ä¸€ä¸ªæ¨¡å— move - ä½¿é—­åŒ…è·å–å…¶æ‰€æ•è·é¡¹çš„æ‰€æœ‰æƒ mut - è¡¨ç¤ºå¼•ç”¨ã€è£¸æŒ‡é’ˆæˆ–æ¨¡å¼ç»‘å®šçš„å¯å˜æ€§ pub - è¡¨ç¤ºç»“æ„ä½“å­—æ®µã€impl å—æˆ–æ¨¡å—çš„å…¬æœ‰å¯è§æ€§ ref - é€šè¿‡å¼•ç”¨ç»‘å®š return - ä»å‡½æ•°ä¸­è¿”å› Self - å®ç° trait çš„ç±»å‹çš„ç±»å‹åˆ«å self - è¡¨ç¤ºæ–¹æ³•æœ¬èº«æˆ–å½“å‰æ¨¡å— static - è¡¨ç¤ºå…¨å±€å˜é‡æˆ–åœ¨æ•´ä¸ªç¨‹åºæ‰§è¡ŒæœŸé—´ä¿æŒå…¶ç”Ÿå‘½å‘¨æœŸ struct - å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ super - è¡¨ç¤ºå½“å‰æ¨¡å—çš„çˆ¶æ¨¡å— trait - å®šä¹‰ä¸€ä¸ª trait true - å¸ƒå°”å­—é¢é‡ true type - å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…³è”ç±»å‹ unsafe - è¡¨ç¤ºä¸å®‰å…¨çš„ä»£ç ã€å‡½æ•°ã€trait æˆ–å®ç° use - å¼•å…¥å¤–éƒ¨ç©ºé—´çš„ç¬¦å· where - è¡¨ç¤ºä¸€ä¸ªçº¦æŸç±»å‹çš„ä»å¥ while - åŸºäºä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœåˆ¤æ–­æ˜¯å¦è¿›è¡Œå¾ªç¯ å˜é‡å’Œå¯å˜æ€§ ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:0:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"immutable \u0026 immutable ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œå¯å˜çš„ï¼ˆimmutableï¼‰ã€‚ 1 2 3 4 5 6 fn main() { let mut x = 5; println!(\"The value of x is: {}\", x); x = 6; println!(\"The value of x is: {}\", x); } ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:1:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"å¸¸é‡ å¸¸é‡ï¼ˆconstantï¼‰æ˜¯ç»‘å®šåˆ°ä¸€ä¸ªå¸¸é‡åä¸”ä¸å…è®¸æ›´æ”¹çš„å€¼ã€‚ 1 const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3; ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:2:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"é®è”½ é®è”½ï¼ˆshadowï¼‰ï¼šä»¥å£°æ˜å’Œå‰é¢å˜é‡å…·æœ‰ç›¸åŒåç§°çš„æ–°å˜é‡ï¼Œè¿™æ„å‘³ç€å½“æˆ‘ä»¬ä½¿ç”¨å˜é‡æ—¶æˆ‘ä»¬çœ‹åˆ°çš„ä¼šæ˜¯ç¬¬äºŒä¸ªå˜é‡çš„å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 fn main() { let x = 5; let x = x + 1; { let x = x * 2; println!(\"The value of x in the inner scope is: {}\", x); } println!(\"The value of x is: {}\", x); } mut å’Œé®è”½ä¹‹é—´çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å†æ¬¡ä½¿ç”¨ let å…³é”®å­—æ—¶æœ‰æ•ˆåœ°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ”¹å˜å€¼çš„ç±»å‹ï¼Œä½†é‡å¤ä½¿ç”¨ç›¸åŒçš„åç§°ã€‚ 1 2 let spaces = \" \"; let spaces = spaces.len(); æ•°æ®ç±»å‹ Rust æ˜¯ä¸€ç§é™æ€ç±»å‹ï¼ˆstatically typedï¼‰çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€å®ƒå¿…é¡»åœ¨ç¼–è¯‘æœŸçŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚ 1 let guess: u32 = \"42\".parse().expect(\"Not a number!\"); ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:3:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"æ ‡é‡ç±»å‹ æ ‡é‡ï¼ˆscalarï¼‰ç±»å‹è¡¨ç¤ºå•ä¸ªå€¼ã€‚Rust æœ‰ 4 ä¸ªåŸºæœ¬çš„æ ‡é‡ç±»å‹ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹å’Œå­—ç¬¦ã€‚ æ•´å‹ é•¿åº¦ æœ‰ç¬¦å·ç±»å‹ æ— ç¬¦å·ç±»å‹ 8 ä½ i8 u8 16 ä½ i16 u16 32 ä½ i32 u32 64 ä½ i64 u64 128 ä½ i128 u128 arch isize usize æ•´å‹å­—é¢é‡ æ•°å­—å­—é¢é‡ ç¤ºä¾‹ åè¿›åˆ¶ 98_222 åå…­è¿›åˆ¶ 0xff å…«è¿›åˆ¶ 0o77 äºŒè¿›åˆ¶ 0b1111_0000 å­—èŠ‚ (ä»…é™äº u8) b'A' æµ®ç‚¹å‹ Rust çš„æµ®ç‚¹å‹æ˜¯ f32 å’Œ f64ï¼Œå®ƒä»¬çš„å¤§å°åˆ†åˆ«ä¸º 32 ä½å’Œ 64 ä½ã€‚é»˜è®¤æµ®ç‚¹ç±»å‹æ˜¯ f64ï¼Œå› ä¸ºåœ¨ç°ä»£çš„ CPU ä¸­å®ƒçš„é€Ÿåº¦ä¸ f32 çš„å‡ ä¹ç›¸åŒï¼Œä½†ç²¾åº¦æ›´é«˜ã€‚æ‰€æœ‰æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚ æ•°å­—è¿ç®— Rust çš„æ‰€æœ‰æ•°å­—ç±»å‹éƒ½æ”¯æŒåŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œå–æ¨¡è¿ç®—ã€‚æ•´æ•°é™¤æ³•ä¼šå‘ä¸‹å–æ•´ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 fn main() { // addition let sum = 5 + 10; // subtraction let difference = 95.5 - 4.3; // multiplication let product = 4 * 30; // division let quotient = 56.7 / 32.2; let floored = 2 / 3; // Results in 0 // remainder let remainder = 43 % 5; } bool 1 let f: bool = false; char 1 let c = 'z'; ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:4:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"å¤åˆç±»å‹ Rust æœ‰ä¸¤ç§åŸºæœ¬çš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚ 1 2 3 4 5 6 7 let tup: (i32, f64, u8) = (500, 6.4, 1); let a = [1, 2, 3, 4, 5]; let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]; let a: [i32; 5] = [1, 2, 3, 4, 5]; // i32 æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­— 5 è¡¨æ˜è¯¥æ•°ç»„åŒ…å« 5 ä¸ªå…ƒç´ ã€‚ let a = [3; 5]; // å˜é‡åä¸º a çš„æ•°ç»„å°†åŒ…å« 5 ä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ çš„å€¼åˆå§‹åŒ–ä¸º 3ã€‚ å‡½æ•° Rust ä¸­çš„å‡½æ•°å®šä¹‰ä»¥ fn å¼€å§‹ï¼Œåè·Ÿç€å‡½æ•°åå’Œä¸€å¯¹åœ†æ‹¬å·ã€‚å¤§æ‹¬å·å‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°ä½“åœ¨å“ªé‡Œå¼€å§‹å’Œç»“æŸã€‚ å‚æ•° 1 2 3 4 5 6 7 fn main() { another_function(5); } fn another_function(x: i32) { println!(\"The value of x is: {}\", x); } è¯­å¥å’Œè¡¨è¾¾å¼ è¯­å¥ï¼ˆstatementï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚è¡¨è¾¾å¼ï¼ˆexpressionï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ 1 2 3 4 5 6 7 8 fn main() { let y = { let x = 3; x + 1 // æ³¨æ„ï¼Œx + 1 è¡Œçš„æœ«å°¾æ²¡æœ‰åˆ†å·ï¼Œè¿™ä¸ä½ ç›®å‰è§è¿‡çš„å¤§éƒ¨åˆ†ä»£ç è¡Œä¸åŒã€‚è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·ã€‚å¦‚æœåœ¨è¡¨è¾¾å¼çš„æœ«å°¾åŠ ä¸Šåˆ†å·ï¼Œé‚£ä¹ˆå®ƒå°±è½¬æ¢ä¸ºè¯­å¥ï¼Œè€Œè¯­å¥ä¸ä¼šè¿”å›å€¼ã€‚ }; println!(\"The value of y is: {}\", y); } å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•° 1 2 3 4 5 6 7 8 9 fn five() -\u003e i32 { 5 } fn main() { let x = five(); println!(\"The value of x is: {}\", x); } æ§åˆ¶æµ ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:5:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["rust"],"content":"if 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 fn main() { let number = 6; if number % 4 == 0 { println!(\"number is divisible by 4\"); } else if number % 3 == 0 { println!(\"number is divisible by 3\"); } else if number % 2 == 0 { println!(\"number is divisible by 2\"); } else { println!(\"number is not divisible by 4, 3, or 2\"); } let condition = true; let number = if condition { 5 } else { 6 }; println!(\"The value of number is: {}\", number); } å¾ªç¯ Rust æœ‰ä¸‰ç§å¾ªç¯ï¼šloopã€while å’Œ forã€‚ loop loop å…³é”®å­—å‘Šè¯‰ Rust ä¸€éåˆä¸€éåœ°æ‰§è¡Œä¸€æ®µä»£ç ç›´åˆ°ä½ æ˜ç¡®è¦æ±‚åœæ­¢ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 fn main() { let mut count = 0; 'counting_up: loop { println!(\"count = {}\", count); let mut remaining = 10; loop { println!(\"remaining = {}\", remaining); if remaining == 9 { break; } if count == 2 { break 'counting_up; } remaining -= 1; } count += 1; } println!(\"End count = {}\", count); } ä»å¾ªç¯è¿”å› 1 2 3 4 5 6 7 8 9 10 11 12 13 fn main() { let mut counter = 0; let result = loop { counter += 1; if counter == 10 { break counter * 2; } }; println!(\"The result is {}\", result); } while åœ¨ç¨‹åºä¸­è®¡ç®—å¾ªç¯çš„æ¡ä»¶ä¹Ÿå¾ˆå¸¸è§ã€‚å½“æ¡ä»¶ä¸ºçœŸï¼Œæ‰§è¡Œå¾ªç¯ã€‚å½“æ¡ä»¶ä¸å†ä¸ºçœŸï¼Œè°ƒç”¨ break åœæ­¢å¾ªç¯ã€‚è¿™ä¸ªå¾ªç¯ç±»å‹å¯ä»¥é€šè¿‡ç»„åˆ loopã€ifã€else å’Œ break æ¥å®ç°. for 1 2 3 4 5 6 7 fn main() { let a = [10, 20, 30, 40, 50]; for element in a { println!(\"the value is: {}\", element); } } ","date":"2023-01-15","objectID":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/:6:0","tags":["rust"],"title":"rusté€šç”¨ç¼–ç¨‹æ¦‚å¿µ","uri":"/posts/program/rust/2.rust%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/"},{"categories":["bash"],"content":"bash ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/bash/shell/","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ èµ„æ–™ noteï¼šå…³é”®å­— 1. $#,$@,$0,$1,$2 2. whileå¾ªç¯å’Œéå†å‚æ•° 3. i 4. é€šé…ç¬¦wildcard 5. å…ƒå­—ç¬¦ï¼ˆç‰¹æ®Šå­—ç¬¦ Metaï¼‰ 6. shellè½¬ä¹‰ç¬¦ 7. ç®¡é“å’Œé‡å®šå‘ note:ä»£ç æ®µ 1. åˆ¤æ–­æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶æ˜¯å¦å­˜åœ¨ èµ„æ–™ ABS_GUIDE Linux Shell é€šé…ç¬¦ã€å…ƒå­—ç¬¦ã€è½¬ä¹‰ç¬¦ä½¿ç”¨å®ä¾‹ä»‹ç» noteï¼šå…³é”®å­— ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:0:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"$#,$@,$0,$1,$2 $$ Shellæœ¬èº«çš„PIDï¼ˆProcessIDï¼‰ $! Shellæœ€åè¿è¡Œçš„åå°Processçš„PID $? æœ€åè¿è¡Œçš„å‘½ä»¤çš„ç»“æŸä»£ç ï¼ˆè¿”å›å€¼ï¼‰ $- ä½¿ç”¨Setå‘½ä»¤è®¾å®šçš„Flagä¸€è§ˆ $* æ‰€æœ‰å‚æ•°åˆ—è¡¨ã€‚å¦‚\"$*\"ç”¨ã€Œ\"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥\"$1 $2 â€¦ $n\"çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ $@ æ‰€æœ‰å‚æ•°åˆ—è¡¨ã€‚å¦‚\"$@\"ç”¨ã€Œ\"ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥\"$1\" \"$2\" â€¦ \"$n\" çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ $# æ·»åŠ åˆ°Shellçš„å‚æ•°ä¸ªæ•° $0 Shellæœ¬èº«çš„æ–‡ä»¶å $1ï½$n æ·»åŠ åˆ°Shellçš„å„å‚æ•°å€¼ã€‚$1æ˜¯ç¬¬1å‚æ•°ã€$2æ˜¯ç¬¬2å‚æ•°â€¦ã€‚ 1 2 3 4 5 6 7 8 9 10 #!/bin/bash printf \"The complete list is %s\\n\" \"$$\" printf \"The complete list is %s\\n\" \"$!\" printf \"The complete list is %s\\n\" \"$?\" printf \"The complete list is %s\\n\" \"$*\" printf \"The complete list is %s\\n\" \"$@\" printf \"The complete list is %s\\n\" \"$#\" printf \"The complete list is %s\\n\" \"$0\" printf \"The complete list is %s\\n\" \"$1\" printf \"The complete list is %s\\n\" \"$2 ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:1:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"whileå¾ªç¯å’Œéå†å‚æ•° 1 2 3 4 5 while [ $# -gt 0 ] ; do echo $1 #å·¦ç§»ä¸€ä¸ªå‚æ•°ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨$1éå†æ‰€æœ‰å‚æ•° shift done ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:2:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"i 1 2 3 4 5 !! é‡å¤å‰ä¸€ä¸ªå‘½ä»¤ !å­—ç¬¦ é‡å¤å‰ä¸€ä¸ªä»¥æ­¤å­—ç¬¦å¼€å¤´çš„å‘½ä»¤ !num é‡å¤å†å²è®°å½•é‡Œåºå·ä¸ºnumçš„å‘½ä»¤ !?abc é‡å¤æ‰§è¡Œä¹‹å‰å‘½ä»¤ä¸­åŒ…å«abcçš„å‘½ä»¤ !-n é‡å¤ä¹‹å‰ç¬¬nä¸ªå‘½ä»¤ ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:3:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"é€šé…ç¬¦(wildcard) â€‹ é€šé…ç¬¦æ˜¯ç”±shellå¤„ç†çš„ï¼ˆä¸æ˜¯ç”±æ‰€æ¶‰åŠåˆ°å‘½ä»¤è¯­å¥å¤„ç†çš„ï¼Œå…¶å®æˆ‘ä»¬åœ¨shellå„ä¸ªå‘½ä»¤ä¸­ä¹Ÿæ²¡æœ‰å‘ç°æœ‰è¿™äº›é€šé…ç¬¦ä»‹ç»ï¼‰, å®ƒåªä¼šå‡ºç°åœ¨ å‘½ä»¤çš„â€œå‚æ•°â€é‡Œï¼ˆå®ƒä¸ç”¨åœ¨ å‘½ä»¤åç§°é‡Œï¼Œ ä¹Ÿä¸ç”¨åœ¨ æ“ä½œç¬¦ä¸Šï¼‰ã€‚å½“shellåœ¨â€œå‚æ•°â€ä¸­é‡åˆ°äº†é€šé…ç¬¦æ—¶ï¼Œshellä¼šå°†å…¶å½“ä½œè·¯å¾„æˆ–æ–‡ä»¶åå»åœ¨ç£ç›˜ä¸Šæœå¯»å¯èƒ½çš„åŒ¹é…ï¼šè‹¥ç¬¦åˆè¦æ±‚çš„åŒ¹é…å­˜åœ¨ï¼Œåˆ™è¿›è¡Œä»£æ¢(è·¯å¾„æ‰©å±•)ï¼›å¦åˆ™å°±å°†è¯¥é€šé…ç¬¦ä½œä¸ºä¸€ä¸ªæ™®é€šå­—ç¬¦ä¼ é€’ç»™â€œå‘½ä»¤â€ï¼Œç„¶åå†ç”±å‘½ä»¤è¿›è¡Œå¤„ç†ã€‚æ€»ä¹‹ï¼Œé€šé…ç¬¦ å®é™…ä¸Šå°±æ˜¯ä¸€ç§shellå®ç°çš„è·¯å¾„æ‰©å±•åŠŸèƒ½ã€‚åœ¨ é€šé…ç¬¦è¢«å¤„ç†å, shellä¼šå…ˆå®Œæˆè¯¥å‘½ä»¤çš„é‡ç»„ï¼Œç„¶åå†ç»§ç»­å¤„ç†é‡ç»„åçš„å‘½ä»¤ï¼Œç›´è‡³æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 1 2 3 4 5 6 * åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ª M* ä»¥M å¼€å¤´çš„å­—ç¬¦ä¸² ï¼ŸåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ Mï¼Ÿ ä»¥Må¼€å¤´çš„ä¸¤ä¸ªå­—ç¬¦ [0-9]åŒ¹é…0-9ä¸­çš„ä¸€ä¸ªæ•°å­— [abc]åŒ¹é…abcä¸­çš„ä¸€ä¸ªå­—ç¬¦ [^abc]åŒ¹é…abcä»¥å¤–çš„ä¸€ä¸ªå­—ç¬¦ ls Do[ab]ument æŠ¥é”™ï¼ŒåŒ¹é…ä¸åˆ° ls Document å­—ç¬¦ å«ä¹‰ å®ä¾‹ * åŒ¹é… 0 æˆ–å¤šä¸ªå­—ç¬¦ a*b aä¸bä¹‹é—´å¯ä»¥æœ‰ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦, ä¹Ÿå¯ä»¥ä¸€ä¸ªä¹Ÿæ²¡æœ‰, å¦‚aabcb, axyzb, a012b, abã€‚ ? åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ a?b aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦, å¦‚aab, abb, acb, a0bã€‚ [list] åŒ¹é… list ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦ a[xyz]b aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, ä½†åªèƒ½æ˜¯ x æˆ– y æˆ– z, å¦‚: axb, ayb, azbã€‚ [!list] åŒ¹é… é™¤list ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦ a[!0-9]b aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, ä½†ä¸èƒ½æ˜¯é˜¿æ‹‰ä¼¯æ•°å­—, å¦‚axb, aab, a-bã€‚ [c1-c2] åŒ¹é… c1-c2 ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦ å¦‚ï¼š[0-9] [a-z] a[0-9]b 0ä¸9ä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ å¦‚a0b, a1bâ€¦ a9bã€‚ {string1,string2,â€¦} åŒ¹é… sring1 æˆ– string2 (æˆ–æ›´å¤š)å…¶ä¸€å­—ç¬¦ä¸² a{abc,xyz,123}b aä¸bä¹‹é—´åªèƒ½æ˜¯abcæˆ–xyzæˆ–123è¿™ä¸‰ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€ã€‚ éœ€è¦è¯´æ˜çš„æ˜¯ï¼šé€šé…ç¬¦çœ‹èµ·æ¥æœ‰ç‚¹è±¡æ­£åˆ™è¡¨è¾¾å¼è¯­å¥ï¼Œä½†æ˜¯å®ƒä¸æ­£åˆ™è¡¨è¾¾å¼ä¸åŒçš„ï¼Œä¸èƒ½ç›¸äº’æ··æ·†ã€‚æŠŠé€šé…ç¬¦ç†è§£ä¸ºshell ç‰¹æ®Šä»£å·å­—ç¬¦å°±å¯ã€‚è€Œä¸”æ¶‰åŠçš„åªæœ‰ï¼Œ*,? [] ,{} è¿™å‡ ç§ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:4:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"å…ƒå­—ç¬¦ï¼ˆç‰¹æ®Šå­—ç¬¦ Metaï¼‰ shell é™¤äº†æœ‰é€šé…ç¬¦ä¹‹å¤–ï¼Œç”±shell è´Ÿè´£é¢„å…ˆå…ˆè§£æåï¼Œå°†å¤„ç†ç»“æœä¼ ç»™å‘½ä»¤è¡Œä¹‹å¤–ï¼Œshellè¿˜æœ‰ä¸€ç³»åˆ—è‡ªå·±çš„å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚ å­—ç¬¦ è¯´æ˜ IFS ç”± æˆ– æˆ– ä¸‰è€…ä¹‹ä¸€ç»„æˆ(æˆ‘ä»¬å¸¸ç”¨ space )ã€‚ CR ç”± äº§ç”Ÿã€‚ = è®¾å®šå˜é‡ã€‚ $ ä½œå˜é‡æˆ–è¿ç®—æ›¿æ¢(è¯·ä¸è¦ä¸ shell prompt ææ··äº†)ã€‚ \u003e é‡å¯¼å‘ stdoutã€‚ * \u003c é‡å¯¼å‘ stdinã€‚ * | å‘½ä»¤ç®¡çº¿ã€‚ * \u0026 é‡å¯¼å‘ file descriptor ï¼Œæˆ–å°†å‘½ä»¤ç½®äºèƒŒå¢ƒæ‰§è¡Œã€‚ * ( ) å°†å…¶å†…çš„å‘½ä»¤ç½®äº nested subshell æ‰§è¡Œï¼Œæˆ–ç”¨äºè¿ç®—æˆ–å‘½ä»¤æ›¿æ¢ã€‚ * { } å°†å…¶å†…çš„å‘½ä»¤ç½®äº non-named function ä¸­æ‰§è¡Œï¼Œæˆ–ç”¨åœ¨å˜é‡æ›¿æ¢çš„ç•Œå®šèŒƒå›´ã€‚ ; åœ¨å‰ä¸€ä¸ªå‘½ä»¤ç»“æŸæ—¶ï¼Œè€Œå¿½ç•¥å…¶è¿”å›å€¼ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ * \u0026\u0026 åœ¨å‰ä¸€ä¸ªå‘½ä»¤ç»“æŸæ—¶ï¼Œè‹¥è¿”å›å€¼ä¸º trueï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ * || åœ¨å‰ä¸€ä¸ªå‘½ä»¤ç»“æŸæ—¶ï¼Œè‹¥è¿”å›å€¼ä¸º falseï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ * ! æ‰§è¡Œ history åˆ—è¡¨ä¸­çš„å‘½ä»¤ã€‚* åŠ å…¥â€*â€ éƒ½æ˜¯ä½œç”¨åœ¨å‘½ä»¤åç›´æ¥ã€‚å¯ä»¥çœ‹åˆ°shell å…ƒå­—ç¬¦ï¼ŒåŸºæœ¬æ˜¯ä½œç”¨åœ¨å‘½ä»¤ä¸Šé¢ï¼Œç”¨ä½œå¤šå‘½ä»¤åˆ†å‰²ï¼ˆæˆ–è€…å‚æ•°åˆ†å‰²ï¼‰ã€‚å› æ­¤çœ‹åˆ°ä¸é€šé…ç¬¦æœ‰ç›¸åŒçš„å­—ç¬¦ï¼Œä½†æ˜¯å®é™…ä¸Šä½œç”¨èŒƒå›´ä¸åŒã€‚æ‰€ä»¥ä¸ä¼šå‡ºç°æ··æ·†ã€‚ ä»¥ä¸‹æ˜¯man bash å¾—åˆ°çš„è‹±æ–‡è§£æï¼š metacharacter A character that, when unquoted, separates words. One of the following: | \u0026 ; ( ) \u003c \u003e space tab control operator A token that performs a control function. It is one of the following symbols: || \u0026 \u0026\u0026 ; ;; ( ) | ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:5:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"shellè½¬ä¹‰ç¬¦ æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è®© é€šé…ç¬¦ï¼Œæˆ–è€…å…ƒå­—ç¬¦ å˜æˆæ™®é€šå­—ç¬¦ï¼Œä¸éœ€è¦ä½¿ç”¨å®ƒã€‚é‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°è½¬ä¹‰ç¬¦äº†ã€‚ shellæä¾›è½¬ä¹‰ç¬¦æœ‰ä¸‰ç§ã€‚ å­—ç¬¦ è¯´æ˜ â€˜â€™(å•å¼•å·) åˆå«ç¡¬è½¬ä¹‰ï¼Œå…¶å†…éƒ¨æ‰€æœ‰çš„shell å…ƒå­—ç¬¦ã€é€šé…ç¬¦éƒ½ä¼šè¢«å…³æ‰ã€‚æ³¨æ„ï¼Œç¡¬è½¬ä¹‰ä¸­ä¸å…è®¸å‡ºç°â€™(å•å¼•å·)ã€‚ â€œâ€(åŒå¼•å·) åˆå«è½¯è½¬ä¹‰ï¼Œå…¶å†…éƒ¨åªå…è®¸å‡ºç°ç‰¹å®šçš„shell å…ƒå­—ç¬¦ï¼š$ç”¨äºå‚æ•°ä»£æ¢ `ç”¨äºå‘½ä»¤ä»£æ›¿ (åæ–œæ ) åˆå«è½¬ä¹‰ï¼Œå»é™¤å…¶åç´§è·Ÿçš„å…ƒå­—ç¬¦æˆ–é€šé…ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚ man bash è‹±æ–‡è§£é‡Šå¦‚ä¸‹ï¼š There are three quoting mechanisms: the escape character, single quotes, and double quotes. ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:6:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"ç®¡é“å’Œé‡å®šå‘ å¤šå‘½ä»¤åä½œ:é€šè¿‡ç®¡é“å’Œé‡å®šå‘å®Œæˆ.(å°†å¤šä¸ªå‘½ä»¤ç»“åˆåœ¨ä¸€èµ·),å‡ ä¹æ‰€æœ‰å‘½ä»¤çš„è¾“å…¥å’Œè¿”å›è¾“å‡ºæ˜¯çº¯æ–‡æœ¬. example : cat è¾“å…¥ æ–‡ä»¶è·¯å¾„ è¿”å› æ–‡ä»¶æ–‡æœ¬å†…å®¹ å‘½ä»¤è¡Œshellçš„æ•°æ®æµå®šä¹‰: åç§° è¯´æ˜ ç¼–å· é»˜è®¤ STDIN æ ‡å‡†è¾“å…¥ 0 é”®ç›˜ STDOUT æ ‡å‡†è¾“å‡º 1 ç»ˆç«¯ STDERR æ ‡å‡†é”™è¯¯ 2 ç»ˆç«¯ å‘½ä»¤é€šè¿‡STDINæ¥æ”¶å‚æ•°æˆ–æ•°æ®ï¼Œé€šè¿‡STDOUTè¾“å‡ºç»“æœæˆ–é€šè¿‡STDERRè¾“å‡ºé”™è¯¯. åˆ†ç±» å…³é”®å­— å®šä¹‰ ä¾‹å­ é‡å®šå‘ \u003e å°†STDOUTé‡å®šå‘åˆ°æ–‡ä»¶(è¦†ç›–) echo â€œbaiduâ€ \u003e outfile / ls \u003e outfile Â» å°†STDOUTé‡å®šå‘åˆ°æ–‡ä»¶(è¿½åŠ ) echo â€œbaiduâ€ Â» outfile/ date Â»outfile 2\u003e å°†STDERRORé‡å®šå‘åˆ°æ–‡ä»¶(è¦†ç›–) ls nothere 2\u003e errorout 2\u003e\u00261 å°†STDERRORä¸STDOUTç»“åˆ ls nothere 2\u003e\u00261 alloutput \u003c é‡å®šå‘STDIN grep linuxcast \u003c /etc/passwd ç®¡é“ | å°†ä¸€ä¸ªå‘½ä»¤çš„STDOUT ls -l | grep linuxcast ä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„STDIN find / -user linuxcast | grep video 2\u003e /dev/null é‡å®šå‘ç»™null,ä¸¢å¼ƒ note:ä»£ç æ®µ ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:7:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"åˆ¤æ–­æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶æ˜¯å¦å­˜åœ¨ æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º 1 2 3 4 5 if [ ! -d \"/data/\" ];then mkdir /data else echo \"æ–‡ä»¶å¤¹å·²ç»å­˜åœ¨\" fi æ–‡ä»¶å­˜åœ¨åˆ™åˆ é™¤ 1 2 3 4 5 if [ ! -f \"/data/filename\" ];then echo \"æ–‡ä»¶ä¸å­˜åœ¨\" else rm -f /data/filename fi åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ 1 2 3 4 5 if [ -d \"/data/\" ];then echo \"æ–‡ä»¶å¤¹å­˜åœ¨\" else echo \"æ–‡ä»¶å¤¹ä¸å­˜åœ¨\" fi åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ 1 2 3 4 5 if [ -f \"/data/filename\" ];then echo \"æ–‡ä»¶å­˜åœ¨\" else echo \"æ–‡ä»¶ä¸å­˜åœ¨\" fi æ–‡ä»¶æ¯”è¾ƒç¬¦ 1 2 3 4 5 6 7 8 9 10 11 12 13 -e åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ -d åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”ä¸ºç›®å½• -f åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”ä¸ºå¸¸è§„æ–‡ä»¶ -L åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”ä¸ºç¬¦å·é“¾æ¥ -h åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”ä¸ºè½¯é“¾æ¥ -s åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”é•¿åº¦ä¸ä¸º0 -r åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å¯è¯» -w åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å¯å†™ -x åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å¯æ‰§è¡Œ -O åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å±äºå½“å‰ç”¨æˆ· -G åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å±äºå½“å‰ç”¨æˆ·ç»„ -nt åˆ¤æ–­file1æ˜¯å¦æ¯”file2æ–° [ \"/data/file1\" -nt \"/data/file2\" ] -ot åˆ¤æ–­file1æ˜¯å¦æ¯”file2æ—§ [ \"/data/file1\" -ot \"/data/file2\" ] ","date":"2023-01-15","objectID":"/posts/program/bash/shell/:8:0","tags":["bash"],"title":"shell","uri":"/posts/program/bash/shell/"},{"categories":["bash"],"content":"bash ç¼–ç¨‹ç¬”è®°","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ # äº•å· (comments) ~ å¸æˆ·çš„ home ç›®å½• ; åˆ†å· (Command separator) ;; è¿ç»­åˆ†å· (Terminator) é€—å· (dot,å°±æ˜¯â€œç‚¹â€) â€˜stringâ€™ å•å¼•å· (single quote) â€œstringâ€ åŒå¼•å· (double quote) command å€’å¼•å· (backticks) , é€—ç‚¹ (commaï¼Œæ ‡ç‚¹ä¸­çš„é€—å·) / æ–œçº¿ (forward slash) \\ å€’æ–œçº¿ | ç®¡é“ (pipeline) ! æƒŠå¹å·(negate or reverse) : å†’å· ? é—®å· (wild card) * æ˜Ÿå· (wild card) ** æ¬¡æ–¹è¿ç®— $ é’±å·(dollar sign) 1. å˜é‡æ›¿æ¢(Variable Substitution)çš„ä»£è¡¨ç¬¦å·ã€‚ 2. ${} å˜é‡çš„æ­£è§„è¡¨è¾¾å¼ 3. $* 4. $@ 5. $# 6. $? çŠ¶æ€å€¼ (status variable) 7. $$ () æŒ‡ä»¤ç¾¤ç»„ (command group) 1. (())) {} å¤§æ‹¬å· (Block of code) 1. å¸¸è§„ç”¨æ³• 1.1. å¤§æ‹¬å·æ‹“å±• 1.2. ä»£ç å— 2. å‡ ç§ç‰¹æ®Šçš„æ›¿æ¢ç»“æ„ 3. å››ç§æ¨¡å¼åŒ¹é…æ›¿æ¢ç»“æ„ 4. å­—ç¬¦ä¸²æå–å’Œæ›¿æ¢ [] ä¸­æ‹¬å· [[]] || \u0026\u0026 \u0026 1. ||æˆ–é€»è¾‘ç¬¦å· 2. \u0026\u0026 é€»è¾‘ç¬¦å· 3. \u0026åå°å·¥ä½œ / å•å­—è¾¹ç•Œ + åŠ å· (plus) - å‡å· (dash) % é™¤æ³• (Modulo) = ç­‰å· (Equals) == ç­‰å· (Equals) != ä¸ç­‰äº ^ å‚è€ƒï¼š åœ¨shellä¸­å¸¸ç”¨çš„ç‰¹æ®Šç¬¦å·ç½—åˆ—å¦‚ä¸‹ï¼š 1 2 3 4 5 # ; ;; . , / \\\\ 'string'| ! $ ${} $? $$ $* \\\"string\\\"* ** ? : ^ $# $@ `command`{} [] [[]] () (()) || \u0026\u0026 {xx,yy,zz,...}~ ~+ ~- \u0026 \\\\\u003c...\\\\\u003e + - %= == != # äº•å· (comments) è¿™å‡ ä¹æ˜¯ä¸ªæ»¡åœºéƒ½æœ‰çš„ç¬¦å·ï¼Œé™¤äº†å…ˆå‰å·²ç»æè¿‡çš„\"ç¬¬ä¸€è¡Œ\" #!/bin/bash äº•å·ä¹Ÿå¸¸å‡ºç°åœ¨ä¸€è¡Œçš„å¼€å¤´ï¼Œæˆ–è€…ä½äºå®Œæ•´æŒ‡ä»¤ä¹‹åï¼Œè¿™ç±»æƒ…å†µè¡¨ç¤ºç¬¦å·åé¢çš„æ˜¯æ³¨è§£æ–‡å­—ï¼Œä¸ä¼šè¢«æ‰§è¡Œã€‚ 1 2 # This line is comments. echo \\\"a = $a\\\" # a = 0 ç”±äºè¿™ä¸ªç‰¹æ€§ï¼Œå½“ä¸´æ—¶ä¸æƒ³æ‰§è¡ŒæŸè¡ŒæŒ‡ä»¤æ—¶ï¼Œåªéœ€åœ¨è¯¥è¡Œå¼€å¤´åŠ ä¸Š # å°±è¡Œäº†ã€‚è¿™å¸¸ç”¨åœ¨æ’°å†™è¿‡ç¨‹ä¸­ã€‚ 1 echo \\\"a = $a\\\" # a = 0 å¦‚æœè¢«ç”¨åœ¨æŒ‡ä»¤ä¸­ï¼Œæˆ–è€…å¼•å·åŒå¼•å·æ‹¬ä½çš„è¯ï¼Œæˆ–è€…åœ¨å€’æ–œçº¿çš„åé¢ï¼Œé‚£ä»–å°±å˜æˆä¸€èˆ¬ç¬¦å·ï¼Œä¸å…·ä¸Šè¿°çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚ ~ å¸æˆ·çš„ home ç›®å½• ç®—æ˜¯ä¸ªå¸¸è§çš„ç¬¦å·ï¼Œä»£è¡¨ä½¿ç”¨è€…çš„ home ç›®å½•ï¼šcd ~ï¼›ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ç¬¦å·ååŠ ä¸ŠæŸå¸æˆ·çš„åç§°ï¼šcd ~useræˆ–è€…å½“æˆæ˜¯è·¯å¾„çš„ä¸€éƒ¨ä»½ï¼š 1 ~/bin ~+ å½“å‰çš„å·¥ä½œç›®å½•ï¼Œè¿™ä¸ªç¬¦å·ä»£è¡¨å½“å‰çš„å·¥ä½œç›®å½•ï¼Œå¥¹å’Œå†…å»ºæŒ‡ä»¤ pwdçš„ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚ 1 2 # echo ~+/ var/log ~- ä¸Šæ¬¡çš„å·¥ä½œç›®å½•ï¼Œè¿™ä¸ªç¬¦å·ä»£è¡¨ä¸Šæ¬¡çš„å·¥ä½œç›®å½•ã€‚ 1 2 # echo ~- /etc/httpd/logs ; åˆ†å· (Command separator) åœ¨ shell ä¸­ï¼Œæ‹…ä»»\"è¿ç»­æŒ‡ä»¤\"åŠŸèƒ½çš„ç¬¦å·å°±æ˜¯\"åˆ†å·\"ã€‚è­¬å¦‚ä»¥ä¸‹çš„ä¾‹å­ï¼š 1 cd ~/backup ; mkdir startup ;cp ~/.* startup/. ;; è¿ç»­åˆ†å· (Terminator) ä¸“ç”¨åœ¨ case çš„é€‰é¡¹ï¼Œæ‹…ä»» Terminator çš„è§’è‰²ã€‚ 1 2 3 4 5 6 7 8 case \\\"$fop\\\" inhelp) echo \\\"Usage: Command -help -version filename\\\" ;; version) echo \\\"version 0.1\\\" ;; esac é€—å· (dot,å°±æ˜¯â€œç‚¹â€) åœ¨ shell ä¸­ï¼Œä½¿ç”¨è€…åº”è¯¥éƒ½æ¸…æ¥šï¼Œä¸€ä¸ª dot ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ª dot ä»£è¡¨ä¸Šå±‚ç›®å½•ã€‚ 1 CDPATH=.:~:/home:/home/web:/var:/usr/local åœ¨ä¸Šè¡Œ CDPATH çš„è®¾å®šä¸­ï¼Œç­‰å·åçš„ dot ä»£è¡¨çš„å°±æ˜¯å½“å‰ç›®å½•çš„æ„æ€ã€‚ å¦‚æœæ¡£æ¡ˆåç§°ä»¥ dot å¼€å¤´ï¼Œè¯¥æ¡£æ¡ˆå°±å±ç‰¹æ®Šæ¡£æ¡ˆï¼Œç”¨ ls æŒ‡ä»¤å¿…é¡»åŠ ä¸Š -a é€‰é¡¹æ‰ä¼šæ˜¾ç¤ºã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ regular expression ä¸­ï¼Œä¸€ä¸ª dot ä»£è¡¨åŒ¹é…ä¸€ä¸ªå­—å…ƒã€‚ â€˜stringâ€™ å•å¼•å· (single quote) è¢«å•å¼•å·ç”¨æ‹¬ä½çš„å†…å®¹ï¼Œå°†è¢«è§†ä¸ºå•ä¸€å­—ä¸²ã€‚åœ¨å¼•å·å†…çš„ä»£è¡¨å˜æ•°çš„$ç¬¦å·ï¼Œæ²¡æœ‰ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–è¢«è§†ä¸ºä¸€èˆ¬ç¬¦å·å¤„ç†ï¼Œé˜²æ­¢ä»»ä½•å˜é‡æ›¿æ¢ã€‚ 1 2 heyyou=home echo '$heyyou' # We get $heyyou \"string\" åŒå¼•å· (double quote) è¢«åŒå¼•å·ç”¨æ‹¬ä½çš„å†…å®¹ï¼Œå°†è¢«è§†ä¸ºå•ä¸€å­—ä¸²ã€‚å®ƒé˜²æ­¢é€šé…ç¬¦æ‰©å±•ï¼Œä½†å…è®¸å˜é‡æ‰©å±•ã€‚è¿™ç‚¹ä¸å•å¼•æ•°çš„å¤„ç†æ–¹å¼ä¸åŒã€‚ é€šé…ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šè¯­å¥ï¼Œä¸»è¦æœ‰æ˜Ÿå·(*)å’Œé—®å·(?)ï¼Œç”¨æ¥æ¨¡ç³Šæœç´¢æ–‡ä»¶ã€‚ å½“æŸ¥æ‰¾æ–‡ä»¶å¤¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿ä¸€ä¸ªæˆ–å¤šä¸ªçœŸæ­£å­—ç¬¦ï¼›å½“ä¸çŸ¥é“çœŸæ­£å­—ç¬¦æˆ–è€…æ‡’å¾—è¾“å…¥å®Œæ•´åå­—æ—¶ï¼Œå¸¸å¸¸ä½¿ç”¨é€šé…ç¬¦ä»£æ›¿ä¸€ä¸ªæˆ–å¤šä¸ªçœŸæ­£çš„å­—ç¬¦ã€‚ å®é™…ä¸Šç”¨â€œ*Not?padâ€å¯ä»¥å¯¹åº”Notepad\\MyNotepadã€*å¯ä»¥ä»£è¡¨ä»»ä½•å­—ç¬¦ä¸²ï¼›?ä»…ä»£è¡¨å•ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ­¤å•å­—å¿…é¡»å­˜åœ¨ã€‘;Notep[ao]då¯ä»¥å¯¹åº”Notepad\\Notepodã€aoä»£è¡¨aä¸oé‡ŒäºŒé€‰ä¸€ã€‘ï¼Œå…¶ä½™ä»¥æ­¤ç±»æ¨ã€‚ 1 2 heyyou=home echo \"$heyyou\" # We get home command å€’å¼•å· (backticks) åœ¨å‰é¢çš„å•åŒå¼•å·ï¼Œæ‹¬ä½çš„æ˜¯å­—ä¸²ï¼Œä½†å¦‚æœè¯¥å­—ä¸²æ˜¯ä¸€åˆ—å‘½ä»¤åˆ—ï¼Œä¼šæ€æ ·ï¼Ÿç­”æ¡ˆæ˜¯ä¸ä¼šæ‰§è¡Œã€‚è¦å¤„ç†è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¾—ç”¨å€’å•å¼•å·æ¥åšã€‚ 1 2 fdv=`date +%F` echo \"Today $fdv\" åœ¨å€’å¼•å·å†…çš„ date +%F ä¼šè¢«è§†ä¸ºæŒ‡ä»¤ï¼Œæ‰§è¡Œçš„ç»“æœä¼šå¸¦å…¥ fdv å˜æ•°ä¸­ã€‚ , é€—ç‚¹ (commaï¼Œæ ‡ç‚¹ä¸­çš„é€—å·) è¿™ä¸ªç¬¦å·å¸¸è¿ç”¨åœ¨è¿ç®—å½“ä¸­å½“åš\"åŒºéš”\"ç”¨é€”ã€‚å¦‚ä¸‹ä¾‹ 1 2 let \"t1= ((a = 5 + 3, b = 7 - 1, c = 15 / 5),(a + b + c))\" echo \"t1= $t1, a = $a, b = $b\" let å‘½ä»¤æ˜¯ BASH ä¸­ç”¨äºè®¡ç®—çš„å·¥å…·ï¼Œç”¨äºæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œå˜é‡è®¡ç®—ä¸­ä¸éœ€è¦åŠ ä¸Š $ æ¥è¡¨ç¤ºå˜é‡ã€‚ å¦‚æœè¡¨è¾¾å¼ä¸­åŒ…å«äº†ç©ºæ ¼æˆ–å…¶ä»–ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™å¿…é¡»å¼•èµ·æ¥ã€‚ / æ–œçº¿ (forward slash) åœ¨è·¯å¾„è¡¨ç¤ºæ—¶ï¼Œä»£è¡¨ç›®å½•ã€‚ 1 2 3 cd /etc/rc.d cd ../.. cd / é€šå¸¸å•ä¸€çš„ / ä»£è¡¨ root æ ¹ç›®å½•çš„æ„æ€ï¼› åœ¨å››åˆ™è¿ç®—ä¸­ï¼Œä»£è¡¨é™¤æ³•çš„ç¬¦å·ã€‚ let \"num1 = ((a = 10 / 2, b = 25 / 5))\" \\ å€’æ–œçº¿ åœ¨äº¤äº’æ¨¡å¼ä¸‹çš„escape å­—å…ƒï¼Œæœ‰å‡ ä¸ªä½œç”¨: æ”¾åœ¨æŒ‡ä»¤å‰ï¼Œæœ‰å–æ¶ˆ aliasesçš„ä½œç”¨ï¼› æ”¾åœ¨ç‰¹æ®Šç¬¦å·å‰ï¼Œåˆ™è¯¥ç‰¹æ®Šç¬¦å·çš„ä½œç”¨æ¶ˆå¤±ï¼› æ”¾åœ¨æŒ‡ä»¤çš„æœ€æœ«ç«¯ï¼Œè¡¨ç¤ºæŒ‡ä»¤è¿æ¥ä¸‹ä¸€è¡Œã€‚ 1 2 # type rmrm is aliased to `rm -i' # \\\\rm ./*.log ä¸Šä¾‹ï¼Œæˆ‘åœ¨ rm æŒ‡ä»¤å‰åŠ ä¸Š escape å­—å…ƒï¼Œä½œç”¨æ˜¯æš‚æ—¶å–æ¶ˆåˆ«åçš„åŠŸèƒ½ï¼Œå°† rm æŒ‡ä»¤è¿˜åŸã€‚ 1 # bkdir=/home# echo \\\"Backup dir, \\\\$bkdir = $bkdir\\\"Backup dir,$bkdir = /home ä¸Šä¾‹ echo å†…çš„ \\$bkdirï¼Œescape å°† $ å˜æ•°çš„åŠŸèƒ½å–æ¶ˆäº†ï¼Œå› æ­¤ï¼Œä¼šè¾“å‡º $bkdirï¼Œè€Œç¬¬äºŒä¸ª $bkdiråˆ™ä¼šè¾“å‡ºå˜æ•°çš„å†…å®¹ /homeã€‚ | ç®¡é“ (pipeline) pipeline æ˜¯ UNIX ç³»ç»Ÿï¼ŒåŸºç¡€ä¸”é‡è¦çš„è§‚å¿µã€‚è¿ç»“ä¸Šä¸ªæŒ‡ä»¤çš„æ ‡å‡†è¾“å‡ºï¼Œåšä¸ºä¸‹ä¸ªæŒ‡ä»¤çš„æ ‡å‡†è¾“å…¥ã€‚ 1 2 3 4 5 who | wc -l # wcå‘½ä»¤çš„åŠŸèƒ½ä¸ºç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°, å¹¶å°†ç»Ÿè®¡ç»“æœæ˜¾ç¤ºè¾“å‡ºã€‚ # - c ç»Ÿè®¡å­—èŠ‚æ•°ã€‚ # - l ç»Ÿè®¡è¡Œæ•°ã€‚ # - w ç»Ÿè®¡å­—æ•°ã€‚ å–„ç”¨è¿™ä¸ªè§‚å¿µï¼Œå¯¹ç²¾ç®€ script æœ‰ç›¸å½“çš„å¸®åŠ©ã€‚ ! æƒŠå¹å·(negate or reverse) é€šå¸¸å®ƒä»£è¡¨åé€»è¾‘çš„ä½œç”¨ï¼Œè­¬å¦‚æ¡ä»¶ä¾¦æµ‹ä¸­ï¼Œç”¨ != æ¥ä»£è¡¨â€ä¸ç­‰äºâ€ 1 2 3 4 if [ \"$?\" != 0 ]then echo \"Executes error\" exit 1 fi åœ¨è§„åˆ™è¡¨è¾¾å¼ä¸­å¥¹æ‹…ä»» â€œåé€»è¾‘â€ çš„è§’è‰² 1 ls a[!0-9] ä¸Šä¾‹ï¼Œä»£è¡¨æ˜¾ç¤ºé™¤äº†a0, a1 â€¦. a9 è¿™å‡ ä¸ªæ–‡ä»¶çš„å…¶ä»–æ–‡ä»¶ã€‚ : å†’å· åœ¨ bash ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…å»ºæŒ‡ä»¤ï¼šâ€ä»€ä¹ˆäº‹éƒ½ä¸å¹²â€ï¼Œä½†è¿”å›çŠ¶æ€å€¼ 0ã€‚ 1 2 3 : echo $? # å›åº”ä¸º 0 : \u003e f.$$ ä¸Šé¢è¿™ä¸€è¡Œï¼Œç›¸å½“äº cat /dev/null \u003e f.$$ã€‚ä¸ä»…å†™æ³•ç®€çŸ­äº†ï¼Œè€Œä¸”æ‰§è¡Œæ•ˆç‡ä¹Ÿå¥½ä¸Šè®¸å¤šã€‚ æœ‰æ—¶ï¼Œä¹Ÿä¼šå‡ºç°ä»¥ä¸‹è¿™ç±»çš„ç”¨æ³• 1 : ${HOSTNAME?} ${USER?} ${MAIL?} è¿™è¡Œçš„ä½œç”¨æ˜¯ï¼Œæ£€æŸ¥è¿™äº›ç¯å¢ƒå˜æ•°æ˜¯å¦å·²è®¾ç½®ï¼Œæ²¡æœ‰è®¾ç½®çš„å°†ä¼šä»¥æ ‡å‡†é”™è¯¯æ˜¾ç¤ºé”™è¯¯è®¯æ¯ã€‚åƒè¿™ç§æ£€æŸ¥å¦‚æœä½¿ç”¨ç±»ä¼¼ test æˆ– if è¿™ç±»çš„åšæ³•ï¼ŒåŸºæœ¬ä¸Šä¹Ÿå¯ä»¥å¤„ç†ï¼Œä½†éƒ½æ¯”ä¸ä¸Šä¸Šä¾‹çš„ç®€æ´ä¸æ•ˆç‡ã€‚","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:0:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1. å˜é‡æ›¿æ¢(Variable Substitution)çš„ä»£è¡¨ç¬¦å·ã€‚ 1 2 vrs=123 echo \"vrs = $vrs\" # vrs = 123 å¦å¤–ï¼Œåœ¨ Regular Expressions é‡Œè¢«å®šä¹‰ä¸º â€œè¡Œâ€ çš„æœ€æœ«ç«¯ (end-of-line)ã€‚è¿™ä¸ªå¸¸ç”¨åœ¨ grepã€sedã€awk ä»¥åŠ vim(vi) å½“ä¸­ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:1:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"2. ${} å˜é‡çš„æ­£è§„è¡¨è¾¾å¼ bash å¯¹ ${} å®šä¹‰äº†ä¸å°‘ç”¨æ³•ã€‚ä»¥ä¸‹æ˜¯å–è‡ªçº¿ä¸Šè¯´æ˜çš„è¡¨åˆ— 1 2 3 4 5 ${parameter:-word} ${parameter:=word} ${parameter:?word} ${parameter:+word} ${parameter:offset} ${parameter:offset:length} ${!prefix*} ${#parameter} ${parameter#word} ${parameter##word} ${parameter%word} ${parameter%%word} ${parameter/pattern/string} ${parameter//pattern/string} ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:2:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"3. $* $* å¼•ç”¨script çš„æ‰§è¡Œå¼•ç”¨å˜é‡ï¼Œå¼•ç”¨å‚æ•°çš„ç®—æ³•ä¸ä¸€èˆ¬æŒ‡ä»¤ç›¸åŒï¼ŒæŒ‡ä»¤æœ¬èº«ä¸º0ï¼Œå…¶åä¸º1ï¼Œç„¶åä¾æ­¤ç±»æ¨ã€‚å¼•ç”¨å˜é‡çš„ä»£è¡¨æ–¹å¼å¦‚ä¸‹ï¼š 1 $0, $1, $2, $3, $4, $5, $6, $7, $8, $9, ${10}, ${11}â€¦.. ä¸ªä½æ•°çš„ï¼Œå¯ç›´æ¥ä½¿ç”¨æ•°å­—ï¼Œä½†ä¸¤ä½æ•°ä»¥ä¸Šï¼Œåˆ™å¿…é¡»ä½¿ç”¨ {} ç¬¦å·æ¥æ‹¬ä½ã€‚ $* åˆ™æ˜¯ä»£è¡¨æ‰€æœ‰å¼•ç”¨å˜é‡çš„ç¬¦å·ã€‚ä½¿ç”¨æ—¶ï¼Œå¾—è§†æƒ…å†µåŠ ä¸ŠåŒå¼•å·ã€‚ 1 echo â€œ$*â€ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:3:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"4. $@ $@ ä¸ $* å…·æœ‰ç›¸åŒä½œç”¨çš„ç¬¦å·ï¼Œä¸è¿‡å¥¹ä»¬ä¸¤è€…æœ‰ä¸€ä¸ªä¸åŒç‚¹ã€‚ ç¬¦å· $* å°†æ‰€æœ‰çš„å¼•ç”¨å˜é‡è§†ä¸ºä¸€ä¸ªæ•´ä½“ã€‚ä½†ç¬¦å· $@ åˆ™ä»æ—§ä¿ç•™æ¯ä¸ªå¼•ç”¨å˜é‡çš„åŒºæ®µè§‚å¿µã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:4:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"5. $# è¿™ä¹Ÿæ˜¯ä¸å¼•ç”¨å˜é‡ç›¸å…³çš„ç¬¦å·ï¼Œå¥¹çš„ä½œç”¨æ˜¯å‘Šè¯‰ä½ ï¼Œå¼•ç”¨å˜é‡çš„æ€»æ•°é‡æ˜¯å¤šå°‘ã€‚ 1 echo â€œ$#â€ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:5:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"6. $? çŠ¶æ€å€¼ (status variable) ä¸€èˆ¬æ¥è¯´ï¼ŒUNIX(linux) ç³»ç»Ÿçš„è¿›ç¨‹ä»¥æ‰§è¡Œç³»ç»Ÿè°ƒç”¨exit() æ¥ç»“æŸçš„ã€‚è¿™ä¸ªå›ä¼ å€¼å°±æ˜¯statuså€¼ã€‚å›ä¼ ç»™çˆ¶è¿›ç¨‹ï¼Œç”¨æ¥æ£€æŸ¥å­è¿›ç¨‹çš„æ‰§è¡ŒçŠ¶æ€ã€‚ ä¸€èˆ¬æŒ‡ä»¤ç¨‹åºå€˜è‹¥æ‰§è¡ŒæˆåŠŸï¼Œå…¶å›ä¼ å€¼ä¸º 0ï¼›å¤±è´¥ä¸º 1ã€‚ 1 tar cvfz dfbackup.tar.gz /home/user \u003e /dev/nullecho â€œ$?â€ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:6:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"7. $$ ç”±äºè¿›ç¨‹çš„IDæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥åœ¨åŒä¸€ä¸ªæ—¶é—´ï¼Œä¸å¯èƒ½æœ‰é‡å¤æ€§çš„ PIDã€‚æœ‰æ—¶ï¼Œscript ä¼šéœ€è¦äº§ç”Ÿä¸´æ—¶æ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾å¿…è¦çš„èµ„æ–™ã€‚ è€Œæ­¤scriptäº¦æœ‰å¯èƒ½åœ¨åŒä¸€æ—¶é—´è¢«ä½¿ç”¨è€…ä»¬ä½¿ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå›ºå®šæ–‡ä»¶ååœ¨å†™æ³•ä¸Šå°±æ˜¾çš„ä¸å¯é ã€‚å”¯æœ‰äº§ç”ŸåŠ¨æ€æ–‡ä»¶åï¼Œæ‰èƒ½ç¬¦åˆéœ€è¦ã€‚ ç¬¦å·$$æˆ–è®¸å¯ä»¥ç¬¦åˆè¿™ç§éœ€æ±‚ã€‚å®ƒä»£è¡¨å½“å‰shell çš„ PIDã€‚ 1 echo â€œ$HOSTNAME, $USER, $MAILâ€ \u003e ftmp.$$ ä½¿ç”¨å®ƒæ¥ä½œä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨ä»½ï¼Œå¯ä»¥é¿å…åœ¨åŒä¸€æ—¶é—´ï¼Œäº§ç”Ÿç›¸åŒæ–‡ä»¶åçš„è¦†ç›–ç°è±¡ã€‚ ps: åŸºæœ¬ä¸Šï¼Œç³»ç»Ÿä¼šå›æ”¶æ‰§è¡Œå®Œæ¯•çš„ PIDï¼Œç„¶åå†æ¬¡ä¾éœ€è¦åˆ†é…ä½¿ç”¨ã€‚æ‰€ä»¥ script å³ä½¿ä¸´æ—¶æ–‡ä»¶æ˜¯ä½¿ç”¨åŠ¨æ€æ¡£åçš„å†™æ³•ï¼Œå¦‚æœ script æ‰§è¡Œå®Œæ¯•åä»ä¸åŠ ä»¥æ¸…é™¤ï¼Œä¼šäº§ç”Ÿå…¶ä»–é—®é¢˜ã€‚ () æŒ‡ä»¤ç¾¤ç»„ (command group) ç”¨æ‹¬å·å°†ä¸€ä¸²è¿ç»­æŒ‡ä»¤æ‹¬èµ·æ¥ï¼Œè¿™ç§ç”¨æ³•å¯¹ shell æ¥è¯´ï¼Œç§°ä¸ºæŒ‡ä»¤ç¾¤ç»„ã€‚å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š 1 (cd ~ ; vcgh=`pwd` ; echo $vcgh) æŒ‡ä»¤ç¾¤ç»„æœ‰ä¸€ä¸ªç‰¹æ€§ï¼Œshellä¼šä»¥äº§ç”Ÿ subshellæ¥æ‰§è¡Œè¿™ç»„æŒ‡ä»¤ã€‚å› æ­¤ï¼Œåœ¨å…¶ä¸­æ‰€å®šä¹‰çš„å˜æ•°ï¼Œä»…ä½œç”¨äºæŒ‡ä»¤ç¾¤ç»„æœ¬èº«ã€‚æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ 1 # cat ftmp-01#!/bin/basha=fsh(a=incg ; echo -e â€œ/n $a /nâ€)echo $a# ./ftmp-01incgfsh é™¤äº†ä¸Šè¿°çš„æŒ‡ä»¤ç¾¤ç»„ï¼Œæ‹¬å·ä¹Ÿç”¨åœ¨ array å˜æ•°çš„å®šä¹‰ä¸Šï¼›å¦å¤–ä¹Ÿåº”ç”¨åœ¨å…¶ä»–å¯èƒ½éœ€è¦åŠ ä¸Šescape å­—å…ƒæ‰èƒ½ä½¿ç”¨çš„åœºåˆï¼Œå¦‚è¿ç®—å¼ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:7:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1. (())) è¿™ç»„ç¬¦å·çš„ä½œç”¨ä¸ let æŒ‡ä»¤ç›¸ä¼¼ï¼Œç”¨åœ¨ç®—æ•°è¿ç®—ä¸Šï¼Œæ˜¯ bash çš„å†…å»ºåŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œåœ¨æ‰§è¡Œæ•ˆç‡ä¸Šä¼šæ¯”ä½¿ç”¨ let æŒ‡ä»¤è¦å¥½è®¸å¤šã€‚ 1 2 3 4 5 #!/bin/bash (( a = 10 )) echo -e \"inital value, a = $a/n\" (( a++ )) echo \"after a++, a = $a\" {} å¤§æ‹¬å· (Block of code) ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:8:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1. å¸¸è§„ç”¨æ³• ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:9:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1.1. å¤§æ‹¬å·æ‹“å±• (é€šé…(globbing))å°†å¯¹å¤§æ‹¬å·ä¸­çš„æ–‡ä»¶ååšæ‰©å±•ã€‚åœ¨å¤§æ‹¬å·ä¸­ï¼Œä¸å…è®¸æœ‰ç©ºç™½ï¼Œé™¤éè¿™ä¸ªç©ºç™½è¢«å¼•ç”¨æˆ–è½¬ä¹‰ã€‚ç¬¬ä¸€ç§ï¼šå¯¹å¤§æ‹¬å·ä¸­çš„ä»¥é€—å·åˆ†å‰²çš„æ–‡ä»¶åˆ—è¡¨è¿›è¡Œæ‹“å±•ã€‚å¦‚ touch {a,b}.txt ç»“æœä¸ºa.txt b.txtã€‚ç¬¬äºŒç§ï¼šå¯¹å¤§æ‹¬å·ä¸­ä»¥ç‚¹ç‚¹ï¼ˆ..ï¼‰åˆ†å‰²çš„é¡ºåºæ–‡ä»¶åˆ—è¡¨èµ·æ‹“å±•ä½œç”¨ï¼Œå¦‚ï¼štouch {a..d}.txt ç»“æœä¸ºa.txt b.txt c.txt d.txt 1 2 3 4 5 6 # ls {ex1,ex2}.sh ex1.sh ex2.sh # ls {ex{1..3},ex4}.sh ex1.sh ex2.sh ex3.sh ex4.sh # ls {ex[1-3],ex4}.sh ex1.sh ex2.sh ex3.sh ex4.sh ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:9:1","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1.2. ä»£ç å— åˆè¢«ç§°ä¸ºå†…éƒ¨ç»„ï¼Œè¿™ä¸ªç»“æ„äº‹å®ä¸Šåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•° ã€‚ä¸å°æ‹¬å·ä¸­çš„å‘½ä»¤ä¸åŒï¼Œå¤§æ‹¬å·å†…çš„å‘½ä»¤ä¸ä¼šæ–°å¼€ä¸€ä¸ªå­shellè¿è¡Œï¼Œå³è„šæœ¬ä½™ä¸‹éƒ¨åˆ†ä»å¯ä½¿ç”¨æ‹¬å·å†…å˜é‡ã€‚æ‹¬å·å†…çš„å‘½ä»¤é—´ç”¨åˆ†å·éš”å¼€ï¼Œæœ€åä¸€ä¸ªä¹Ÿå¿…é¡»æœ‰åˆ†å·ã€‚{}çš„ç¬¬ä¸€ä¸ªå‘½ä»¤å’Œå·¦æ‹¬å·ä¹‹é—´å¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ å¤§æ‹¬å·ä¹Ÿè¢«è¿ç”¨åœ¨ â€œå‡½æ•°â€ çš„åŠŸèƒ½ä¸Šã€‚å¹¿ä¹‰åœ°è¯´ï¼Œå•çº¯åªä½¿ç”¨å¤§æ‹¬å·æ—¶ï¼Œä½œç”¨å°±åƒæ˜¯ä¸ªæ²¡æœ‰æŒ‡å®šåç§°çš„å‡½æ•°ä¸€èˆ¬ã€‚å› æ­¤ï¼Œè¿™æ ·å†™ script ä¹Ÿæ˜¯ç›¸å½“å¥½çš„ä¸€ä»¶äº‹ã€‚å°¤å…¶å¯¹è¾“å‡ºè¾“å…¥çš„é‡å¯¼å‘ä¸Šï¼Œè¿™ä¸ªåšæ³•å¯ç²¾ç®€ script çš„å¤æ‚åº¦ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:9:2","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"2. å‡ ç§ç‰¹æ®Šçš„æ›¿æ¢ç»“æ„ 1 2 3 4 ${var:-string} ${var:+string} ${var:=string} ${var:?string} 1ã€${var:-string}å’Œ${var:=string}:è‹¥å˜é‡varä¸ºç©ºï¼Œåˆ™ç”¨åœ¨å‘½ä»¤è¡Œä¸­ç”¨stringæ¥æ›¿æ¢${var:-string}ï¼Œå¦åˆ™å˜é‡varä¸ä¸ºç©ºæ—¶ï¼Œåˆ™ç”¨å˜é‡varçš„å€¼æ¥æ›¿æ¢${var:-string}ï¼›å¯¹äº${var:=string}çš„æ›¿æ¢è§„åˆ™å’Œ${var:-string}æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä¸åŒä¹‹å¤„æ˜¯${var:=string}è‹¥varä¸ºç©ºæ—¶ï¼Œç”¨stringæ›¿æ¢${var:=string}çš„åŒæ—¶ï¼ŒæŠŠstringèµ‹ç»™å˜é‡varï¼š ${var:=string}å¾ˆå¸¸ç”¨çš„ä¸€ç§ç”¨æ³•æ˜¯ï¼Œåˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦èµ‹å€¼ï¼Œæ²¡æœ‰çš„è¯åˆ™ç»™å®ƒèµ‹ä¸Šä¸€ä¸ªé»˜è®¤å€¼ã€‚ 2ã€${var:+string}çš„æ›¿æ¢è§„åˆ™å’Œä¸Šé¢çš„ç›¸åï¼Œå³åªæœ‰å½“varä¸æ˜¯ç©ºçš„æ—¶å€™æ‰æ›¿æ¢æˆstringï¼Œè‹¥varä¸ºç©ºæ—¶åˆ™ä¸æ›¿æ¢æˆ–è€…è¯´æ˜¯æ›¿æ¢æˆå˜é‡ varçš„å€¼ï¼Œå³ç©ºå€¼ã€‚(å› ä¸ºå˜é‡varæ­¤æ—¶ä¸ºç©ºï¼Œæ‰€ä»¥è¿™ä¸¤ç§è¯´æ³•æ˜¯ç­‰ä»·çš„) 3ã€{var:?string}æ›¿æ¢è§„åˆ™ä¸ºï¼šè‹¥å˜é‡varä¸ä¸ºç©ºï¼Œåˆ™ç”¨å˜é‡varçš„å€¼æ¥æ›¿æ¢${var:?string}ï¼›è‹¥å˜é‡varä¸ºç©ºï¼Œåˆ™æŠŠstringè¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯ä¸­ï¼Œå¹¶ä»è„šæœ¬ä¸­é€€å‡ºã€‚æˆ‘ä»¬å¯åˆ©ç”¨æ­¤ç‰¹æ€§æ¥æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å˜é‡çš„å€¼ã€‚ è¡¥å……æ‰©å±•ï¼šåœ¨ä¸Šé¢è¿™äº”ç§æ›¿æ¢ç»“æ„ä¸­stringä¸ä¸€å®šæ˜¯å¸¸å€¼çš„ï¼Œå¯ç”¨å¦å¤–ä¸€ä¸ªå˜é‡çš„å€¼æˆ–æ˜¯ä¸€ç§å‘½ä»¤çš„è¾“å‡ºã€‚ æ­¤å¤–ï¼Œå¤§æ‹¬å·è¿˜æœ‰å¦ä¸€ç§ç”¨æ³•ï¼Œå¦‚ä¸‹ 1 {xx,yy,zz,â€¦} è¿™ç§å¤§æ‹¬å·çš„ç»„åˆï¼Œå¸¸ç”¨åœ¨å­—ä¸²çš„ç»„åˆä¸Šï¼Œæ¥çœ‹ä¸ªä¾‹å­ 1 mkdir {userA,userB,userC}-{home,bin,data} æˆ‘ä»¬å¾—åˆ° userA-home, userA-bin, userA-data, userB-home, userB-bin,userB-data, userC-home, userC-bin,userC-dataï¼Œè¿™å‡ ä¸ªç›®å½•ã€‚è¿™ç»„ç¬¦å·åœ¨é€‚ç”¨æ€§ä¸Šç›¸å½“å¹¿æ³›ã€‚èƒ½åŠ ä»¥å–„ç”¨çš„è¯ï¼Œå›æŠ¥æ˜¯ç²¾ç®€ä¸æ•ˆç‡ã€‚åƒä¸‹é¢çš„ä¾‹å­ 1 chown root /usr/{ucb/{ex,edit},lib/{ex?.?*,how_ex}} å¦‚æœä¸æ˜¯å› ä¸ºè¿™ç§ç”¨æ³•ï¼Œæˆ‘ä»¬å¾—å†™å‡ è¡Œé‡å¤å‡ æ¬¡å‘€ï¼ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:10:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"3. å››ç§æ¨¡å¼åŒ¹é…æ›¿æ¢ç»“æ„ æ¨¡å¼åŒ¹é…è®°å¿†æ–¹æ³•ï¼š 1 2 # æ˜¯å»æ‰å·¦è¾¹(åœ¨é”®ç›˜ä¸Š#åœ¨$ä¹‹å·¦è¾¹) % æ˜¯å»æ‰å³è¾¹(åœ¨é”®ç›˜ä¸Š%åœ¨$ä¹‹å³è¾¹) #å’Œ%ä¸­çš„å•ä¸€ç¬¦å·æ˜¯æœ€å°åŒ¹é…ï¼Œä¸¤ä¸ªç›¸åŒç¬¦å·æ˜¯æœ€å¤§åŒ¹é…ã€‚ 1 2 3 4 ${var%pattern} ${var%%pattern ${var#pattern} ${var##pattern} ç¬¬ä¸€ç§æ¨¡å¼ï¼š${variable%pattern}ï¼Œè¿™ç§æ¨¡å¼æ—¶ï¼Œshellåœ¨variableä¸­æŸ¥æ‰¾ï¼Œçœ‹å®ƒæ˜¯å¦ä»¥ç»™çš„æ¨¡å¼patternç»“å°¾ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»å‘½ä»¤è¡ŒæŠŠvariableä¸­çš„å†…å®¹å»æ‰å³è¾¹æœ€çŸ­çš„åŒ¹é…æ¨¡å¼ ç¬¬äºŒç§æ¨¡å¼ï¼š ${variable%%pattern}ï¼Œè¿™ç§æ¨¡å¼æ—¶ï¼Œshellåœ¨variableä¸­æŸ¥æ‰¾ï¼Œçœ‹å®ƒæ˜¯å¦ä»¥ç»™çš„æ¨¡å¼patternç»“å°¾ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»å‘½ä»¤è¡ŒæŠŠvariableä¸­çš„å†…å®¹å»æ‰å³è¾¹æœ€é•¿çš„åŒ¹é…æ¨¡å¼ ç¬¬ä¸‰ç§æ¨¡å¼ï¼š${variable#pattern} è¿™ç§æ¨¡å¼æ—¶ï¼Œshellåœ¨variableä¸­æŸ¥æ‰¾ï¼Œçœ‹å®ƒæ˜¯å¦ä»¥ç»™çš„æ¨¡å¼patternå¼€å§‹ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»å‘½ä»¤è¡ŒæŠŠvariableä¸­çš„å†…å®¹å»æ‰å·¦è¾¹æœ€çŸ­çš„åŒ¹é…æ¨¡å¼ ç¬¬å››ç§æ¨¡å¼ï¼š ${variable##pattern} è¿™ç§æ¨¡å¼æ—¶ï¼Œshellåœ¨variableä¸­æŸ¥æ‰¾ï¼Œçœ‹å®ƒæ˜¯å¦ä»¥ç»™çš„æ¨¡å¼patternç»“å°¾ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä»å‘½ä»¤è¡ŒæŠŠvariableä¸­çš„å†…å®¹å»æ‰å³è¾¹æœ€é•¿çš„åŒ¹é…æ¨¡å¼ è¿™å››ç§æ¨¡å¼ä¸­éƒ½ä¸ä¼šæ”¹å˜variableçš„å€¼ï¼Œå…¶ä¸­ï¼Œåªæœ‰åœ¨patternä¸­ä½¿ç”¨äº†*åŒ¹é…ç¬¦å·æ—¶ï¼Œ%å’Œ%%ï¼Œ#å’Œ##æ‰æœ‰åŒºåˆ«ã€‚ç»“æ„ä¸­çš„patternæ”¯æŒé€šé…ç¬¦ï¼Œ*è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼Œ?è¡¨ç¤ºä»…ä¸ä¸€ä¸ªä»»æ„å­—ç¬¦åŒ¹é…ï¼Œ[â€¦]è¡¨ç¤ºåŒ¹é…ä¸­æ‹¬å·é‡Œé¢çš„å­—ç¬¦ï¼Œ[!â€¦]è¡¨ç¤ºä¸åŒ¹é…ä¸­æ‹¬å·é‡Œé¢çš„å­—ç¬¦ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # var=testcase # echo $var testcase # echo ${var%s*e} testca # echo $var testcase # echo ${var%%s*e} te # echo ${var#?e} stcase # echo ${var##?e} stcase # echo ${var##*e} # echo ${var##*s} e # echo ${var##test} case ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:11:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"4. å­—ç¬¦ä¸²æå–å’Œæ›¿æ¢ 1 2 3 4 ${var:num} ${var:num1:num2} ${var/pattern/pattern} ${var//pattern/pattern} ç¬¬ä¸€ç§æ¨¡å¼ï¼š${var:num}ï¼Œè¿™ç§æ¨¡å¼æ—¶ï¼Œshellåœ¨varä¸­æå–ç¬¬numä¸ªå­—ç¬¦åˆ°æœ«å°¾çš„æ‰€æœ‰å­—ç¬¦ã€‚è‹¥numä¸ºæ­£æ•°ï¼Œä»å·¦è¾¹0å¤„å¼€å§‹ï¼›è‹¥numä¸ºè´Ÿæ•°ï¼Œä»å³è¾¹å¼€å§‹æå–å­—ä¸²ï¼Œä½†å¿…é¡»ä½¿ç”¨åœ¨å†’å·åé¢åŠ ç©ºæ ¼æˆ–ä¸€ä¸ªæ•°å­—æˆ–æ•´ä¸ªnumåŠ ä¸Šæ‹¬å·ï¼Œå¦‚${var: -2}ã€${var:1-3}æˆ–${var:(-2)}ã€‚ ç¬¬äºŒç§æ¨¡å¼ï¼š${var:num1:num2}ï¼Œnum1æ˜¯ä½ç½®ï¼Œnum2æ˜¯é•¿åº¦ã€‚è¡¨ç¤ºä»$varå­—ç¬¦ä¸²çš„ç¬¬$num1ä¸ªä½ç½®å¼€å§‹æå–é•¿åº¦ä¸º$num2çš„å­ä¸²ã€‚ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚ ç¬¬ä¸‰ç§æ¨¡å¼ï¼š${var/pattern/pattern}è¡¨ç¤ºå°†varå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªåŒ¹é…çš„patternæ›¿æ¢ä¸ºå¦ä¸€ä¸ªpatternã€‚ ç¬¬å››ç§æ¨¡å¼ï¼š${var//pattern/pattern}è¡¨ç¤ºå°†varå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰èƒ½åŒ¹é…çš„patternæ›¿æ¢ä¸ºå¦ä¸€ä¸ªpatternã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [root@centos ~]# var=/home/centos [root@centos ~]# echo $var /home/centos [root@centos ~]# echo ${var:5} /centos [root@centos ~]# echo ${var: -6} centos [root@centos ~]# echo ${var:(-6)} centos [root@centos ~]# echo ${var:1:4} home [root@centos ~]# echo ${var/o/h} /hhme/centos [root@centos ~]# echo ${var//o/h} /hhme/cenths [] ä¸­æ‹¬å· å¸¸å‡ºç°åœ¨æµç¨‹æ§åˆ¶ä¸­ï¼Œæ‰®æ¼”æ‹¬ä½åˆ¤æ–­å¼çš„ä½œç”¨ã€‚ 1 2 3 4 if [ \"$?\" != 0 ]then echo \"Executes error\" exit 1 fi è¿™ä¸ªç¬¦å·åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‹…ä»»ç±»ä¼¼ â€œèŒƒå›´â€ æˆ– â€œé›†åˆâ€ çš„è§’è‰² 1 rm -r 200[1234] ä¸Šä¾‹ï¼Œä»£è¡¨åˆ é™¤ 2001, 2002, 2003, 2004 ç­‰ç›®å½•çš„æ„æ€ã€‚ [[]] è¿™ç»„ç¬¦å·ä¸å…ˆå‰çš„ [] ç¬¦å·ï¼ŒåŸºæœ¬ä¸Šä½œç”¨ç›¸åŒï¼Œä½†å¥¹å…è®¸åœ¨å…¶ä¸­ç›´æ¥ä½¿ç”¨ || ä¸ \u0026\u0026 é€»è¾‘ç­‰ç¬¦å·ã€‚ 1 2 3 4 5 #!/bin/bash read ak if [[ $ak \u003e 5 || $ak \u003c 9 ]]then echo $ak fi || \u0026\u0026 \u0026 ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:12:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"1. ||æˆ–é€»è¾‘ç¬¦å· è¿™ä¸ªä¼šæ—¶å¸¸çœ‹åˆ°ï¼Œä»£è¡¨ or é€»è¾‘çš„ç¬¦å·ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:13:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"2. \u0026\u0026 é€»è¾‘ç¬¦å· è¿™ä¸ªä¹Ÿä¼šå¸¸çœ‹åˆ°ï¼Œä»£è¡¨ and é€»è¾‘çš„ç¬¦å·ã€‚ ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:14:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["bash"],"content":"3. \u0026åå°å·¥ä½œ å•ä¸€ä¸ª\u0026 ç¬¦å·ï¼Œä¸”æ”¾åœ¨å®Œæ•´æŒ‡ä»¤åˆ—çš„æœ€åç«¯ï¼Œå³è¡¨ç¤ºå°†è¯¥æŒ‡ä»¤åˆ—æ”¾å…¥åå°ä¸­å·¥ä½œã€‚ 1 tar cvfz data.tar.gz data \u003e /dev/null \u0026 / å•å­—è¾¹ç•Œ è¿™ç»„ç¬¦å·åœ¨è§„åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¢«å®šä¹‰ä¸ºâ€è¾¹ç•Œâ€çš„æ„æ€ã€‚è­¬å¦‚ï¼Œå½“æˆ‘ä»¬æƒ³æ‰¾å¯» the è¿™ä¸ªå•å­—æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ 1 grep the FileA ä½ å°†ä¼šå‘ç°ï¼Œåƒ there è¿™ç±»çš„å•å­—ï¼Œä¹Ÿä¼šè¢«å½“æˆæ˜¯åŒ¹é…çš„å•å­—ã€‚å› ä¸º the æ­£å·§æ˜¯ there çš„ä¸€éƒ¨ä»½ã€‚å¦‚æœæˆ‘ä»¬è¦å¿…å…è¿™ç§æƒ…å†µï¼Œå°±å¾—åŠ ä¸Š â€œè¾¹ç•Œâ€ çš„ç¬¦å· 1 grep â€˜/' FileA + åŠ å· (plus) åœ¨è¿ç®—å¼ä¸­ï¼Œå¥¹ç”¨æ¥è¡¨ç¤º â€œåŠ æ³•â€ã€‚ 1 expr 1 + 2 + 3 æ­¤å¤–åœ¨è§„åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨æ¥è¡¨ç¤ºâ€å¾ˆå¤šä¸ªâ€çš„å‰é¢å­—å…ƒçš„æ„æ€ã€‚ 1 # grep '10/+9â€² fileB109100910000910000931010009#è¿™ä¸ªç¬¦å·åœ¨ä½¿ç”¨æ—¶ï¼Œå‰é¢å¿…é¡»åŠ ä¸Š escape å­—å…ƒã€‚ - å‡å· (dash) åœ¨è¿ç®—å¼ä¸­ï¼Œå¥¹ç”¨æ¥è¡¨ç¤º â€œå‡æ³•â€ã€‚ 1 expr 10 â€“ 2 æ­¤å¤–ä¹Ÿæ˜¯ç³»ç»ŸæŒ‡ä»¤çš„é€‰é¡¹ç¬¦å·ã€‚ 1 ls -expr 10 â€“ 2 åœ¨ GNU æŒ‡ä»¤ä¸­ï¼Œå¦‚æœå•ç‹¬ä½¿ç”¨ â€“ ç¬¦å·ï¼Œä¸åŠ ä»»ä½•è¯¥åŠ çš„æ–‡ä»¶åç§°æ—¶ï¼Œä»£è¡¨â€æ ‡å‡†è¾“å…¥â€çš„æ„æ€ã€‚è¿™æ˜¯ GNU æŒ‡ä»¤çš„å…±é€šé€‰é¡¹ã€‚è­¬å¦‚ä¸‹ä¾‹ 1 tar xpvf - è¿™é‡Œçš„ â€“ ç¬¦å·ï¼Œæ—¢ä»£è¡¨ä»æ ‡å‡†è¾“å…¥è¯»å–èµ„æ–™ã€‚ ä¸è¿‡ï¼Œåœ¨ cd æŒ‡ä»¤ä¸­åˆ™æ¯”è¾ƒç‰¹åˆ« 1 cd - è¿™ä»£è¡¨å˜æ›´å·¥ä½œç›®å½•åˆ°â€ä¸Šä¸€æ¬¡â€å·¥ä½œç›®å½•ã€‚ % é™¤æ³• (Modulo) åœ¨è¿ç®—å¼ä¸­ï¼Œç”¨æ¥è¡¨ç¤º â€œé™¤æ³•â€ã€‚ 1 expr 10 % 2 æ­¤å¤–ï¼Œä¹Ÿè¢«è¿ç”¨åœ¨å…³äºå˜é‡çš„è§„åˆ™è¡¨è¾¾å¼å½“ä¸­çš„ä¸‹åˆ— 1 ${parameter%word}${parameter%%word} ä¸€ä¸ª % è¡¨ç¤ºæœ€çŸ­çš„ word åŒ¹é…ï¼Œä¸¤ä¸ªè¡¨ç¤ºæœ€é•¿çš„ word åŒ¹é…ã€‚ = ç­‰å· (Equals) å¸¸åœ¨è®¾å®šå˜æ•°æ—¶çœ‹åˆ°çš„ç¬¦å·ã€‚ 1 2 vara=123 echo \"vara = $vara\" æˆ–è€…åƒæ˜¯ PATH çš„è®¾å®šï¼Œç”šè‡³åº”ç”¨åœ¨è¿ç®—æˆ–åˆ¤æ–­å¼ç­‰æ­¤ç±»ç”¨é€”ä¸Šã€‚ == ç­‰å· (Equals) å¸¸åœ¨æ¡ä»¶åˆ¤æ–­å¼ä¸­çœ‹åˆ°ï¼Œä»£è¡¨ â€œç­‰äºâ€ çš„æ„æ€ã€‚ 1 2 if [ $vara == $varb ] â€¦ä¸‹ç•¥ != ä¸ç­‰äº å¸¸åœ¨æ¡ä»¶åˆ¤æ–­å¼ä¸­çœ‹åˆ°ï¼Œä»£è¡¨ â€œä¸ç­‰äºâ€ çš„æ„æ€ã€‚ 1 2 if [ $vara != $varb ] â€¦ä¸‹ç•¥ ^ è¿™ä¸ªç¬¦å·åœ¨è§„åˆ™è¡¨è¾¾å¼ä¸­ï¼Œä»£è¡¨è¡Œçš„ â€œå¼€å¤´â€ ä½ç½® ","date":"2023-01-15","objectID":"/posts/program/bash/special_symbol/:15:0","tags":["bash"],"title":"shell ä¸­çš„ç‰¹æ®Šç¬¦å·","uri":"/posts/program/bash/special_symbol/"},{"categories":["tools"],"content":"repo","date":"2023-01-15","objectID":"/posts/tools/git/repo/","tags":["repo"],"title":"tool: repo ä»£ç åº“ç®¡ç†å·¥å…·","uri":"/posts/tools/git/repo/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/repo/:0:0","tags":["repo"],"title":"tool: repo ä»£ç åº“ç®¡ç†å·¥å…·","uri":"/posts/tools/git/repo/"},{"categories":["tools"],"content":"android studio å®‰è£…ä½¿ç”¨","date":"2023-01-15","objectID":"/posts/tools/android/android_studio/","tags":["android studio"],"title":"tool:android studio å®‰è£…ä½¿ç”¨","uri":"/posts/tools/android/android_studio/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ä¸‹è½½ å®‰è£… é…ç½® æ’ä»¶ å¿«æ·é”®è®¾ç½® 1. ä¸‹è½½ studio 2. å®‰è£… 1 2 3 mv android-studio-2021.2.1.15-linux.tar.gz /opt/ cd /opt sudo tar -zxvf android-studio-2021.2.1.15-linux.tar.gz æ›´æ”¹ /opt/android-studio/bin/idea.porpertiesï¼š 1 sudo gedit /opt/android-studio/bin/idea.properties æ–‡æœ«æ·»åŠ  1 disable.android.first.run=true æ­¤æ“ä½œé˜²æ­¢ç¬¬ä¸€æ¬¡æ‰“å¼€Android Studioæ—¶å¡åœ¨â€Fetching Android SDK component informationâ€ ã€‚ æ›´æ”¹/opt/android-studio/binç›®å½•æƒé™ï¼š 1 sudo chmod 777 /opt/android-studio/bin é…ç½® æ’ä»¶ Rainbow Brackets å¿«æ·é”®è®¾ç½® å‚è€ƒ: ã€Android â€“ å¼€å‘å·¥å…·ã€‘Android Studio è®¾ç½®å¿«æ·é”® File â†’ Settings â†’ keymap ä»£ç è¿”å›å¿«æ·é”® ï¼š Ctrl + Alt + left/right ","date":"2023-01-15","objectID":"/posts/tools/android/android_studio/:0:0","tags":["android studio"],"title":"tool:android studio å®‰è£…ä½¿ç”¨","uri":"/posts/tools/android/android_studio/"},{"categories":["tools"],"content":"ä¸‹è½½å·¥å…·","date":"2023-01-15","objectID":"/posts/tools/aria2c/aria2c/","tags":["aria2c"],"title":"tool:aria2cä¸‹è½½å·¥å…·","uri":"/posts/tools/aria2c/aria2c/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç®€ä»‹ å®‰è£… é…ç½® æœåŠ¡æ¨¡å¼å¼€æœºå¯åŠ¨ ç®€ä»‹ Aria2 æ˜¯ä¸€ä¸ªå¤šå¹³å°è½»é‡çº§ï¼Œæ”¯æŒ HTTPã€FTPã€BitTorrent ç­‰å¤šåè®®ã€å¤šæ¥æºçš„å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚Aria2 å¯ä»¥ä»å¤šä¸ªæ¥æºã€å¤šä¸ªåè®®ä¸‹è½½èµ„æºï¼Œæœ€å¤§çš„ç¨‹åº¦ä¸Šåˆ©ç”¨äº†ä½ çš„å¸¦å®½ã€‚Aria2 æœ‰ç€éå¸¸å°çš„èµ„æºå ç”¨ï¼Œåœ¨å…³é—­ç£ç›˜ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œç‰©ç†å†…å­˜å ç”¨é€šå¸¸ä¸º 4Mï¼ˆæ­£å¸¸ HTTP/FTP ä¸‹è½½çš„æƒ…å†µä¸‹ï¼‰ï¼ŒBitTorrent ä¸‹è½½æ¯ç§’2.8M/Sçš„æƒ…å†µä¸‹ï¼ŒCPU å æœ‰ç‡çº¦ä¸º 6%ã€‚Aria2 æ”¯æŒ JSON-RPC å’Œ XML-RPC æ¥å£è¿œç¨‹è°ƒç”¨ã€‚ å®‰è£… 1 sudo apt-get install aria2 é…ç½® åˆ›å»ºé…ç½®æ–‡ä»¶ : 1 2 3 4 sudo mkdir /etc/aria2 #æ–°å»ºæ–‡ä»¶å¤¹ sudo touch /etc/aria2/aria2.session #æ–°å»ºsessionæ–‡ä»¶ sudo chmod 777 /etc/aria2/aria2.session #è®¾ç½®aria2.sessionå¯å†™ sudo vi /etc/aria2/aria2.conf #åˆ›å»ºé…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 ## å…¨å±€è®¾ç½® ## ============================================================ # æ—¥å¿— #log-level=warn #log=/PATH/.aria2/aria2.log # åå°è¿è¡Œ #daemon=true # ä¸‹è½½ä½ç½®, é»˜è®¤: å½“å‰å¯åŠ¨ä½ç½®(***) dir=/home/***/Downloads # ä»ä¼šè¯æ–‡ä»¶ä¸­è¯»å–ä¸‹è½½ä»»åŠ¡(***) input-file=/usr/customer/aria2/aria2.session # åœ¨Aria2é€€å‡ºæ—¶ä¿å­˜`é”™è¯¯/æœªå®Œæˆ`çš„ä¸‹è½½ä»»åŠ¡åˆ°ä¼šè¯æ–‡ä»¶(***) save-session=/usr/customer/aria2/aria2.session # å®šæ—¶ä¿å­˜ä¼šè¯, 0ä¸ºé€€å‡ºæ—¶æ‰ä¿å­˜, éœ€1.16.1ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:0 save-session-interval=30 # æ–­ç‚¹ç»­ä¼  continue=true # å¯ç”¨ç£ç›˜ç¼“å­˜, 0ä¸ºç¦ç”¨ç¼“å­˜, éœ€1.16ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:16M #disk-cache=32M # æ–‡ä»¶é¢„åˆ†é…æ–¹å¼, èƒ½æœ‰æ•ˆé™ä½ç£ç›˜ç¢ç‰‡, é»˜è®¤:prealloc # é¢„åˆ†é…æ‰€éœ€æ—¶é—´: none \u003c falloc ? trunc \u003c prealloc # fallocå’Œtruncåˆ™éœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ # NTFSå»ºè®®ä½¿ç”¨falloc, EXT3/4å»ºè®®trunc, MAC ä¸‹éœ€è¦æ³¨é‡Šæ­¤é¡¹ file-allocation=none https://www.jianshu.com/p/6adf79d29add # å®¢æˆ·ç«¯ä¼ªè£… user-agent=netdisk;5.2.6;PC;PC-Windows;6.2.9200;WindowsBaiduYunGuanJia referer=http://pan.baidu.com/disk/home # ç¦ç”¨IPv6, é»˜è®¤:false disable-ipv6=true # å…¶ä»– always-resume=true check-integrity=true ## ä¸‹è½½ä½ç½® ## ============================================================ # æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5 max-concurrent-downloads=10 # åŒä¸€æœåŠ¡å™¨è¿æ¥æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1 max-connection-per-server=10 # æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, å–å€¼èŒƒå›´1M -1024M, é»˜è®¤:20M # å‡å®šsize=10M, æ–‡ä»¶ä¸º20MiB åˆ™ä½¿ç”¨ä¸¤ä¸ªæ¥æºä¸‹è½½; æ–‡ä»¶ä¸º15MiB åˆ™ä½¿ç”¨ä¸€ä¸ªæ¥æºä¸‹è½½ min-split-size=10M # å•ä¸ªä»»åŠ¡æœ€å¤§çº¿ç¨‹æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5 split=5 # æ•´ä½“ä¸‹è½½é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 #max-overall-download-limit=0 # å•ä¸ªä»»åŠ¡ä¸‹è½½é€Ÿåº¦é™åˆ¶, é»˜è®¤:0 #max-download-limit=0 # æ•´ä½“ä¸Šä¼ é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 #max-overall-upload-limit=0 # å•ä¸ªä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0 #max-upload-limit=0 ## RPCè®¾ç½® ## ============================================================ # å¯ç”¨RPC, é»˜è®¤:false enable-rpc=true # å…è®¸æ‰€æœ‰æ¥æº, é»˜è®¤:false rpc-allow-origin-all=true # å…è®¸éå¤–éƒ¨è®¿é—®, é»˜è®¤:false rpc-listen-all=true # äº‹ä»¶è½®è¯¢æ–¹å¼, å–å€¼:[epoll, kqueue, port, poll, select], ä¸åŒç³»ç»Ÿé»˜è®¤å€¼ä¸åŒ #event-poll=select # RPCç›‘å¬ç«¯å£, ç«¯å£è¢«å ç”¨æ—¶å¯ä»¥ä¿®æ”¹, é»˜è®¤:6800 rpc-listen-port=6800 # è®¾ç½®çš„RPCæˆæƒä»¤ç‰Œ, v1.18.4æ–°å¢åŠŸèƒ½, å–ä»£ --rpc-user å’Œ --rpc-passwd é€‰é¡¹ #rpc-secret=\u003cTOKEN\u003e # æ˜¯å¦å¯ç”¨ RPC æœåŠ¡çš„ SSL/TLS åŠ å¯†, # å¯ç”¨åŠ å¯†å RPC æœåŠ¡éœ€è¦ä½¿ç”¨ https æˆ–è€… wss åè®®è¿æ¥ #rpc-secure=true # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„è¯ä¹¦æ–‡ä»¶, # ä½¿ç”¨ PEM æ ¼å¼æ—¶ï¼Œæ‚¨å¿…é¡»é€šè¿‡ --rpc-private-key æŒ‡å®šç§é’¥ #rpc-certificate=/path/to/certificate.pem # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„ç§é’¥æ–‡ä»¶ #rpc-private-key=/path/to/certificate.key ## BT/PTä¸‹è½½ç›¸å…³ ## ============================================================ # å½“ä¸‹è½½çš„æ˜¯ä¸€ä¸ªç§å­(ä»¥.torrentç»“å°¾)æ—¶, è‡ªåŠ¨å¼€å§‹BTä»»åŠ¡, é»˜è®¤:true #follow-torrent=true # BTç›‘å¬ç«¯å£, å½“ç«¯å£è¢«å±è”½æ—¶ä½¿ç”¨, é»˜è®¤:6881-6999 listen-port=51413 # å•ä¸ªç§å­æœ€å¤§è¿æ¥æ•°, é»˜è®¤:55 #bt-max-peers=55 # æ‰“å¼€DHTåŠŸèƒ½, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true enable-dht=false # æ‰“å¼€IPv6 DHTåŠŸèƒ½, PTéœ€è¦ç¦ç”¨ #enable-dht6=false # DHTç½‘ç»œç›‘å¬ç«¯å£, é»˜è®¤:6881-6999 #dht-listen-port=6881-6999 dht-file-path=/opt/var/aria2/dht.dat dht-file-path6=/opt/var/aria2/dht6.dat # æœ¬åœ°èŠ‚ç‚¹æŸ¥æ‰¾, PTéœ€è¦ç¦ç”¨, é»˜è®¤:false #bt-enable-lpd=false # ç§å­äº¤æ¢, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true enable-peer-exchange=false # æ¯ä¸ªç§å­é™é€Ÿ, å¯¹å°‘ç§çš„PTå¾ˆæœ‰ç”¨, é»˜è®¤:50K #bt-request-peer-speed-limit=50K # è®¾ç½® peer id å‰ç¼€ peer-id-prefix=-TR2770- # å½“ç§å­çš„åˆ†äº«ç‡è¾¾åˆ°è¿™ä¸ªæ•°æ—¶, è‡ªåŠ¨åœæ­¢åšç§, 0ä¸ºä¸€ç›´åšç§, é»˜è®¤:1.0 seed-ratio=0 # å¼ºåˆ¶ä¿å­˜ä¼šè¯, å³ä½¿ä»»åŠ¡å·²ç»å®Œæˆ, é»˜è®¤:false # è¾ƒæ–°çš„ç‰ˆæœ¬å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¾ç„¶ä¿ç•™.aria2æ–‡ä»¶ #force-save=false # BTæ ¡éªŒç›¸å…³, é»˜è®¤:true #bt-hash-check-seed=true # ç»§ç»­ä¹‹å‰çš„BTä»»åŠ¡æ—¶, æ— éœ€å†æ¬¡æ ¡éªŒ, é»˜è®¤:false bt-seed-unverif","date":"2023-01-15","objectID":"/posts/tools/aria2c/aria2c/:0:0","tags":["aria2c"],"title":"tool:aria2cä¸‹è½½å·¥å…·","uri":"/posts/tools/aria2c/aria2c/"},{"categories":["tools"],"content":"gdb","date":"2023-01-15","objectID":"/posts/tools/gdb/%E5%B8%B8%E7%94%A8%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/","tags":["gdb"],"title":"tool:gdb å¸¸ç”¨è°ƒè¯•æ–¹æ³•è®°å½•","uri":"/posts/tools/gdb/%E5%B8%B8%E7%94%A8%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ gdb å¯åŠ¨ç¨‹åºå¸¦è¿è¡Œå‚æ•° æŒ‡å®šæ–­ç‚¹ä½ç½® gdb å¯åŠ¨ç¨‹åºå¸¦è¿è¡Œå‚æ•° 1 2 3 set args --gtest_filter=TestAdasPipe.AssetsData r --gtest_filter=TestAdasPipe.AssetsData æŒ‡å®šæ–­ç‚¹ä½ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # æ–­ç‚¹ç®¡ç† https://blog.csdn.net/wohu1104/article/details/125052150 # æŸ¥çœ‹æ–­ç‚¹ info b i b # å¯ç”¨æ–­ç‚¹å¹¶å‘½ä¸­Næ¬¡ enable count æ•°é‡ æ–­ç‚¹ç¼–å· # å¿½ç•¥æ–­ç‚¹å‰Næ¬¡å‘½ä¸­ ignore æ–­ç‚¹ç¼–å· æ¬¡æ•° # åˆ é™¤æ‰€æœ‰æ–­ç‚¹ delete # åˆ é™¤æŒ‡å®šæ–­ç‚¹ delete æ–­ç‚¹ç¼–å· # åˆ é™¤æŒ‡å®šèŒƒå›´çš„æ–­ç‚¹ delete èŒƒå›´ delete 5-7 delete 5-7 10-12 # åˆ é™¤æŒ‡å®šå‡½æ•°çš„æ–­ç‚¹ clear å‡½æ•°å # åˆ é™¤æŒ‡å®šè¡Œå·çš„æ–­ç‚¹ clear demo.cpp:10 æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ c ","date":"2023-01-15","objectID":"/posts/tools/gdb/%E5%B8%B8%E7%94%A8%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/:0:0","tags":["gdb"],"title":"tool:gdb å¸¸ç”¨è°ƒè¯•æ–¹æ³•è®°å½•","uri":"/posts/tools/gdb/%E5%B8%B8%E7%94%A8%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/"},{"categories":["tools"],"content":"git tag","date":"2023-01-15","objectID":"/posts/tools/git/git_tag/","tags":["git"],"title":"tool:git tag çš„ä½¿ç”¨","uri":"/posts/tools/git/git_tag/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ git tag ","date":"2023-01-15","objectID":"/posts/tools/git/git_tag/:0:0","tags":["git"],"title":"tool:git tag çš„ä½¿ç”¨","uri":"/posts/tools/git/git_tag/"},{"categories":["tools"],"content":"git tag 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 git tag # åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾ git tag -l \"v0.1\" # è¿‡æ»¤åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾ git tag -a v1.4 -m \"my version 1.4\" # åˆ›å»ºæ ‡ç­¾ git show v1.4 # æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯å’Œä¸ä¹‹å¯¹åº”çš„æäº¤ä¿¡æ¯ git tag -d v1.4 # åˆ é™¤æ ‡ç­¾ git push origin :refs/tags/v1.4 # åˆ é™¤è¿œç¨‹æ ‡ç­¾ git push origin --delete v1.4 # åˆ é™¤è¿œç¨‹æ ‡ç­¾ git checkout v1.4 # åˆ‡æ¢åˆ° v1.4 tag git checkout -b version_v1.4 v1.4 # åˆ‡æ¢åˆ° v1.4 tag version_v1.4 git push origin v1.4 # ä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ git push origin --tags # æŠŠæ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šçš„æ ‡ç­¾å…¨éƒ¨ä¼ é€åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ åæœŸæ‰“æ ‡ç­¾ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 git log --pretty=oneline dd1db2ddf7ab23a57b0197abe80167ba4847f185 (HEAD -\u003e master, tag: v0.0.2, origin/master, origin/HEAD) Merge branch 'release-0.0.2' 1967f19f3d2f7b13d18f80dada14da1b8385ecc3 (release-0.0.2) version update :v0.0.2 28b3ff52ea28221314264482d6db6fb7349cf2f8 (develop) Merge branch 'release-0.0.1' into develop e2d4b5d8eb8407d7141c9846c4459cd1733922fb (release-0.0.1) version update :v0.0.1 2c6ffbce9ffd31e4cee8ca5013924324b49ec898 add bump-version.sh 9c29190a5388ae74f6c983468c8637de40653816 (origin/develop) Merge remote-tracking branch 'origin/hotfix' into develop 5a0a3d928c59a35e3421d2dc029b0487e24a2772 add HotFix/01.fix 78881870f888c519f21025d22869eb5d38b75030 Merge remote-tracking branch 'origin/myfeature_02' into develop 1c9e156e9b54c6714a6f6e8075b8f6cf316ca7c5 Merge remote-tracking branch 'origin/myfeature_01' into develop b2dc34bc80ce6c9a77a9c399abc7633d09bf9359 Merge branch 'myfeature' into develop 696a92f6e0f77700c1aef37a57abcbc5d69a6673 add TestFile/4.text 5f57182ab7113fdadfa855e4c78237e1a29292b8 Merge branch 'myfeature' into develop 18dd8ba9bb27dc1ff1e414c8538è½¬è½½è¯´æ˜beb9e904c9032 TestFile/3.test 2124458eef016c34a4d0a0af68dc93166e93ba84 TestFile/2.test 754b56d1c44e49923d679c41839e84e0dfb650d6 add TestFile/1.test 3a8af3c6e7d2852d24b6de6711530cc0ddcc8760 Merge branch 'myfeature' into develop 963672575df191249da5c7f1aaef56afa9cccf2e (origin/feature, feature) add new file 395f4fbd335500cf7c5b51735a27231bea028cd8 (origin/release) Initial commit git tag -a v0.0.1 5a0a3d928c59a35e3421d2dc029b0487e24a2772 git tag -a v0.0.0 -m \"version 0.0.0\" 395f4fbd335500cf7c5b51735a27231bea028cd8 ","date":"2023-01-15","objectID":"/posts/tools/git/git_tag/:1:0","tags":["git"],"title":"tool:git tag çš„ä½¿ç”¨","uri":"/posts/tools/git/git_tag/"},{"categories":["tools"],"content":"git","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. Gitæäº¤ä»£ç çš„æµç¨‹ 2. git commit â€“amend 3. git æŸ¥çœ‹ 4. git ä¿®æ”¹æŸæ¬¡æäº¤ 5. ä¿®æ”¹æäº¤æ—¶é—´ 6. commit æ’¤å›åŠä¿®æ”¹ é‡å†™å†å² ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:0:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"Gitæäº¤ä»£ç çš„æµç¨‹ æäº¤æµç¨‹ 1 2 3 4 git pull --rebase git add . git commit -m\"\" git push origin xxx 1 2 3 git push origin --delete xx # åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin xxx --force # å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ git push origin dev-zyh # æ¨é€åˆ°æŒ‡å®šåˆ†æ”¯ ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:1:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"git commit â€“amend 1 2 3 git commit --amend # ä¼šé€šè¿‡ core.editor æŒ‡å®šçš„ç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘ git commit --amend --no-edit # ä¸ä¼šè¿›å…¥ç¼–è¾‘å™¨ï¼Œç›´æ¥è¿›è¡Œæäº¤ git commit --amend --no-edit --author \"zhangyuhu \u003czhangyuhude@163.com\u003e\" ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:2:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"git æŸ¥çœ‹ 1 2 3 4 5 6 7 8 9 git log -1 --stat git show 548c72f42f51c22dbf2fdf133426e094c59789e4 --stat git show //æœ€æ–°çš„commit git show commitId //æŒ‡å®šcommit git show commitId fileName //æŒ‡å®šcommitçš„æŸä¸ªæ–‡ä»¶ # æŸ¥çœ‹æŒ‡å®šcommit idå¯¹åº”ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨ git show --raw git show --raw commit_id ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:3:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"git ä¿®æ”¹æŸæ¬¡æäº¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 commit f2711319a72fa9d3a5486c397c7a10511b970036 (HEAD -\u003e master) Author: zhangyuhu \u003czhangyuhude@163.com\u003e Date: Mon Aug 24 13:08:12 2020 +0800 update shll sys folder commit 1caaf17d90a3288aff8897fca08e33c81a6b9703 Author: yuhuzhang \u003cyuhuzhang@deepglint.com\u003e Date: Mon Aug 24 12:56:55 2020 +0800 add RunPowerOn.sh commit 8ac823f3e93e82638db5b076952bdcfa12e93cfb Author: zhangyuhu \u003czhangyuhude@163.com\u003e Date: Fri Aug 21 19:44:06 2020 +0800 add go test file 1 2 3 4 5 6 7 8 git rebase -i 8ac823f3e93e82638db5b076952bdcfa12e93cfb edit b8901f3 add RunPowerOn.sh pick 5593c97 update shll sys folder git cazyh git rebase --continue 1 2 3 4 1.git rebase -i åˆ†æ”¯~ç§»åŠ¨æ•°å­— 2. é€‰æ‹©å¯¹åº”æ“ä½œ 3.git commit --amend 4.git rebase continue ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:4:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"ä¿®æ”¹æäº¤æ—¶é—´ 1 git commit --amend --date=\"2020-11-28T09:51:07\" --no-edit ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:5:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"commit æ’¤å›åŠä¿®æ”¹ 1 2 3 git reset --soft :å–æ¶ˆcommit git reset --mixed :å–æ¶ˆcommit ï¼Œå–æ¶ˆadd git reset --hard :å–æ¶ˆcommit ï¼Œå–æ¶ˆaddï¼Œå–æ¶ˆæºæ–‡ä»¶ä¿®æ”¹ ","date":"2023-01-15","objectID":"/posts/tools/git/git_commit/:6:0","tags":["git"],"title":"tool:git ä¿®æ”¹æäº¤","uri":"/posts/tools/git/git_commit/"},{"categories":["tools"],"content":"git","date":"2023-01-15","objectID":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/","tags":["git"],"title":"tool:git å¸¸è§é—®é¢˜","uri":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ git ç¼“å­˜æ¸…ç†ï¼ˆè§£å†³ignoreä¸ç”Ÿæ•ˆé—®é¢˜ï¼‰ .git æ–‡ä»¶å¤¹è¿‡å¤§ å‡ºç°åŸå›  åˆ é™¤å†å²æ“ä½œ è„šæœ¬æ“ä½œ git ç¼“å­˜æ¸…ç†ï¼ˆè§£å†³ignoreä¸ç”Ÿæ•ˆé—®é¢˜ï¼‰ æ˜æ˜.ignoreæ–‡ä»¶ä¸­æ ‡æ˜äº†å¿½ç•¥ï¼Œæäº¤æ—¶è¿˜æ˜¯æœ‰è¿™äº›æ–‡ä»¶ï¼Ÿ .ignoreæ–‡ä»¶å¯ä»¥æŒ‰ç…§å…¶æ³¨æ˜çš„è§„åˆ™è®©gitå¿½ç•¥æ–‡ä»¶ï¼Œä½†æ˜¯æœ‰æ—¶å€™ï¼Œæœ‰éƒ¨åˆ†æˆ‘ä»¬ä¸æƒ³è®©gitç®¡ç†çš„æ–‡ä»¶å·²ç»è¢«gitç®¡ç†äº†ï¼Œæˆ‘ä»¬å†åœ¨.ingoreä¸­æ·»åŠ è§„åˆ™ï¼Œæ˜¯ä¸èƒ½ç”Ÿæ•ˆçš„ï¼Œè¿™æ—¶æˆ‘ä»¬æ¸…ç†ä¸‹gitç¼“å­˜å°±å¥½ åˆ é™¤git ç¼“å­˜ 1 2 3 git rm -r --cached . git add . git commit -m 'update .gitignore' ä¸‹æ¬¡æäº¤æˆ‘ä»¬å°±ä¸ä¼šçœ‹åˆ°.ignoreä¸­çš„æ–‡ä»¶äº† .git æ–‡ä»¶å¤¹è¿‡å¤§ ","date":"2023-01-15","objectID":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/:0:0","tags":["git"],"title":"tool:git å¸¸è§é—®é¢˜","uri":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"å‡ºç°åŸå›  .gitæ–‡ä»¶ä¸»è¦ç”¨æ¥è®°å½•æ¯æ¬¡æäº¤çš„å˜åŠ¨ï¼Œå½“æˆ‘ä»¬çš„é¡¹ç›®è¶Šæ¥è¶Šå¤§çš„æ—¶å€™ï¼Œ .gitæ–‡ä»¶è¶Šæ¥è¶Šå¤§ã€‚ å¾ˆå¤§çš„å¯èƒ½æ˜¯å› ä¸ºæäº¤äº†å¤§æ–‡ä»¶ï¼Œå¦‚æœä½ æäº¤äº†å¤§æ–‡ä»¶ Aï¼Œé‚£ä¹ˆå³ä½¿ä½ åœ¨ä¹‹åçš„ç‰ˆæœ¬ä¸­å°†å…¶åˆ é™¤ï¼Œä½†å®é™…ä¸Šï¼Œè®°å½•ä¸­çš„å¤§æ–‡ä»¶ä»ç„¶å­˜åœ¨ã€‚ åŸå› åœ¨äºè™½ç„¶ä½ åœ¨åé¢çš„ç‰ˆæœ¬ä¸­åˆ é™¤äº†å¤§æ–‡ä»¶Aï¼Œä½†æ˜¯Gitæ˜¯æœ‰ç‰ˆæœ¬å€’é€€åŠŸèƒ½ï¼Œé‚£ä¹ˆå¦‚æœå¤§æ–‡ä»¶Aä¸è®°å½•ä¸‹æ¥ï¼Œgitæ‹¿ä»€ä¹ˆæ¥å›é€€å‘¢ï¼Ÿ gitç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨git branch-filteræ¥éå†git history tree, å¯ä»¥æ°¸ä¹…åˆ é™¤historyä¸­çš„å¤§æ–‡ä»¶ï¼Œè¾¾åˆ°è®©.gitæ–‡ä»¶ç˜¦èº«çš„ç›®çš„ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/:1:0","tags":["git"],"title":"tool:git å¸¸è§é—®é¢˜","uri":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"åˆ é™¤å†å²æ“ä½œ é¦–å…ˆæ‰¾å‡ºgitä¸­å‰Nå¤§çš„æ–‡ä»¶ 1 git rev-list --objects --all | grep -E `git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -10 | awk '{print$1}' | sed ':a;N;$!ba;s/\\n/|/g'` åˆ é™¤æ–‡ä»¶ éå†æ‰€æœ‰æäº¤ï¼š commitå¤šäº†ä¼šæ¯”è¾ƒæ…¢ 1 git filter-branch -f --prune-empty --index-filter 'git rm -rf --cached --ignore-unmatch \u003cfile\u003e' --tag-name-filter cat -- --all å›æ”¶å†…å­˜ 1 2 3 4 5 6 7 8 9 10 11 rm -Rf .git/refs/original rm -Rf .git/logs/ git reflog expire --expire=now --all git fsck --full --unreachable git repack -A -d git gc --aggressive --prune=now æäº¤åˆ°è¿œç¨‹ä»“åº“ 1 git push --force [remote] master ä¸Šè¿°æ“ä½œæœ€é‡è¦çš„ä¸¤æ¡å‘½ä»¤æ˜¯ git filter-branch å’Œ gc, filter-branch çœŸæ­£åœ¨æ¸…ç†ï¼Œä½†æ˜¯åªè¿è¡Œå®ƒä¹Ÿæ˜¯æ²¡ç”¨çš„ï¼Œéœ€è¦å†åˆ é™¤å¤‡ä»½çš„æ–‡ä»¶ï¼Œé‡æ–°æ‰“åŒ…ä¹‹ç±»çš„ï¼Œæœ€åçš„gcå‘½ä»¤ï¼Œç”¨æ¥æ”¶é›†äº§ç”Ÿçš„åƒåœ¾ï¼Œæœ€ç»ˆæ¸…é™¤å¤§æ–‡ä»¶ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/:2:0","tags":["git"],"title":"tool:git å¸¸è§é—®é¢˜","uri":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"è„šæœ¬æ“ä½œ ç¼–è¾‘è„šæœ¬æ–‡ä»¶ï¼š git_clean.sh è„šæœ¬æ–‡ä»¶ä¸‹è½½ï¼šgit_clean.sh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 git rev-list --objects --all | grep -E `git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -10 | awk '{print$1}' | sed ':a;N;$!ba;s/\\n/|/g'` \u003e1.txt for value in `cat 1.txt |awk '{print $2}'` do # echo ${value} git log --pretty=oneline --branches -- ${value} git filter-branch --index-filter \"git rm --cached --ignore-unmatch ${value}\" -- --all rm -Rf .git/refs/original rm -Rf .git/logs/ git reflog expire --expire=now --all git fsck --full --unreachable git repack -A -d git gc --aggressive --prune=now done å°†è„šæœ¬æ–‡ä»¶æ”¾ç½®åˆ°ä»“åº“æ ¹ç›®å½•ï¼ˆä¸.git åŒçº§ï¼‰ æ‰§è¡Œ 1 ./git_clean.sh æ›´æ–°è¿œç¨‹ä»“åº“ 1 git push --force [remote] master ","date":"2023-01-15","objectID":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/:3:0","tags":["git"],"title":"tool:git å¸¸è§é—®é¢˜","uri":"/posts/tools/git/git%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"git","date":"2023-01-15","objectID":"/posts/tools/git/git/","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ git éƒ¨åˆ†æ¦‚å¿µ å››ä¸ªå·¥ä½œåŒºåŸŸ å·¥ä½œæµç¨‹ æ–‡ä»¶çš„å››ç§çŠ¶æ€ git å¸¸ç”¨å‘½ä»¤ git å®‰è£…é…ç½® git ä¹±ç  Gitæäº¤ä»£ç çš„æµç¨‹ git commit â€“amend git æŸ¥çœ‹ git diff git diff meld git rm git reset git config git stash git alias git log git fetch / merge /pull git tag git å¸¸ç”¨æ“ä½œ git ä¿®æ”¹æŸæ¬¡æäº¤ ä¿®æ”¹æäº¤æ—¶é—´ æ·»åŠ å­é¡¹ç›®/åº“ ç§»åŠ¨ä»£ç åˆ°å¦ä¸€ä¸ªä»“åº“ä¿ç•™æäº¤ç‚¹ å…¨å±€ä¿®æ”¹é‚®ç®±åœ°å€ æ‹‰å–è¿œç¨‹åˆ†æ”¯å¼ºåˆ¶è¦†ç›–æœ¬åœ° å¸¸è§æ¦‚å¿µ Pull Request branch å¼€å‘/å‘å¸ƒ/ç¼ºé™·åˆ†ç¦»æ¨¡å‹ (æ”¯æŒ master/develop/feature/release/hotfix ç±»å‹åˆ†æ”¯) å‚è€ƒèµ„æ–™ git éƒ¨åˆ†æ¦‚å¿µ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:0:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"å››ä¸ªå·¥ä½œåŒºåŸŸ Gitæœ¬åœ°æœ‰å››ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€gitä»“åº“(Remote Directory)ã€‚ Workspaceï¼š å·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹ Index / Stageï¼š æš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ Repositoryï¼š ä»“åº“åŒºï¼ˆæˆ–ç‰ˆæœ¬åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬ Remoteï¼š è¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:1:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"å·¥ä½œæµç¨‹ gitçš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š ï¼‘ã€åœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ï¼› ï¼’ã€å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºåŸŸï¼› ï¼“ã€å°†æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“ã€‚ å› æ­¤ï¼Œgitç®¡ç†çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹ï¼ˆmodifiedï¼‰,å·²æš‚å­˜ï¼ˆstagedï¼‰,å·²æäº¤(committed) ","date":"2023-01-15","objectID":"/posts/tools/git/git/:2:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"æ–‡ä»¶çš„å››ç§çŠ¶æ€ GITä¸å…³å¿ƒæ–‡ä»¶ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å…·ä½“å·®åˆ«ï¼Œè€Œæ˜¯å…³å¿ƒæ–‡ä»¶çš„æ•´ä½“æ˜¯å¦æœ‰æ”¹å˜ï¼Œè‹¥æ–‡ä»¶è¢«æ”¹å˜ï¼Œåœ¨æ·»åŠ æäº¤æ—¶å°±ç”Ÿæˆæ–‡ä»¶æ–°ç‰ˆæœ¬çš„å¿«ç…§ï¼Œè€Œåˆ¤æ–­æ–‡ä»¶æ•´ä½“æ˜¯å¦æ”¹å˜çš„æ–¹æ³•å°±æ˜¯ç”¨ SHA-1ç®—æ³•è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå’Œã€‚ Untracked: æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­, ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“, ä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶. é€šè¿‡git add çŠ¶æ€å˜ä¸ºStaged. Unmodify: æ–‡ä»¶å·²ç»å…¥åº“, æœªä¿®æ”¹, å³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´. è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„, å¦‚æœå®ƒè¢«ä¿®æ”¹, è€Œå˜ä¸ºModified.å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“, åˆ™æˆä¸ºUntrackedæ–‡ä»¶ Modified: æ–‡ä»¶å·²ä¿®æ”¹, ä»…ä»…æ˜¯ä¿®æ”¹, å¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œ. è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„, é€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡,è¿”å›åˆ°unmodifyçŠ¶æ€, è¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶, è¦†ç›–å½“å‰ä¿®æ”¹ Staged: æš‚å­˜çŠ¶æ€. æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­, è¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´, æ–‡ä»¶ä¸ºUnmodifyçŠ¶æ€. æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜,æ–‡ä»¶çŠ¶æ€ä¸ºModified æ–°å»ºæ–‡ä»¶â€”\u003eUntracked ä½¿ç”¨addå‘½ä»¤å°†æ–°å»ºçš„æ–‡ä»¶åŠ å…¥åˆ°æš‚å­˜åŒºâ€”\u003eStaged ä½¿ç”¨commitå‘½ä»¤å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“â€”\u003eUnmodified å¦‚æœå¯¹UnmodifiedçŠ¶æ€çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹â€”\u003e modified å¦‚æœå¯¹UnmodifiedçŠ¶æ€çš„æ–‡ä»¶è¿›è¡Œremoveæ“ä½œâ€”\u003eUntracked git å¸¸ç”¨å‘½ä»¤ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:3:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git å®‰è£…é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 sudo apt-get install git git config --global user.name \"yuhuzhang\" git config --global user.email \"yuhuzhang@deepglint.com\" git config --global user.name \"zhangyuhu\" git config --global user.email \"zhangyuhu@didiglobal.com\" ssh-keygen -C 'yuhuzhang@deepglint.com' -t rsa cat ~/.ssh/id_rsa.pub sudo apt install gitk sudo apt-get install git-gui gitk git config --global core.editor vim git config --add core.filemode false # å¿½ç•¥filemodeå‘ç”Ÿæ”¹å˜ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:4:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git ä¹±ç  ç¼–è¾‘ .gitconfig 1 2 [gui] encoding = utf-8 1 2 3 git config --global gui.encoding utf-8 å›¾å½¢ç•Œé¢ç¼–ç  git config --global i18n.commit.encoding utf-8 æäº¤ä¿¡æ¯ç¼–ç  git config --global i18n.logoutputencoding utf-8 è¾“å‡º log ç¼–ç  1 2 3 4 5 # \"linux\\347\\263\\273\\347\\273\\237\\347\\256\\241\\347\\220\\206.md\" git config --global core.quotepath false # core.quotepathçš„ä½œç”¨æ˜¯æ§åˆ¶è·¯å¾„æ˜¯å¦ç¼–ç æ˜¾ç¤ºçš„é€‰é¡¹ã€‚å½“è·¯å¾„ä¸­çš„å­—ç¬¦å¤§äº0x80çš„æ—¶å€™ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œè½¬ä¹‰æ˜¾ç¤ºï¼›è®¾ç½®ä¸ºfalseï¼Œä¸è½¬ä¹‰ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:5:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"Gitæäº¤ä»£ç çš„æµç¨‹ æäº¤æµç¨‹ 1 2 3 4 git pull --rebase git add . git commit -m\"\" git push origin xxx 1 2 3 git push origin --delete xx # åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin xxx --force # å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ git push origin dev-zyh # æ¨é€åˆ°æŒ‡å®šåˆ†æ”¯ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:6:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git commit â€“amend 1 2 3 git commit --amend # ä¼šé€šè¿‡ core.editor æŒ‡å®šçš„ç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘ git commit --amend --no-edit # ä¸ä¼šè¿›å…¥ç¼–è¾‘å™¨ï¼Œç›´æ¥è¿›è¡Œæäº¤ git commit --amend --no-edit --author \"zhangyuhu \u003czhangyuhude@163.com\u003e\" ","date":"2023-01-15","objectID":"/posts/tools/git/git/:7:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git æŸ¥çœ‹ 1 2 3 4 5 git log -1 --stat git show 548c72f42f51c22dbf2fdf133426e094c59789e4 --stat git show //æœ€æ–°çš„commit git show commitId //æŒ‡å®šcommit git show commitId fileName //æŒ‡å®šcommitçš„æŸä¸ªæ–‡ä»¶ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:8:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git diff 1 2 3 4 5 6 7 8 9 10 11 12 #æ¯”è¾ƒå·¥ä½œç©ºé—´ä¸­çš„æ–‡ä»¶å’Œæš‚å­˜åŒºæ–‡ä»¶çš„å·®å¼‚ git diff [files] #æ¯”è¾ƒæš‚å­˜åŒºçš„æ–‡ä»¶ä¸ä¹‹å‰å·²ç»æäº¤è¿‡çš„æ–‡ä»¶å·®å¼‚ git diff --cached [files] #æ¯”è¾ƒrepoä¸å·¥ä½œç©ºé—´ä¸­çš„æ–‡ä»¶å·®å¼‚ git diff HEAD [files] #æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹å·®å¼‚ git diff origin/master git diff origin/HEAD ","date":"2023-01-15","objectID":"/posts/tools/git/git/:9:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git diff meld 1 2 3 4 5 sudo apt-get install meld git config --global diff.tool meld git difftool master..devel git difftool dev-adas-730 ","date":"2023-01-15","objectID":"/posts/tools/git/git/:10:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git rm 1 2 3 4 5 #å½“æˆ‘ä»¬éœ€è¦åˆ é™¤æš‚å­˜åŒºæˆ–åˆ†æ”¯ä¸Šçš„æ–‡ä»¶, åŒæ—¶å·¥ä½œåŒºä¹Ÿä¸éœ€è¦è¿™ä¸ªæ–‡ä»¶äº†, å¯ä»¥ä½¿ç”¨ï¼ˆâš ï¸ï¼‰ git rm file_path #å½“æˆ‘ä»¬éœ€è¦åˆ é™¤æš‚å­˜åŒºæˆ–åˆ†æ”¯ä¸Šçš„æ–‡ä»¶, ä½†æœ¬åœ°åˆéœ€è¦ä½¿ç”¨, è¿™ä¸ªæ—¶å€™ç›´æ¥pushé‚£è¾¹è¿™ä¸ªæ–‡ä»¶å°±æ²¡æœ‰ï¼Œå¦‚æœpushä¹‹å‰é‡æ–°addé‚£ä¹ˆè¿˜æ˜¯ä¼šæœ‰ã€‚ git rm --cached file_path ","date":"2023-01-15","objectID":"/posts/tools/git/git/:11:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git reset 1 2 3 4 5 6 7 #å¦‚æœå‡ºç°:å°†ä¸å¿…è¦çš„æ–‡ä»¶commit æˆ–è€… ä¸Šæ¬¡æäº¤è§‰å¾—æ˜¯é”™çš„ æˆ–è€… ä¸æƒ³æ”¹å˜æš‚å­˜åŒºå†…å®¹ï¼Œåªæ˜¯æƒ³è°ƒæ•´æäº¤çš„ä¿¡æ¯ #ç§»é™¤ä¸å¿…è¦çš„æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ git reset HEAD æ–‡ä»¶å #å»æ‰ä¸Šä¸€æ¬¡çš„æäº¤ï¼ˆä¼šç›´æ¥å˜æˆaddä¹‹å‰çŠ¶æ€ï¼‰ git reset HEAD^ #å»æ‰ä¸Šä¸€æ¬¡çš„æäº¤ï¼ˆå˜æˆaddä¹‹åï¼Œcommitä¹‹å‰çŠ¶æ€ï¼‰ git reset --soft HEAD^ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:12:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git config git config config é…ç½®æœ‰systemçº§åˆ« globalï¼ˆç”¨æˆ·çº§åˆ«ï¼‰ å’Œlocalï¼ˆå½“å‰ä»“åº“ï¼‰ä¸‰ä¸ª è®¾ç½®å…ˆä»system-ã€‹global-ã€‹local åº•å±‚é…ç½®ä¼šè¦†ç›–é¡¶å±‚é…ç½® åˆ†åˆ«ä½¿ç”¨â€“system/global/local å¯ä»¥å®šä½åˆ°é…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # æŸ¥çœ‹ç³»ç»Ÿconfig git config --system --list # æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼ˆglobalï¼‰é…ç½® git config --global --list # æŸ¥çœ‹å½“å‰ä»“åº“é…ç½®ä¿¡æ¯ git config -- local --list # æ˜¾ç¤ºå½“å‰çš„Gité…ç½® git config --list # ç¼–è¾‘Gité…ç½®æ–‡ä»¶ git config -e [--global] ","date":"2023-01-15","objectID":"/posts/tools/git/git/:13:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git stash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 git stash git stash save 'message...'å¯ä»¥æ·»åŠ ä¸€äº›æ³¨é‡Š git stash list git stash pop [â€“index] [stash_id] git stash pop æ¢å¤æœ€æ–°çš„è¿›åº¦åˆ°å·¥ä½œåŒºã€‚gité»˜è®¤ä¼šæŠŠå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ”¹åŠ¨éƒ½æ¢å¤åˆ°å·¥ä½œåŒºã€‚ git stash pop --index æ¢å¤æœ€æ–°çš„è¿›åº¦åˆ°å·¥ä½œåŒºå’Œæš‚å­˜åŒºã€‚ï¼ˆå°è¯•å°†åŸæ¥æš‚å­˜åŒºçš„æ”¹åŠ¨è¿˜æ¢å¤åˆ°æš‚å­˜åŒºï¼‰ git stash pop stash@{1}æ¢å¤æŒ‡å®šçš„è¿›åº¦åˆ°å·¥ä½œåŒºã€‚stash_idæ˜¯é€šè¿‡git stash listå‘½ä»¤å¾—åˆ°çš„ é€šè¿‡git stash popå‘½ä»¤æ¢å¤è¿›åº¦åï¼Œä¼šåˆ é™¤å½“å‰è¿›åº¦ã€‚ git stash apply [â€“index] [stash_id] é™¤äº†ä¸åˆ é™¤æ¢å¤çš„è¿›åº¦ä¹‹å¤–ï¼Œå…¶ä½™å’Œgit stash pop å‘½ä»¤ä¸€æ ·ã€‚ git stash drop [stash_id] åˆ é™¤ä¸€ä¸ªå­˜å‚¨çš„è¿›åº¦ã€‚å¦‚æœä¸æŒ‡å®šstash_idï¼Œåˆ™é»˜è®¤åˆ é™¤æœ€æ–°çš„å­˜å‚¨è¿›åº¦ã€‚ git stash clear åˆ é™¤æ‰€æœ‰å­˜å‚¨çš„è¿›åº¦ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:14:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git alias é…ç½®åˆ«å 1 2 3 4 5 locate .gitconfig cd xx cat .gitconfig git config --global alias.cazyh 'commit --amend --no-edit --author \"zhangyuhu \u003czhangyuhude@163.com\u003e\"' ","date":"2023-01-15","objectID":"/posts/tools/git/git/:15:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git log 1 2 3 git log --graph git config --global alias.lg \"log --graph --all --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u003c%an\u003e%Creset' --abbrev-commit --date=relative\" ","date":"2023-01-15","objectID":"/posts/tools/git/git/:16:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git fetch / merge /pull git fetchæ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰åˆ°æœ¬åœ°ï¼Œç”¨æˆ·åœ¨æ£€æŸ¥äº†ä»¥åå†³å®šæ˜¯å¦åˆå¹¶åˆ°å·¥ä½œæœ¬æœºåˆ†æ”¯ä¸­ã€‚ è€Œgit pull åˆ™æ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰ä¸‹æ¥åç›´æ¥åˆå¹¶ï¼Œå³ï¼šgit pull = git fetch + git mergeï¼Œè¿™æ ·å¯èƒ½ä¼šäº§ç”Ÿå†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³ã€‚ 1 2 3 4 5 6 # ä»è¿œç¨‹çš„originä»“åº“çš„masterä¸»åˆ†æ”¯æ›´æ–°æœ€æ–°çš„ç‰ˆæœ¬åˆ°origin/masteråˆ†æ”¯ä¸Š git fetch origin master # æ¯”è¾ƒæœ¬åœ°çš„masteråˆ†æ”¯å’Œorigin/masteråˆ†æ”¯çš„å·®åˆ« git log -p master..origin/master # åˆå¹¶å†…å®¹åˆ°æœ¬åœ°masteråˆ†æ”¯ git merge origin/master å°½é‡å°‘ç”¨git pullï¼Œå¤šç”¨git fetchå’Œmerge ","date":"2023-01-15","objectID":"/posts/tools/git/git/:17:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git tag 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 git tag # åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾ git tag -l \"v0.1\" # è¿‡æ»¤åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾ git tag -a v1.4 -m \"my version 1.4\" # åˆ›å»ºæ ‡ç­¾ git show v1.4 # æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯å’Œä¸ä¹‹å¯¹åº”çš„æäº¤ä¿¡æ¯ git tag -d v1.4 # åˆ é™¤æ ‡ç­¾ git push origin :refs/tags/v1.4 # åˆ é™¤è¿œç¨‹æ ‡ç­¾ git push origin --delete v1.4 # åˆ é™¤è¿œç¨‹æ ‡ç­¾ git checkout v1.4 # åˆ‡æ¢åˆ° v1.4 tag git checkout -b version_v1.4 v1.4 # åˆ‡æ¢åˆ° v1.4 tag version_v1.4 git push origin v1.4 # ä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ git push origin --tags # æŠŠæ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šçš„æ ‡ç­¾å…¨éƒ¨ä¼ é€åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ åæœŸæ‰“æ ‡ç­¾ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 git log --pretty=oneline dd1db2ddf7ab23a57b0197abe80167ba4847f185 (HEAD -\u003e master, tag: v0.0.2, origin/master, origin/HEAD) Merge branch 'release-0.0.2' 1967f19f3d2f7b13d18f80dada14da1b8385ecc3 (release-0.0.2) version update :v0.0.2 28b3ff52ea28221314264482d6db6fb7349cf2f8 (develop) Merge branch 'release-0.0.1' into develop e2d4b5d8eb8407d7141c9846c4459cd1733922fb (release-0.0.1) version update :v0.0.1 2c6ffbce9ffd31e4cee8ca5013924324b49ec898 add bump-version.sh 9c29190a5388ae74f6c983468c8637de40653816 (origin/develop) Merge remote-tracking branch 'origin/hotfix' into develop 5a0a3d928c59a35e3421d2dc029b0487e24a2772 add HotFix/01.fix 78881870f888c519f21025d22869eb5d38b75030 Merge remote-tracking branch 'origin/myfeature_02' into develop 1c9e156e9b54c6714a6f6e8075b8f6cf316ca7c5 Merge remote-tracking branch 'origin/myfeature_01' into develop b2dc34bc80ce6c9a77a9c399abc7633d09bf9359 Merge branch 'myfeature' into develop 696a92f6e0f77700c1aef37a57abcbc5d69a6673 add TestFile/4.text 5f57182ab7113fdadfa855e4c78237e1a29292b8 Merge branch 'myfeature' into develop 18dd8ba9bb27dc1ff1e414c8538è½¬è½½è¯´æ˜beb9e904c9032 TestFile/3.test 2124458eef016c34a4d0a0af68dc93166e93ba84 TestFile/2.test 754b56d1c44e49923d679c41839e84e0dfb650d6 add TestFile/1.test 3a8af3c6e7d2852d24b6de6711530cc0ddcc8760 Merge branch 'myfeature' into develop 963672575df191249da5c7f1aaef56afa9cccf2e (origin/feature, feature) add new file 395f4fbd335500cf7c5b51735a27231bea028cd8 (origin/release) Initial commit git tag -a v0.0.1 5a0a3d928c59a35e3421d2dc029b0487e24a2772 git tag -a v0.0.0 -m \"version 0.0.0\" 395f4fbd335500cf7c5b51735a27231bea028cd8 git å¸¸ç”¨æ“ä½œ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:18:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"git ä¿®æ”¹æŸæ¬¡æäº¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 commit f2711319a72fa9d3a5486c397c7a10511b970036 (HEAD -\u003e master) Author: zhangyuhu \u003czhangyuhude@163.com\u003e Date: Mon Aug 24 13:08:12 2020 +0800 update shll sys folder commit 1caaf17d90a3288aff8897fca08e33c81a6b9703 Author: yuhuzhang \u003cyuhuzhang@deepglint.com\u003e Date: Mon Aug 24 12:56:55 2020 +0800 add RunPowerOn.sh commit 8ac823f3e93e82638db5b076952bdcfa12e93cfb Author: zhangyuhu \u003czhangyuhude@163.com\u003e Date: Fri Aug 21 19:44:06 2020 +0800 add go test file 1 2 3 4 5 6 7 8 git rebase -i 8ac823f3e93e82638db5b076952bdcfa12e93cfb edit b8901f3 add RunPowerOn.sh pick 5593c97 update shll sys folder git cazyh git rebase --continue 1 2 3 4 1.git rebase -i åˆ†æ”¯~ç§»åŠ¨æ•°å­— 2. é€‰æ‹©å¯¹åº”æ“ä½œ 3.git commit --amend 4.git rebase continue ","date":"2023-01-15","objectID":"/posts/tools/git/git/:19:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"ä¿®æ”¹æäº¤æ—¶é—´ 1 git commit --amend --date=\"2020-11-28T09:51:07\" --no-edit ","date":"2023-01-15","objectID":"/posts/tools/git/git/:20:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"æ·»åŠ å­é¡¹ç›®/åº“ git submodule add ä»“åº“åœ°å€ è·¯å¾„ ä»“åº“åœ°å€æ˜¯æŒ‡å­æ¨¡å—ä»“åº“åœ°å€ï¼Œè·¯å¾„æŒ‡å°†å­æ¨¡å—æ”¾ç½®åœ¨å½“å‰å·¥ç¨‹ä¸‹çš„è·¯å¾„ã€‚ 1 git submodule add -f https://gitee.com/fromyuhu/helloword ","date":"2023-01-15","objectID":"/posts/tools/git/git/:21:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"ç§»åŠ¨ä»£ç åˆ°å¦ä¸€ä¸ªä»“åº“ä¿ç•™æäº¤ç‚¹ æŸ¥çœ‹å½“å‰åˆ†æ”¯è¿œç¨‹çŠ¶æ€ 1 2 3 git remote # åˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯ git remote -v # åˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯ åœ¨æ¯ä¸€ä¸ªåå­—åé¢åˆ—å‡ºå…¶è¿œç¨‹url git remote show origin # æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼Œä»¥åŠä¸æœ¬åœ°ä»“åº“çš„å…³ç³» æ·»åŠ è¿œç¨‹ä»“åº“ 1 2 git remote add \u003cshortname\u003e \u003curl\u003e #æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªæ–¹ä¾¿ä½¿ç”¨çš„ç®€å†™ git remote add origin_repo_b git@server_ip:/path/repo_b.git æ¨é€ä»£ç åˆ°æŒ‡å®šè¿œç¨‹ 1 2 3 git push origin_repo_b branch_a # origin_repo_b:è¿œç¨‹ ä»“åº“repo_bçš„åå­— # branch_a: ä»“åº“repo_açš„branch_aåˆ†æ”¯ å…‹éš†ä»“åº“repo_bï¼Œæˆ–è€…ä½¿ç”¨é¡µé¢ï¼Œæ£€æŸ¥æ˜¯å¦pushæˆåŠŸ 1 git clone git@server_ip:/path/repo_b.git è¿œç¨‹ä»“åº“çš„é‡å‘½åä¸ç§»é™¤ 1 2 3 git remote rename origin_repo_b zyh_origin # ä¿®æ”¹ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„ç®€å†™å git remote remove origin_repo_b # ç§»é™¤ä¸€ä¸ªè¿œç¨‹ä»“åº“ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:22:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"å…¨å±€ä¿®æ”¹é‚®ç®±åœ°å€ å¦ä¸€ä¸ªå¸¸è§çš„æƒ…å½¢æ˜¯åœ¨ä½ å¼€å§‹å·¥ä½œæ—¶å¿˜è®°è¿è¡Œ git config æ¥è®¾ç½®ä½ çš„åå­—ä¸é‚®ç®±åœ°å€ï¼Œ æˆ–è€…ä½ æƒ³è¦å¼€æºä¸€ä¸ªé¡¹ç›®å¹¶ä¸”ä¿®æ”¹æ‰€æœ‰ä½ çš„å·¥ä½œé‚®ç®±åœ°å€ä¸ºä½ çš„ä¸ªäººé‚®ç®±åœ°å€ã€‚ ä»»ä½•æƒ…å½¢ä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ filter-branch æ¥ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªæäº¤ä¸­çš„é‚®ç®±åœ°å€ã€‚ éœ€è¦å°å¿ƒçš„æ˜¯åªä¿®æ”¹ä½ è‡ªå·±çš„é‚®ç®±åœ°å€ï¼Œæ‰€ä»¥ä½ ä½¿ç”¨ â€“commit-filterï¼š 1 2 3 4 5 6 7 8 9 $ git filter-branch --commit-filter ' if [ \"$GIT_AUTHOR_EMAIL\" = \"schacon@localhost\" ]; then GIT_AUTHOR_NAME=\"Scott Chacon\"; GIT_AUTHOR_EMAIL=\"schacon@example.com\"; git commit-tree \"$@\"; else git commit-tree \"$@\"; fi' HEAD 1 2 3 4 5 6 7 8 9 git filter-branch --commit-filter ' if [ \"$GIT_AUTHOR_EMAIL\" = \"yuhuzhang@deepglint.com\" ]; then GIT_AUTHOR_NAME=\"zhangyuhu\"; GIT_AUTHOR_EMAIL=\"zhangyuhude@163.com\"; git commit-tree \"$@\"; else git commit-tree \"$@\"; fi' HEAD 1 2 3 4 5 6 7 8 9 git filter-branch --commit-filter ' if [ \"$GIT_AUTHOR_NAME\" = \"yuhuzhang\" ]; then GIT_AUTHOR_NAME=\"zhangyuhu\"; GIT_AUTHOR_EMAIL=\"zhangyuhude@163.com\"; git commit-tree \"$@\"; else git commit-tree \"$@\"; fi' HEAD 1 2 3 4 5 6 7 8 9 git filter-branch --commit-filter ' if [ \"$GIT_AUTHOR_EMAIL\" = \"zhangyuhude@163.com\" ]; then GIT_AUTHOR_NAME=\"yuhuzhang\"; GIT_AUTHOR_EMAIL=\"yuhuzhang@deepglint.com\"; git commit-tree \"$@\"; else git commit-tree \"$@\"; fi' HEAD è¿™ä¼šéå†å¹¶é‡å†™æ¯ä¸€ä¸ªæäº¤æ¥åŒ…å«ä½ çš„æ–°é‚®ç®±åœ°å€ã€‚ å› ä¸ºæäº¤åŒ…å«äº†å®ƒä»¬çˆ¶æäº¤çš„ SHA-1 æ ¡éªŒå’Œï¼Œè¿™ä¸ªå‘½ä»¤ä¼šä¿®æ”¹ä½ çš„å†å²ä¸­çš„æ¯ä¸€ä¸ªæäº¤çš„ SHA-1 æ ¡éªŒå’Œï¼Œ è€Œä¸ä»…ä»…åªæ˜¯é‚£äº›åŒ¹é…é‚®ç®±åœ°å€çš„æäº¤ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:23:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"æ‹‰å–è¿œç¨‹åˆ†æ”¯å¼ºåˆ¶è¦†ç›–æœ¬åœ° 1 2 3 git fetch --all git reset --hard master git pull #å¯çœç•¥ 1 git fetch --all \u0026\u0026 git reset --hard master \u0026\u0026 git pull å¸¸è§æ¦‚å¿µ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:24:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"Pull Request æœ‰ä¸€ä¸ªä»“åº“ï¼Œå«Repo Aã€‚ä½ å¦‚æœè¦å¾€é‡Œè´¡çŒ®ä»£ç ï¼Œé¦–å…ˆè¦Forkè¿™ä¸ªRepoï¼Œäºæ˜¯åœ¨ä½ çš„Githubè´¦å·ä¸‹æœ‰äº†ä¸€ä¸ªRepo A2,ã€‚ç„¶åä½ åœ¨è¿™ä¸ªA2ä¸‹å·¥ä½œï¼ŒCommitï¼Œpushç­‰ã€‚ç„¶åä½ å¸Œæœ›åŸå§‹ä»“åº“Repo Aåˆå¹¶ä½ çš„å·¥ä½œï¼Œä½ å¯ä»¥åœ¨Githubä¸Šå‘èµ·ä¸€ä¸ªPull Requestï¼Œæ„æ€æ˜¯è¯·æ±‚Repo Açš„æ‰€æœ‰è€…ä»ä½ çš„A2åˆå¹¶åˆ†æ”¯ã€‚å¦‚æœè¢«å®¡æ ¸é€šè¿‡å¹¶æ­£å¼åˆå¹¶ï¼Œè¿™æ ·ä½ å°±ä¸ºé¡¹ç›®Aåšè´¡çŒ®äº†ã€‚ å½“ä½ æƒ³æ›´æ­£åˆ«äººä»“åº“é‡Œçš„bug æˆ–è€…å¢åŠ  feature æ—¶ï¼Œè¦èµ°ä¸€ä¸ªæµç¨‹ï¼š å…ˆ fork åˆ«äººçš„ä»“åº“ï¼Œç›¸å½“äºæ‹·è´ä¸€ä»½ï¼Œä¸ä¼šæœ‰äººç›´æ¥è®©ä½ æ”¹ä¿®åŸä»“åº“çš„ clone åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œåšä¸€äº› bug fix æˆ–è€… feature å¼€å‘ å‘èµ· pull request ç»™åŸä»“åº“ï¼Œè®©ä»–çœ‹åˆ°ä½ ä¿®æ”¹çš„ bug åŸä»“åº“ review è¿™ä¸ª bugï¼Œå¦‚æœæ˜¯æ­£ç¡®çš„è¯ï¼Œå°±ä¼š merge åˆ°ä»–è‡ªå·±çš„é¡¹ç›®ä¸­ è‡³æ­¤ï¼Œæ•´ä¸ª pull request çš„è¿‡ç¨‹å°±ç»“æŸäº†ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/git/git/:25:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"branch åˆ†æ”¯ï¼ˆbranchesï¼‰æ˜¯ç”¨æ¥æ ‡è®°ç‰¹å®šçš„ä»£ç æäº¤ï¼Œæ¯ä¸€ä¸ªåˆ†æ”¯é€šè¿‡SHA1sumå€¼æ¥æ ‡è¯†ï¼Œæ‰€ä»¥å¯¹åˆ†æ”¯è¿›è¡Œçš„æ“ä½œæ˜¯è½»é‡çº§çš„â€”â€”ä½ æ”¹å˜çš„ä»…ä»…æ˜¯SHA1sumå€¼ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆgitæå€¡å¤§å®¶å¤šä½¿ç”¨åˆ†æ”¯ï¼Œå› ä¸ºå®ƒå³è½»é‡çº§åˆçµæ´»ã€‚ æœ¬åœ°åˆ†æ”¯(local branches) 1 git branch è¿œç¨‹åˆ†æ”¯(remote branches) 1 git branch -r åˆ†æ”¯åœ¨æœ¬åœ°å­˜å‚¨ .git/refs/head/[æœ¬åœ°åˆ†æ”¯] .git/refs/remotes/[æ­£åœ¨è·Ÿè¸ªçš„åˆ†æ”¯] ","date":"2023-01-15","objectID":"/posts/tools/git/git/:26:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"å¼€å‘/å‘å¸ƒ/ç¼ºé™·åˆ†ç¦»æ¨¡å‹ (æ”¯æŒ master/develop/feature/release/hotfix ç±»å‹åˆ†æ”¯) ä»‹ç»ä¸€ä¸ªæˆåŠŸçš„ Git åˆ†æ”¯æ¨¡å‹(master - hotfix - develop - feature - release) å‚è€ƒèµ„æ–™ gitbook 1 2 btime = !\"for k in `git branch|perl -pe s/^..//`;do echo `git show --pretty=format:\\\"%Cgreen%ci %Cblue%cr%Creset\\\" $k|head -n 1`\\\\\\t$k;done|sort\" brtime = !\"for k in `git branch -r|perl -pe s/^..//`;do echo `git show --pretty=format:\\\"%Cgreen%ci %Cblue%cr%Creset\\\" $k|head -n 1`\\\\\\t$k;done|sort\" ","date":"2023-01-15","objectID":"/posts/tools/git/git/:27:0","tags":["git"],"title":"tool:git: å¸¸ç”¨å‘½ä»¤ç¬”è®°","uri":"/posts/tools/git/git/"},{"categories":["tools"],"content":"macç”µè„‘å¸¸ç”¨é…ç½®","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":" ç»ˆç«¯ï¼š homebrew : git macå¿«æ·é”® é€šç”¨ Macç³»ç»Ÿè®¾ç½®gitå‘½ä»¤è‡ªåŠ¨è¡¥å…¨ mac ä½¿ç”¨ zsh ZSH oh-my-zsh zsh-syntax-highlighting ç»ˆç«¯ï¼š iterm2 homebrew : ä¸€ã€brew å®‰è£…è„šæœ¬ ï¼ˆè‡ªåŠ¨é€‰æ‹©è½¯ä»¶æºï¼‰ /bin/zsh -c â€œ$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\" äºŒã€brew å¸è½½è„šæœ¬ /bin/zsh -c â€œ$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)\" ä¸‰ã€å¸¸ç”¨å‘½ä»¤ å®‰è£…è½¯ä»¶ï¼šbrew install xxx å¸è½½è½¯ä»¶ï¼šbrew uninstall xxx æœç´¢è½¯ä»¶ï¼šbrew search xxx æ›´æ–°è½¯ä»¶ï¼šbrew upgrade xxx æŸ¥çœ‹åˆ—è¡¨ï¼šbrew list æ›´æ–°brewï¼šbrew update æ¸…ç†æ‰€æœ‰åŒ…çš„æ—§ç‰ˆæœ¬ï¼šbrew cleanup æ¸…ç†æŒ‡å®šåŒ…çš„æ—§ç‰ˆæœ¬ï¼šbrew cleanup $FORMULA æŸ¥çœ‹å¯æ¸…ç†çš„æ—§ç‰ˆæœ¬åŒ…ï¼Œä¸æ‰§è¡Œå®é™…æ“ä½œï¼šbrew cleanup -n git git config â€“global user.name â€œzhangyuhuâ€ git config â€“global user.email â€œzhangyuhu@didiglobal.comâ€ ssh-keygen -C â€˜zhangyuhu@didiglobal.comâ€™ -t rsa cat ~/.ssh/id_rsa.pub macå¿«æ·é”® ","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/:0:0","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":"é€šç”¨ Commandæ˜¯Macé‡Œæœ€é‡è¦çš„ä¿®é¥°é”®ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç›¸å½“äºWindowsä¸‹çš„Ctrlã€‚ æ‰€ä»¥ä»¥ä¸‹æœ€åŸºæœ¬æ“ä½œå¾ˆå¥½ç†è§£ï¼š Command + Z æ’¤é”€ Command + X å‰ªåˆ‡ Command + C æ‹·è´ï¼ˆCopyï¼‰ Command + V ç²˜è´´ Command + A å…¨é€‰ï¼ˆAllï¼‰ Command + S ä¿å­˜ï¼ˆSave) Command + F æŸ¥æ‰¾ï¼ˆFindï¼‰ Macç³»ç»Ÿè®¾ç½®gitå‘½ä»¤è‡ªåŠ¨è¡¥å…¨ brew install bash-completion brew info bash-completion 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 DIDI-FVFDH0A8P3Y1:bash_completion.d didi$ brew info bash-completion bash-completion: stable 1.3 (bottled) Programmable completion for Bash 3.2 https://salsa.debian.org/debian/bash-completion Conflicts with: bash-completion@2 (because each are different versions of the same formula) /usr/local/Cellar/bash-completion/1.3_3 (189 files, 608.3KB) * Poured from bottle on 2021-09-15 at 00:40:57 From: https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git/Formula/bash-completion.rb ==\u003e Caveats Add the following line to your ~/.bash_profile: [[ -r \"/usr/local/etc/profile.d/bash_completion.sh\" ]] \u0026\u0026 . \"/usr/local/etc/profile.d/bash_completion.sh\" Bash completion has been installed to: /usr/local/etc/bash_completion.d ==\u003e Analytics install: 8,329 (30 days), 25,293 (90 days), 111,168 (365 days) install-on-request: 7,394 (30 days), 22,291 (90 days), 98,980 (365 days) build-error: 0 (30 days) git â€“version 1 git version 2.30.1 (Apple Git-130) curl https://raw.githubusercontent.com/git/git/v2.30.1/contrib/completion/git-completion.bash -o /usr/local/etc/bash_completion.d/git-completion.bash brew unlink bash-completion brew link bash-completion mac ä½¿ç”¨ zsh ","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/:1:0","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":"ZSH æŸ¥çœ‹å®‰è£…çš„ shell 1 2 3 4 5 6 7 8 cat /etc/shells /bin/bash /bin/csh /bin/ksh /bin/sh /bin/tcsh /bin/zsh ä½¿ç”¨ brew æ›´æ–° zsh 1 2 3 4 5 6 brew install zsh ==\u003e Downloading https://homebrew.bintray.com/bottles/zsh-5.5.1.high_sierra.bottle.tar.gz ######################################################################## 100.0% ==\u003e Pouring zsh-5.5.1.high_sierra.bottle.tar.gz /usr/local/Cellar/zsh/5.5.1: 1,444 files, 12MB åˆ‡æ¢ä¸º zsh 1 chsh -s /bin/zsh é‡å¯ç»ˆç«¯å³å¯ä½¿ç”¨ zsh ","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/:2:0","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":"oh-my-zsh ä¸‹è½½å®‰è£…è„šæœ¬ 1 sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" é…ç½®ä¸»é¢˜ 1 2 ZSH_THEME=\"bira\" source ~/.zshrc æ’ä»¶ è‡ªåŠ¨è¡¥å…¨æ’ä»¶ 1 2 3 4 mkdir ~/.oh-my-zsh/custom/plugins/incr cd ~/.oh-my-zsh/custom/plugins/incr wget -O incr.plugin.zsh http://mimosa-pudica.net/src/incr-0.2.zsh # wget -O ~/.oh-my-zsh/plugins/incr/incr.plugin.zsh http://mimosa-pudica.net/src/incr-0.2.zsh incr ä¸‹è½½åï¼Œè¿˜éœ€è¦åœ¨ ~/.zshrc ä¸­æ·»åŠ ï¼š 1 2 3 4 5 plugins=( zsh-autosuggestions git incr ) åœ¨ ~/.zshrc æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š 1 source ~/.oh-my-zsh/custom/plugins/incr/incr*.zsh ","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/:3:0","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":"zsh-syntax-highlighting å®˜ç½‘ ä½œç”¨ å¹³å¸¸ç”¨çš„lsã€cd ç­‰å‘½ä»¤è¾“å…¥æ­£ç¡®ä¼šç»¿è‰²é«˜äº®æ˜¾ç¤ºï¼Œè¾“å…¥é”™è¯¯ä¼šæ˜¾ç¤ºå…¶ä»–çš„é¢œè‰²ã€‚ å®‰è£… å…‹éš†é¡¹ç›® 1 git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting åœ¨ ~/.zshrc ä¸­é…ç½® 1 plugins=(å…¶ä»–çš„æ’ä»¶ zsh-syntax-highlighting) ä½¿é…ç½®ç”Ÿæ•ˆ 1 source ~/.zshrc å¸¸ç”¨æ’ä»¶ï¼š zsh oh-my-zsh æ’ä»¶æ¨è ","date":"2023-01-15","objectID":"/posts/tools/sys_config/mac/mac/:4:0","tags":["mac"],"title":"tool:macç”µè„‘å¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/mac/mac/"},{"categories":["tools"],"content":"Markdown","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ MD è¯­æ³•ç¤ºä¾‹ ä»£ç æ’å…¥è¡Œæ•° é«˜äº® è¡¨æ ¼ åˆ é™¤çº¿ å›¾ç‰‡å±…ä¸­ MD è¯­æ³•ç¤ºä¾‹ ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:0:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"ä»£ç æ’å…¥è¡Œæ•° 1 2 //11 //22 ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:1:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"é«˜äº® é«˜äº® é«˜äº® ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:2:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"è¡¨æ ¼ é¡¹ç›® ä»·æ ¼ Computer $1600 Phone $12 Pipe å¯ä»¥ä½¿ç”¨å†’å·æ¥å®šä¹‰å¯¹é½æ–¹å¼ï¼š é¡¹ç›® ä»·æ ¼ æ•°é‡ Computer 1600 å…ƒ 5 Phone 12 å…ƒ 12 Pipe 1 å…ƒ 234 ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:3:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"åˆ é™¤çº¿ æˆ‘æ˜¯åˆ é™¤çº¿ ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:4:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"å›¾ç‰‡å±…ä¸­ ","date":"2023-01-15","objectID":"/posts/tools/markdown/markdown/:5:0","tags":["Markdown"],"title":"tool:markdownè¯­æ³•ç¤ºä¾‹","uri":"/posts/tools/markdown/markdown/"},{"categories":["tools"],"content":"minicom","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ç®€ä»‹ Minicomsä½¿ç”¨ å®‰è£… ç›¸å…³é…ç½® æ›´å¤š Ctrl+A è‡ªåŠ¨ä¿å­˜log é€€å‡ºè½¯ä»¶ å…¶ä»–é—®é¢˜ é…ç½®ä¸²å£æƒé™ æ–¹å¼ä¸€ï¼šä½¿ç”¨å‘½ä»¤æ›´æ”¹ æ–¹å¼äºŒï¼šé…ç½®udevè§„åˆ™(æ¨è) é…ç½®é»˜è®¤æ–‡ä»¶ ä½¿ç”¨è‡ªåŠ¨è„šæœ¬ ç®€ä»‹ minicomæ˜¯ä¸€ä¸ªä¸²å£é€šä¿¡å·¥å…·ï¼Œå°±åƒWindowsä¸‹çš„è¶…çº§ç»ˆç«¯ã€‚å¯ç”¨æ¥ä¸ä¸²å£è®¾å¤‡é€šä¿¡ï¼Œå¦‚è°ƒè¯•äº¤æ¢æœºå’ŒModemç­‰ã€‚ Minicomsä½¿ç”¨ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:0:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"å®‰è£… 1 sudo apt-get install minicom ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:1:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"ç›¸å…³é…ç½® ä½¿ç”¨å‰éœ€è¦è¿›è¡Œé…ç½®ï¼Œæ‰§è¡Œ 1 sudo minicom -s å¯æ‰“å¼€minicomå¹¶è¿›å…¥é…ç½®æ¨¡å¼ï¼Œä½¿ç”¨æ–¹å‘é”®ï¼Œé€‰æ‹©éœ€è¦é…ç½®çš„é¡¹ç›®ï¼Œå¦‚ Serial port setup ï¼Œå›è½¦è¿›å…¥é…ç½®ï¼Œå¯ä»¥çœ‹åˆ°å¤šä¸ªé…ç½®é¡¹ï¼Œæ­¤æ—¶å…‰æ ‡åœ¨æœ€ä¸‹æ–¹ã€‚ éœ€è¦ä¿®æ”¹æŸä¸ªé…ç½®ï¼Œåˆ™è¾“å…¥å¯¹åº”çš„å­—æ¯ï¼Œå…‰æ ‡å³ä¼šè·³è½¬åˆ°å¯¹åº”çš„é¡¹ï¼Œç¼–è¾‘åï¼Œå›è½¦ç¡®è®¤ï¼Œå…‰æ ‡å†æ¬¡å›åˆ°æœ€ä¸‹æ–¹ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œéœ€è¦ä¿®æ”¹ 1 2 3 A - Serial Device # Aé…ç½®é¡¹ï¼ŒæŒ‡å®šUSBè®¾å¤‡ã€‚ä¸€èˆ¬USBè½¬ä¸²å£ä¼šç”Ÿæˆè®¾å¤‡/dev/ttyUSBxï¼Œxæ˜¯æ•°å­—åºå·ã€‚ E - Bps/Par/Bits # Eé…ç½®é¡¹ï¼Œæ ¹æ®å®é™…æƒ…å†µï¼ŒæŒ‡å®šæ³¢ç‰¹ç‡ç­‰å‚æ•° F - Hardware Flow Control # Fé…ç½®é¡¹ï¼Œç¡¬ä»¶æµæ§ï¼Œè¦çœ‹ä½ çš„è®¾å¤‡æ˜¯å¦æœ‰ã€‚å¦‚æœæ²¡æœ‰ï¼Œæˆ–è€…ä½ ä¸ç¡®å®šçš„è¯ï¼Œå¯ä»¥å…ˆå…³æ‰ï¼Œå°†é»˜è®¤çš„Yesåˆ‡æ¢ä¸ºNo. ä¿®æ”¹å¥½ä¹‹åï¼Œå›è½¦é€€åˆ°ä¸Šä¸€ä¸ªç•Œé¢ï¼Œæ­¤æ—¶è®°å¾—å¾€ä¸‹ï¼Œé€‰æ‹© Save setup as dfl å°†åˆšåˆšçš„ä¿®æ”¹ä¿å­˜ä¸ºé»˜è®¤é…ç½®ï¼Œé¿å…ä¸‹æ¬¡ä½¿ç”¨è¿˜éœ€è¦å†æ¬¡é…ç½®ã€‚ æœ€åï¼Œé€‰æ‹© Exit ä¼šé€€å‡ºé…ç½®ç•Œé¢ï¼Œå¹¶æ‰“å¼€minicomè½¯ä»¶æ‰ä¼šä½¿ç”¨ä¸Šè¿°å‚æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚é€‰æ‹© Exit from Minicom åˆ™ä¼šç›´æ¥é€€å‡ºminicomã€‚ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:2:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"æ›´å¤š å¯ä»¥ä½¿ç”¨ minicom -h æŸ¥çœ‹ï¼Œä¹Ÿå¯åœ¨minconä¸­ï¼ŒæŒ‰ Ctrl+A å†æŒ‰ Z æŸ¥çœ‹ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:3:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"Ctrl+A Ctrl+A æ˜¯mimicomçš„ç‰¹æ®ŠåŠŸèƒ½å‰ç¼€æŒ‰é”®ï¼Œä½†è¿˜æœ‰å¦ä¸€ä¸ªå¾ˆå®ç”¨çš„ä½œç”¨ï¼Œå°±æ˜¯æš‚åœå±å¹•è¾“å‡ºã€‚åœ¨è®¾å¤‡å¼€å§‹å¤§é‡è¾“å‡ºlogæ—¶ï¼ŒåŸºæœ¬çœ‹ä¸æ¸…å±å¹•å†…å®¹ã€‚æ­¤æ—¶å¯ä»¥æŒ‰ Ctrl+Aï¼Œæš‚åœè¾“å‡ºï¼Œæ–¹ä¾¿æŸ¥çœ‹æ‰€éœ€logã€‚ Ctrl+A è¿›å…¥ç‰¹æ®ŠåŠŸèƒ½ï¼š æŒ‰Zè¿›å…¥è®¾ç½®èœå• æŒ‰ Oé”®ï¼šæ‰“å¼€é…ç½®é€‰é¡¹ æŒ‰ Wé”®ï¼šè‡ªåŠ¨å·å±ã€‚å½“æ˜¾ç¤ºçš„å†…å®¹è¶…è¿‡ä¸€è¡Œä¹‹å¾Œï¼Œè‡ªåŠ¨å°†å¾Œé¢çš„å†…å®¹æ¢è¡Œã€‚è¿™ä¸ªåŠŸèƒ½åœ¨æŸ¥çœ‹å†…æ ¸çš„å•“åŠ¨ä¿¡æ¯æ—¶å¾ˆæœ‰ç”¨ æŒ‰ Cé”®ï¼šæ¸…é™¤å±å¹•çš„æ˜¾ç¤ºå†…å®¹ æŒ‰ Bé”®ï¼šæµè§ˆminicomçš„å†å²æ˜¾ç¤º æŒ‰ Xé”®ï¼šé€€å‡ºminicomï¼Œä¼šæç¤ºç¡®è®¤é€€å‡º æŒ‰ Né”®ï¼šå¯æ¿€æ´»æ—¶é—´æˆ³ï¼Œåœ¨æ¯è¡Œlogå‰æ·»åŠ å½“å‰ç³»ç»Ÿçš„æ—¶é—´æˆ³ æŒ‰ Sé”®ï¼šå¯å‘è®¾å¤‡ç«¯å‘é€æ–‡ä»¶ æŒ‰ Ré”®ï¼šå¯æ¥æ”¶æ–‡ä»¶ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:3:1","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"è‡ªåŠ¨ä¿å­˜log è®© minicom è‡ªåŠ¨ä¿å­˜logï¼Œå¯ä»¥æ–¹ä¾¿è°ƒè¯•ã€‚ æŸ¥çœ‹å‚æ•°ï¼Œminicomå¯ä»¥ä½¿ç”¨ -C å‚æ•°æŒ‡å®šä¿å­˜logæ–‡ä»¶ã€‚äºæ˜¯å®Œå–„è„šæœ¬ï¼Œè‡ªåŠ¨æŠŠlogä»¥æ—¥æœŸå‘½åï¼Œä¿å­˜åˆ°/tmpç›®å½•ä¸‹ã€‚tmpç›®å½•å…³æœºå³æ¸…ç©ºï¼Œå¦‚æœæƒ³æŒä¹…ä¿å­˜logï¼Œéœ€è¦ä¿®æ”¹åˆ°å…¶ä»–ç›®å½•ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:3:2","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"é€€å‡ºè½¯ä»¶ minicomä½¿ç”¨å‰ç¼€æŒ‰é”® Ctrl-Aï¼Œå³æ‰§è¡Œç‰¹æ®Šæ“ä½œæ—¶ï¼Œéƒ½éœ€è¦å…ˆæŒ‰ Ctrl+Aï¼Œå†æŒ‰æŸä¸ªæŒ‰é”®ä½¿ç”¨å¯¹åº”çš„åŠŸèƒ½ã€‚ Ctrl+Aï¼Œå†æŒ‰ Zï¼Œ å¯æŸ¥çœ‹å¸®åŠ©ï¼Œä»å¸®åŠ©å¯ä»¥çœ‹åˆ°ï¼Œé€€å‡ºæ—¶ï¼Œè¦å…ˆæŒ‰ Ctrl+Aï¼Œå†æŒ‰ X å…¶ä»–é—®é¢˜ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:4:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"é…ç½®ä¸²å£æƒé™ minicom æœ¬èº«ä¸éœ€è¦sudoæƒé™ï¼Œä½†å› ä¸ºè¦æ‰“å¼€ä¸²å£è®¾å¤‡/dev/xxx ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šéœ€è¦ä½¿ç”¨sudoæ¥å¯åŠ¨minicomã€‚ è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸‹ä¸²å£è®¾å¤‡çš„æƒé™ï¼Œè¿™æ ·ä»¥åå°±ä¸ç”¨ä½¿ç”¨sudoäº†ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:5:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"æ–¹å¼ä¸€ï¼šä½¿ç”¨å‘½ä»¤æ›´æ”¹ ç®€å•ç²—æš´åœ°ä½¿ç”¨chmodå‘½ä»¤ä¿®æ”¹ 1 sudo chmod 666 /dev/ttyUSB0 ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:5:1","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"æ–¹å¼äºŒï¼šé…ç½®udevè§„åˆ™(æ¨è) ä¿®æ”¹é…ç½®æ–‡ä»¶ 1 sudo vim /etc/udev/rules.d/70-ttyusb.rules å¢åŠ ä¸€è¡Œ 1 KERNEL==\"ttyUSB[0-9]*\", MODE=\"0666\" ä¿®æ”¹åï¼Œéœ€è¦é‡æ–°æ’æ‹”è®¾å¤‡ï¼Œä»¥é‡æ–°ç”Ÿæˆè®¾å¤‡èŠ‚ç‚¹ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:5:2","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"é…ç½®é»˜è®¤æ–‡ä»¶ åœ¨/etc/minicom/ç›®å½•ä¸‹æ˜¯minicomçš„é…ç½®æ–‡ä»¶ å¢åŠ é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 1 sudo vi /etc/minicom/minirc.ttyUSB0 1 2 3 4 5 6 7 8 pr port /dev/ttyUSB0 pu baudrate 115200 pu bits 8 pu parity N pu stopbits 1 pu minit pu mreset pu rtscts No æ‰§è¡Œ 1 minicom ttyUSB0 åŠ è½½é»˜è®¤é…ç½®æ–‡ä»¶ ä½¿ç”¨è‡ªåŠ¨è„šæœ¬ å‚è€ƒï¼šEasierMinicom 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 com() { local ports_USB ports_ACM ports datename dev devs dev_count ports_USB=$(ls /dev/ttyUSB* 2\u003enull | xargs -I {} basename {}) ports_ACM=$(ls /dev/ttyACM* 2\u003enull | xargs -I {} basename {}) ports=\"$ports_USB $ports_ACM\" #check lock devs=\"\" dev_count=0 for dev in ${ports}; do ! ls /run/lock/*\"${dev}\"* \u0026\u003e/dev/null \u0026\u0026 { devs+=\"${dev} \" ((dev_count++)) } done [ -z \"$devs\" ] \u0026\u0026 echo \"No Unlock Devices\" \u0026\u0026 return 0 datename=$(date +%Y%m%d-%H%M%S) if [ $dev_count -eq 1 ]; then dev=$devs else #select dev to open echo \"Please select one device: (Ctrl+C to abort)\" select dev in $devs; do if [ \"$dev\" ]; then echo \"You select the '$dev'\" break else echo \"Invaild selection\" fi done fi out=\"/tmp/$(basename ${dev}).$datename.log\" keep_dir=\"${HOME}/minicom_keep\" minicom $dev -C \"${out}\" \"$@\" [ -f \"${out}\" ] \u0026\u0026 { echo log : \"${out}\" read -p \"Keep it? [y|N]: \" keep [ \"${keep}\" = 'Y' -o \"${keep}\" = 'y' ] \u0026\u0026 { read -p \"Enter file name \u003e \" keep_file_name [ x\"$keep_file_name\" = x\"\" ] \u0026\u0026 keep_file_name=$(basename \"${out}\") mkdir -p \"$keep_dir\" cp \"${out}\" \"${keep_dir}/$keep_file_name\" echo \"saved in $keep_dir/$keep_file_name\" } } read -p \"Vim it? [y|N]: \" edit_vim [ \"${edit_vim}\" = 'Y' -o \"${edit_vim}\" = 'y' ] \u0026\u0026 vim \"${out}\" } è‡ªåŠ¨æ£€æµ‹æœªé”å®šçš„è®¾å¤‡ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ™åˆ—å‡ºç»™ç”¨æˆ·é€‰æ‹©ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªåˆ™ç›´æ¥ä½¿ç”¨ã€‚ é»˜äººåŠ è½½ /etc/minicom/minirc.${dev} çš„é…ç½®æ–‡ä»¶ è‡ªåŠ¨ä¿å­˜logåˆ°/tmpç›®å½•ï¼Œé€€å‡ºæ—¶ï¼Œè¯¢é—®æ˜¯å¦è¦ä¿å­˜åˆ°å¦å¤–çš„ç›®å½•ã€‚ ä½¿ç”¨ 1 2 3 echo \"source $(pwd)/EasierMinicom.sh\" \u003e\u003e ~/.bashrc source ~/.bashrc com ","date":"2023-01-15","objectID":"/posts/tools/minicom/minicom/:6:0","tags":["minicom"],"title":"tool:minicom(ä¸²å£é€šä¿¡å·¥å…·çš„ä½¿ç”¨)","uri":"/posts/tools/minicom/minicom/"},{"categories":["tools"],"content":"NFS","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ ä»€ä¹ˆæ˜¯NFS Network File System SUN RPC åŸºæœ¬åŸç† NFSè¿‡ç¨‹ NFSå®¢æˆ·ç«¯å’ŒNFSæœåŠ¡ç«¯é€šè®¯è¿‡ç¨‹ NFSæœåŠ¡çš„ä¼˜ç¼ºç‚¹ Ubuntuä¸»æœºçš„NFSå…±äº«æ–‡ä»¶å¤¹ nfs server å®‰è£… nfs client å®‰è£… /etc/exports å‚æ•° mount å‚æ•° ä»€ä¹ˆæ˜¯NFS ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:0:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"Network File System ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆè‹±è¯­ï¼šNetwork File Systemï¼Œç¼©å†™ä½œ NFSï¼‰æ˜¯ä¸€ç§åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ŒåŠ›æ±‚å®¢æˆ·ç«¯ä¸»æœºå¯ä»¥è®¿é—®æœåŠ¡å™¨ç«¯æ–‡ä»¶ï¼Œå¹¶ä¸”å…¶è¿‡ç¨‹ä¸è®¿é—®æœ¬åœ°å­˜å‚¨æ—¶ä¸€æ ·ï¼Œå®ƒç”±Sunå¾®ç³»ç»Ÿï¼ˆå·²è¢«ç”²éª¨æ–‡å…¬å¸æ”¶è´­ï¼‰å¼€å‘ï¼Œäº1984å¹´å‘å¸ƒã€‚ å®ƒåŸºäºå¼€æ”¾ç½‘ç»œè¿ç®—è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆONC RPCï¼‰ç³»ç»Ÿï¼šä¸€ä¸ªå¼€æ”¾ã€æ ‡å‡†çš„RFCç³»ç»Ÿï¼Œä»»ä½•äººæˆ–ç»„ç»‡éƒ½å¯ä»¥ä¾æ®æ ‡å‡†å®ç°å®ƒã€‚ å¼€æ”¾ç½‘ç»œè¿ç®—è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆè‹±è¯­ï¼šOpen Network Computing Remote Procedure Callï¼Œç¼©å†™ä¸ºONC RPCï¼‰ï¼Œä¸€ç§è¢«å¹¿æ³›åº”ç”¨çš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§å±äºåº”ç”¨å±‚çš„åè®®å †æ ˆï¼Œåº•å±‚ä¸ºTCP/IPåè®®ã€‚å¼€æ”¾ç½‘ç»œè¿ç®—ï¼ˆONCï¼‰æœ€æ—©æºè‡ªäºSunå¾®ç³»ç»Ÿï¼ˆSunï¼‰ï¼Œæ˜¯ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿè®¡åˆ’çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å®ƒç»å¸¸ä¹Ÿè¢«ç§°ä¸ºSun ONC æˆ– Sun RPCã€‚ç°ä»Šåœ¨å¤šæ•°ç±»UNIXç³»ç»Ÿä¸Šéƒ½å®ç°äº†è¿™å¥—ç³»ç»Ÿï¼Œå¾®è½¯å…¬å¸ä¹Ÿä»¥Windows Services for UNIXåœ¨ä»–ä»¬äº§å“ä¸Šæä¾›ONC RPCçš„æ”¯æŒã€‚2009å¹´ï¼ŒSunå¾®ç³»ç»Ÿä»¥æ ‡å‡†ä¸‰æ¡æ¬¾çš„BSDè®¸å¯è¯å‘å¸ƒè¿™å¥—ç³»ç»Ÿã€‚2010å¹´ï¼Œæ”¶è´­äº†Sunå¾®ç³»ç»Ÿçš„ç”²éª¨æ–‡å…¬å¸ç¡®è®¤äº†è¿™å¥—è½¯ä»¶BSDè®¸å¯è¯çš„æœ‰æ•ˆæ€§ä¸é€‚ç”¨èŒƒå›´ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:1:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"SUN RPC åŸºæœ¬åŸç† å®¢æˆ·ç«¯è§¦å‘è°ƒç”¨è¿œç¨‹è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯é€‰å–äº†å¯¹åº”RPCç¨‹åºå°è£…çš„å‡½ æ•°ï¼Œå¹¶å°†ç›¸å…³å‚æ•°ï¼ˆåŒ…æ‹¬è¿œç¨‹æ–¹æ³•åï¼Œæ–¹æ³•å‚æ•°ç­‰ï¼‰å°è£…æˆIPæ•°æ®åŒ…ï¼Œå‘é€ç»™æœåŠ¡å™¨ æœåŠ¡å™¨è¿›ç¨‹æ¥æ”¶åˆ°æ­¤æ•°æ®åŒ…åï¼Œæå–å‚æ•°ï¼Œæ‰§è¡Œç›¸åº”æ–¹æ³•è¿‡ç¨‹ æœåŠ¡å™¨æ–¹æ³•è¿‡ç¨‹è¿”å›åï¼Œå°†è¿”å›ç»“æœå°è£…æˆIPæ•°æ®åŒ…ï¼Œå‘é€ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯è¿›ç¨‹ï¼Œæ”¶å–åˆ°æ•°æ®åŒ…åï¼Œæå–è¿”å›ç»“æœ RPCç¨‹åºåŒ…æä¾›äº†æ•°æ®æŠ¥æ–‡å°è£…å’Œä¼ é€’ï¼Œä¿è¯å¼‚æ„ç¯å¢ƒä¸‹çš„å¯ç”¨æ€§ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºè®¾è®¡æ—¶ä¸éœ€è¦è€ƒè™‘ç³»ç»Ÿå·®å¼‚å¸¦æ¥çš„æ•°æ®æ ¼å¼ï¼Œç¼–ç è§£ç ç­‰é—®é¢˜ï¼Œæä¾›äº†å¾ˆå¤§æ–¹ä¾¿ã€‚ å®¢æˆ·ç¨‹åºå’ŒæœåŠ¡ç¨‹åºæ›´å¤šçš„èŒè´£æ˜¯åœ¨äºå»å®šä¹‰æè¿°å…·ä½“è¿œç¨‹è¿‡ç¨‹åŠå…¶è§¦å‘ï¼Œå¹¶å°†å…¶æ³¨å†Œç»‘å®šåˆ°RPCç¨‹åºåŒ…ä¸­ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:2:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"NFSè¿‡ç¨‹ NFSå®¢æˆ·å¯ä»¥æ˜¯ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œæ˜¾å¼è°ƒç”¨ã€‚è€ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ â€” å› ä¸ºä¸¤ä¸ªç†ç”±ï¼ŒNFSä¸€èˆ¬ä¸è¿™æ ·å®ç°ã€‚ é¦–å…ˆï¼Œè®¿é—®ä¸€ä¸ªNFSæ–‡ä»¶å¿…é¡»å¯¹å®¢æˆ·é€æ˜ã€‚å› æ­¤ï¼ŒNFSçš„å®¢æˆ·è°ƒç”¨æ˜¯ç”±å®¢æˆ·æ“ä½œç³»ç»Ÿä»£è¡¨ç”¨æˆ·è¿›ç¨‹æ¥å®Œæˆçš„ã€‚ç¬¬äºŒï¼Œå‡ºäºæ•ˆç‡çš„è€ƒè™‘ï¼Œ N F SæœåŠ¡å™¨åœ¨æœåŠ¡å™¨æ“ä½œç³»ç»Ÿä¸­å®ç°ã€‚å¦‚æœNFSæœåŠ¡å™¨æ˜¯ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ï¼Œæ¯ä¸ªå®¢æˆ·è¯·æ±‚å’ŒæœåŠ¡å™¨åº”ç­”ï¼ˆåŒ…æ‹¬è¯»å’Œå†™çš„æ•°æ®ï¼‰å°†ä¸å¾—ä¸åœ¨å†…æ ¸å’Œç”¨æˆ·è¿›ç¨‹ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œè¿™ä¸ªä»£ä»·å¤ªå¤§ã€‚ ä¸€ä¸ªå®¢æˆ·å¯¹ä¸€ä¸ªNFSæœåŠ¡å™¨çš„è®¿é—®å¼€å§‹äºå®‰è£…åè®®ï¼Œè¿”å›ç»™å®¢æˆ·ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ã€‚å®¢æˆ·æ¥ç€å¯ä»¥ä½¿ç”¨é‚£ä¸ªæ–‡ä»¶å¥æŸ„æ¥è®¿é—®æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸€æ¬¡æ£€æŸ¥æ–‡ä»¶åçš„ä¸€ä¸ªæˆå‘˜ï¼Œè¿”å›æ¯ä¸ªæˆå‘˜çš„ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¥æŸ„ã€‚æœ€åçš„ç»“æœå°±æ˜¯è¦å¼•ç”¨çš„æ–‡ä»¶çš„ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œå®ƒå¯ä»¥åœ¨éšåçš„è¯»å†™æ“ä½œä¸­è¢«ä½¿ç”¨ã€‚ åˆå§‹æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿåè®®å®‰è£…ï¼Œå®¢æˆ·ç«¯éœ€çŸ¥é“æœåŠ¡ç«¯çš„æ–‡ä»¶ç³»ç»Ÿï¼Œåç»­çš„äº¤äº’å¤„ç†éƒ½æ˜¯åŸºäºè¿™ä¸€æ–‡ä»¶ç³»ç»Ÿ å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´é€šè¿‡æ–‡ä»¶å¥æŸ„æ¥è¡¨ç¤ºæ‰€è®¿é—®æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯æ¯æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šè·å¾—æœåŠ¡ç«¯çš„ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼ˆå¯ç†è§£æˆæ–‡ä»¶æè¿°ç¬¦IDï¼‰ å¯èƒ½è§¦å‘çš„è¿œç¨‹è¿‡ç¨‹ï¼ˆä¸‹é¢è¿™äº›å¹¶ééƒ½ä¼šå­˜åœ¨ï¼‰ï¼š GETATTRã€‚è¿”å›ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ï¼šæ–‡ä»¶ç±»å‹ï¼ˆä¸€èˆ¬æ–‡ä»¶ï¼Œç›®å½•ç­‰ï¼‰ã€è®¿é—®æƒé™ã€æ–‡ä»¶ å¤§å°ã€æ–‡ä»¶çš„å±ä¸»è€…åŠä¸Šæ¬¡è®¿é—®æ—¶é—´ç­‰ä¿¡æ¯ã€‚ SETATTRã€‚è®¾ç½®ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ã€‚åªå…è®¸è®¾ç½®æ–‡ä»¶å±æ€§çš„ä¸€ä¸ªå­é›†ï¼š è®¿é—®æƒé™ã€æ–‡ä»¶çš„å±ä¸»ã€ç»„çš„å±ä¸»ã€æ–‡ä»¶å¤§å°ã€ä¸Šæ¬¡è®¿é—®æ—¶é—´å’Œä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ã€‚ STATFSã€‚è¿”å›ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ï¼šå¯ç”¨ç©ºé—´çš„å¤§å°ã€æœ€ä½³ä¼ é€å¤§å°ç­‰ã€‚ä¾‹å¦‚ U n i xçš„ d få‘½ä»¤ä½¿ç”¨æ­¤è¿‡ç¨‹ã€‚ LOOKUPã€‚æŸ¥æ‰¾ä¸€ä¸ªæ–‡ä»¶ã€‚æ¯å½“ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹æ‰“å¼€ä¸€ä¸ª N F SæœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œ N F Så®¢æˆ·è°ƒç”¨æ­¤è¿‡ç¨‹ã€‚ READã€‚ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»æ•°æ®ã€‚å®¢æˆ·è¯´æ˜æ–‡ä»¶çš„å¥æŸ„ã€è¯»æ“ä½œçš„å¼€å§‹ä½ç½®å’Œè¯»æ•°æ®çš„ æœ€å¤§å­—èŠ‚æ•°ï¼ˆæœ€å¤š8192ä¸ªå­—èŠ‚ï¼‰ã€‚ WRITEã€‚å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå†™æ“ä½œã€‚å®¢æˆ·è¯´æ˜æ–‡ä»¶çš„å¥æŸ„ã€å¼€å§‹ä½ç½®ã€å†™æ•°æ®çš„å­—èŠ‚æ•° å’Œè¦å†™çš„æ•°æ®ã€‚ CREATEã€‚åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚ REMOVEã€‚åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚ RENAMEã€‚é‡å‘½åä¸€ä¸ªæ–‡ä»¶ã€‚ LINKã€‚ä¸ºä¸€ä¸ªæ–‡ä»¶æ„é€ ä¸€ä¸ªç¡¬é“¾æ¥ã€‚ç¡¬é“¾æ¥æ˜¯ä¸€ä¸ª U n i xçš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ç£ç›˜ä¸­çš„ä¸€ ä¸ªæ–‡ä»¶å¯ä»¥æœ‰ä»»æ„å¤šä¸ªç›®å½•é¡¹ï¼ˆå³åå­—ï¼Œä¹Ÿå«ä½œç¡¬é“¾æ¥ï¼‰æŒ‡å‘å®ƒã€‚ SYMLINKã€‚ä¸ºä¸€ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚ç¬¦å·é“¾æ¥æ˜¯ä¸€ä¸ªåŒ…å«å¦ä¸€ä¸ªæ–‡ä»¶åå­—çš„ æ–‡MKDIRã€‚åˆ›å»ºä¸€ä¸ªç›®å½•ã€‚ RMDIRã€‚åˆ é™¤ä¸€ä¸ªç›®å½•ã€‚ READDIRã€‚è¯»ä¸€ä¸ªç›®å½•ã€‚ä¾‹å¦‚ Un ixçš„l så‘½ä»¤ä½¿ç”¨æ­¤è¿‡ç¨‹ æ¯”å¦‚åœ¨windowsä¸Šç”¨è®°äº‹æœ¬æ‰“å¼€å…±äº«ç›®å½•ä¸‹çš„æŸä¸€æ–‡æœ¬æ–‡ä»¶ï¼Œä¼šäº§ç”Ÿçš„è¿‡ç¨‹æœ‰GETATTRæ¥ç¡®è®¤è®¿é—®æƒé™ï¼ŒLOOKUPç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼ŒREADè¿”å›æ–‡ä»¶å†…å®¹ï¼ˆå½“ç„¶å®é™…windowsä¸Šæ“ä½œæ—¶ï¼ŒGETATTRå’ŒLOOKUPåœ¨æ‰“å¼€å…±äº«ç›®å½•çš„æ—¶å€™å·²ç»å®Œæˆï¼‰ä»¶ã€‚å¤§å¤šæ•°å¼•ç”¨ç¬¦å·é“¾æ¥çš„æ“ä½œï¼ˆä¾‹å¦‚ï¼Œæ‰“å¼€ï¼‰å®é™…ä¸Šå¼•ç”¨çš„æ˜¯ç¬¦å·é“¾æ¥æ‰€æŒ‡çš„æ–‡ä»¶ã€‚ READLINKã€‚è¯»ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚å³è¿”å›ç¬¦å·é“¾æ¥æ‰€æŒ‡çš„æ–‡ä»¶çš„åå­—ã€‚ MKDIRã€‚åˆ›å»ºä¸€ä¸ªç›®å½•ã€‚ RMDIRã€‚åˆ é™¤ä¸€ä¸ªç›®å½•ã€‚ READDIRã€‚è¯»ä¸€ä¸ªç›®å½•ã€‚ä¾‹å¦‚ Un ixçš„l så‘½ä»¤ä½¿ç”¨æ­¤è¿‡ç¨‹ æ¯”å¦‚åœ¨windowsä¸Šç”¨è®°äº‹æœ¬æ‰“å¼€å…±äº«ç›®å½•ä¸‹çš„æŸä¸€æ–‡æœ¬æ–‡ä»¶ï¼Œä¼šäº§ç”Ÿçš„è¿‡ç¨‹æœ‰GETATTRæ¥ç¡®è®¤è®¿é—®æƒé™ï¼ŒLOOKUPç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼ŒREADè¿”å›æ–‡ä»¶å†…å®¹ï¼ˆå½“ç„¶å®é™…windowsä¸Šæ“ä½œæ—¶ï¼ŒGETATTRå’ŒLOOKUPåœ¨æ‰“å¼€å…±äº«ç›®å½•çš„æ—¶å€™å·²ç»å®Œæˆï¼‰ ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:3:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"NFSå®¢æˆ·ç«¯å’ŒNFSæœåŠ¡ç«¯é€šè®¯è¿‡ç¨‹ é¦–å…ˆæœåŠ¡å™¨ç«¯å¯åŠ¨RPCæœåŠ¡ï¼Œå¹¶å¼€å¯111ç«¯å£ æœåŠ¡å™¨ç«¯å¯åŠ¨NFSæœåŠ¡ï¼Œå¹¶å‘RPCæ³¨å†Œç«¯å£ä¿¡æ¯ å®¢æˆ·ç«¯å¯åŠ¨RPCï¼ˆportmapæœåŠ¡ï¼‰ï¼Œå‘æœåŠ¡ç«¯çš„RPC(portmap)æœåŠ¡è¯·æ±‚æœåŠ¡ç«¯çš„NFSç«¯å£ æœåŠ¡ç«¯çš„RPC(portmap)æœåŠ¡åé¦ˆNFSç«¯å£ä¿¡æ¯ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯é€šè¿‡è·å–çš„NFSç«¯å£æ¥å»ºç«‹å’ŒæœåŠ¡ç«¯çš„NFSè¿æ¥å¹¶è¿›è¡Œæ•°æ®çš„ä¼ è¾“ NFSæœåŠ¡çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ ï¼š èŠ‚çœæœ¬åœ°å­˜å‚¨ç©ºé—´ï¼Œå°†å¸¸ç”¨çš„æ•°æ®å­˜æ”¾åœ¨ä¸€å°æœåŠ¡å™¨å¯ä»¥é€šè¿‡ç½‘ç»œè®¿é—®è¯¥æ•°æ® ç®€å•å®¹æ˜“ä¸Šæ‰‹ æ–¹ä¾¿éƒ¨ç½²éå¸¸å¿«é€Ÿï¼Œç»´æŠ¤ååˆ†ç®€å• ç¼ºç‚¹ ï¼š å±€é™æ€§å®¹æ˜“å‘ç”Ÿå•ç‚¹æ•…éšœï¼ŒæœåŠ¡å™¨æœºå®•æœºçš„è¯æ‰€æœ‰å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—® åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ä¸‹NFSæ•ˆç‡/æ€§èƒ½æœ‰é™ å®¢æˆ·ç«¯æ²¡ç”¨ç”¨æˆ·è®¤è¯æœºåˆ¶ï¼Œä¸”æ•°æ®æ˜¯é€šè¿‡æ˜æ–‡ä¼ é€ï¼Œå®‰å…¨æ€§ä¸€èˆ¬ï¼ˆä¸€èˆ¬å»ºè®®åœ¨å±€åŸŸç½‘å†…ä½¿ç”¨ï¼‰ NFSçš„æ•°æ®æ˜¯æ˜æ–‡çš„ï¼Œå¯¹æ•°æ®å®Œæ•´æ€§ä¸åšéªŒè¯ å¤šå°æœºå™¨æŒ‚è½½NFSæœåŠ¡å™¨æ—¶ï¼Œè¿æ¥ç®¡ç†ç»´æŠ¤éº»çƒ¦ Ubuntuä¸»æœºçš„NFSå…±äº«æ–‡ä»¶å¤¹ ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:4:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"nfs server å®‰è£… 1 2 3 4 5 6 # å®‰è£…server apt-get install nfs-common nfs-kernel-server # åˆ›å»ºé…ç½®æ–‡ä»¶ vi /etc/exports sudo gedit /etc/exports é…ç½®æ–‡ä»¶å†…å®¹ 1 2 # home /mnt/DATA/CODE/beagle-bone *(rw,sync,no_root_squash,no_subtree_check) å¯åŠ¨nfs server 1 2 3 4 5 # å¯åŠ¨ sudo service nfs-kernel-server restart # æŸ¥çœ‹å…±äº«ç›®å½• showmount -e è®¾ç½®å¯åŠ¨ nfs server åˆ«å 1 2 3 alias nfsstart='sudo service nfs-kernel-server restart' vi ~/.bashrc source ~/.bashr ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:5:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"nfs client å®‰è£… å®‰è£… 1 2 3 4 5 6 7 # nfs clientå®‰è£… sudo apt-get install nfs-common # æŸ¥çœ‹nfs serverä¸Šå…±äº«çš„ç›®å½• showmount -e \u003cip address of nfs server\u003e showmount -e 10.42.0.1 åˆ›å»ºæŒ‚è½½ç‚¹ 1 2 3 4 5 mkdir /path-to-mount chmod 777 -R /path-to-mount mount -t nfs 192.168.xx.xx:/path-to-share /path-to-mount sudo mount -t nfs -o nolock,rw,rsize=32768,wsize=32768 10.42.0.1:/home/didi/work/Dedge /home/zyh/dedge å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼š 1 2 3 4 # å°† mount -t nfs 192.168.xx.xx:/path-to-share /path-to-mount mount -t nfs 192.168.xx.xx:/path-to-share /path-to-mount # æ·»åŠ åˆ° /etc/rc.local /etc/rc.local ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:6:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"/etc/exports å‚æ•° 1 2 3 4 /path-to-share *(rw,sync,no_subtree_check,no_root_squash) # path-to-shareæ˜¯è¦å…±äº«çš„ç›®å½•ï¼Œæ ¹æ®è‡ªå·±æƒ…å†µä¿®æ”¹,*è¡¨ç¤ºå…è®¸æ‰€æœ‰çš„ç½‘æ®µè®¿é—®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…·ä½“çš„IP /mnt/DATA/CODE/beagle-bone *(rw,sync,no_root_squash,no_subtree_check) å‚æ•° è¯´æ˜ ro åªè¯»è®¿é—® rw è¯»å†™è®¿é—® sync æ‰€æœ‰æ•°æ®åœ¨è¯·æ±‚æ—¶å†™å…¥å…±äº« async nfs åœ¨å†™å…¥æ•°æ®å‰å¯ä»¥å“åº”è¯·æ±‚ secure nfs é€šè¿‡ 1024 ä»¥ä¸‹çš„å®‰å…¨ TCP/IP ç«¯å£å‘é€ insecure nfs é€šè¿‡ 1024 ä»¥ä¸Šçš„ç«¯å£å‘é€ wdelay å¦‚æœå¤šä¸ªç”¨æˆ·è¦å†™å…¥ nfs ç›®å½•ï¼Œåˆ™å½’ç»„å†™å…¥ï¼ˆé»˜è®¤ï¼‰ no_wdelay å¦‚æœå¤šä¸ªç”¨æˆ·è¦å†™å…¥ nfs ç›®å½•ï¼Œåˆ™ç«‹å³å†™å…¥ï¼Œå½“ä½¿ç”¨ async æ—¶ï¼Œæ— éœ€æ­¤è®¾ç½® hide åœ¨ nfs å…±äº«ç›®å½•ä¸­ä¸å…±äº«å…¶å­ç›®å½• no_hide å…±äº« nfs ç›®å½•çš„å­ç›®å½• subtree_check å¦‚æœå…±äº« /usr/bin ä¹‹ç±»çš„å­ç›®å½•æ—¶ï¼Œå¼ºåˆ¶ nfs æ£€æŸ¥çˆ¶ç›®å½•çš„æƒé™ï¼ˆé»˜è®¤ï¼‰ no_subtree_check ä¸æ£€æŸ¥çˆ¶ç›®å½•æƒé™ all_squash å…±äº«æ–‡ä»¶çš„ UID å’Œ GID æ˜ å°„åŒ¿åç”¨æˆ· anonymousï¼Œé€‚åˆå…¬ç”¨ç›®å½• no_all_squash ä¿ç•™å…±äº«æ–‡ä»¶çš„ UID å’Œ GIDï¼ˆé»˜è®¤ï¼‰ root_squash root ç”¨æˆ·çš„æ‰€æœ‰è¯·æ±‚æ˜ å°„æˆå¦‚ anonymous ç”¨æˆ·ä¸€æ ·çš„æƒé™ï¼ˆé»˜è®¤ï¼‰å®¢æˆ·æœºç”¨rootè®¿é—®è¯¥å…±äº«æ–‡ä»¶å¤¹æ—¶ï¼Œä¸æ˜ å°„rootç”¨æˆ·ã€‚ï¼ˆroot_squashï¼šå®¢æˆ·æœºç”¨rootç”¨æˆ·è®¿é—®è¯¥å…±äº«æ–‡ä»¶å¤¹æ—¶ï¼Œå°†rootç”¨æˆ·æ˜ å°„æˆåŒ¿åç”¨æˆ·ï¼‰ no_root_squash root ç”¨æˆ·å…·æœ‰æ ¹ç›®å½•çš„å®Œå…¨ç®¡ç†è®¿é—®æƒé™ anonuid=xxx æŒ‡å®š nfs æœåŠ¡å™¨ /etc/passwd æ–‡ä»¶ä¸­åŒ¿åç”¨æˆ·çš„ UID anongid=xxx æŒ‡å®š nfs æœåŠ¡å™¨ /etc/passwd æ–‡ä»¶ä¸­åŒ¿åç”¨æˆ·çš„ GID ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:7:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"mount å‚æ•° 1 Mount -t nfs -o rw,hard,nointr,tcp,noac,vers=3,timeo=600,rsize=32768,wsize=32768 192.168.100.189:/mnt/DG/WORK/2_code/3_T4/aiva /home/firefly/zyh/aiva æŒ‡å®šå‚æ•°å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š å‚æ•° è¯´æ˜ rw ä»¥è¯»å†™æ–¹å¼å®‰è£…æ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå¿…é¡»è¦ä»¥ç›¸åŒçš„æ–¹å¼æ¥å¯¼å‡ºï¼‰ ro ä»¥åªè¯»æ–¹å¼å®‰è£…æ–‡ä»¶ç³»ç»Ÿ bg å¦‚æœå®‰è£…å¤±è´¥ï¼ˆæœåŠ¡å™¨æ²¡æœ‰å“åº”ï¼‰ï¼Œåœ¨åå°ä¸€ç›´å°è¯•ï¼Œç»§ç»­å‘å…¶å®ƒçš„å®‰è£…è¯·æ±‚ hard ä»¥ç¡¬æ–¹å¼å®‰è£…æ–‡ä»¶ç³»ç»Ÿ(è¿™æ˜¯é»˜è®¤æƒ…å†µ)ã€‚å¦‚æœæœåŠ¡å™¨å½“æœºï¼Œè®©è¯•å›¾è®¿é—®å®ƒçš„æ“ä½œè¢«é˜»å¡ï¼Œç›´åˆ°æœåŠ¡å™¨æ¢å¤ä¸ºæ­¢ soft ä»¥è½¯æ–¹å¼å®‰è£…æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœæœåŠ¡å™¨å½“æœºï¼Œè®©è¯•å›¾è®¿é—®å®ƒçš„æ“ä½œå¤±è´¥ï¼Œè¿”å›ä¸€æ¡å‡ºé”™æ¶ˆæ¯ã€‚è¿™é¡¹åŠŸèƒ½å¯¹äºé¿å…è¿›ç¨‹â€œæŒ‚â€åœ¨æ— å…³ç´§è¦çš„å®‰è£…æ“ä½œä¸Šæ¥è¯´éå¸¸æœ‰ç”¨ intr å…è®¸ç”¨æˆ·ä¸­æ–­è¢«é˜»å¡çš„æ“ä½œï¼ˆå¹¶ä¸”è®©å®ƒä»¬è¿”å›ä¸€æ¡å‡ºé”™æ¶ˆæ¯ï¼‰ nointr ä¸å…è®¸ç”¨æˆ·ä¸­æ–­ retrans=n æŒ‡å®šåœ¨ä»¥è½¯æ–¹å¼å®‰è£…çš„æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåœ¨è¿”å›ä¸€æ¡å‡ºé”™æ¶ˆæ¯ä¹‹å‰é‡å¤å‘å‡ºè¯·æ±‚çš„æ¬¡æ•° timeo=n è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼ˆä»¥ååˆ†ä¹‹ä¸€ç§’ä¸ºå•ä½ï¼‰ rsize=n è®¾ç½®è¯»ç¼“å†²çš„å¤§å°ä¸ºnå­—èŠ‚ã€‚å¯¹TCPå’ŒUDPå®‰è£…éƒ½é€‚ç”¨ï¼Œä½†æœ€ä¼˜å€¼ä¸ä¸€æ ·ï¼ˆ32Kè¾ƒå¥½ï¼‰ wsize=n è®¾ç½®å†™ç¼“å†²çš„å¤§å°ä¸ºnå­—èŠ‚ã€‚å¯¹TCPå’ŒUDPå®‰è£…éƒ½é€‚ nfsvers=n è®¾ç½®NFSåè®®çš„ç‰ˆæœ¬ 2 æˆ–è€… 3 ï¼ˆåœ¨æ­£å¸¸æƒ…å†µä¸‹æ˜¯è‡ªåŠ¨çš„ï¼‰ tcp é€‰æ‹©é€šè¿‡TCPæ¥ä¼ è¾“ã€‚é»˜è®¤é€‰æ‹©UDP fg å’Œbgæ­£å¥½ç›¸åï¼Œæ˜¯é»˜è®¤çš„å‚æ•° mountport è®¾å®šmountçš„ç«¯å£[@more@] ","date":"2023-01-15","objectID":"/posts/tools/nfs/nfs/:8:0","tags":["NFS"],"title":"tool:NFS(Network File System(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ))","uri":"/posts/tools/nfs/nfs/"},{"categories":["tools"],"content":"tmuxçš„ä½¿ç”¨","date":"2023-01-15","objectID":"/posts/tools/tmux/tmux/","tags":["tmux"],"title":"tool:tmuxçš„ä½¿ç”¨","uri":"/posts/tools/tmux/tmux/"},{"categories":["tools"],"content":" tmux è‡ªå®šä¹‰å¿«æ·æ“ä½œ å‚è€ƒ tmux è‡ªå®šä¹‰å¿«æ·æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # 1 æ–°å»ºä¼šè¯ alias tnew=\"tmux new -s \" # 2 åˆ†ç¦»ä¼šè¯(ctrl+b d) alias tdetach=\"tmux detach\" # 3 åˆ—å‡ºä¼šè¯(ctrl+b s) alias tlist=\"tmux ls\" # 4 æ¥å…¥ä¼šè¯ alias tattach=\"tmux attach -t \" # 5 æ€æ­»æŒ‡å®šä¼šè¯ alias tkill=\"tmux kill-session -t \" # 6 æ€æ­»å…¨éƒ¨ä¼šè¯ alias tkillall=\"tmux kill-server\" # 7 åˆ‡æ¢ä¼šè¯ alias tswitch=\"tmux switch -t \" # 8 é‡å‘½åä¼šè¯(ctrl+b $) alias trename=\"tmux rename-session -t \" # 9 çª—å£ä¸Šä¸‹åˆ’åˆ†çª—æ ¼ alias tsplitud=\"tmux split-window\" # 10 çª—å£å·¦å³åˆ’åˆ†çª—æ ¼ alias tsplitlr=\"tmux split-window -h\" # 11 å…‰æ ‡åˆ°ä¸Šæ–¹çª—æ ¼ alias tmoveu=\"tmux select-pane -U\" # 12 å…‰æ ‡åˆ°ä¸‹æ–¹çª—æ ¼ alias tmoved=\"tmux select-pane -D\" # 13 å…‰æ ‡åˆ°ä¸Šæ–¹çª—æ ¼ alias tmovel=\"tmux select-pane -L\" # 14 å…‰æ ‡åˆ°ä¸Šæ–¹çª—æ ¼ alias tmover=\"tmux select-pane -R\" # 15 äº¤æ¢çª—æ ¼ä½ç½®(å½“å‰çª—æ ¼ä¸Šç§») alias tswapu=\"tmux swap-pane -U\" # 16 äº¤æ¢çª—æ ¼ä½ç½®(å½“å‰çª—æ ¼ä¸‹ç§») alias tswapd=\"tmux swap-pane -D\" å‚è€ƒ Tmux ä½¿ç”¨æ•™ç¨‹ ","date":"2023-01-15","objectID":"/posts/tools/tmux/tmux/:0:0","tags":["tmux"],"title":"tool:tmuxçš„ä½¿ç”¨","uri":"/posts/tools/tmux/tmux/"},{"categories":["tools"],"content":"ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":" 1. ununtu è®¾ç½® 1.1. ubuntu è‡ªåŠ¨æŒ‚è½½æœºæ¢°ç¡¬ç›˜ 1.2. ubuntu å¼€æœºè‡ªå¯åŠ¨ç¨‹åº 1.3. Ubuntuä¸»æœºçš„NFSå…±äº«æ–‡ä»¶å¤¹ 1.4. è½¯é“¾æ¥ 1.4.1. åˆ›å»ºè½¯é“¾æ¥ 1.4.2. åˆ é™¤è½¯é“¾æ¥ 1.5. Ubuntuç»ˆç«¯æ˜¾ç¤ºGitå½“å‰æ‰€åœ¨åˆ†æ”¯ 1.6. SSH ä½¿ç”¨åˆ«åä»£æ›¿IPåœ°å€ç™»å½• 1.7. ubuntu æ˜¾ç¤ºå­—ä½“å¤§å°è®¾ç½® 1.8. ubuntu è®¾ç½®wifi ä¸Šç½‘ï¼Œæœ‰çº¿è¿æ¥å±€åŸŸç½‘è®¾å¤‡ 1.9. å¿«æ·é”® 1.9.1. æ–‡ä»¶ç®¡ç†å™¨ 1.10. ä»»åŠ¡æ è®¾ç½® 1.11. ä¿®æ”¹ä¸»æœºå 2. å¸¸ç”¨è½¯ä»¶å®‰è£… 2.1. vim 2.2. å¾®ä¿¡ 2.3. net-tools 2.4. opencv 2.5. openssl 2.6. cmake 2.7. terminator 2.8. tree 2.9. doublecmd 2.10. gnome-tweaks 2.11. VLC 2.12. Typora 2.13. Samba 2.14. æˆªå›¾å·¥å…· flameshot 2.15. Finalshell 2.16. æœç‹—è¾“å…¥æ³• 2.17. ubuntu åˆ é™¤åº”ç”¨æ˜¾ç¤ºå›¾æ ‡ 2.18. ZSH å’Œ oh-my-sh 2.19. clash 2.20. jq å·¥å…· 2.21. screenkey 2.22. pycharm 2.23. android stduio å†…ç½‘ç©¿é€ cpolar 1. ununtu è®¾ç½® ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:0:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.1. ubuntu è‡ªåŠ¨æŒ‚è½½æœºæ¢°ç¡¬ç›˜ Ubuntu18.04 è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:1:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.2. ubuntu å¼€æœºè‡ªå¯åŠ¨ç¨‹åº å‚è€ƒï¼š ubuntu-18.04 è®¾ç½®å¼€æœºå¯åŠ¨è„šæœ¬ å»ºç«‹rc-local.serviceæ–‡ä»¶ 1 sudo vi /etc/systemd/system/rc-local.service rc-local.service: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [Unit] Description=/etc/rc.local Compatibility ConditionPathExists=/etc/rc.local [Service] Type=forking ExecStart=/etc/rc.local start TimeoutSec=0 StandardOutput=tty RemainAfterExit=yes SysVStartPriority=99 [Install] WantedBy=multi-user.target åˆ›å»ºæ–‡ä»¶rc.localã€€1 sudo vi /etc/rc.local rc.local : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 #!/bin/sh -e # # rc.local # # This script is executed at the end of each multiuser runlevel. # Make sure that the script will \"exit 0\" on success or any other # value on error. # # In order to enable or disable this script just change the execution # bits. # # By default this script does nothing. cd /usr/local ./RunPowerOn.sh exit 0 RunPowerOn.sh ç»™rc.localåŠ ä¸Šæƒé™/å¯ç”¨æœåŠ¡/å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥çŠ¶æ€ 1 2 3 4 sudo chmod +x /etc/rc.local sudo systemctl enable rc-local sudo systemctl start rc-local.service sudo systemctl status rc-local.service é‡å¯å¹¶æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ 1 2 ls /mnt/DG/DATA/LOG/sys_start/ cat xxx ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:2:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.3. Ubuntuä¸»æœºçš„NFSå…±äº«æ–‡ä»¶å¤¹ ubuntu: 1 2 3 4 apt-get install nfs-common nfs-kernel-server vi /etc/exports sudo gedit /etc/exports 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /home/zyh/T3-libra *(rw,sync,no_root_squash,no_subtree_check) /home/zyh/DATA *(rw,sync,no_root_squash,no_subtree_check) /home/zyh/sensor_test *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/DATA/DATA/RGBD2 *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/DATA/DATA/RGBD *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/DATA/DATA/test_roi *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/4_T3R/rknn_demo *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/99_TEST/T3RHeadDetectTest *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/99_TEST/t3r_pressure_test *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/99_TEST/rockchip_mpp *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/99_TEST/mpp *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/4_T3R/libra_v3/release *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/DATA/T3R/encoder/image *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/4_T3R/HaomuF *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/9_other/StereoCamera *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/WORK/2_code/9_other/librealsense *(rw,sync,no_root_squash,no_subtree_check) /mnt/DG/ZYH/COMMON/Multimedia/rkmmp *(rw,sync,no_root_squash,no_subtree_check) /home/ubuntu/workspace/yuhuzhang/mpp *(rw,sync,no_root_squash,no_subtree_check) # home /mnt/DATA/CODE/beagle-bone *(rw,sync,no_root_squash,no_subtree_check) mount -t nfs -o nolock 192.168.100.189:/mnt/DATA/CODE/beagle-bone 1 2 3 4 5 sudo service nfs-kernel-server restart alias nfsstart='sudo service nfs-kernel-server restart' vi ~/.bashrc source ~/.bashr T3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 mount -t nfs -o nolock 192.168.101.15:/home/zyh/code /mnt ls /mnt mount -t nfs -o nolock 192.168.101.98:/media/zyh/DG/WORK/2_code/1_T3/libra_v3 /mnt mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra /root/zyh_libra mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra /home/ubuntu/zyh_libra mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra /home/zyh_libra mount -t nfs -o nolock 192.168.100.189:/home/zyh/sensor_test /home/sensor_test T4DEMO mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/3_T4/libra_v3/release /home/deepglint/zyh/zyh_libra RK mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/4_T3R/rknn_demo /home/toybrick/Rockchip/zyh/rknn_demo mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/4_T3R/rknn_demo/rknn_demo /home/toybrick/Rockchip/zyh/rknn_demo mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra /home/toybrick/Rockchip/zyh/zyh_libra mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/99_TEST/mpp /home/toybrick/Rockchip/zyh/mpp mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/4_T3R/libra_v3/release mount -t nfs -o nolock 192.168.100.189:/mnt/DG/DATA/T3R/encoder/image /home/deepglint/zyh/image mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/99_TEST/t3r_pressure_test /home/toybrick/Rockchip/zyh/t3r_pressure_test mount -t nfs -o nolock 192.168.100.189:/mnt/DG/DATA/T3R/encoder/image /home/toybrick/Rockchip/zyh/image mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/9_other/StereoCamera /home/toybrick/Rockchip/zyh/StereoCamera mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/4_T3R/rknn_demo/rknn_demo /home/zyh/rknn_demo mount -t nfs -o nolock 192.168.100.189:/mnt/DG/WORK/2_code/4_T3R/HaomuF /home/toybrick/Rockchip/zyh/HaomuF mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra /home/zyh_libra mount -t nfs -o nolock 192.168.100.189:/home/zyh/BeagleBone /root/BeagleBone 1 2 3 4 5 6 7 8 9 10 11 //////////////////////////////////////////////////////////////////////////////// mount -t nfs -o nolock 192.168.100.189:/home/zyh/T3-libra ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:3:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.4. è½¯é“¾æ¥ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:4:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.4.1. åˆ›å»ºè½¯é“¾æ¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # rk3399 sudo ln -fs /mnt/DG/DATA/tool_chain/aarch64-buildroot-linux-gnu_rk3399-buildroot /usr/local/aarch64-rk3399-linux-toolchain-libra-v4 # aarch64-himix100 sudo ln -fs /mnt/DG/DATA/tool_chain/aarch64-buildroot-linux-gnu_sdk-buildroot /usr/local/aarch64-himix100-linux-toolchain-libra-v3 # gnueabihf sudo ln -fs /mnt/DG/DATA/tool_chain/arm-buildroot-linux-gnueabihf_sdk-buildroot /usr/local/arm-linux-gnueabihf-toolchain-libra-v3 # BeagleBone sudo ln -fs /mnt/DG/DATA/tool_chain/arm-buildroot-linux-gnueabihf_sdk-buildroot /usr/local/arm-linux-gnueabihf-toolchain # code sudo ln -fs /mnt/DG/WORK/2_code/1_T3/libra_v3 /home/zyh/T3-libra sudo ln -fs /mnt/DG/WORK/2_code/100_ZYH/COMMON/BeagleBone /home/zyh/BeagleBone sudo ln -fs /mnt/DG/WORK/2_code/99_TEST/libra_v3 /home/zyh/sensor_test ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:4:1","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.4.2. åˆ é™¤è½¯é“¾æ¥ æ­£ç¡®çš„æ˜¯ï¼šrm -rf hb_link é”™è¯¯çš„æ˜¯ï¼šrm -rf hb_link/ è¿™ä¸ªä¼šæŠŠæ•´ä¸ªç›®å½•éƒ½åˆ äº† å¤‡æ³¨ï¼šæƒ³è¦åˆ é™¤é“¾æ¥æ–‡ä»¶è¦ç”¨ä»¥ä¸‹å‘½ä»¤ rm /home/hb_link åªæ˜¯å°‘äº†ä¸€ä¸ªâ€œ / â€ åˆ é™¤çš„ å°±æ˜¯é“¾æ¥æ–‡ä»¶, ä¹Ÿå°±æ˜¯åœ¨æ–‡ä»¶çš„æœ€åä¸è¦åŠ ä¸Š/ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:4:2","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.5. Ubuntuç»ˆç«¯æ˜¾ç¤ºGitå½“å‰æ‰€åœ¨åˆ†æ”¯ cd ~ vi .bashrc æ’å…¥ä»£ç  1 2 3 4 5 6 7 8 9 10 11 function git_branch { branch=\"`git branch 2\u003e/dev/null | grep \"^\\*\" | sed -e \"s/^\\*\\ //\"`\" if [ \"${branch}\" != \"\" ];then if [ \"${branch}\" = \"(no branch)\" ];then branch=\"(`git rev-parse --short HEAD`...)\" fi echo \" ($branch)\" fi } export PS1='\\u@\\h \\[\\033[01;36m\\]\\W\\[\\033[01;32m\\]$(git_branch)\\[\\033[00m\\] \\$ ' source ./.bashrc ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:5:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.6. SSH ä½¿ç”¨åˆ«åä»£æ›¿IPåœ°å€ç™»å½• å¦‚æœè¦æƒ³æŠŠå‰é¢çš„ssh root@192.168.1.2ä½¿ç”¨ä¸€ä¸ªå¥½è®°çš„åˆ«åï¼ˆæ¯”å¦‚ï¼štestï¼‰ï¼Œåˆ™å¯ä»¥åœ¨~/.ssh/configæ·»åŠ å¦‚ä¸‹çš„é…ç½®ï¼š 1 2 3 Host test HostName 192.168.1.2 User root ä¿å­˜æ–‡ä»¶åï¼Œå³å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ç™»å½•äº†ï¼š 1 $ ssh test ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:6:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.7. ubuntu æ˜¾ç¤ºå­—ä½“å¤§å°è®¾ç½® ç»ˆç«¯å‘½ä»¤ï¼š å®‰è£…gnome-tweaksæ¡Œé¢é…ç½®å·¥å…·; 1 sudo apt install gnome-tweaks Alt+F2 åœ¨è¿è¡Œçª—å£è¾“å…¥ gnome-tweaks å‘½ä»¤ï¼Œå›è½¦; æ‰“å¼€çš„ä¼˜åŒ–çª—å£ä¸­ï¼Œå­—ä½“ä¸€æ ï¼Œè°ƒæ•´ç¼©æ”¾æ¯”ä¾‹ï¼ˆå¦‚1.5åˆ™ä¼šæ”¾å¤§ï¼‰ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:7:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.8. ubuntu è®¾ç½®wifi ä¸Šç½‘ï¼Œæœ‰çº¿è¿æ¥å±€åŸŸç½‘è®¾å¤‡ é…ç½®æœ‰çº¿ç½‘å¦‚ä¸‹ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:8:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.9. å¿«æ·é”® è®¾ç½®-\u003e è®¾å¤‡ -\u003e é”®ç›˜ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:9:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.9.1. æ–‡ä»¶ç®¡ç†å™¨ 1 nautilus . ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:9:1","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.10. ä»»åŠ¡æ è®¾ç½® ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:10:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"1.11. ä¿®æ”¹ä¸»æœºå 2. å¸¸ç”¨è½¯ä»¶å®‰è£… è‡ªåŠ¨å®‰è£… ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:11:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.1. vim 1 2 sudo apt-get install vim wget -qO- https://raw.github.com/ma6174/vim/master/setup.sh | sh -xY ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:12:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.2. å¾®ä¿¡ 1 2 wget -O- https://deepin-wine.i-m.dev/setup.sh | sh sudo apt-get install deepin.com.wechat Ubuntué€šè¿‡deepin-wineå®‰è£…wechatå’Œwechat Work ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:13:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.3. net-tools 1 sudo apt install net-tools ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:14:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.4. opencv 1 sudo apt-get install libopencv-dev ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:15:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.5. openssl 1 2 sudo apt-get install openssl sudo apt-get install libssl-dev ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:16:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.6. cmake 1 sudo apt install cmake ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:17:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.7. terminator 1 sudo apt-get install terminator å¿«æ·é”®ï¼š Ctrl-E(æ³¨æ„æ˜¯å¤§Eè¦æŒ‰ä½Shift)å¯ä»¥å‚ç›´åˆ†å‰²ç»ˆç«¯ Ctrl-O å¯æ°´å¹³åˆ†å‰²ç»ˆç«¯ æŒ‰ä½Altç„¶åæŒ‰ä¸Šä¸‹å·¦å³å¯ä»¥åœ¨ä¸åŒçš„åˆ†å‰²çª—ä¸­åˆ‡æ¢ Ctrl-D å¯ä»¥å…³é—­åˆ†å‰²çª— terminatoré…ç½®æ–‡ä»¶ ï¼š~/.config/terminator/config 1 2 3 4 5 6 7 8 font = Monaco 10 #è®¾ç½®ä½“å­— background_color = \"#204070\" # èƒŒæ™¯é¢œè‰² foreground_color = \"#F0F0F0\" # å­—ä½“é¢œè‰² cursor_blink = True # è®¾ç½®å…‰æ ‡ scrollbar_position = disabled # ç¦ç”¨æ»šåŠ¨æ¡ titlebars = no # ç¦ç”¨æ ‡é¢˜æ  background_darkness = 0.4 background_type = transparent # èƒŒæ™¯ç±»å‹å¯ä»¥è®¾ç½®ä¸ºå›¾ç‰‡ æ›´å¤šé…ç½®ï¼š 1 man terminator_config ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:18:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.8. tree 1 sudo apt install tree ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:19:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.9. doublecmd æ–‡ä»¶ç®¡ç†å·¥å…· 1 2 3 4 5 sudo add-apt-repository ppa:alexx2000/doublecmd sudo apt-get update sudo apt-get install doublecmd-gtk sudo apt-get remove doublecmd-* ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:20:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.10. gnome-tweaks unutu æ¡Œé¢é…ç½® 1 2 3 4 5 6 # å®‰è£… sudo apt-get gnome-tweaks # å¯åŠ¨ gnome-tweaks ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:21:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.11. VLC ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:22:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.12. Typora Linuxå®‰è£…åŠç¾åŒ–Typoraè¯¦ç»†æ­¥éª¤ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:23:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.13. Samba Samba æ˜¯ç§ç”¨æ¥è®©UNIXç³»åˆ—çš„æ“ä½œç³»ç»Ÿä¸å¾®è½¯Windowsæ“ä½œç³»ç»Ÿçš„SMB / CIFSï¼ˆæœåŠ¡å™¨æ¶ˆæ¯å—/é€šç”¨Internetæ–‡ä»¶ç³»ç»Ÿï¼‰ç½‘ç»œåè®®åšé“¾æ¥çš„è‡ªç”±è½¯ä»¶ã€‚ç¬¬ä¸‰ç‰ˆä¸ä»…å¯è®¿é—®åŠåˆ†äº«SMBçš„æ–‡ä»¶å¤¹åŠæ‰“å°æœºï¼Œæœ¬èº«è¿˜å¯ä»¥é›†æˆå…¥Windows Serverçš„ç½‘åŸŸï¼Œæ‰®æ¼”ä¸ºç½‘åŸŸæ§åˆ¶ç«™ï¼ˆåŸŸæ§åˆ¶å™¨ï¼‰ä»¥åŠåŠ å…¥Active Directoryæˆå‘˜ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ­¤è½¯ä»¶åœ¨Windowsä¸UNIXç³»åˆ—æ“ä½œç³»ç»Ÿä¹‹é—´æ­èµ·ä¸€åº§æ¡¥æ¢ï¼Œè®©ä¸¤è€…çš„èµ„æºå¯äº’é€šæœ‰æ— ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 # å®‰è£… sudo apt-get install samba # æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ samba # samba é…ç½®æ–‡ä»¶è·¯å¾„ /etc/samba/smb.conf # ä¿®æ”¹é…ç½®æ–‡ä»¶ - æ–‡ä»¶æœ€åæ·»åŠ  [ZYH-DATA] comment = zyh ubuntu data path = /mnt/DG public = yes browseable = yes public = yes writeable = yes read only = no valid users = zyh create mask = 0777 directory mask = 0777 force user = nobody force group = nogroup available = yes # æ·»åŠ å¯†ç  sudo smbpasswd -a zyh # é‡å¯samba æœåŠ¡å™¨ sudo service smbd restart # win è®¿é—® \\\\+ ip ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:24:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.14. æˆªå›¾å·¥å…· flameshot 1 2 3 4 5 6 7 8 9 # å®‰è£… sudo apt-get install flameshot # æ‰‹åŠ¨ä¸‹è½½ https://github.com/flameshot-org/flameshot/releases # å¯åŠ¨ flameshot gui ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:25:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.15. Finalshell github release 1 2 3 4 rm -f finalshell_install_linux.sh wget www.hostbuf.com/downloads/finalshell_install_linux.sh chmod +x finalshell_install_linux.sh ./finalshell_install_linux.sh å®‰è£…è·¯å¾„ 1 /usr/lib/FinalShell/ é…ç½®æ–‡ä»¶è·¯å¾„ 1 /home/$USER/.finalshell/ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:26:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.16. æœç‹—è¾“å…¥æ³• https://shurufa.sogou.com/linux/guide ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:27:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.17. ubuntu åˆ é™¤åº”ç”¨æ˜¾ç¤ºå›¾æ ‡ åˆ é™¤ç³»ç»Ÿè‡ªå¸¦çš„å›¾æ ‡ 1 sudo nautilus /usr/share/applications åˆ é™¤wineç­‰è½¯ä»¶å®‰è£…çš„è‡ªå®šä¹‰å›¾æ ‡ 1 sudo nautilus ~/.local/share/applications ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:28:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.18. ZSH å’Œ oh-my-sh 1 2 3 4 5 6 7 8 9 10 11 12 # zsh sudo apt-get install zsh # oh-my-sh sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" # è®¾ç½®é»˜è®¤ç»ˆç«¯ chsh -s /bin/zsh root # åˆ‡æ¢å›bashä¹Ÿæ˜¯ç›¸åŒçš„æ–¹æ³• chsh -s /bin/bash root ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:29:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.19. clash å‚è€ƒ ï¼šubuntu 20.04 é…ç½®ä½¿ç”¨ clash for linux ä¸‹è½½åœ°å€ 1 2 https://github.com/Dreamacro/clash wget -O clash.gz https://github.com/Dreamacro/clash/releases/download/v1.4.1/clash-linux-amd64-v1.4.1.gz å®‰è£… 1 2 3 4 5 6 7 8 9 gzip -f clash.gz -d chmod +x clash cp clash /usr/bin vi .bashrc alias clash='sudo ./usr/bin/clash -d ~/.config/clash/' ./clash é…ç½® æ‹·è´ mac / win ä¸Šé…ç½®æ–‡ä»¶åˆ°ubuntu ä½¿ç”¨ Web å·¥å…·ç®¡ç† clash åœ°å€ï¼šhttp://clash.razord.top/#/proxies é…ç½® ubunutu ç½‘ç»œä»£ç† æ‰“å¼€ è®¾ç½® -\u003e ç½‘ç»œ -\u003e ç½‘ç»œä»£ç† é…ç½® HTTP ä»£ç†å’Œ socket ä»£ç† åˆ†åˆ«ä¸ºä¸Šé¢çš„ç«¯å£å· å…¶ä»–é—®é¢˜ git clone æŠ¥é”™ ï¼šFailed to receive SOCKS4 connect request ack. å› ä¸º clash ä»£ç†çš„ socket5ï¼Œgithub æ˜¯ socket4 1 2 3 # 7891 æ˜¯clash ä»£ç† socket çš„ç«¯å£ git config --global http.proxy 'socks5://127.0.0.1:7891' git config --global https.proxy 'socks5://127.0.0.1:7891' ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:30:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.20. jq å·¥å…· å®˜ç½‘ 1 2 3 4 sudo apt-get install jq # json æ ¼å¼åŒ– cat Recfront_20200916_095044_refine.json |jq . \u003edata_2.json ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:31:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.21. screenkey ä¸‹è½½ https://www.thregr.org/~wavexx/software/screenkey/ å®‰è£… 1 2 3 4 5 6 tar xvf screenkey-1.5.tar.gz cd screenkey-1.5 sudo ./setup.py install cd data sudo cp ./screenkey.desktop /usr/share/applications/ ä½¿ç”¨ 1 screenkey è®¾ç½® å‚è€ƒ ï¼š https://gitlab.com/screenkey/screenkey#interactive-placement 1 screenkey -p fixed -g 30%x10%+65%-10% ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:32:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.22. pycharm ä¸‹è½½ ï¼š https://www.jetbrains.com/pycharm/download/#section=linux è§£å‹ cp xxx/* /opt/pycharm alias pycharm=â€˜cd /opt/pycharm/bin \u0026\u0026 ./pycharm.sh \u0026â€™ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:33:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"2.23. android stduio ä¸‹è½½ https://developer.android.google.cn/studio è§£å‹ cp xxx/* /opt/android-studio/ alias android=â€˜cd /opt/android-studio/bin \u0026\u0026 ./studio.sh \u0026â€™ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:34:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"å†…ç½‘ç©¿é€ cpolar cpolarä¸€é”®å®‰è£…è„šæœ¬ 1 curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash é…ç½®cpolarå¼€æœºè‡ªå¯åŠ¨ 1 2 3 sudo systemctl enable cpolar sudo systemctl start cpolar sudo systemctl status cpolar è·å–sshéš§é“çš„å…¬ç½‘åœ°å€ http://localhost:9200 é…ç½® è¿œç¨‹ç™»é™† 1 ssh linuxç”¨æˆ·å@cpolaræ‰€ç”Ÿæˆçš„å…¬ç½‘åœ°å€ -p XXXXXï¼ˆcpolarç”Ÿæˆçš„ç«¯å£å·ï¼‰ ","date":"2023-01-15","objectID":"/posts/tools/sys_config/ubuntu/linuxconfig/:35:0","tags":["ubuntu"],"title":"tool:ubuntu(linux)ç³»ç»Ÿå¸¸ç”¨é…ç½®","uri":"/posts/tools/sys_config/ubuntu/linuxconfig/"},{"categories":["tools"],"content":"UML","date":"2023-01-15","objectID":"/posts/tools/uml/uml/","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. UML 1.1. UMLå¸¸ç”¨å›¾è¡¨ 2. å¸¸è§ç±»å›¾ 2.1. ç±»ï¼ˆClass) 2.2. æ¥å£ï¼ˆInterfaceï¼‰ 2.3. ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰ 2.3.1. æ³›åŒ–ï¼ˆGeneralizationï¼‰ 2.3.2. å®ç°ï¼ˆRealizationï¼‰ 2.3.3. å…³è”ï¼ˆAssociation) 2.3.4. èšåˆï¼ˆAggregationï¼‰ 2.3.5. ç»„åˆ(Composition) 2.3.6. ä¾èµ–(Dependency) 2.3.7. æ€»ç»“ 3. ç±»å›¾çš„ç»˜åˆ¶ 3.1. ç»˜åˆ¶è¦ç‚¹ 3.2. ç±»çš„UMLå›¾ç¤º 4. å‚è€ƒ 1. UML ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:0:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"1.1. UMLå¸¸ç”¨å›¾è¡¨ é¡¹ç›® ä»·æ ¼ æ•°é‡ æ³›åŒ–ï¼ˆç»§æ‰¿ï¼‰ Bâ€”â€”â–·A B ç±»ä½œä¸º A ç±»çš„å­ç±»å­˜åœ¨ å®ç° Bâ€”â€”â–·A B ç±»å®ç° A æ¥å£ ä¾èµ– Aâ€”â€”\u003eB B ç±»ä½œä¸º A ç±»æŸä¸ªæ–¹æ³•çš„å‚æ•°ï¼Œè¡¨ç¤ºAæƒ³åšæŸäº›äº‹æƒ…éœ€è¦ä¾èµ– Bï¼Œä¸ç„¶åšä¸æˆ å…³è” Aâ€”â€”\u003eBï¼ˆå•å‘ï¼‰ B ç±»ä½œä¸º A ç±»çš„å±æ€§å­˜åœ¨ï¼Œè¯­ä¹‰ä¸Š A ç±»å’Œ B ç±»çš„åœ°ä½æˆ–æ°´å¹³ç›¸ç­‰ A \u003câ€”â€”\u003e Bï¼ˆåŒå‘) B ç±»ä½œä¸º A ç±»çš„å±ç›¸å­˜åœ¨ï¼Œ A ç±»ä½œä¸º B ç±»çš„å±æ€§å­˜åœ¨ï¼Œè¯­ä¹‰ä¸Š A ç±»å’Œ B ç±»çš„åœ°ä½æˆ–æ°´å¹³ç›¸ç­‰ èšåˆ Aâ™¢â€”â€”\u003eB B ç±»ä½œä¸º A ç±»çš„å±æ€§å­˜åœ¨ï¼Œè¯­ä¹‰ä¸Š B ç±»å¯ä½œä¸º A ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªå…³ç³»å¯æœ‰å¯æ— ï¼Œæ˜¯A hasâ€“a B çš„å…³ç³»ï¼Œå¦‚æˆ¿å­ï¼ˆAï¼‰ï¼Œæ¡Œå­ï¼ˆBï¼‰ ç»„åˆ Aâ™¦â€”â€”\u003eB B ç±»ä½œä¸º A ç±»çš„å±æ€§å­˜åœ¨ï¼Œè¯­ä¹‰ä¸Š B ç±»æ˜¯ A ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†å¿…é¡»æœ‰ï¼Œæ˜¯ A containâ€“a B çš„å…³ç³»ï¼Œå¦‚ï¼ˆäººï¼‰ï¼Œå¤§è„‘ï¼ˆBï¼‰ 2. å¸¸è§ç±»å›¾ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:1:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.1. ç±»ï¼ˆClass) åœ¨é¢å‘å¯¹è±¡ï¼ˆOO) ç¼–ç¨‹ä¸­ï¼Œç±»æ˜¯å¯¹ç°å®ä¸–ç•Œä¸­ä¸€ç»„å…·æœ‰ç›¸åŒç‰¹å¾çš„ç‰©ä½“çš„æŠ½è±¡ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:2:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.2. æ¥å£ï¼ˆInterfaceï¼‰ æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œå…·æœ‰ç±»çš„ç»“æ„ä½†ä¸å¯è¢«å®ä¾‹åŒ–ï¼Œåªå¯ä»¥è¢«å®ç°ï¼ˆç»§æ‰¿ï¼‰ã€‚åœ¨UMLä¸­ï¼Œæ¥å£ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰åç§°çš„å°åœ†åœˆæ¥è¿›è¡Œè¡¨ç¤ºã€‚ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:3:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3. ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰ åœ¨UMLç±»å›¾ä¸­ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§å…³ç³»: æ³›åŒ–ï¼ˆGeneralizationï¼‰, å®ç°ï¼ˆRealizationï¼‰ï¼Œå…³è”ï¼ˆAssociation)ï¼Œèšåˆï¼ˆAggregationï¼‰ï¼Œç»„åˆ(Composition)ï¼Œä¾èµ–(Dependency) ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.1. æ³›åŒ–ï¼ˆGeneralizationï¼‰ ã€æ³›åŒ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œè¡¨ç¤ºä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³»ï¼Œå®ƒæŒ‡å®šäº†å­ç±»å¦‚ä½•ç‰¹åŒ–çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºã€‚ ä¾‹å¦‚ï¼šè€è™æ˜¯åŠ¨ç‰©çš„ä¸€ç§ï¼Œå³æœ‰è€è™çš„ç‰¹æ€§ä¹Ÿæœ‰åŠ¨ç‰©çš„å…±æ€§ã€‚ ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„å®çº¿ï¼Œç®­å¤´æŒ‡å‘çˆ¶ç±» ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:1","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.2. å®ç°ï¼ˆRealizationï¼‰ ã€å®ç°å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°. ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„è™šçº¿ï¼Œç®­å¤´æŒ‡å‘æ¥å£ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:2","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.3. å…³è”ï¼ˆAssociation) ã€å…³è”å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§æ‹¥æœ‰çš„å…³ç³»ï¼Œå®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼›å¦‚ï¼šè€å¸ˆä¸å­¦ç”Ÿï¼Œ ä¸ˆå¤«ä¸å¦»å­å…³è”å¯ä»¥æ˜¯åŒå‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å•å‘çš„ã€‚ åŒå‘çš„å…³è”å¯ä»¥æœ‰ä¸¤ä¸ªç®­å¤´æˆ–è€…æ²¡æœ‰ç®­å¤´ï¼Œå•å‘çš„å…³è”æœ‰ä¸€ä¸ªç®­å¤´ã€‚ ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦æ™®é€šç®­å¤´çš„å®å¿ƒçº¿ï¼ŒæŒ‡å‘è¢«æ‹¥æœ‰è€… ä¸Šå›¾ä¸­ï¼Œè€å¸ˆä¸å­¦ç”Ÿæ˜¯åŒå‘å…³è”ï¼Œè€å¸ˆæœ‰å¤šåå­¦ç”Ÿï¼Œå­¦ç”Ÿä¹Ÿå¯èƒ½æœ‰å¤šåè€å¸ˆã€‚ ä½†å­¦ç”Ÿä¸æŸè¯¾ç¨‹é—´çš„å…³ç³»ä¸ºå•å‘å…³è”ï¼Œä¸€åå­¦ç”Ÿå¯èƒ½è¦ä¸Šå¤šé—¨è¯¾ç¨‹ï¼Œè¯¾ç¨‹æ˜¯ä¸ªæŠ½è±¡çš„ä¸œè¥¿ä»–ä¸æ‹¥æœ‰å­¦ç”Ÿã€‚ ä¸‹å›¾ä¸ºè‡ªèº«å…³è”: ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:3","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.4. èšåˆï¼ˆAggregationï¼‰ ã€èšåˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸”éƒ¨åˆ†å¯ä»¥ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚ å¦‚è½¦å’Œè½®èƒæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œè½®èƒç¦»å¼€è½¦ä»ç„¶å¯ä»¥å­˜åœ¨ã€‚ èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯å¼ºçš„å…³è”å…³ç³»ï¼›å…³è”å’Œèšåˆåœ¨è¯­æ³•ä¸Šæ— æ³•åŒºåˆ†ï¼Œå¿…é¡»è€ƒå¯Ÿå…·ä½“çš„é€»è¾‘å…³ç³»ã€‚ ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç©ºå¿ƒè±å½¢çš„å®å¿ƒçº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:4","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.5. ç»„åˆ(Composition) ã€ç»„åˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä½†éƒ¨åˆ†ä¸èƒ½ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚ å¦‚å…¬å¸å’Œéƒ¨é—¨æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ²¡æœ‰å…¬å¸å°±ä¸å­˜åœ¨éƒ¨é—¨ã€‚ ç»„åˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯æ¯”èšåˆå…³ç³»è¿˜è¦å¼ºçš„å…³ç³»ï¼Œ å®ƒè¦æ±‚æ™®é€šçš„èšåˆå…³ç³»ä¸­ä»£è¡¨æ•´ä½“çš„å¯¹è±¡è´Ÿè´£ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚ ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦å®å¿ƒè±å½¢çš„å®çº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:5","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.6. ä¾èµ–(Dependency) ã€ä¾èµ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œå³ä¸€ä¸ªç±»çš„å®ç°éœ€è¦å¦ä¸€ä¸ªç±»çš„ååŠ©ï¼Œ æ‰€ä»¥è¦å°½é‡ä¸ä½¿ç”¨åŒå‘çš„äº’ç›¸ä¾èµ–. ã€ä»£ç è¡¨ç°ã€‘ï¼šå±€éƒ¨å˜é‡ã€æ–¹æ³•çš„å‚æ•°æˆ–è€…å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨ ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç®­å¤´çš„è™šçº¿ï¼ŒæŒ‡å‘è¢«ä½¿ç”¨è€… å„ç§å…³ç³»çš„å¼ºå¼±é¡ºåºï¼š æ³›åŒ– = å®ç° \u003e ç»„åˆ \u003e èšåˆ \u003e å…³è” \u003e ä¾èµ– ä¸‹é¢è¿™å¼ UMLå›¾ï¼Œæ¯”è¾ƒå½¢è±¡åœ°å±•ç¤ºäº†å„ç§ç±»å›¾å…³ç³»ï¼š ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:6","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"2.3.7. æ€»ç»“ ä¾èµ–ï¼š å¯¹ç±» B è¿›è¡Œä¿®æ”¹ä¼šå½±å“åˆ°ç±» A ã€‚ å…³è”ï¼š å¯¹è±¡ A çŸ¥é“å¯¹è±¡ Bã€‚ ç±» A ä¾èµ–äºç±» Bã€‚ èšåˆï¼š å¯¹è±¡ A çŸ¥é“å¯¹è±¡ B ä¸”ç”± B æ„æˆã€‚ ç±» A ä¾èµ–äºç±» Bã€‚ ç»„åˆï¼š å¯¹è±¡ A çŸ¥é“å¯¹è±¡ Bã€ ç”± B æ„æˆè€Œä¸”ç®¡ç†ç€ B çš„ç”Ÿå‘½å‘¨æœŸã€‚ ç±» A ä¾èµ–äºç±» Bã€‚ å®ç°ï¼š ç±» A å®šä¹‰çš„æ–¹æ³•ç”±æ¥å£ B å£°æ˜ã€‚ å¯¹è±¡ A å¯è¢«è§†ä¸ºå¯¹è±¡ Bã€‚ ç±» A ä¾èµ–äºç±» Bã€‚ ç»§æ‰¿ï¼š ç±» A ç»§æ‰¿ç±» B çš„æ¥å£å’Œå®ç°ï¼Œ ä½†æ˜¯å¯ä»¥å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚ å¯¹è±¡ A å¯è¢«è§†ä¸ºå¯¹è±¡ Bã€‚ ç±» A ä¾èµ–äºç±» Bã€‚ 3. ç±»å›¾çš„ç»˜åˆ¶ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:4:7","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"3.1. ç»˜åˆ¶è¦ç‚¹ ç±»çš„æ“ä½œæ˜¯é’ˆå¯¹ç±»è‡ªèº«çš„æ“ä½œï¼Œè€Œä¸æ˜¯å®ƒå»æ“ä½œäººå®¶ã€‚æ¯”å¦‚ä¹¦è¿™ä¸ªç±»æœ‰ä¸Šæ¶ä¸‹æ¶çš„æ“ä½œï¼Œæ˜¯ä¹¦è‡ªå·±è¢«ä¸Šæ¶ä¸‹æ¶ï¼Œä¸èƒ½å› ä¸ºä¸Šæ¶ä¸‹æ¶æ˜¯ç®¡ç†å‘˜çš„åŠ¨ä½œè€ŒæŠŠå®ƒæ”¾åœ¨ç®¡ç†å‘˜çš„æ“ä½œé‡Œã€‚ ä¸¤ä¸ªç›¸å…³è”çš„ç±»ï¼Œéœ€è¦åœ¨å…³è”çš„ç±»ä¸­åŠ ä¸Šè¢«å…³è”ç±»çš„IDï¼Œå¹¶ä¸”ç®­å¤´æŒ‡å‘è¢«å…³è”ç±»ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®è¡¨ä¸­çš„å¤–é”®ã€‚æ¯”å¦‚å€Ÿä¹¦å’Œä¹¦ï¼Œå€Ÿä¹¦éœ€è¦ç”¨åˆ°ä¹¦çš„ä¿¡æ¯ï¼Œå› æ­¤å€Ÿä¹¦ç±»éœ€åŒ…å«ä¹¦çš„IDï¼Œç®­å¤´æŒ‡å‘ä¹¦ã€‚ ç”±äºä¸šåŠ¡å¤æ‚æ€§ï¼Œä¸€ä¸ªæ˜¾ç¤ºä¸­çš„å®ä½“å¯èƒ½ä¼šè¢«åˆ†ä¸ºå¤šä¸ªç±»ï¼Œè¿™æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œç±»ä¸æ˜¯è¶Šå°‘è¶Šå¥½ã€‚ç±»çš„è®¾è®¡å–å†³äºæ€æ ·è®©åå°ç¨‹åºçš„æ“ä½œæ›´åŠ ç®€å•ã€‚æ¯”å¦‚å•çœ‹é€»è¾‘ï¼Œå€Ÿä¹¦ç±»å¯ä»¥ä¸å­˜åœ¨ï¼Œå®ƒçš„ä¿¡æ¯å¯ä»¥æ”¾åœ¨ä¹¦è¿™ä¸ªç±»é‡Œã€‚ç„¶è€Œå€Ÿè¿˜ä¹¦å’Œä¹¦çš„ä¸Šæ¶ä¸‹æ¶å®Œå…¨ä¸æ˜¯ä¸€å›äº‹ï¼Œå€Ÿä¹¦ç±»å¯¹å€Ÿä¹¦çš„æ“ä½œæ›´åŠ æ–¹ä¾¿ï¼Œä¸éœ€è¦å»é‡å¤æ”¹åŠ¨ä¹¦è¿™ä¸ªç±»ä¸­çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œå¦‚æœä¹¦å’Œå€Ÿä¹¦æ˜¯1å¯¹å¤šçš„å…³ç³»ï¼Œé‚£å°±å¿…é¡»åˆ†ä¸ºä¸¤ä¸ªç±»ã€‚ ç±»å›¾ä¸­çš„è§„èŒƒé—®é¢˜ï¼Œæ¯”å¦‚ä¸åŒå…³ç³»éœ€è¦ä¸åŒçš„ç®­å¤´ï¼Œå¯è§æ€§ç¬¦å·ç­‰ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:5:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"3.2. ç±»çš„UMLå›¾ç¤º 1 2 3 4 5 6 7 8 9 10 public class Employee { private String name; private int age; private String email; public void modifyInfo() { ...... } } åœ¨UMLç±»å›¾ä¸­ï¼Œç±»ä¸€èˆ¬ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š (1) ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç±»åï¼šæ¯ä¸ªç±»éƒ½å¿…é¡»æœ‰ä¸€ä¸ªåå­—ï¼Œç±»åæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ (2) ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»çš„å±æ€§(Attributes)ï¼šå±æ€§æ˜¯æŒ‡ç±»çš„æ€§è´¨ï¼Œå³ç±»çš„æˆå‘˜å˜é‡ã€‚ä¸€ä¸ªç±»å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå±æ€§ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰å±æ€§ UMLè§„å®šå±æ€§çš„è¡¨ç¤ºæ–¹å¼ä¸ºï¼š å¯è§æ€§ åç§°:ç±»å‹ [ = ç¼ºçœå€¼ ] å…¶ä¸­ï¼š â€œå¯è§æ€§â€è¡¨ç¤ºè¯¥å±æ€§å¯¹äºç±»å¤–çš„å…ƒç´ è€Œè¨€æ˜¯å¦å¯è§ï¼ŒåŒ…æ‹¬å…¬æœ‰(public)ã€ç§æœ‰(private)å’Œå—ä¿æŠ¤(protected)ä¸‰ç§ï¼Œåœ¨ç±»å›¾ä¸­åˆ†åˆ«ç”¨ç¬¦å·+ã€-å’Œ#è¡¨ç¤ºã€‚ â€œåç§°â€è¡¨ç¤ºå±æ€§åï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºã€‚ â€œç±»å‹â€è¡¨ç¤ºå±æ€§çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ã€‚ â€œç¼ºçœå€¼â€æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œå³å±æ€§çš„åˆå§‹å€¼ã€‚ (3) ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç±»çš„æ“ä½œ(Operations)ï¼šæ“ä½œæ˜¯ç±»çš„ä»»æ„ä¸€ä¸ªå®ä¾‹å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨çš„è¡Œä¸ºï¼Œæ˜¯ç±»çš„æˆå‘˜æ–¹æ³•ã€‚ UMLè§„å®šæ“ä½œçš„è¡¨ç¤ºæ–¹å¼ä¸ºï¼š å¯è§æ€§ åç§°(å‚æ•°åˆ—è¡¨) [ : è¿”å›ç±»å‹] 4. å‚è€ƒ è§£æUMLç±»å›¾ç¬¦å·æ„ä¹‰ æ·±å…¥æµ…å‡ºUMLç±»å›¾ æ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µâ€”â€”ç¬¬20ç« ã€€å’–å•¡çš„å¯ç¤º ","date":"2023-01-15","objectID":"/posts/tools/uml/uml/:6:0","tags":["UML"],"title":"tool:UMLå›¾æ ‡ç¤ºæ„","uri":"/posts/tools/uml/uml/"},{"categories":["tools"],"content":"vscodeåŸºç¡€é…ç½®","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ 1. èµ„æ–™ 2. vs code å¿«æ·é”® 2.1. å°†ä¸‹ä¸€ä¸ªæŸ¥æ‰¾åŒ¹é…é¡¹æ·»åŠ åˆ°é€‰æ‹© 3. VS æ’ä»¶ 3.1. Markdown TOC 3.2. Markdown Preview Enhanced 3.3. Markdown All in One 3.4. GitLens 3.5. Code Spell Checker 3.6. Remote - SSH 3.7. vscode-fileheader 3.8. Rainbow Brackets 3.9. vscode-pdf 3.10. vscode-drawio 3.11. Comment Translate 3.12. shellman 3.13. shell-format 3.14. shellcheck 4. é—®é¢˜åŠé…ç½® 4.1. ubuntu vscode å­—ä½“é—´éš”å¤§ 4.2. ubuntu vscode ä»£ç ç©ºæ ¼å° 4.3. æ˜¾ç¤ºç©ºæ ¼å’Œtab 4.4. ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ 4.5. markdown å»é™¤ ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ 4.6. linuxä¸‹vscodeç¼–å†™cppå ç”¨å†…å­˜è¿‡é«˜é—®é¢˜ 4.7. è®¾ç½®å¿½ç•¥æ–‡ä»¶ 1. èµ„æ–™ å®˜æ–¹æ–‡æ¡£ ç¬¬ä¸€æ¬¡ä½¿ç”¨VS Codeæ—¶ä½ åº”è¯¥çŸ¥é“çš„ä¸€åˆ‡é…ç½® 2. vs code å¿«æ·é”® 1 2 3 4 5 6 7 8 9 10 11 12 The cmd key for Windows is ctrl. Shortcuts Functionality cmd-k v or ctrl-k v Open preview to the Side cmd-shift-v or ctrl-shift-v Open preview ctrl-shift-s Sync preview / Sync source shift-enter Run Code Chunk ctrl-shift-enter Run all Code Chunks cmd-= or cmd-shift-= Preview zoom in cmd-- or cmd-shift-_ Preview zoom out cmd-0 Preview reset zoom esc Toggle sidebar TOC ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:0:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"2.1. å°†ä¸‹ä¸€ä¸ªæŸ¥æ‰¾åŒ¹é…é¡¹æ·»åŠ åˆ°é€‰æ‹© vsCodeå¤šé€‰å¤šä¸ªå…ƒç´ è¿›è¡Œç»Ÿä¸€ä¿®æ”¹ 1 2 3 4 5 { \"key\": \"ctrl+d\", \"command\": \"editor.action.addSelectionToNextFindMatch\", \"when\": \"editorFocus\" } 3. VS æ’ä»¶ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:1:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.1. Markdown TOC è‡ªåŠ¨ç”Ÿæˆç›®å½• VScode markdown md TOC æ’ä»¶ç›®å½•ç”Ÿæˆé”™è¯¯auto æœç´¢eol æ”¹ä¸ºâ€™\\n' ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:2:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.2. Markdown Preview Enhanced markdown é¢„è§ˆ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:3:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.3. Markdown All in One ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:4:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.4. GitLens VsCodeä¸­å¥½ç”¨çš„gitæºä»£ç ç®¡ç†æ’ä»¶GitLens ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:5:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.5. Code Spell Checker ä»£ç æ‹¼å†™æ£€æŸ¥å·¥å…· ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:6:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.6. Remote - SSH è¿æ¥è¿œç¨‹ä¸»æœº ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:7:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.7. vscode-fileheader è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶å¤´ 1 /* \\r\\n* @file xxx\\r\\n* @brief xxx\\r\\n* @author ZYH\\r\\n* @version v0.1\\r\\n* @date 2020/07/22\\r\\n* @copyright 2019, Deepglint All rights reserved.\\r\\n*/ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:8:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.8. Rainbow Brackets å½©è™¹æ‹¬å· ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:9:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.9. vscode-pdf PDF æŸ¥çœ‹å™¨ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:10:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.10. vscode-drawio VSCode Drawio ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:11:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.11. Comment Translate VSCode æ³¨é‡Šç¿»è¯‘ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:12:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.12. shellman ç¼–è¾‘è¿‡ç¨‹ä¸­ä¼šæœ‰ä»£ç æç¤º ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:13:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.13. shell-format å³é”® -\u003e æ ¼å¼åŒ–æ–‡æ¡£ï¼ˆCtrl + Alt + Lï¼‰ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:14:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"3.14. shellcheck è¯­æ³•é”™è¯¯æ£€æŸ¥æ’ä»¶ å®‰è£…shellcheckï¼ˆshellcheckæ’ä»¶ä¾èµ–äºshellcheckï¼‰ : sudo apt-get install shellcheck åœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­ï¼Œä¼šæç¤ºè¯­æ³•é”™è¯¯ 4. é—®é¢˜åŠé…ç½® ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:15:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.1. ubuntu vscode å­—ä½“é—´éš”å¤§ ä¿®æ”¹ï¼šâ€œterminal.integrated.fontFamilyâ€: â€œmonospaceâ€ï¼Œ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:16:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.2. ubuntu vscode ä»£ç ç©ºæ ¼å° ä¿®æ”¹ï¼š \" Editor:Font Family\":â€˜monospaceâ€™ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:17:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.3. æ˜¾ç¤ºç©ºæ ¼å’Œtab ä¿®æ”¹ ï¼š\" Editor: Render Whitespace â€œ:all ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:18:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.4. ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ å¯ç”¨ ï¼štrimTrailingWhitespace ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:19:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.5. markdown å»é™¤ ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ markdown æ–‡ä»¶æ ¹ç›®å½•é…ç½® 1 2 3 { \"files.trimTrailingWhitespace\": false } ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:20:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.6. linuxä¸‹vscodeç¼–å†™cppå ç”¨å†…å­˜è¿‡é«˜é—®é¢˜ intelli Sense Cache Size é»˜è®¤å¤§å°ä¸º5G,å°†å…¶æ”¹ä¸º2048(2G)æˆ–è€…å…¶ä»–ä»»æ„ï¼Œä¸è¦å¤ªå¤§ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:21:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"4.7. è®¾ç½®å¿½ç•¥æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 \"files.exclude\": { \"*.metadata\": true, \"*.settings\": true, \"**/*.pyc\": true, //éšè—æ‰€æœ‰pycæ–‡ä»¶ \"**/*.meta\": true, //éšè—æ‰€æœ‰metaæ–‡ä»¶ \"**/*.prefab\": true, //éšè—æ‰€æœ‰prefabæ–‡ä»¶ \"**/*.d.ts\": true, //éšè—æ‰€æœ‰d.tsæ–‡ä»¶ \"**/*.fnt\": true, \"**/*.sln\": true, \"**/*.csproj\": true, \"**/.vscode\": true, \"**/*.anim\": true, \"**/*.controller\": true, \"**/Logs\": true, \"**/[Pp]lugins\": true, //ä½¿ç”¨ä¸­æ‹¬å·æ—¶è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ \"**/[Mm]aterials\": true, \"**/[Aa]nimation\": true, \"**/[Pp]ackages\": true, \"**/[Tt]extures\": true, \"**/[Ss]cenes\": true, \"**/temp\": true, //éšè—tempæ–‡ä»¶å¤¹ \"**/library\": true, //éšè—libraryæ–‡ä»¶å¤¹ \"**/audio\": true, //éšè—audioæ–‡ä»¶å¤¹ \"**/video\": true, //éšè—videoæ–‡ä»¶å¤¹ } ","date":"2023-01-15","objectID":"/posts/tools/vscode/base_config/vscode/:22:0","tags":["vsoced"],"title":"tool:vscodeåŸºç¡€é…ç½®","uri":"/posts/tools/vscode/base_config/vscode/"},{"categories":["tools"],"content":"vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"å‚è€ƒï¼š Using C++ on Linux in VS Code Getting Started with Python in VS Code ã€ç¬”è®°ã€‘vscodeåšC++å¼€å‘ï¼Œlaunch.jsonã€tasks.jsonã€settings.jsonå†™æ³•ç¤ºä¾‹ æ•™ä½ å¦‚ä½•å¿«é€Ÿè§£å†³éœ€è¦åœ¨æ¯ä¸ªæ–°é¡¹ç›®æ–°å»ºlaunch.jsonæ–‡ä»¶çš„é—®é¢˜ï¼Ÿ Tips and Tricks Ctrl+R : Displays a Quick Pick dropdown with the list from File \u003e Open Recent with recently opened folders and workspaces followed by files. ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:0:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"Command line 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # open code with current directory code . # open the current directory in the most recently used code window code -r . # create a new window code -n # change the language code --locale=es # open diff editor code --diff \u003cfile1\u003e \u003cfile2\u003e # open file at specific line and column \u003cfile:line[:character]\u003e code --goto package.json:10:5 # see help options code --help # disable all extensions code --disable-extensions . ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:1:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":".vscode folder Workspace specific files are in a .vscode folder at the root. For example, tasks.json for the Task Runner and launch.json for the debugger. ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:2:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"Ignore files / folders Removes these files / folders from your editor window. 1 2 3 4 \"files.exclude\": { \"somefolder/\": true, \"somefile\": true } Remove these files / folders from search results. 1 2 3 4 \"search.exclude\": { \"someFolder/\": true, \"somefile\": true } launch.jsonã€tasks.jsonã€settings.json settings.json User and Workspace Settings User Settings - Settings that apply globally to any instance of VS Code you open. Workspace Settings - Settings stored inside your workspace and only apply when the workspace is opened. ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:3:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"User Settings ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:4:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"Settings file locations# Depending on your platform, the user settings file is located here: Windows %APPDATA%\\Code\\User\\settings.json macOS $HOME/Library/Application\\ Support/Code/User/settings.json Linux $HOME/.config/Code/User/settings.json ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:4:1","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"Workspace Settings launch.json Configure C/C++ debugging ","date":"2023-01-15","objectID":"/posts/tools/vscode/config_files/vscode_config/:5:0","tags":["vsoced"],"title":"tool:vscodeé…ç½®æ–‡ä»¶(config.json)è®¾ç½®","uri":"/posts/tools/vscode/config_files/vscode_config/"},{"categories":["tools"],"content":"å·¥å…·ä½¿ç”¨","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":" ä»£ç ç®¡ç†å·¥å…· ä»£ç æ ¼å¼åŒ–å·¥å…·ClangFormat ç®€ä»‹ æ–‡æ¡£ å®‰è£… ä½¿ç”¨ ä½¿ç”¨vscode æ‰‹åŠ¨æ ¼å¼åŒ– git è‡ªåŠ¨æ ¼å¼åŒ–æäº¤æ–‡ä»¶ æ‰‹åŠ¨æ ¼å¼åŒ– é™æ€æ‰«æå·¥å…· cppcheck å®‰è£… ä½¿ç”¨ Tscancode å®‰è£… ä½¿ç”¨ æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå·¥å…· doxygen å®‰è£… å¸¸ç”¨é…ç½® æ ¹æ®é…ç½®ç”Ÿæˆdoxygenæ–‡æ¡£ vscode è‡ªåŠ¨ç”Ÿæˆ Doxygen æ³¨é‡Š ä¸‹è½½ é…ç½®æ–‡ä»¶ ä½¿ç”¨ å»ºè®®å®‰è£…çš„æ’ä»¶åŠé…ç½® Code Spell Checker å…¶ä»–é…ç½® ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ ä¿å­˜æ–‡ä»¶åœ¨æ–‡ä»¶æœ«å°¾æ’å…¥æœ€ç»ˆè¡Œ ä»£ç ç®¡ç†å·¥å…· ä¸ºäº†å›¢é˜Ÿåä½œæ–¹ä¾¿ä»¥åŠä»£ç ä»£ç ç¨³å®šæ€§å»ºè®¾ï¼Œå›¢é˜Ÿå†…å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„å·¥å…·è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼Œç”Ÿæˆæ–‡æ¡£ç­‰ã€‚è¿™é‡Œæ•´ç†ä¸‹ç›¸å…³å·¥å…·åŠå¯¼å…¥å·¥ç¨‹å®æ–½çš„æ–¹æ³•ã€‚ ä»¥ä¸‹å·¥å…·åŸºäºå¦‚Ubuntu 18.04 LTSç¯å¢ƒè¿›è¡ŒéªŒè¯ï¼Œä½†å·¥å…·åˆ°æ—¶è·¨å¹³å°ï¼Œä¿æŒé…ç½®æ–‡ä»¶ä¸€è‡´ï¼Œå…¶ä»–å¹³å°ç¯å¢ƒå®‰è£…éœ€è¦ä½¿ç”¨çš„åŒå­¦è‡ªè¡Œè§£å†³ã€‚ ä»£ç æ ¼å¼åŒ–å·¥å…·ClangFormat ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:0:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ç®€ä»‹ ClangFormat æ˜¯ä¸€ä¸ªè§„èŒƒä»£ç çš„å·¥å…· ClangFormat æ”¯æŒçš„è¯­è¨€æœ‰ï¼šC/C++/Java/JavaScript/Objective-C/Protobuf/C# ClangFormat æ”¯æŒçš„è§„èŒƒæœ‰ï¼šLLVMï¼ŒGoogleï¼ŒChromiumï¼ŒMozilla å’Œ WebKit ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:1:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"æ–‡æ¡£ å®˜æ–¹æ–‡æ¡£ å…¶é…ç½®æ–‡ä»¶çš„å®˜æ–¹æ–‡æ¡£ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:2:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"å®‰è£… 1 2 3 4 # å®‰è£… sudo apt install clang-format # æŸ¥çœ‹ç‰ˆæœ¬ clang-format --version ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:3:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:4:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨vscode æ‰‹åŠ¨æ ¼å¼åŒ– å®‰è£… æ’ä»¶ clang-format å°†é»˜è®¤æ ¼å¼åŒ–å·¥å…·è®¾ç½®ä¸º clang-format vscode è®¾ç½®ä¸­ æœç´¢ defaultFormatter ï¼Œé€‰æ‹©é»˜è®¤é…ç½®ä¸º clang-format ã€‚ å°†é…ç½®æ–‡ä»¶ .clang-format æ”¾åˆ°å·¥ç¨‹æ ¹ç›®å½•ï¼Œä»¥DVR å·¥ç¨‹ä¸ºä¾‹ï¼š ä½¿ç”¨å¿«æ·æ ¼å¼åŒ– ï¼Œwindowsï¼šShift+Alt+F Macï¼šShift+Option+F Ubuntuï¼šCtrl+Shift+I ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:4:1","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"git è‡ªåŠ¨æ ¼å¼åŒ–æäº¤æ–‡ä»¶ git pre-commit åœ¨æäº¤ä»£ç çš„æ—¶å€™å¯¹å˜åŠ¨çš„æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–, å°† pre-commit æ‹·è´åˆ° git/hooks ç›®å½•ä¸‹ 1 cp ./pre-commit ../../.git/hooks/ æ­¤ågitåœ¨æäº¤çš„æ—¶å€™ä¼šè¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:4:2","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"æ‰‹åŠ¨æ ¼å¼åŒ– ä½¿ç”¨ clang-format å‘½ä»¤ ```bash clang-format -style=google -i xxx.cpp æŒ‡å®šæ ¼å¼åŒ–æ–¹å¼ clang-format -style=file .clang-format -i xxx.cpp æŒ‡å®šé…ç½®æ–‡ä»¶ clang-format -i xxx.cpp # ä½¿ç”¨å·¥ç¨‹é»˜è®¤ ``` ä½¿ç”¨è„šæœ¬æ ¼å¼åŒ–ä»¥æœ‰æ–‡ä»¶ ç°æœ‰ä»£ç å¯èƒ½æ ¼å¼ä¸ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨æä¾›çš„è„šæœ¬è¿›è¡Œç»Ÿä¸€æ ¼å¼åŒ–åšå•æ¬¡æäº¤åˆ°æœåŠ¡å™¨ã€‚å¯ä»¥ä½¿ç”¨ tools/format æ–‡ä»¶å¤¹ä¸‹ format.sh å¯¹æ–‡ä»¶å¤¹å†…æ–‡ä»¶é€’å½’è¿›è¡Œæ ¼å¼åŒ–ã€‚ 1 ./format.sh /home/didi/work/http/src/http é™æ€æ‰«æå·¥å…· ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:4:3","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"cppcheck CppCheckæ˜¯ä¸€ä¸ªC/C++ä»£ç ç¼ºé™·é™æ€æ£€æŸ¥å·¥å…·ã€‚ä¸åŒäºC/C++ç¼–è¯‘å™¨åŠå…¶å®ƒåˆ†æå·¥å…·ï¼ŒCppCheckåªæ£€æŸ¥ç¼–è¯‘å™¨æ£€æŸ¥ä¸å‡ºæ¥çš„bugï¼Œä¸æ£€æŸ¥è¯­æ³•é”™è¯¯ã€‚æ‰€è°“é™æ€ä»£ç æ£€æŸ¥å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå·¥å…·æ£€æŸ¥æˆ‘ä»¬å†™çš„ä»£ç æ˜¯å¦å®‰å…¨å’Œå¥å£®ï¼Œæ˜¯å¦æœ‰éšè—çš„é—®é¢˜ æºç ä¸‹è½½åœ°å€ï¼šcppcheck ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:5:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"å®‰è£… 1 2 3 4 5 6 # å®‰è£… sudo apt-get install cppcheck # æŸ¥çœ‹ç‰ˆæœ¬ cppcheck --version # Cppcheck 1.82 c++11 æœ€å¥½ä½¿ç”¨1.8 å¼‚å¸¸ç‰ˆæœ¬ï¼Œå¦‚æœapt å®‰è£…éæœ€æ–°ç‰ˆæœ¬å¯ä»¥ä¸‹è½½æºç å®‰è£… ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:5:1","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨ ä½¿ç”¨å‚è€ƒ 1 cppcheck xxx/ --enable=all --output-file=./xxxx.txt ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:5:2","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"Tscancode TscanCodeæ˜¯ä¸€æ¬¾è…¾è®¯å¼€æºçš„é™æ€ä»£ç æ‰«æå·¥å…·ï¼ŒTscanCodeæ—¨åœ¨åŠ©åŠ›å¼€å‘ä¸æµ‹è¯•äººå‘˜ä»ä»£ç å±‚é¢æŒ–æ˜é—®é¢˜ï¼Œå°†é‚£äº›é•¿æœŸå›°æ‰°é¡¹ç›®çš„è¯¸å¦‚ç©ºæŒ‡é’ˆå®•æœºç­‰é—®é¢˜ï¼Œæ‰¼æ€äºèŒèŠ½é˜¶æ®µã€‚æ”¯æŒç”¨æˆ·æ ¹æ®ä¸åŒéœ€æ±‚è‡ªå®šä¹‰é…ç½®æ£€æŸ¥é¡¹ï¼Œæœ‰æå¼ºçš„æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å¹³å‡æ‰«æé€Ÿåº¦10Wè¡Œ/åˆ†é’Ÿã€‚ TscanCodeæ”¯æŒä»¥ä¸‹ç±»å‹è§„åˆ™æ‰«æï¼š ç©ºæŒ‡é’ˆæ£€æŸ¥ï¼ŒåŒ…å«å¯ç–‘çš„ç©ºæŒ‡é’ˆï¼Œåˆ¤ç©ºåè§£å¼•ç”¨æ¯”å¦‚Crashç­‰å…±3ç±»subidæ£€æŸ¥ã€‚ æ•°æ®è¶Šç•Œï¼ŒSprintf_Sè¶Šç•Œå…±1ç±»subidæ£€æŸ¥ã€‚ å†…å­˜æ³„æ¼ï¼Œåˆ†é…å’Œé‡Šæ”¾ä¸åŒ¹é…åŒ1ç±»subidæ£€æŸ¥ã€‚ é€»è¾‘é”™è¯¯ï¼Œé‡å¤çš„ä»£ç åˆ†æ”¯ï¼Œboolç±»å‹å’ŒINTè¿›è¡Œæ¯”è¾ƒï¼Œè¡¨è¾¾å¼æ°¸è¿œTrueæˆ–è€…falseç­‰å…±18ç±»æ£€æŸ¥ã€‚ å¯ç–‘ä»£ç æ£€æŸ¥ï¼Œifåˆ¤æ–­ä¸­å«æœ‰å¯ç–‘çš„=å·ï¼Œè‡ªç”±å˜é‡è¿”å›å±€éƒ¨å˜é‡ç­‰å…±è®¡15ç±»æ£€æŸ¥ã€‚ è¿ç®—é”™è¯¯ï¼Œåˆ¤æ–­æ— ç¬¦å·æ•°å°äº0,å¯¹boolç±»å‹è¿›è¡Œ++è‡ªå¢ç­‰ï¼Œå…±è®¡11ç±»æ£€æŸ¥ã€‚ ä»£ç ä»“åº“ ï¼šTscanCode ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:6:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"å®‰è£… release æ–‡ä»¶ä¸‹è½½åœ°å€ ï¼šrelease æ–‡ä»¶ä¸‹è½½ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:6:1","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨ å·¥å…· ä½¿ç”¨å‚è€ƒ 1 ./tscancode --xml --enable=all -q ../../../src/ \u003escan_result.xml 2\u003e\u00261 è¯´æ˜ ï¼š å·¥ç¨‹é‡Œé›†æˆäº†è„šæœ¬å’Œç”Ÿæˆçš„æ–‡ä»¶ è§ ï¼š tools/codescan/ è·¯å¾„ æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå·¥å…· doxygen ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:6:2","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"å®‰è£… 1 å®‰è£…doxygenâ€”\u003e å®‰è£…Graphvizâ€”\u003eç”Ÿæˆdoxygené…ç½®æ–‡ä»¶â€”\u003eä¿®æ”¹doxygené…ç½®æ–‡ä»¶â€”\u003eç”Ÿæˆdoxygenæ–‡æ¡£ å®‰è£…doxygen 1 sudo apt-get install doxygen å®‰è£…Graphviz 1 sudo apt-get install graphviz ç”Ÿæˆdoxygené…ç½®æ–‡ä»¶ 1 doxygen -s -g æ³¨é‡Šï¼šä¸Šè¿°s å’Œ g åˆ†åˆ«è¡¨ç¤ºsimpleå’Œgenerate ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:7:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"å¸¸ç”¨é…ç½® å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 # é¡¹ç›®åç§°ï¼Œå°†ä½œä¸ºäºæ‰€ç”Ÿæˆçš„ç¨‹åºæ–‡æ¡£é¦–é¡µæ ‡é¢˜ PROJECT_NAME = â€œTestâ€ # æ–‡æ¡£ç‰ˆæœ¬å·ï¼Œå¯å¯¹åº”äºé¡¹ç›®ç‰ˆæœ¬å·ï¼Œè­¬å¦‚ svnã€cvs æ‰€ç”Ÿæˆçš„é¡¹ç›®ç‰ˆæœ¬å· PROJECT_NUMBER = \"1.0.0 # ç¨‹åºæ–‡æ¡£è¾“å‡ºç›®å½• OUTPUT_DIRECTORY = /home/user1/docs # ç¨‹åºæ–‡æ¡£è¾“å…¥ç›®å½• INPUT = /home/user1/project/kernel # ç¨‹åºæ–‡æ¡£è¯­è¨€ç¯å¢ƒ OUTPUT_LANGUAGE = Chinese # åªå¯¹å¤´æ–‡ä»¶ä¸­çš„æ–‡æ¡£åŒ–ä¿¡æ¯ç”Ÿæˆç¨‹åºæ–‡æ¡£ FILE_PATTERNS = # é€’å½’éå†å½“å‰ç›®å½•çš„å­ç›®å½•ï¼Œå¯»æ‰¾è¢«æ–‡æ¡£åŒ–çš„ç¨‹åºæºæ–‡ä»¶ RECURSIVE = YES # å¦‚æœæ˜¯åˆ¶ä½œ C ç¨‹åºæ–‡æ¡£ï¼Œè¯¥é€‰é¡¹å¿…é¡»è®¾ä¸º YESï¼Œå¦åˆ™é»˜è®¤ç”Ÿæˆ C++ æ–‡æ¡£æ ¼å¼ OPTIMIZE_OUTPUT_FOR_C = YES #æå–ä¿¡æ¯ï¼ŒåŒ…å«ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜å’Œé™æ€æˆå‘˜ EXTRACT_ALL = yes EXTRACT_PRIVATE = yes EXTRACT_STATIC = yes # å¯¹äºä½¿ç”¨ typedef å®šä¹‰çš„ç»“æ„ä½“ã€æšä¸¾ã€è”åˆç­‰æ•°æ®ç±»å‹ï¼ŒåªæŒ‰ç…§ typedef å®šä¹‰çš„ç±»å‹åè¿›è¡Œæ–‡æ¡£åŒ– TYPEDEF_HIDES_STRUCT = YES # åœ¨ C++ ç¨‹åºæ–‡æ¡£ä¸­ï¼Œè¯¥å€¼å¯ä»¥è®¾ç½®ä¸º NOï¼Œè€Œåœ¨ C ç¨‹åºæ–‡æ¡£ä¸­ï¼Œç”±äº C è¯­è¨€æ²¡æœ‰æ‰€è°“çš„åŸŸ/åå­—ç©ºé—´è¿™æ ·çš„æ¦‚å¿µï¼Œæ‰€ä»¥æ­¤å¤„è®¾ç½®ä¸º YES HIDE_SCOPE_NAMES = YES # è®© doxygen é™æ‚„æ‚„åœ°ä¸ºä½ ç”Ÿæˆæ–‡æ¡£ï¼Œåªæœ‰å‡ºç°è­¦å‘Šæˆ–é”™è¯¯æ—¶ï¼Œæ‰åœ¨ç»ˆç«¯è¾“å‡ºæç¤ºä¿¡æ¯ QUIET = YES # é€’å½’éå†ç¤ºä¾‹ç¨‹åºç›®å½•çš„å­ç›®å½•ï¼Œå¯»æ‰¾è¢«æ–‡æ¡£åŒ–çš„ç¨‹åºæºæ–‡ä»¶ EXAMPLE_RECURSIVE = YES # å…è®¸ç¨‹åºæ–‡æ¡£ä¸­æ˜¾ç¤ºæœ¬æ–‡æ¡£åŒ–çš„å‡½æ•°ç›¸äº’è°ƒç”¨å…³ç³» REFERENCED_BY_RELATION = YES REFERENCES_RELATION = YES REFERENCES_LINK_SOURCE = YES # ä¸ç”Ÿæˆ latex æ ¼å¼çš„ç¨‹åºæ–‡æ¡£ GENERATE_LATEX = NO # åœ¨ç¨‹åºæ–‡æ¡£ä¸­å…è®¸ä»¥å›¾ä¾‹å½¢å¼æ˜¾ç¤ºå‡½æ•°è°ƒç”¨å…³ç³»ï¼Œå‰ææ˜¯ä½ å·²ç»å®‰è£…äº† graphviz è½¯ä»¶åŒ… HAVE_DOT = YES CALL_GRAPH = YES CALLER_GRAPH = YES #åœ¨æœ€åç”Ÿæˆçš„æ–‡æ¡£ä¸­ï¼ŒæŠŠæ‰€æœ‰çš„æºä»£ç åŒ…å«åœ¨å…¶ä¸­ SOURCE BROWSER = YES $è¿™ä¼šåœ¨HTMLæ–‡æ¡£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªä¾§è¾¹æ ï¼Œå¹¶ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºåŒ…ã€ç±»ã€æ¥å£ç­‰çš„å…³ç³» GENERATE TREEVIEW ï¼ ALL ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:7:1","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"æ ¹æ®é…ç½®ç”Ÿæˆdoxygenæ–‡æ¡£ 1 doxygen Doxyfile æ•ˆæœ æ–‡ä»¶ class namespase ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:7:2","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"vscode è‡ªåŠ¨ç”Ÿæˆ Doxygen æ³¨é‡Š ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:8:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä¸‹è½½ vscode ä¸‹è½½æ’ä»¶ ï¼šGenerate Doxygen Comments ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:8:1","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"é…ç½®æ–‡ä»¶ å®‰è£…æ’ä»¶åï¼ŒFileâ€“Preferencesâ€“Settingsâ€“ ä¸­æ‰“å¼€ ç”¨æˆ· setting.jsonæ–‡ä»¶ ,å¢åŠ å¦‚ä¸‹å†…å®¹ (é…ç½®å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // Doxygen documentation generator set \"doxdocgen.file.copyrightTag\" : [ \"@copyright Copyright (c) 2012-2021 Beijing Xiaoju Technology Co, Ltd.\" ], \"doxdocgen.file.customTag\": [ \"@par ä¿®æ”¹æ—¥å¿—:\", \"\u003ctable\u003e\", \"\u003ctr\u003e\u003cth\u003eDate \u003cth\u003eVersion \u003cth\u003eAuthor \u003cth\u003eDescription\", \"\u003ctr\u003e\u003ctd\u003e{date} \u003ctd\u003ev1.0 \u003ctd\u003ezhangyuhu \u003ctd\u003eå†…å®¹\", \"\u003c/table\u003e\", ], \"doxdocgen.file.fileOrder\": [ \"file\", \"brief\", \"author\", \"version\", \"date\", \"copyright\", \"empty\", \"custom\", ], \"doxdocgen.file.fileTemplate\": \"@file {name}\", \"doxdocgen.file.versionTag\": \"@version v1.0\", \"doxdocgen.generic.authorEmail\": \"zhangyuhu@didiglobal.com\", \"doxdocgen.generic.authorName\": \"zhangyuhu\", \"doxdocgen.generic.authorTag\": \"@author {author} ({email})\", \"doxdocgen.generic.order\": [ \"brief\", \"tparam\", \"param\", \"return\" ], \"doxdocgen.generic.paramTemplate\": \"@param{indent:8}{param}{indent:25}My Param doc\", \"doxdocgen.generic.returnTemplate\": \"@return {type} \", \"doxdocgen.generic.splitCasingSmartText\": true, ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:8:2","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨ Vs codeè‡ªåŠ¨ç”ŸæˆDoxygenæ ¼å¼æ³¨é‡Š åœ¨æ–‡ä»¶ / å‡½æ•°ç­‰ è¾“å…¥ /** å›è½¦å¯è‡ªåŠ¨ç”Ÿæˆæ³¨é‡Š å»ºè®®å®‰è£…çš„æ’ä»¶åŠé…ç½® ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:8:3","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"Code Spell Checker æ‹¼å†™æ£€æŸ¥å·¥å…· ç¤ºä¾‹1: ç¤ºä¾‹2: å…¶ä»–é…ç½® ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:9:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä¿å­˜å»é™¤è¡Œå°¾å­—ç¬¦ è®¾ç½®ä¸­æœç´¢ trimTrailingWhitespace ï¼Œå¹¶å¯ç”¨ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:10:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä¿å­˜æ–‡ä»¶åœ¨æ–‡ä»¶æœ«å°¾æ’å…¥æœ€ç»ˆè¡Œ è®¾ç½®ä¸­æœç´¢ insert final newline ï¼Œå¹¶å¯ç”¨ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/vscode/format/format/:11:0","tags":["vsoced"],"title":"tool:vsocedä»£ç æ ¼å¼åŒ–é…ç½®","uri":"/posts/tools/vscode/format/format/"},{"categories":["tools"],"content":"ä½¿ç”¨ gdb è°ƒè¯•","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ GDB æ¦‚è¿° è°ƒè¯•ç¤ºä¾‹ ä½¿ç”¨GDB 1. ç¼–è¯‘ç¨‹åº 2. å¯åŠ¨GDBçš„æ–¹æ³• å¸¸ç”¨æŒ‡ä»¤ 1. æŸ¥çœ‹ä»£ç  2. æ–­ç‚¹è®¾ç½® 2.1. è®¾ç½®æ–­ç‚¹ 2.2. æŸ¥çœ‹æ–­ç‚¹ 2.3. åˆ é™¤æ–­ç‚¹ï¼š 2.4. ç¦ç”¨ä¸å¯ç”¨æ–­ç‚¹ 2.5. æ–­ç‚¹å‘½ä»¤åˆ—è¡¨ 3. è°ƒè¯• 3.1. å¯åŠ¨ 3.2. æŸ¥çœ‹æ ˆå¸§ 3.3. è¾“å‡ºå½“å‰å€¼ 3.4. æµè§ˆä»¥å‰çš„GDBå‘½ä»¤ 3.5. è¿è¡Œ å‚è€ƒ GDB æ¦‚è¿° GDBæ˜¯GNUå¼€æºç»„ç»‡å‘å¸ƒçš„ä¸€ä¸ªå¼ºå¤§çš„UNIXä¸‹çš„ç¨‹åºè°ƒè¯•å·¥å…·ã€‚æˆ–è®¸ï¼Œå„ä½æ¯”è¾ƒå–œæ¬¢é‚£ç§å›¾å½¢ç•Œé¢æ–¹å¼çš„ï¼ŒåƒVCã€BCBç­‰IDEçš„è°ƒè¯•ï¼Œä½†å¦‚æœä½ æ˜¯åœ¨UNIXå¹³å°ä¸‹åšè½¯ä»¶ï¼Œä½ ä¼šå‘ç°GDBè¿™ä¸ªè°ƒè¯•å·¥å…·æœ‰æ¯”VCã€BCBçš„å›¾å½¢åŒ–è°ƒè¯•å™¨æ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚æ‰€è°“â€œå¯¸æœ‰æ‰€é•¿ï¼Œå°ºæœ‰æ‰€çŸ­â€å°±æ˜¯è¿™ä¸ªé“ç†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼ŒGDBä¸»è¦å¸®å¿™ä½ å®Œæˆä¸‹é¢å››ä¸ªæ–¹é¢çš„åŠŸèƒ½ï¼š 1ã€å¯åŠ¨ä½ çš„ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§ä½ çš„è‡ªå®šä¹‰çš„è¦æ±‚éšå¿ƒæ‰€æ¬²çš„è¿è¡Œç¨‹åºã€‚ 2ã€å¯è®©è¢«è°ƒè¯•çš„ç¨‹åºåœ¨ä½ æ‰€æŒ‡å®šçš„è°ƒç½®çš„æ–­ç‚¹å¤„åœä½ã€‚ï¼ˆæ–­ç‚¹å¯ä»¥æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼‰ 3ã€å½“ç¨‹åºè¢«åœä½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥æ­¤æ—¶ä½ çš„ç¨‹åºä¸­æ‰€å‘ç”Ÿçš„äº‹ã€‚ 4ã€åŠ¨æ€çš„æ”¹å˜ä½ ç¨‹åºçš„æ‰§è¡Œç¯å¢ƒã€‚ è°ƒè¯•ç¤ºä¾‹ åŸç¨‹åº ï¼š gdb_test.c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 #include \u003cstdio.h\u003e int func(int n) { int sum = 0, i; for (i = 0; i \u003c n; i++) { sum += i; } return sum; } main() { int i; long result = 0; for (i = 1; i \u003c= 100; i++) { result += i; } printf(\"result[1-100] = %d /n\", result); printf(\"result[1-250] = %d /n\", func(250)); } ç¼–è¯‘ ï¼š gcc -g gdb_test.c -o test ä½¿ç”¨GDBè°ƒè¯•ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 zyh@zyh gdb (master) $ gdb test \u003c---------- å¯åŠ¨GDB GNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git Copyright (C) 2018 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u003chttp://gnu.org/licenses/gpl.html\u003e This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Type \"show copying\" and \"show warranty\" for details. This GDB was configured as \"x86_64-linux-gnu\". Type \"show configuration\" for configuration details. For bug reporting instructions, please see: \u003chttp://www.gnu.org/software/gdb/bugs/\u003e. Find the GDB manual and other documentation resources online at: \u003chttp://www.gnu.org/software/gdb/documentation/\u003e. For help, type \"help\". Type \"apropos word\" to search for commands related to \"word\"... Reading symbols from test...done. (gdb) l \u003c-------------------- lå‘½ä»¤ç›¸å½“äºlistï¼Œä»ç¬¬ä¸€è¡Œå¼€å§‹ä¾‹å‡ºåŸç ã€‚ 1 #include \u003cstdio.h\u003e 2 3 int func(int n) 4 { 5 int sum=0,i; 6 for(i=0; i\u003cn; i++) 7 { 8 sum+=i; 9 } 10 return sum; (gdb) \u003c-------------------- ç›´æ¥å›è½¦è¡¨ç¤ºï¼Œé‡å¤ä¸Šä¸€æ¬¡å‘½ä»¤ 11 } 12 13 14 main() 15 { 16 int i; 17 long result = 0; 18 for(i=1; i\u003c=100; i++) 19 { 20 result += i; (gdb) break 16 \u003c-------------------- è®¾ç½®æ–­ç‚¹ï¼Œåœ¨æºç¨‹åºç¬¬16è¡Œå¤„ã€‚ Breakpoint 1 at 0x8048496: file tst.c, line 16. (gdb) break func \u003c-------------------- è®¾ç½®æ–­ç‚¹ï¼Œåœ¨å‡½æ•°func()å…¥å£å¤„ã€‚ Breakpoint 2 at 0x8048456: file tst.c, line 5. (gdb) info break \u003c-------------------- æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯ã€‚ Num Type Disp Enb Address What 1 breakpoint keep y 0x08048496 in main at tst.c:16 2 breakpoint keep y 0x08048456 in func at tst.c:5 (gdb) r \u003c--------------------- è¿è¡Œç¨‹åºï¼Œrunå‘½ä»¤ç®€å†™ Starting program: /home/hchen/test/tst Breakpoint 1, main () at tst.c:17 \u003c---------- åœ¨æ–­ç‚¹å¤„åœä½ã€‚ 17 long result = 0; (gdb) n \u003c--------------------- å•æ¡è¯­å¥æ‰§è¡Œï¼Œnextå‘½ä»¤ç®€å†™ã€‚ 18 for(i=1; i\u003c=100; i++) (gdb) n 20 result += i; (gdb) n 18 for(i=1; i\u003c=100; i++) (gdb) n 20 result += i; (gdb) c \u003c--------------------- ç»§ç»­è¿è¡Œç¨‹åºï¼Œcontinueå‘½ä»¤ç®€å†™ã€‚ Continuing. result[1-100] = 5050 \u003c----------ç¨‹åºè¾“å‡ºã€‚ Breakpoint 2, func (n=250) at tst.c:5 5 int sum=0,i; (gdb) n 6 for(i=1; i\u003c=n; i++) (gdb) p i \u003c--------------------- æ‰“å°å˜é‡içš„å€¼ï¼Œprintå‘½ä»¤ç®€å†™ã€‚ $1 = 134513808 (gdb) n 8 sum+=i; (gdb) n 6 for(i=1; i\u003c=n; i++) (gdb) p sum $2 = 1 (gdb) n 8 sum+=i; (gdb) p i $3 = 2 (gdb) n 6 for(i=1; i\u003c=n; i++) (gdb) p sum $4 = 3 (gdb) bt \u003c--------------------- æŸ¥çœ‹å‡½æ•°å †æ ˆã€‚ #0 func (n=250) at tst.c:5 #1 0x080484e4 in main () at tst.c:24 #2 0x400409ed in __libc_start_main () from /lib/libc.so.6 (gdb) finish \u003c--------------------- é€€å‡ºå‡½æ•°ã€‚ Run till exit from #0 func (n=250) at tst.c:5 0x080484e4 in main () at tst.c:24 24 printf(\"result[1-250] = %d /n\", func(250) ); Value returned is $6 = 31375 (gdb) c \u003c--------------------- ç»§ç»­è¿è¡Œã€‚ Continuing. result[1-250] = 31375 \u003c----------ç¨‹åºè¾“å‡ºã€‚ Program exited with code 027. \u003c--------ç¨‹åºé€€å‡ºï¼Œè°ƒè¯•ç»“æŸã€‚ (gdb) q \u003c--------------------- é€€å‡ºgdbã€‚ ä½¿ç”¨GDB ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:0:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"ç¼–è¯‘ç¨‹åº ä¸€èˆ¬æ¥è¯´GDBä¸»è¦è°ƒè¯•çš„æ˜¯C/C++çš„ç¨‹åºã€‚è¦è°ƒè¯•C/C++çš„ç¨‹åºï¼Œé¦–å…ˆåœ¨ç¼–è¯‘æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¦æŠŠè°ƒè¯•ä¿¡æ¯åŠ åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ä½¿ç”¨ç¼–è¯‘å™¨ï¼ˆcc/gcc/g++ï¼‰çš„ -g å‚æ•°å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å¦‚ï¼š 1 2 \u003e gcc -g hello.c -o hello \u003e g++ -g hello.cpp -o hello å¦‚æœæ²¡æœ‰-gï¼Œä½ å°†çœ‹ä¸è§ç¨‹åºçš„å‡½æ•°åã€å˜é‡åï¼Œæ‰€ä»£æ›¿çš„å…¨æ˜¯è¿è¡Œæ—¶çš„å†…å­˜åœ°å€ã€‚å½“ä½ ç”¨-gæŠŠè°ƒè¯•ä¿¡æ¯åŠ å…¥ä¹‹åï¼Œå¹¶æˆåŠŸç¼–è¯‘ç›®æ ‡ä»£ç ä»¥åï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨gdbæ¥è°ƒè¯•ä»–ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:1:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"å¯åŠ¨GDBçš„æ–¹æ³• gdb + ProgramName è¯´æ˜ï¼šProgramName ä¹Ÿå°±æ˜¯ä½ çš„æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨å½“å‰ç›®å½•ä¸‹ã€‚ gdb + ProgramName +core è¯´æ˜ï¼šç”¨gdbåŒæ—¶è°ƒè¯•ä¸€ä¸ªè¿è¡Œç¨‹åºå’Œcoreæ–‡ä»¶ï¼Œcoreæ˜¯ç¨‹åºéæ³•æ‰§è¡Œåcore dumpåäº§ç”Ÿçš„æ–‡ä»¶ã€‚ gdb + ProgramName +PID è¯´æ˜ï¼šå¦‚æœä½ çš„ç¨‹åºæ˜¯ä¸€ä¸ªæœåŠ¡ç¨‹åºï¼Œé‚£ä¹ˆä½ å¯ä»¥æŒ‡å®šè¿™ä¸ªæœåŠ¡ç¨‹åºè¿è¡Œæ—¶çš„è¿›ç¨‹IDã€‚gdbä¼šè‡ªåŠ¨attachä¸Šå»ï¼Œå¹¶è°ƒè¯•ä»–ã€‚programåº”è¯¥åœ¨PATHç¯å¢ƒå˜é‡ä¸­æœç´¢å¾—åˆ°ã€‚ gdb -command=z x è¯´æ˜ï¼šåœ¨è°ƒç”¨GDBæ—¶å¯ä»¥æŒ‡å®šå¯åŠ¨æ–‡ä»¶ï¼Œå¦‚ï¼š$gdb-command=z x è¡¨ç¤ºè¦åœ¨å¯æ‰§è¡Œæ–‡ä»¶xä¸Šè¿è¡ŒGDBï¼Œé¦–å…ˆè¦ä»æ–‡ä»¶zä¸­è¯»å–å‘½ä»¤ã€‚ gdbå¯åŠ¨æ–‡ä»¶ \u003e æœ‰æ—¶å€™æˆ‘ä»¬åœ¨å®Œæˆè°ƒè¯•å‰å¯èƒ½éœ€è¦é€€å‡ºGDBï¼Œæ¯”å¦‚éœ€è¦ç¦»å¼€æ¯”è¾ƒé•¿çš„ä¸€æ®µæ—¶é—´è€Œä¸”ä¸èƒ½ä¿æŒç™»å½•åœ¨è®¡ç®—æœºä¸­ã€‚ä¸ºäº†ä¸ä¸¢å¤±æŸäº›ä¿¡æ¯ï¼Œå¯ä»¥å°†æ–­ç‚¹å’Œè®¾ç½®çš„å…¶ä»–å‘½ä»¤æ”¾åœ¨ä¸€ä¸ªGDBå¯åŠ¨æ–‡ä»¶ä¸­ï¼Œç„¶åæ¯æ¬¡å¯åŠ¨GDBæ—¶ä¼šè‡ªåŠ¨åŠ è½½å®ƒä»¬ã€‚ \u003e GDBå¯åŠ¨æ–‡ä»¶é»˜è®¤åä¸º.gdbinitã€‚å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸»ç›®å½•ä¸­ç”¨äºä¸€èˆ¬ç”¨é€”ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶æ”¾åœ¨ç‰¹å®šé¡¹ç›®ä¸“ç”¨çš„ç›®å½•ä¸­ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†è®¾ç½®æ–­ç‚¹çš„å‘½ä»¤æ”¾åœ¨åä¸€ä¸ªç›®å½•çš„å¯åŠ¨æ–‡ä»¶ä¸­ï¼Œåœ¨ä¸»ç›®å½•çš„.gdbinitæ–‡ä»¶ä¸­å­˜å‚¨å¼€å‘çš„ä¸€äº›é€šç”¨çš„å®ã€‚æœ€å¥½ä¸è¦å°†ç¼–ç¨‹é¡¹ç›®æ”¾åœ¨ä¸»ç›®å½•ä¸­ï¼Œå› ä¸ºä¸èƒ½å°†é¡¹ç›®ç‰¹æœ‰çš„ä¿¡æ¯æ”¾åœ¨.gdbinitä¸­ã€‚ GDBå¯åŠ¨æ—¶ï¼Œå¯ä»¥åŠ ä¸Šä¸€äº›GDBçš„å¯åŠ¨å¼€å…³ï¼Œè¯¦ç»†çš„å¼€å…³å¯ä»¥ç”¨gdb -helpæŸ¥çœ‹ã€‚ä¸‹é¢åªåˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‚æ•°ï¼š â€“symbols=SYMFILE ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ç¬¦å·è¡¨ã€‚ â€“se=FILE ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ç¬¦å·è¡¨ä¿¡æ¯ï¼Œå¹¶æŠŠä»–ç”¨åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ â€“core=COREFILE è°ƒè¯•æ—¶core dumpçš„coreæ–‡ä»¶ã€‚ â€“directory=DIR åŠ å…¥ä¸€ä¸ªæºæ–‡ä»¶çš„æœç´¢è·¯å¾„ã€‚é»˜è®¤æœç´¢è·¯å¾„æ˜¯ç¯å¢ƒå˜é‡ä¸­PATHæ‰€å®šä¹‰çš„è·¯å¾„ã€‚ å¸¸ç”¨æŒ‡ä»¤ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:2:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æŸ¥çœ‹ä»£ç  list å‘½ä»¤å¯ç”¨äºæ˜¾ç¤ºæŒ‡å®šä½ç½®å¤„çš„æºä»£ç ã€‚listå‘½ä»¤ä¼šå½±å“å½“å‰è¡Œå’Œå½“å‰æ–‡ä»¶ã€‚listå‘½ä»¤æœ‰å¤šç§æ–¹å¼æŒ‡å®šè¦æ˜¾ç¤ºçš„æºä»£ç èŒƒå›´ï¼Œå¯ä»¥æ˜¯è¡Œå·ï¼Œå‡½æ•°åï¼Œç”šè‡³æ˜¯æŒ‡ä»¤åœ°å€ã€‚å¸¸ç”¨çš„å¦‚ä¸‹ï¼š list linenumï¼šæ˜¾ç¤ºæŒ‡å®šè¡Œæ•°é™„è¿‘çš„ä»£ç ã€‚ list functionï¼šæ˜¾ç¤ºæŒ‡å®šå‡½æ•°é™„è¿‘çš„ä»£ç ã€‚ list + åˆ—å‡ºå½“å‰è¡Œçš„åé¢ä»£ç è¡Œã€‚ list - åˆ—å‡ºå½“å‰è¡Œçš„å‰é¢ä»£ç è¡Œã€‚ list ï¼Šaddrï¼šæ˜¾ç¤ºæŒ‡å®šåœ°å€é™„è¿‘çš„ä»£ç ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒGDBæ˜¾ç¤ºæŒ‡å®šä½ç½®å¤„ä»¥åŠå…¶å‰åçš„10è¡Œä»£ç ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå¯è®¾ç½®çš„å€¼ã€‚ set listsize countï¼šè®¾ç½®listå‘½ä»¤æ˜¾ç¤ºçš„æºä»£ç æ•°é‡æœ€å¤šä¸ºcountè¡Œï¼Œ0è¡¨ç¤ºä¸é™åˆ¶è¡Œæ•°ã€‚ show listsizeï¼šæ˜¾ç¤ºlistsizeçš„å€¼ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:3:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æ–­ç‚¹è®¾ç½® ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"è®¾ç½®æ–­ç‚¹ break line_numberï¼šåœ¨æŸä¸€è¡Œè®¾ç½®æ–­ç‚¹ã€‚ break functionï¼ˆå‡½æ•°åï¼‰ï¼šåœ¨æŸä¸ªå‡½æ•°çš„å…¥å£ï¼ˆç¬¬ä¸€è¡Œå¯æ‰§è¡Œä»£ç ï¼‰å¤„è®¾ç½®æ–­ç‚¹ã€‚ break filename:functionï¼šåœ¨æºä»£ç æ–‡ä»¶filenameçš„å‡½æ•°functionå…¥å£å¤„å¤„è®¾ç½®æ–­ç‚¹ã€‚ conditionbreak_p_numï¼ˆæ–­ç‚¹ç¼–å·ï¼‰ condï¼ˆæ¡ä»¶ï¼‰ï¼šå°†æ­£å¸¸æ–­ç‚¹è½¬å˜ä¸ºæ¡ä»¶æ–­ç‚¹ ä¸¾ä¾‹ï¼šcondition 30 index == 5 break line_numï¼ˆè¡Œå·ï¼‰ if condï¼ˆæ¡ä»¶ï¼‰ï¼šç”¨break ifå¯ä»¥å°†breakå’Œconditionå‘½ä»¤ç»„åˆæˆä¸€ä¸ªæ­¥éª¤ï¼šä¸¾ä¾‹ï¼š(gdb) break 30 if index == 5 ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:1","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æŸ¥çœ‹æ–­ç‚¹ info breakï¼šæ˜¾ç¤ºæ‰€æœ‰æ–­ç‚¹ä¿¡æ¯ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:2","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"åˆ é™¤æ–­ç‚¹ï¼š deletebreak_point_num:åˆ é™¤ç¼–å·ä¸ºbreak_point_numçš„æ–­ç‚¹ï¼› delete:åˆ é™¤æ‰€æœ‰æ–­ç‚¹ï¼› clear function:åˆ é™¤åœ¨functionå‡½æ•°å¤„è®¾å®šçš„æ–­ç‚¹ clearfilename:funtionåˆ é™¤åœ¨filenameæ–‡ä»¶çš„functionå‡½æ•°å¤„è®¾å®šçš„æ–­ç‚¹ clear line_number:åˆ é™¤åœ¨line_numberè¡Œè®¾å®šçš„æ–­ç‚¹ clearfilename:line_number:åˆ é™¤åœ¨filenameæ–‡ä»¶çš„line_numberè¡Œè®¾å®šçš„æ–­ç‚¹ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:3","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"ç¦ç”¨ä¸å¯ç”¨æ–­ç‚¹ disablebreakpoint-listï¼ˆæ˜¯ç”¨ç©ºæ ¼åˆ†éš”å¼€çš„å¤šä¸ªæ–­ç‚¹æ ‡è¯†ç¬¦ï¼‰ï¼šç¦ç”¨æ–­ç‚¹ disableï¼šç¦ç”¨æ‰€æœ‰ç°å­˜æ–­ç‚¹ enablebreakpoint-listï¼šå¯ç”¨æ–­ç‚¹ enable oncebreakpoint-listï¼šåœ¨ä¸‹æ¬¡å¼•èµ·GDBæš‚åœæ‰§è¡Œåç¦ç”¨ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:4","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æ–­ç‚¹å‘½ä»¤åˆ—è¡¨ è®©GDBåœ¨æ¯æ¬¡åˆ°è¾¾æŸä¸ªæ–­ç‚¹æ—¶è‡ªåŠ¨æ‰§è¡Œä¸€ç»„å‘½ä»¤ï¼Œä»è€Œè‡ªåŠ¨å®ŒæˆæŸä¸€ä»»åŠ¡ã€‚ ä½¿ç”¨commandså‘½ä»¤è®¾ç½®å‘½ä»¤åˆ—è¡¨ï¼š commands breakpoint_number â€¦ commands â€¦ end å¦‚æœå«ŒGDBè¾“å‡ºå¤ªå†—é•¿ï¼Œå¯ä»¥ä½¿ç”¨silentå‘½ä»¤ï¼Œåªéœ€å°†å…¶æ·»åŠ åˆ°è®¾ç½®çš„å‘½ä»¤åˆ—è¡¨æœ€å¼€å§‹å¤„å³å¯ã€‚ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:4:5","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"è°ƒè¯• ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:0","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"å¯åŠ¨ run ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:1","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æŸ¥çœ‹æ ˆå¸§ frame numï¼ˆæ ˆå¸§ç¼–å·ï¼‰ æ³¨æ„æ ˆå¸§ç¼–å·è§„åˆ™ï¼Œå½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°çš„å¸§è¢«ç¼–å·ä¸º0ï¼Œå…¶çˆ¶å¸§ï¼ˆå³è¯¥å‡½æ•°çš„è°ƒç”¨è€…çš„æ ˆå¸§ï¼‰è¢«ç¼–å·ä¸º1ï¼Œçˆ¶å¸§çš„çˆ¶å¸§è¢«ç¼–å·ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è·³åˆ°è°ƒç”¨æ ˆä¸­çš„ä¸‹ä¸€ä¸ªçˆ¶å¸§ï¼šup å¼•å‘ç›¸åæ–¹å‘ï¼šdown æ˜¾ç¤ºæ•´ä¸ªæ ˆï¼Œå³å½“å‰å­˜åœ¨çš„æ‰€æœ‰å¸§çš„é›†åˆ ï¼šbacktrace ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:2","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"è¾“å‡ºå½“å‰å€¼ printæˆ–è€…p ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:3","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"æµè§ˆä»¥å‰çš„GDBå‘½ä»¤ ä¸Šä¸€ä¸ªCtrl+Pã€ä¸‹ä¸€ä¸ªCtrl+N å¯ä»¥ç›´æ¥æŒ‰ä¸‹å›è½¦å†æ¬¡æ‰§è¡Œæœ€è¿‘æ‰§è¡Œè¿‡çš„é‚£æ¡å‘½ä»¤ ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:4","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":["tools"],"content":"è¿è¡Œ å•æ­¥æ‰§è¡Œï¼š stepï¼ˆsï¼‰ã€nextï¼ˆnï¼‰ï¼Œä»…æ‰§è¡Œåˆ°ä»£ç çš„ä¸‹ä¸€è¡Œåå†æ¬¡æš‚åœã€‚ æ³¨æ„äºŒè€…åŒºåˆ«ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶stepä¼šè¿›å…¥å‡½æ•°ï¼Œnextå¯¼è‡´ä¸‹ä¸€æ¬¡æš‚åœå‡ºç°åœ¨è°ƒç”¨å‡½æ•°ä¹‹åã€‚nextè¢«ç§°ä¸ºå•æ­¥è¶Šè¿‡ï¼ˆstepping overï¼‰å‡½æ•°ï¼Œè€Œstepè¢«ç§°ä¸ºå•æ­¥è¿›å…¥ï¼ˆstepping intoï¼‰å‡½æ•°ã€‚nextå’Œstepéƒ½å¯ä»¥é‡‡ç”¨ä¸€ä¸ªå¯é€‰çš„æ•°å€¼å‚æ•°ï¼Œæ¥è¡¨ç¤ºè¦ä½¿ç”¨nextæˆ–stepæ‰§è¡Œçš„é¢å¤–è¡Œæ•°ã€‚ æ— æ¡ä»¶æ¢å¤ç¨‹åºçš„æ‰§è¡Œï¼š continueï¼ˆcï¼‰ ç›´åˆ°é‡åˆ°å¦ä¸€ä¸ªæ–­ç‚¹æˆ–è€…ç¨‹åºç»“æŸã€‚continueå¯ä»¥æ¥å—ä¸€ä¸ªå¯é€‰çš„æ•°å€¼å‚æ•°nï¼Œè¦æ±‚GDBå¿½ç•¥ä¸‹é¢nä¸ªæ–­ç‚¹ã€‚ ç”¨finishï¼ˆfinï¼‰æˆ–untilï¼ˆuï¼‰å‘½ä»¤æ¢å¤ finishå‘½ä»¤æŒ‡ç¤ºGDBæ¢å¤æ‰§è¡Œï¼Œç›´åˆ°æ°å¥½åœ¨å½“å‰å¸§å®Œæˆä¹‹åä¸ºæ­¢ã€‚ untilå‘½ä»¤é€šå¸¸ç”¨æ¥åœ¨ä¸è¿›ä¸€æ­¥åœ¨å¾ªç¯ä¸­æš‚åœï¼ˆé™¤äº†å¾ªç¯ä¸­çš„ä¸­é—´æ–­ç‚¹ï¼‰çš„æƒ…å†µä¸‹å®Œæˆæ­£åœ¨æ‰§è¡Œçš„å¾ªç¯ã€‚untilä¼šæ‰§è¡Œå¾ªç¯çš„å…¶ä½™éƒ¨åˆ†ï¼ˆå¦‚æœé‡åˆ°æ–­ç‚¹ï¼Œè¿˜æ˜¯ä¼šæš‚åœï¼‰ï¼Œè®©GDBåœ¨å¾ªç¯åé¢çš„ç¬¬ä¸€è¡Œä»£ç å¤„æš‚åœã€‚ untilå‘½ä»¤ä¹Ÿå¯ä»¥æ¥å—æºä»£ç ä¸­çš„ä½ç½®ä½œä¸ºå‚æ•°ï¼Œå…¶ç”¨æ³•ä¸breakå‘½ä»¤åŒã€‚ å¦‚æœGDBè§¦å‘äº†mainå‡½æ•°å…¥å£å¤„çš„ä¸€ä¸ªæ–­ç‚¹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™äº›å‘½ä»¤æ–¹ä¾¿åœ°ä½¿ç¨‹åºä¸€ç›´æ‰§è¡Œåˆ°swap()çš„å…¥å£ï¼š until 13 until swap until swapflaw.c:13 until swapflaw.c:swap è·³å‡ºå¾ªç¯ until NUM æ‰§è¡Œåˆ°ä¸€ä¸ªæ¯”å½“å‰è¡Œå·å¤§çš„è¡Œï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æŒ‡å®šåœ¨å½“å‰frameï¼ˆæˆ‘ç†è§£æˆå‡½æ•°ï¼‰ä¸­çš„æŸä¸€è¡Œ è·³å‡ºå‡½æ•° finish æ‰§è¡Œï¼Œç›´åˆ°é€‰å®šçš„frameæ‰§è¡Œç»“æŸï¼Œç„¶åæ‰“å°è¿”å›å€¼ï¼Œå°†å…¶æ”¾å…¥å†å²å€¼ä¸­ï¼Œåœæ­¢ é€€å‡º quit(q) å‚è€ƒ ã€Linuxã€‘GDBç”¨æ³•è¯¦è§£(5å°æ—¶å¿«é€Ÿæ•™ç¨‹) ","date":"2023-01-15","objectID":"/posts/tools/gdb/gdb/:5:5","tags":["gdb"],"title":"tool:ä½¿ç”¨ gdb è°ƒè¯•","uri":"/posts/tools/gdb/gdb/"},{"categories":null,"content":"å…³äº","date":"2023-01-15","objectID":"/about/","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":null,"content":"nothing â€¦ ","date":"2023-01-15","objectID":"/about/:0:0","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":null,"content":"å·¥å…·èµ„æºåˆ—è¡¨","date":"2023-01-15","objectID":"/posts/tools/blogs/tools_index/","tags":null,"title":"å·¥å…·èµ„æºåˆ—è¡¨","uri":"/posts/tools/blogs/tools_index/"},{"categories":null,"content":" æç¤º å·¥å…·èµ„æºï¼Œå¥‡é—¨éç”²ã€‚ å¸¸ç”¨ç½‘å€ ç¼–ç¨‹ å·¥å…·å¯¼èˆªç«™ å­¦æœ¯èµ„æº quora cppreference æˆ‘çˆ±è¿è¥ scihubæ£€1 scihubæ£€2 åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  cplusplus åŠæ—¶å·¥å…· Oalib OpenCV c-cpp æœæ±å®éªŒå®¤ iData å¼€æºè½¯ä»¶æ±‡æ€» purecpp åˆ›é€ å¸ˆå¯¼èˆª è°·æ­Œå­¦æœ¯é•œåƒ é‡‘æ­¥å›½ä½œå“é›† refactoring å·¥å…·è¾¾äºº Library genesis Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å— Cè¯­è¨€ä¸­æ–‡ç½‘ ç½‘ç«™æ£€æµ‹ 360 å®‰å…¨è§„åˆ™é›†åˆ èœé¸Ÿæ•™ç¨‹ blogs GitHub ç½‘ç›˜ å…¶ä»– ä¸€é¢ä¹‹çŒ¿ç½‘ æ–‡å”å” z-library ç”µå­ä¹¦ thisPointer é’›ç›˜ è¿…æ·ç”»å›¾ è½»æ¾ä¼  åœ¨çº¿æµç¨‹å›¾ airportal åœ°å€ä¿¡æ¯ç”Ÿæˆ ä¸´æ—¶é‚®ç®± äº‘çŸ­ä¿¡ è§†é¢‘å‹ç¼© åœ¨çº¿æŠ å›¾ ","date":"2023-01-15","objectID":"/posts/tools/blogs/tools_index/:0:0","tags":null,"title":"å·¥å…·èµ„æºåˆ—è¡¨","uri":"/posts/tools/blogs/tools_index/"},{"categories":null,"content":"å·¥å…·èµ„æºåˆ—è¡¨","date":"2023-01-15","objectID":"/tool/","tags":null,"title":"å·¥å…·èµ„æºåˆ—è¡¨","uri":"/tool/"},{"categories":null,"content":" åœ¨çº¿æœç´¢ å¸¸ç”¨ç½‘å€ ç¼–ç¨‹ å·¥å…·å¯¼èˆªç«™ å­¦æœ¯èµ„æº quora cppreference æˆ‘çˆ±è¿è¥ scihubæ£€1 scihubæ£€2 åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  cplusplus åŠæ—¶å·¥å…· Oalib OpenCV c-cpp æœæ±å®éªŒå®¤ iData å¼€æºè½¯ä»¶æ±‡æ€» purecpp åˆ›é€ å¸ˆå¯¼èˆª è°·æ­Œå­¦æœ¯é•œåƒ é‡‘æ­¥å›½ä½œå“é›† refactoring å·¥å…·è¾¾äºº Library genesis Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å— Cè¯­è¨€ä¸­æ–‡ç½‘ å…¬ä¼—å· Markdown ç¼–è¾‘å™¨ ç½‘ç«™æ£€æµ‹ 360 å®‰å…¨è§„åˆ™é›†åˆ èœé¸Ÿæ•™ç¨‹ blogs GitHub ç½‘ç›˜ å…¶ä»– ä¸€é¢ä¹‹çŒ¿ç½‘ æ–‡å”å” z-library ç”µå­ä¹¦ thisPointer é’›ç›˜ è¿…æ·ç”»å›¾ è½»æ¾ä¼  åœ¨çº¿æµç¨‹å›¾ airportal åœ°å€ä¿¡æ¯ç”Ÿæˆ ä¸´æ—¶é‚®ç®± äº‘çŸ­ä¿¡ è§†é¢‘å‹ç¼© åœ¨çº¿æŠ å›¾ ","date":"2023-01-15","objectID":"/tool/:0:0","tags":null,"title":"å·¥å…·èµ„æºåˆ—è¡¨","uri":"/tool/"},{"categories":["cmake"],"content":"cmake ç¼–ç¨‹","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":" æœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚ Modern CMake ç®€ä½“ä¸­æ–‡ç‰ˆ CMakeèœè°±ï¼ˆCMake Cookbookä¸­æ–‡ç‰ˆï¼‰ ARM SIMD æŒ‡ä»¤é›†ï¼šNEON ç®€ä»‹ ç°ä»£çš„ CMake ç°ä»£çš„ CMake ã€‚æ˜¯ CMake 3.4+ ï¼Œç”šè‡³æ˜¯ CMake 3.21+ ï¼ å®ƒç®€æ´ã€å¼ºå¤§ã€ä¼˜é›…ï¼Œæ‰€ä»¥ä½ èƒ½å¤ŸèŠ±è´¹ä½ çš„å¤§éƒ¨åˆ†æ—¶é—´åœ¨ç¼–å†™ä»£ç ä¸Šï¼Œè€Œä¸æ˜¯åœ¨ä¸€ä¸ªä¸å¯è¯»ã€ä¸å¯ç»´æŠ¤çš„ Make ï¼ˆæˆ– CMake 2ï¼‰ æ–‡ä»¶ä¸Šæµªè´¹æ—¶é—´ã€‚ å¹¶ä¸” CMake 3.11+ çš„æ„å»ºé€Ÿåº¦åº”è¯¥ä¹Ÿä¼šæ›´åŠ çš„å¿«ï¼ï¼ï¼ è¿è¡Œ CMake ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:0:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"è®¾ç½®é€‰é¡¹ åœ¨ CMake ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ -D è®¾ç½®é€‰é¡¹ã€‚ä½ èƒ½ä½¿ç”¨ -L åˆ—å‡ºæ‰€æœ‰é€‰é¡¹ï¼Œæˆ–è€…ç”¨ -LH åˆ—å‡ºäººç±»æ›´æ˜“è¯»çš„é€‰é¡¹åˆ—è¡¨ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:1:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"è¯¦ç»†å’Œéƒ¨åˆ†çš„æ„å»º æˆ‘ä»¬å·²ç»æåˆ°äº†åœ¨æ„å»ºæ—¶å¯ä»¥æœ‰è¯¦ç»†è¾“å‡ºï¼Œä½†ä½ ä¹Ÿå¯ä»¥çœ‹åˆ°è¯¦ç»†çš„ CMake é…ç½®è¾“å‡ºã€‚--trace é€‰é¡¹èƒ½å¤Ÿæ‰“å°å‡ºè¿è¡Œçš„ CMake çš„æ¯ä¸€è¡Œã€‚ç”±äºå®ƒè¿‡äºå†—é•¿ï¼ŒCMake 3.7 æ·»åŠ äº† --trace-source=\"filename\" é€‰é¡¹ï¼Œè¿™è®©ä½ å¯ä»¥æ‰“å°å‡ºä½ æƒ³çœ‹çš„ç‰¹å®šæ–‡ä»¶è¿è¡Œæ—¶æ‰§è¡Œçš„æ¯ä¸€è¡Œã€‚å¦‚æœä½ é€‰æ‹©äº†è¦è°ƒè¯•çš„æ–‡ä»¶çš„åç§°ï¼ˆåœ¨è°ƒè¯•ä¸€ä¸ª CMakeLists.txt æ—¶é€šå¸¸é€‰æ‹©çˆ¶ç›®å½•ï¼Œå› ä¸ºå®ƒä»¬åå­—éƒ½ä¸€æ ·ï¼‰ï¼Œä½ å°±ä¼šåªçœ‹åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œè¿è¡Œçš„é‚£äº›è¡Œã€‚è¿™å¾ˆå®ç”¨ï¼ 1 2 cmake --trace --trace-source=\"filename\" .. make VERBOSE=1 ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:2:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"é€‰é¡¹ CMake æ”¯æŒç¼“å­˜é€‰é¡¹ã€‚CMake ä¸­çš„å˜é‡å¯ä»¥è¢«æ ‡è®°ä¸º â€œcachedâ€ï¼Œè¿™æ„å‘³ç€å®ƒä¼šè¢«å†™å…¥ç¼“å­˜ï¼ˆæ„å»ºç›®å½•ä¸­åä¸º CMakeCache.txt çš„æ–‡ä»¶ï¼‰ã€‚ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ç”¨ -D é¢„å…ˆè®¾å®šï¼ˆæˆ–æ›´æ”¹ï¼‰ç¼“å­˜é€‰é¡¹çš„å€¼ã€‚CMake æŸ¥æ‰¾ä¸€ä¸ªç¼“å­˜çš„å˜é‡æ—¶ï¼Œå®ƒå°±ä¼šä½¿ç”¨å·²æœ‰çš„å€¼å¹¶ä¸”ä¸ä¼šè¦†ç›–è¿™ä¸ªå€¼ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:3:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"æ ‡å‡†é€‰é¡¹ å¤§éƒ¨åˆ†è½¯ä»¶åŒ…ä¸­éƒ½ä¼šç”¨åˆ°ä»¥ä¸‹çš„ CMake é€‰é¡¹ï¼š -DCMAKE_BUILD_TYPE= ä» Releaseï¼Œ RelWithDebInfoï¼Œ Debugï¼Œ æˆ–è€…å¯èƒ½å­˜åœ¨çš„æ›´å¤šå‚æ•°ä¸­é€‰æ‹©ã€‚ -DCMAKE_INSTALL_PREFIX= è¿™æ˜¯å®‰è£…ä½ç½®ã€‚UNIX ç³»ç»Ÿé»˜è®¤çš„ä½ç½®æ˜¯ /usr/localï¼Œç”¨æˆ·ç›®å½•æ˜¯ ~/.localï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ è‡ªå·±æŒ‡å®šçš„æ–‡ä»¶å¤¹ã€‚ -DBUILD_SHARED_LIBS= ä½ å¯ä»¥æŠŠè¿™é‡Œè®¾ç½®ä¸º ON æˆ– OFF æ¥æ§åˆ¶å…±äº«åº“çš„é»˜è®¤å€¼ï¼ˆä¸è¿‡ï¼Œä½ ä¹Ÿå¯ä»¥æ˜ç¡®é€‰æ‹©å…¶ä»–å€¼è€Œä¸æ˜¯é»˜è®¤å€¼ï¼‰ -DBUILD_TESTING= è¿™æ˜¯å¯ç”¨æµ‹è¯•çš„é€šç”¨åç§°ï¼Œå½“ç„¶ä¸ä¼šæ‰€æœ‰è½¯ä»¶åŒ…éƒ½ä¼šä½¿ç”¨å®ƒï¼Œæœ‰æ—¶è¿™æ ·åšç¡®å®ä¸é”™ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:3:1","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"CMake è¡Œä¸ºå‡†åˆ™(Doâ€™s and Donâ€™ts) åŸºç¡€çŸ¥è¯†ç®€ä»‹ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:4:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"æœ€ä½ç‰ˆæœ¬è¦æ±‚ 1 cmake_minimum_required(VERSION 3.1) ä» CMake 3.12 å¼€å§‹ï¼Œç‰ˆæœ¬å·å¯ä»¥å£°æ˜ä¸ºä¸€ä¸ªèŒƒå›´ï¼Œä¾‹å¦‚ VERSION 3.1...3.15ï¼›è¿™æ„å‘³ç€è¿™ä¸ªå·¥ç¨‹æœ€ä½å¯ä»¥æ”¯æŒ 3.1 ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¹Ÿæœ€é«˜åœ¨ 3.15 ç‰ˆæœ¬ä¸Šæµ‹è¯•æˆåŠŸè¿‡ã€‚ 1 2 3 4 5 6 7 cmake_minimum_required(VERSION 3.7) if(${CMAKE_VERSION} VERSION_LESS 3.21) cmake_policy(VERSION ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}) else() cmake_policy(VERSION 3.21) endif() ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:5:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"è®¾ç½®ä¸€ä¸ªé¡¹ç›® 1 2 3 project(MyProject VERSION 1.0 DESCRIPTION \"Very nice project\" LANGUAGES CXX) è¿™é‡Œçš„å­—ç¬¦ä¸²æ˜¯å¸¦å¼•å·çš„ï¼Œå› æ­¤å†…å®¹ä¸­å¯ä»¥å¸¦æœ‰ç©ºæ ¼ã€‚é¡¹ç›®åç§°æ˜¯è¿™é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚æ‰€æœ‰çš„å…³é”®å­—å‚æ•°éƒ½å¯é€‰çš„ã€‚VERSION è®¾ç½®äº†ä¸€ç³»åˆ—å˜é‡ï¼Œä¾‹å¦‚ MyProject_VERSION å’Œ PROJECT_VERSIONã€‚è¯­è¨€å¯ä»¥æ˜¯ C,CXX,Fortran,ASM,CUDA(CMake 3.8+),CSharp(3.8+),SWIFT(CMake 3.15+ experimental)ï¼Œé»˜è®¤æ˜¯C CXXã€‚åœ¨ CMake 3.9ï¼Œå¯ä»¥é€šè¿‡DESCRIPTION å…³é”®è¯æ¥æ·»åŠ é¡¹ç›®çš„æè¿°ã€‚è¿™ä¸ªå…³äº project çš„æ–‡æ¡£å¯èƒ½ä¼šæœ‰ç”¨ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:6:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ 1 add_executable(one two.cpp three.h) one æ—¢æ˜¯ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ï¼Œä¹Ÿæ˜¯åˆ›å»ºçš„ CMake ç›®æ ‡(target)çš„åç§°ã€‚ç´§æ¥ç€çš„æ˜¯æºæ–‡ä»¶çš„åˆ—è¡¨ï¼Œä½ æƒ³åˆ—å¤šå°‘ä¸ªéƒ½å¯ä»¥ã€‚CMake å¾ˆèªæ˜ ï¼Œå®ƒæ ¹æ®æ‹“å±•ååªç¼–è¯‘æºæ–‡ä»¶ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¤´æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ï¼›åˆ—å‡ºä»–ä»¬çš„å”¯ä¸€åŸå› æ˜¯ä¸ºäº†è®©ä»–ä»¬åœ¨ IDE ä¸­è¢«å±•ç¤ºå‡ºæ¥ï¼Œç›®æ ‡æ–‡ä»¶åœ¨è®¸å¤š IDE ä¸­è¢«æ˜¾ç¤ºä¸ºæ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥åœ¨ buildsystem ä¸­æ‰¾åˆ°æ›´å¤šå…³äºä¸€èˆ¬æ„å»ºç³»ç»Ÿä¸ç›®æ ‡çš„ä¿¡æ¯ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:7:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"ç”Ÿæˆä¸€ä¸ªåº“ 1 add_library(one STATIC two.cpp three.h) ä½ å¯ä»¥é€‰æ‹©åº“çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ STATIC,SHARED, æˆ–è€…MODULE.å¦‚æœä½ ä¸é€‰æ‹©å®ƒï¼ŒCMake å°†ä¼šé€šè¿‡BUILD_SHARED_LIBS çš„å€¼æ¥é€‰æ‹©æ„å»º STATIC è¿˜æ˜¯ SHARED ç±»å‹çš„åº“ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:8:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"ç›®æ ‡æ—¶å¸¸ä¼´éšç€ä½  1 target_include_directories(one PUBLIC include) target_include_directories ä¸ºç›®æ ‡æ·»åŠ äº†ä¸€ä¸ªç›®å½•ã€‚ PUBLIC å¯¹äºä¸€ä¸ªäºŒè¿›åˆ¶ç›®æ ‡æ²¡æœ‰ä»€ä¹ˆå«ä¹‰ï¼›ä½†å¯¹äºåº“æ¥è¯´ï¼Œå®ƒè®© CMake çŸ¥é“ï¼Œä»»ä½•é“¾æ¥åˆ°è¿™ä¸ªç›®æ ‡çš„ç›®æ ‡ä¹Ÿå¿…é¡»åŒ…å«è¿™ä¸ªç›®å½•ã€‚å…¶ä»–é€‰é¡¹è¿˜æœ‰ PRIVATEï¼ˆåªå½±å“å½“å‰ç›®æ ‡ï¼Œä¸å½±å“ä¾èµ–ï¼‰ï¼Œä»¥åŠ INTERFACEï¼ˆåªå½±å“ä¾èµ–ï¼‰ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å°†ç›®æ ‡ä¹‹é—´é“¾æ¥èµ·æ¥ï¼š 1 2 add_library(another STATIC another.cpp another.h) target_link_libraries(another PUBLIC one) target_link_libraries å¯èƒ½æ˜¯ CMake ä¸­æœ€æœ‰ç”¨ä¹Ÿæœ€ä»¤äººè¿·æƒ‘çš„å‘½ä»¤ã€‚å®ƒæŒ‡å®šä¸€ä¸ªç›®æ ‡ï¼Œå¹¶ä¸”åœ¨ç»™å‡ºç›®æ ‡çš„æƒ…å†µä¸‹æ·»åŠ ä¸€ä¸ªä¾èµ–å…³ç³»ã€‚å¦‚æœä¸å­˜åœ¨åç§°ä¸º one çš„ç›®æ ‡ï¼Œé‚£ä»–ä¼šæ·»åŠ ä¸€ä¸ªé“¾æ¥åˆ°ä½ è·¯å¾„ä¸­ one åº“ï¼ˆè¿™ä¹Ÿæ˜¯å‘½ä»¤å« target_link_libraries çš„åŸå› ï¼‰ã€‚æˆ–è€…ä½ å¯ä»¥ç»™å®šä¸€ä¸ªåº“çš„å®Œæ•´è·¯å¾„ï¼Œæˆ–è€…æ˜¯é“¾æ¥å™¨æ ‡å¿—ã€‚æœ€åå†è¯´ä¸€ä¸ªæœ‰äº›è¿·æƒ‘æ€§çš„çŸ¥è¯†ï¼šï¼‰ï¼Œç»å…¸çš„ CMake å…è®¸ä½ çœç•¥ PUBLIC å…³é”®å­—ï¼Œä½†æ˜¯ä½ åœ¨ç›®æ ‡é“¾ä¸­çœç•¥ä¸ä¸çœç•¥æ··ç”¨ï¼Œé‚£ä¹ˆ CMake ä¼šæŠ¥å‡ºé”™è¯¯ã€‚ åªè¦è®°å¾—åœ¨ä»»ä½•ä½¿ç”¨ç›®æ ‡çš„åœ°æ–¹éƒ½æŒ‡å®šå…³é”®å­—ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰é—®é¢˜ã€‚ ç›®æ ‡å¯ä»¥æœ‰åŒ…å«çš„ç›®å½•ã€é“¾æ¥åº“ï¼ˆæˆ–é“¾æ¥ç›®æ ‡ï¼‰ã€ç¼–è¯‘é€‰é¡¹ã€ç¼–è¯‘å®šä¹‰ã€ç¼–è¯‘ç‰¹æ€§ç­‰ç­‰ã€‚æ­£å¦‚ä½ å°†åœ¨ä¹‹åçš„ä¸¤ä¸ªé¡¹ç›®ç« èŠ‚ä¸­çœ‹åˆ°çš„ï¼Œä½ ç»å¸¸å¯ä»¥å¾—åˆ°ç›®æ ‡ï¼ˆå¹¶ä¸”ç»å¸¸æ˜¯æŒ‡å®šç›®æ ‡ï¼‰æ¥ä»£è¡¨æ‰€æœ‰ä½ ä½¿ç”¨çš„åº“ã€‚ç”šè‡³æœ‰äº›ä¸æ˜¯çœŸæ­£çš„åº“ï¼Œåƒ OpenMPï¼Œå°±å¯ä»¥ç”¨ç›®æ ‡æ¥è¡¨ç¤ºã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°ä»£ CMake å¦‚æ­¤çš„æ£’ï¼ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:9:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"æ›´è¿›ä¸€æ­¥ 1 2 3 4 5 6 7 8 9 10 cmake_minimum_required(VERSION 3.8) project(Calculator LANGUAGES CXX) add_library(calclib STATIC src/calclib.cpp include/calc/lib.hpp) target_include_directories(calclib PUBLIC include) target_compile_features(calclib PUBLIC cxx_std_11) add_executable(calc apps/calc.cpp) target_link_libraries(calc PUBLIC calclib) ä¸º CMake é¡¹ç›®æ·»åŠ ç‰¹æ€§ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:10:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"é»˜è®¤çš„æ„å»ºç±»å‹ 1 2 3 4 5 6 7 8 9 set(default_build_type \"Release\") if(NOT CMAKE_BUILD_TYPE AND NOT CMAKE_CONFIGURATION_TYPES) message(STATUS \"Setting build type to '${default_build_type}' as none was specified.\") set(CMAKE_BUILD_TYPE \"${default_build_type}\" CACHE STRING \"Choose the type of build.\" FORCE) # Set the possible values of build type for cmake-gui set_property(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS \"Debug\" \"Release\" \"MinSizeRel\" \"RelWithDebInfo\") endif() ä¸º CMake é¡¹ç›®æ·»åŠ é€‰é¡¹ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:11:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"åœ°å€æ— å…³ä»£ç (Position independent code) ç”¨æ ‡å¿— -fPIC æ¥è®¾ç½®è¿™ä¸ªæ˜¯æœ€å¸¸è§çš„ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦å»æ˜¾å¼çš„å£°æ˜å®ƒçš„å€¼ã€‚CMake å°†ä¼šåœ¨ SHARED ä»¥åŠ MODULE ç±»å‹çš„åº“ä¸­è‡ªåŠ¨çš„åŒ…å«æ­¤æ ‡å¿—ã€‚å¦‚æœä½ éœ€è¦æ˜¾å¼çš„å£°æ˜ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š 1 set(CMAKE_POSITION_INDEPENDENT_CODE ON) è¿™æ ·ä¼šå¯¹å…¨å±€çš„ç›®æ ‡è¿›è¡Œæ­¤è®¾ç½®ï¼Œæˆ–è€…å¯ä»¥è¿™ä¹ˆå†™ï¼š 1 set_target_properties(lib1 PROPERTIES POSITION_INDEPENDENT_CODE ON) æ¥å¯¹æŸä¸ªç›®æ ‡è¿›è¡Œè®¾ç½®æ˜¯å¦å¼€å¯æ­¤æ ‡å¿—ã€‚ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:12:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"Little libraries å¦‚æœä½ éœ€è¦é“¾æ¥åˆ° dl åº“ï¼Œåœ¨ Linux ä¸Šå¯ä»¥ä½¿ç”¨ -ldl æ ‡å¿—ï¼Œä¸è¿‡åœ¨ CMake ä¸­åªéœ€è¦åœ¨ target_link_libraries å‘½ä»¤ä¸­ä½¿ç”¨å†…ç½®çš„ CMake å˜é‡ ${CMAKE_DL_LIBS} ã€‚è¿™é‡Œä¸éœ€è¦æ¨¡ç»„æˆ–è€…ä½¿ç”¨ find_package æ¥å¯»æ‰¾å®ƒã€‚ï¼ˆè¿™ä¸ªå‘½ä»¤åŒ…å«äº†è°ƒç”¨ dlopen ä¸ dlclose çš„ä¸€åˆ‡ä¾èµ–ï¼‰ ä¸å¹¸çš„æ˜¯ï¼Œæƒ³è¦é“¾æ¥åˆ°æ•°å­¦åº“æ²¡è¿™ä¹ˆç®€å•ã€‚å¦‚æœä½ éœ€è¦æ˜ç¡®åœ°é“¾æ¥åˆ°å®ƒï¼Œä½ å¯ä»¥ä½¿ç”¨ target_link_libraries(MyTarget PUBLIC m)ï¼Œä½†æ˜¯ä½¿ç”¨ CMake é€šç”¨çš„ find_library å¯èƒ½æ›´å¥½ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š 1 2 3 4 find_library(MATH_LIBRARY m) if(MATH_LIBRARY) target_link_libraries(MyTarget PUBLIC ${MATH_LIBRARY}) endif() é€šè¿‡å¿«é€Ÿæœç´¢ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰¾åˆ°è¿™ä¸ªå’Œå…¶ä»–ä½ éœ€è¦çš„åº“çš„ Find*.cmake æ–‡ä»¶ï¼Œå¤§å¤šæ•°ä¸»è¦è½¯ä»¶åŒ…éƒ½å…·æœ‰è¿™ä¸ª CMake æ¨¡ç»„çš„è¾…åŠ©åº“ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:13:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"},{"categories":["cmake"],"content":"ç¨‹åºé—´ä¼˜åŒ–(Interprocedural optimization) INTERPROCEDURAL_OPTIMIZATIONï¼Œæœ€æœ‰åçš„æ˜¯ é“¾æ¥æ—¶é—´ä¼˜åŒ– ä»¥åŠ -flto æ ‡å¿—ï¼Œè¿™åœ¨æœ€æ–°çš„å‡ ä¸ª CMake ç‰ˆæœ¬ä¸­å¯ç”¨ã€‚ä½ å¯ä»¥é€šè¿‡å˜é‡ CMAKE_INTERPROCEDURAL_OPTIMIZATIONï¼ˆ CMake 3.9+ å¯ç”¨ï¼‰æˆ–å¯¹ç›®æ ‡æŒ‡å®š INTERPROCEDURAL_OPTIMIZATION å±æ€§æ¥æ‰“å¼€å®ƒã€‚åœ¨ CMake 3.8 ä¸­æ·»åŠ äº†å¯¹ GCC åŠ Clang çš„æ”¯æŒã€‚å¦‚æœä½ è®¾ç½®äº† cmake_minimum_required(VERSION 3.9) æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬ï¼ˆå‚è€ƒ CMP0069ï¼‰ï¼Œå½“åœ¨ç¼–è¯‘å™¨ä¸æ”¯æŒ INTERPROCEDURAL_OPTIMIZATION æ—¶ï¼Œé€šè¿‡å˜é‡æˆ–å±æ€§å¯ç”¨è¯¥ä¼˜åŒ–ä¼šäº§ç”ŸæŠ¥é”™ã€‚ä½ å¯ä»¥ä½¿ç”¨å†…ç½®æ¨¡å— CheckIPOSupported ä¸­çš„ check_ipo_supported() æ¥æ£€æŸ¥ç¼–è¯‘å™¨æ˜¯å¦æ”¯æŒ IPO ã€‚ä¸‹é¢æ˜¯åŸºäº CMake 3.9 çš„ä¸€ä¸ªä¾‹å­ï¼š 1 2 3 4 5 include(CheckIPOSupported) check_ipo_supported(RESULT result) if(result) set_target_properties(foo PROPERTIES INTERPROCEDURAL_OPTIMIZATION TRUE) endif() CCache å’Œä¸€äº›å…¶ä»–çš„å®ç”¨å·¥å…· CMake ä¸­ä¸€äº›æœ‰ç”¨çš„æ¨¡ç»„ ","date":"2023-01-15","objectID":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/:14:0","tags":["cmake"],"title":"ç°ä»£CMAKE","uri":"/posts/program/cmake/%E7%8E%B0%E4%BB%A3cmake/"}]